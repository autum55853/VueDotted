import{_ as w,g as d,l as I,o as _,c as h,a as g}from"./index-25409e90.js";const y={setup(i,{emit:n}){const t=d(null);let e,l=d(!1);I(()=>{e=t.value.getContext("2d"),t.value.addEventListener("mousedown",s),t.value.addEventListener("mouseup",v),t.value.addEventListener("mouseleave",v),t.value.addEventListener("mousemove",m)});const u=o=>{const a=t.value.getBoundingClientRect();if(o.type==="mousemove")return{x:o.clientX-a.left,y:o.clientY-a.top}},s=o=>{o.preventDefault(),e.lineWidth=3,l.value=!0},v=()=>{l.value=!1,e.beginPath()},m=o=>{if(!l.value)return;const a=u(o);e.lineTo(a.x,a.y),e.stroke()},c=d(null);let r;const f=()=>{r=t.value.toDataURL("image/png"),c.value.src=r,p()};function p(){n("push-Image",r),console.log(r)}return{canvas:t,ctx:e,draw:m,startPosition:s,finishedPosition:v,getPaintPosition:u,showImage:c,saveImage:f,emitImage:p}}},P={class:"drawArea"},x={ref:"showImage",class:"show-img",width:"250",height:"150",style:{border:"1px solid"}};function C(i,n,t,e,l,u){return _(),h("div",P,[g("canvas",{ref:"canvas",onMousedown:n[0]||(n[0]=s=>e.draw(i.e))},null,544),g("img",x,null,512),g("button",{type:"button",onClick:n[1]||(n[1]=(...s)=>e.saveImage&&e.saveImage(...s)),"on:push-Image":n[2]||(n[2]=(...s)=>i.getNewImg&&i.getNewImg(...s))}," 轉成image ",32)])}const L=w(y,[["render",C]]);export{L as C};
