(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))C(_);new MutationObserver(_=>{for(const K of _)if(K.type==="childList")for(const $ of K.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&C($)}).observe(document,{childList:!0,subtree:!0});function x(_){const K={};return _.integrity&&(K.integrity=_.integrity),_.referrerpolicy&&(K.referrerPolicy=_.referrerpolicy),_.crossorigin==="use-credentials"?K.credentials="include":_.crossorigin==="anonymous"?K.credentials="omit":K.credentials="same-origin",K}function C(_){if(_.ep)return;_.ep=!0;const K=x(_);fetch(_.href,K)}})();function makeMap(r,n){const x=Object.create(null),C=r.split(",");for(let _=0;_<C.length;_++)x[C[_]]=!0;return n?_=>!!x[_.toLowerCase()]:_=>!!x[_]}function normalizeStyle(r){if(isArray$3(r)){const n={};for(let x=0;x<r.length;x++){const C=r[x],_=isString$1(C)?parseStringStyle(C):normalizeStyle(C);if(_)for(const K in _)n[K]=_[K]}return n}else{if(isString$1(r))return r;if(isObject$3(r))return r}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(r){const n={};return r.replace(styleCommentRE,"").split(listDelimiterRE).forEach(x=>{if(x){const C=x.split(propertyDelimiterRE);C.length>1&&(n[C[0].trim()]=C[1].trim())}}),n}function normalizeClass(r){let n="";if(isString$1(r))n=r;else if(isArray$3(r))for(let x=0;x<r.length;x++){const C=normalizeClass(r[x]);C&&(n+=C+" ")}else if(isObject$3(r))for(const x in r)r[x]&&(n+=x+" ");return n.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(r){return!!r||r===""}const toDisplayString=r=>isString$1(r)?r:r==null?"":isArray$3(r)||isObject$3(r)&&(r.toString===objectToString||!isFunction$1(r.toString))?JSON.stringify(r,replacer,2):String(r),replacer=(r,n)=>n&&n.__v_isRef?replacer(r,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((x,[C,_])=>(x[`${C} =>`]=_,x),{})}:isSet(n)?{[`Set(${n.size})`]:[...n.values()]}:isObject$3(n)&&!isArray$3(n)&&!isPlainObject$2(n)?String(n):n,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=r=>onRE.test(r),isModelListener=r=>r.startsWith("onUpdate:"),extend$1=Object.assign,remove=(r,n)=>{const x=r.indexOf(n);x>-1&&r.splice(x,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn=(r,n)=>hasOwnProperty$3.call(r,n),isArray$3=Array.isArray,isMap=r=>toTypeString(r)==="[object Map]",isSet=r=>toTypeString(r)==="[object Set]",isFunction$1=r=>typeof r=="function",isString$1=r=>typeof r=="string",isSymbol$1=r=>typeof r=="symbol",isObject$3=r=>r!==null&&typeof r=="object",isPromise=r=>isObject$3(r)&&isFunction$1(r.then)&&isFunction$1(r.catch),objectToString=Object.prototype.toString,toTypeString=r=>objectToString.call(r),toRawType=r=>toTypeString(r).slice(8,-1),isPlainObject$2=r=>toTypeString(r)==="[object Object]",isIntegerKey=r=>isString$1(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=r=>{const n=Object.create(null);return x=>n[x]||(n[x]=r(x))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(r=>r.replace(camelizeRE,(n,x)=>x?x.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(r=>r.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(r=>r.charAt(0).toUpperCase()+r.slice(1)),toHandlerKey=cacheStringFunction(r=>r?`on${capitalize(r)}`:""),hasChanged=(r,n)=>!Object.is(r,n),invokeArrayFns=(r,n)=>{for(let x=0;x<r.length;x++)r[x](n)},def=(r,n,x)=>{Object.defineProperty(r,n,{configurable:!0,enumerable:!1,value:x})},looseToNumber=r=>{const n=parseFloat(r);return isNaN(n)?r:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const x=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=x}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(n){if(this._active){let x,C;for(x=0,C=this.effects.length;x<C;x++)this.effects[x].stop();for(x=0,C=this.cleanups.length;x<C;x++)this.cleanups[x]();if(this.scopes)for(x=0,C=this.scopes.length;x<C;x++)this.scopes[x].stop(!0);if(!this.detached&&this.parent&&!n){const _=this.parent.scopes.pop();_&&_!==this&&(this.parent.scopes[this.index]=_,_.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(r){return new EffectScope(r)}function recordEffectScope(r,n=activeEffectScope){n&&n.active&&n.effects.push(r)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(r){activeEffectScope&&activeEffectScope.cleanups.push(r)}const createDep=r=>{const n=new Set(r);return n.w=0,n.n=0,n},wasTracked=r=>(r.w&trackOpBit)>0,newTracked=r=>(r.n&trackOpBit)>0,initDepMarkers=({deps:r})=>{if(r.length)for(let n=0;n<r.length;n++)r[n].w|=trackOpBit},finalizeDepMarkers=r=>{const{deps:n}=r;if(n.length){let x=0;for(let C=0;C<n.length;C++){const _=n[C];wasTracked(_)&&!newTracked(_)?_.delete(r):n[x++]=_,_.w&=~trackOpBit,_.n&=~trackOpBit}n.length=x}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(n,x=null,C){this.fn=n,this.scheduler=x,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,C)}run(){if(!this.active)return this.fn();let n=activeEffect,x=shouldTrack;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=x,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(r){const{deps:n}=r;if(n.length){for(let x=0;x<n.length;x++)n[x].delete(r);n.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const r=trackStack.pop();shouldTrack=r===void 0?!0:r}function track(r,n,x){if(shouldTrack&&activeEffect){let C=targetMap.get(r);C||targetMap.set(r,C=new Map);let _=C.get(x);_||C.set(x,_=createDep()),trackEffects(_)}}function trackEffects(r,n){let x=!1;effectTrackDepth<=maxMarkerBits?newTracked(r)||(r.n|=trackOpBit,x=!wasTracked(r)):x=!r.has(activeEffect),x&&(r.add(activeEffect),activeEffect.deps.push(r))}function trigger(r,n,x,C,_,K){const $=targetMap.get(r);if(!$)return;let l=[];if(n==="clear")l=[...$.values()];else if(x==="length"&&isArray$3(r)){const a=Number(C);$.forEach((t,i)=>{(i==="length"||i>=a)&&l.push(t)})}else switch(x!==void 0&&l.push($.get(x)),n){case"add":isArray$3(r)?isIntegerKey(x)&&l.push($.get("length")):(l.push($.get(ITERATE_KEY)),isMap(r)&&l.push($.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(r)||(l.push($.get(ITERATE_KEY)),isMap(r)&&l.push($.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(r)&&l.push($.get(ITERATE_KEY));break}if(l.length===1)l[0]&&triggerEffects(l[0]);else{const a=[];for(const t of l)t&&a.push(...t);triggerEffects(createDep(a))}}function triggerEffects(r,n){const x=isArray$3(r)?r:[...r];for(const C of x)C.computed&&triggerEffect(C);for(const C of x)C.computed||triggerEffect(C)}function triggerEffect(r,n){(r!==activeEffect||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}function getDepFromReactive(r,n){var x;return(x=targetMap.get(r))===null||x===void 0?void 0:x.get(n)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const r={};return["includes","indexOf","lastIndexOf"].forEach(n=>{r[n]=function(...x){const C=toRaw(this);for(let K=0,$=this.length;K<$;K++)track(C,"get",K+"");const _=C[n](...x);return _===-1||_===!1?C[n](...x.map(toRaw)):_}}),["push","pop","shift","unshift","splice"].forEach(n=>{r[n]=function(...x){pauseTracking();const C=toRaw(this)[n].apply(this,x);return resetTracking(),C}}),r}function hasOwnProperty$2(r){const n=toRaw(this);return track(n,"has",r),n.hasOwnProperty(r)}function createGetter(r=!1,n=!1){return function(C,_,K){if(_==="__v_isReactive")return!r;if(_==="__v_isReadonly")return r;if(_==="__v_isShallow")return n;if(_==="__v_raw"&&K===(r?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(C))return C;const $=isArray$3(C);if(!r){if($&&hasOwn(arrayInstrumentations,_))return Reflect.get(arrayInstrumentations,_,K);if(_==="hasOwnProperty")return hasOwnProperty$2}const l=Reflect.get(C,_,K);return(isSymbol$1(_)?builtInSymbols.has(_):isNonTrackableKeys(_))||(r||track(C,"get",_),n)?l:isRef(l)?$&&isIntegerKey(_)?l:l.value:isObject$3(l)?r?readonly(l):reactive(l):l}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(r=!1){return function(x,C,_,K){let $=x[C];if(isReadonly($)&&isRef($)&&!isRef(_))return!1;if(!r&&(!isShallow(_)&&!isReadonly(_)&&($=toRaw($),_=toRaw(_)),!isArray$3(x)&&isRef($)&&!isRef(_)))return $.value=_,!0;const l=isArray$3(x)&&isIntegerKey(C)?Number(C)<x.length:hasOwn(x,C),a=Reflect.set(x,C,_,K);return x===toRaw(K)&&(l?hasChanged(_,$)&&trigger(x,"set",C,_):trigger(x,"add",C,_)),a}}function deleteProperty(r,n){const x=hasOwn(r,n);r[n];const C=Reflect.deleteProperty(r,n);return C&&x&&trigger(r,"delete",n,void 0),C}function has$1$1(r,n){const x=Reflect.has(r,n);return(!isSymbol$1(n)||!builtInSymbols.has(n))&&track(r,"has",n),x}function ownKeys$3(r){return track(r,"iterate",isArray$3(r)?"length":ITERATE_KEY),Reflect.ownKeys(r)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1$1,ownKeys:ownKeys$3},readonlyHandlers={get:readonlyGet,set(r,n){return!0},deleteProperty(r,n){return!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=r=>r,getProto=r=>Reflect.getPrototypeOf(r);function get$2(r,n,x=!1,C=!1){r=r.__v_raw;const _=toRaw(r),K=toRaw(n);x||(n!==K&&track(_,"get",n),track(_,"get",K));const{has:$}=getProto(_),l=C?toShallow:x?toReadonly:toReactive;if($.call(_,n))return l(r.get(n));if($.call(_,K))return l(r.get(K));r!==_&&r.get(n)}function has$2(r,n=!1){const x=this.__v_raw,C=toRaw(x),_=toRaw(r);return n||(r!==_&&track(C,"has",r),track(C,"has",_)),r===_?x.has(r):x.has(r)||x.has(_)}function size(r,n=!1){return r=r.__v_raw,!n&&track(toRaw(r),"iterate",ITERATE_KEY),Reflect.get(r,"size",r)}function add(r){r=toRaw(r);const n=toRaw(this);return getProto(n).has.call(n,r)||(n.add(r),trigger(n,"add",r,r)),this}function set$2(r,n){n=toRaw(n);const x=toRaw(this),{has:C,get:_}=getProto(x);let K=C.call(x,r);K||(r=toRaw(r),K=C.call(x,r));const $=_.call(x,r);return x.set(r,n),K?hasChanged(n,$)&&trigger(x,"set",r,n):trigger(x,"add",r,n),this}function deleteEntry(r){const n=toRaw(this),{has:x,get:C}=getProto(n);let _=x.call(n,r);_||(r=toRaw(r),_=x.call(n,r)),C&&C.call(n,r);const K=n.delete(r);return _&&trigger(n,"delete",r,void 0),K}function clear(){const r=toRaw(this),n=r.size!==0,x=r.clear();return n&&trigger(r,"clear",void 0,void 0),x}function createForEach(r,n){return function(C,_){const K=this,$=K.__v_raw,l=toRaw($),a=n?toShallow:r?toReadonly:toReactive;return!r&&track(l,"iterate",ITERATE_KEY),$.forEach((t,i)=>C.call(_,a(t),a(i),K))}}function createIterableMethod(r,n,x){return function(...C){const _=this.__v_raw,K=toRaw(_),$=isMap(K),l=r==="entries"||r===Symbol.iterator&&$,a=r==="keys"&&$,t=_[r](...C),i=x?toShallow:n?toReadonly:toReactive;return!n&&track(K,"iterate",a?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:c,done:s}=t.next();return s?{value:c,done:s}:{value:l?[i(c[0]),i(c[1])]:i(c),done:s}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(r){return function(...n){return r==="delete"?!1:this}}function createInstrumentations(){const r={get(K){return get$2(this,K)},get size(){return size(this)},has:has$2,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},n={get(K){return get$2(this,K,!1,!0)},get size(){return size(this)},has:has$2,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},x={get(K){return get$2(this,K,!0)},get size(){return size(this,!0)},has(K){return has$2.call(this,K,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},C={get(K){return get$2(this,K,!0,!0)},get size(){return size(this,!0)},has(K){return has$2.call(this,K,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(K=>{r[K]=createIterableMethod(K,!1,!1),x[K]=createIterableMethod(K,!0,!1),n[K]=createIterableMethod(K,!1,!0),C[K]=createIterableMethod(K,!0,!0)}),[r,x,n,C]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(r,n){const x=n?r?shallowReadonlyInstrumentations:shallowInstrumentations:r?readonlyInstrumentations:mutableInstrumentations;return(C,_,K)=>_==="__v_isReactive"?!r:_==="__v_isReadonly"?r:_==="__v_raw"?C:Reflect.get(hasOwn(x,_)&&_ in C?x:C,_,K)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(r){return r.__v_skip||!Object.isExtensible(r)?0:targetTypeMap(toRawType(r))}function reactive(r){return isReadonly(r)?r:createReactiveObject(r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(r){return createReactiveObject(r,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(r){return createReactiveObject(r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(r,n,x,C,_){if(!isObject$3(r)||r.__v_raw&&!(n&&r.__v_isReactive))return r;const K=_.get(r);if(K)return K;const $=getTargetType(r);if($===0)return r;const l=new Proxy(r,$===2?C:x);return _.set(r,l),l}function isReactive(r){return isReadonly(r)?isReactive(r.__v_raw):!!(r&&r.__v_isReactive)}function isReadonly(r){return!!(r&&r.__v_isReadonly)}function isShallow(r){return!!(r&&r.__v_isShallow)}function isProxy(r){return isReactive(r)||isReadonly(r)}function toRaw(r){const n=r&&r.__v_raw;return n?toRaw(n):r}function markRaw(r){return def(r,"__v_skip",!0),r}const toReactive=r=>isObject$3(r)?reactive(r):r,toReadonly=r=>isObject$3(r)?readonly(r):r;function trackRefValue(r){shouldTrack&&activeEffect&&(r=toRaw(r),trackEffects(r.dep||(r.dep=createDep())))}function triggerRefValue(r,n){r=toRaw(r);const x=r.dep;x&&triggerEffects(x)}function isRef(r){return!!(r&&r.__v_isRef===!0)}function ref(r){return createRef(r,!1)}function shallowRef(r){return createRef(r,!0)}function createRef(r,n){return isRef(r)?r:new RefImpl(r,n)}class RefImpl{constructor(n,x){this.__v_isShallow=x,this.dep=void 0,this.__v_isRef=!0,this._rawValue=x?n:toRaw(n),this._value=x?n:toReactive(n)}get value(){return trackRefValue(this),this._value}set value(n){const x=this.__v_isShallow||isShallow(n)||isReadonly(n);n=x?n:toRaw(n),hasChanged(n,this._rawValue)&&(this._rawValue=n,this._value=x?n:toReactive(n),triggerRefValue(this))}}function unref(r){return isRef(r)?r.value:r}const shallowUnwrapHandlers={get:(r,n,x)=>unref(Reflect.get(r,n,x)),set:(r,n,x,C)=>{const _=r[n];return isRef(_)&&!isRef(x)?(_.value=x,!0):Reflect.set(r,n,x,C)}};function proxyRefs(r){return isReactive(r)?r:new Proxy(r,shallowUnwrapHandlers)}function toRefs(r){const n=isArray$3(r)?new Array(r.length):{};for(const x in r)n[x]=toRef(r,x);return n}class ObjectRefImpl{constructor(n,x,C){this._object=n,this._key=x,this._defaultValue=C,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(r,n,x){const C=r[n];return isRef(C)?C:new ObjectRefImpl(r,n,x)}var _a$1;class ComputedRefImpl{constructor(n,x,C,_){this._setter=x,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(n,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!_,this.__v_isReadonly=C}get value(){const n=toRaw(this);return trackRefValue(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}_a$1="__v_isReadonly";function computed$1(r,n,x=!1){let C,_;const K=isFunction$1(r);return K?(C=r,_=NOOP):(C=r.get,_=r.set),new ComputedRefImpl(C,_,K||!_,x)}function warn(r,...n){}function callWithErrorHandling(r,n,x,C){let _;try{_=C?r(...C):r()}catch(K){handleError(K,n,x)}return _}function callWithAsyncErrorHandling(r,n,x,C){if(isFunction$1(r)){const K=callWithErrorHandling(r,n,x,C);return K&&isPromise(K)&&K.catch($=>{handleError($,n,x)}),K}const _=[];for(let K=0;K<r.length;K++)_.push(callWithAsyncErrorHandling(r[K],n,x,C));return _}function handleError(r,n,x,C=!0){const _=n?n.vnode:null;if(n){let K=n.parent;const $=n.proxy,l=x;for(;K;){const t=K.ec;if(t){for(let i=0;i<t.length;i++)if(t[i](r,$,l)===!1)return}K=K.parent}const a=n.appContext.config.errorHandler;if(a){callWithErrorHandling(a,null,10,[r,$,l]);return}}logError(r,x,_,C)}function logError(r,n,x,C=!0){console.error(r)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(r){const n=currentFlushPromise||resolvedPromise;return r?n.then(this?r.bind(this):r):n}function findInsertionIndex(r){let n=flushIndex+1,x=queue.length;for(;n<x;){const C=n+x>>>1;getId(queue[C])<r?n=C+1:x=C}return n}function queueJob(r){(!queue.length||!queue.includes(r,isFlushing&&r.allowRecurse?flushIndex+1:flushIndex))&&(r.id==null?queue.push(r):queue.splice(findInsertionIndex(r.id),0,r),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(r){const n=queue.indexOf(r);n>flushIndex&&queue.splice(n,1)}function queuePostFlushCb(r){isArray$3(r)?pendingPostFlushCbs.push(...r):(!activePostFlushCbs||!activePostFlushCbs.includes(r,r.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(r),queueFlush()}function flushPreFlushCbs(r,n=isFlushing?flushIndex+1:0){for(;n<queue.length;n++){const x=queue[n];x&&x.pre&&(queue.splice(n,1),n--,x())}}function flushPostFlushCbs(r){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,activePostFlushCbs.sort((x,C)=>getId(x)-getId(C)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=r=>r.id==null?1/0:r.id,comparator=(r,n)=>{const x=getId(r)-getId(n);if(x===0){if(r.pre&&!n.pre)return-1;if(n.pre&&!r.pre)return 1}return x};function flushJobs(r){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const x=queue[flushIndex];x&&x.active!==!1&&callWithErrorHandling(x,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(r,n,...x){if(r.isUnmounted)return;const C=r.vnode.props||EMPTY_OBJ;let _=x;const K=n.startsWith("update:"),$=K&&n.slice(7);if($&&$ in C){const i=`${$==="modelValue"?"model":$}Modifiers`,{number:c,trim:s}=C[i]||EMPTY_OBJ;s&&(_=x.map(e=>isString$1(e)?e.trim():e)),c&&(_=x.map(looseToNumber))}let l,a=C[l=toHandlerKey(n)]||C[l=toHandlerKey(camelize(n))];!a&&K&&(a=C[l=toHandlerKey(hyphenate(n))]),a&&callWithAsyncErrorHandling(a,r,6,_);const t=C[l+"Once"];if(t){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,callWithAsyncErrorHandling(t,r,6,_)}}function normalizeEmitsOptions(r,n,x=!1){const C=n.emitsCache,_=C.get(r);if(_!==void 0)return _;const K=r.emits;let $={},l=!1;if(!isFunction$1(r)){const a=t=>{const i=normalizeEmitsOptions(t,n,!0);i&&(l=!0,extend$1($,i))};!x&&n.mixins.length&&n.mixins.forEach(a),r.extends&&a(r.extends),r.mixins&&r.mixins.forEach(a)}return!K&&!l?(isObject$3(r)&&C.set(r,null),null):(isArray$3(K)?K.forEach(a=>$[a]=null):extend$1($,K),isObject$3(r)&&C.set(r,$),$)}function isEmitListener(r,n){return!r||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn(r,n[0].toLowerCase()+n.slice(1))||hasOwn(r,hyphenate(n))||hasOwn(r,n))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(r){const n=currentRenderingInstance;return currentRenderingInstance=r,currentScopeId=r&&r.type.__scopeId||null,n}function pushScopeId(r){currentScopeId=r}function popScopeId(){currentScopeId=null}function withCtx(r,n=currentRenderingInstance,x){if(!n||r._n)return r;const C=(..._)=>{C._d&&setBlockTracking(-1);const K=setCurrentRenderingInstance(n);let $;try{$=r(..._)}finally{setCurrentRenderingInstance(K),C._d&&setBlockTracking(1)}return $};return C._n=!0,C._c=!0,C._d=!0,C}function markAttrsAccessed(){}function renderComponentRoot(r){const{type:n,vnode:x,proxy:C,withProxy:_,props:K,propsOptions:[$],slots:l,attrs:a,emit:t,render:i,renderCache:c,data:s,setupState:e,ctx:u,inheritAttrs:m}=r;let g,y;const b=setCurrentRenderingInstance(r);try{if(x.shapeFlag&4){const o=_||C;g=normalizeVNode(i.call(o,o,c,K,e,s,u)),y=a}else{const o=n;g=normalizeVNode(o.length>1?o(K,{attrs:a,slots:l,emit:t}):o(K,null)),y=n.props?a:getFunctionalFallthrough(a)}}catch(o){blockStack.length=0,handleError(o,r,1),g=createVNode(Comment)}let v=g;if(y&&m!==!1){const o=Object.keys(y),{shapeFlag:S}=v;o.length&&S&7&&($&&o.some(isModelListener)&&(y=filterModelListeners(y,$)),v=cloneVNode(v,y))}return x.dirs&&(v=cloneVNode(v),v.dirs=v.dirs?v.dirs.concat(x.dirs):x.dirs),x.transition&&(v.transition=x.transition),g=v,setCurrentRenderingInstance(b),g}const getFunctionalFallthrough=r=>{let n;for(const x in r)(x==="class"||x==="style"||isOn(x))&&((n||(n={}))[x]=r[x]);return n},filterModelListeners=(r,n)=>{const x={};for(const C in r)(!isModelListener(C)||!(C.slice(9)in n))&&(x[C]=r[C]);return x};function shouldUpdateComponent(r,n,x){const{props:C,children:_,component:K}=r,{props:$,children:l,patchFlag:a}=n,t=K.emitsOptions;if(n.dirs||n.transition)return!0;if(x&&a>=0){if(a&1024)return!0;if(a&16)return C?hasPropsChanged(C,$,t):!!$;if(a&8){const i=n.dynamicProps;for(let c=0;c<i.length;c++){const s=i[c];if($[s]!==C[s]&&!isEmitListener(t,s))return!0}}}else return(_||l)&&(!l||!l.$stable)?!0:C===$?!1:C?$?hasPropsChanged(C,$,t):!0:!!$;return!1}function hasPropsChanged(r,n,x){const C=Object.keys(n);if(C.length!==Object.keys(r).length)return!0;for(let _=0;_<C.length;_++){const K=C[_];if(n[K]!==r[K]&&!isEmitListener(x,K))return!0}return!1}function updateHOCHostEl({vnode:r,parent:n},x){for(;n&&n.subTree===r;)(r=n.vnode).el=x,n=n.parent}const isSuspense=r=>r.__isSuspense;function queueEffectWithSuspense(r,n){n&&n.pendingBranch?isArray$3(r)?n.effects.push(...r):n.effects.push(r):queuePostFlushCb(r)}function provide(r,n){if(currentInstance){let x=currentInstance.provides;const C=currentInstance.parent&&currentInstance.parent.provides;C===x&&(x=currentInstance.provides=Object.create(C)),x[r]=n}}function inject(r,n,x=!1){const C=currentInstance||currentRenderingInstance;if(C){const _=C.parent==null?C.vnode.appContext&&C.vnode.appContext.provides:C.parent.provides;if(_&&r in _)return _[r];if(arguments.length>1)return x&&isFunction$1(n)?n.call(C.proxy):n}}const INITIAL_WATCHER_VALUE={};function watch(r,n,x){return doWatch(r,n,x)}function doWatch(r,n,{immediate:x,deep:C,flush:_,onTrack:K,onTrigger:$}=EMPTY_OBJ){const l=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let a,t=!1,i=!1;if(isRef(r)?(a=()=>r.value,t=isShallow(r)):isReactive(r)?(a=()=>r,C=!0):isArray$3(r)?(i=!0,t=r.some(v=>isReactive(v)||isShallow(v)),a=()=>r.map(v=>{if(isRef(v))return v.value;if(isReactive(v))return traverse(v);if(isFunction$1(v))return callWithErrorHandling(v,l,2)})):isFunction$1(r)?n?a=()=>callWithErrorHandling(r,l,2):a=()=>{if(!(l&&l.isUnmounted))return c&&c(),callWithAsyncErrorHandling(r,l,3,[s])}:a=NOOP,n&&C){const v=a;a=()=>traverse(v())}let c,s=v=>{c=y.onStop=()=>{callWithErrorHandling(v,l,4)}},e;if(isInSSRComponentSetup)if(s=NOOP,n?x&&callWithAsyncErrorHandling(n,l,3,[a(),i?[]:void 0,s]):a(),_==="sync"){const v=useSSRContext();e=v.__watcherHandles||(v.__watcherHandles=[])}else return NOOP;let u=i?new Array(r.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const m=()=>{if(y.active)if(n){const v=y.run();(C||t||(i?v.some((o,S)=>hasChanged(o,u[S])):hasChanged(v,u)))&&(c&&c(),callWithAsyncErrorHandling(n,l,3,[v,u===INITIAL_WATCHER_VALUE?void 0:i&&u[0]===INITIAL_WATCHER_VALUE?[]:u,s]),u=v)}else y.run()};m.allowRecurse=!!n;let g;_==="sync"?g=m:_==="post"?g=()=>queuePostRenderEffect(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),g=()=>queueJob(m));const y=new ReactiveEffect(a,g);n?x?m():u=y.run():_==="post"?queuePostRenderEffect(y.run.bind(y),l&&l.suspense):y.run();const b=()=>{y.stop(),l&&l.scope&&remove(l.scope.effects,y)};return e&&e.push(b),b}function instanceWatch(r,n,x){const C=this.proxy,_=isString$1(r)?r.includes(".")?createPathGetter(C,r):()=>C[r]:r.bind(C,C);let K;isFunction$1(n)?K=n:(K=n.handler,x=n);const $=currentInstance;setCurrentInstance(this);const l=doWatch(_,K.bind(C),x);return $?setCurrentInstance($):unsetCurrentInstance(),l}function createPathGetter(r,n){const x=n.split(".");return()=>{let C=r;for(let _=0;_<x.length&&C;_++)C=C[x[_]];return C}}function traverse(r,n){if(!isObject$3(r)||r.__v_skip||(n=n||new Set,n.has(r)))return r;if(n.add(r),isRef(r))traverse(r.value,n);else if(isArray$3(r))for(let x=0;x<r.length;x++)traverse(r[x],n);else if(isSet(r)||isMap(r))r.forEach(x=>{traverse(x,n)});else if(isPlainObject$2(r))for(const x in r)traverse(r[x],n);return r}function defineComponent(r){return isFunction$1(r)?{setup:r,name:r.name}:r}const isAsyncWrapper=r=>!!r.type.__asyncLoader,isKeepAlive=r=>r.type.__isKeepAlive;function onActivated(r,n){registerKeepAliveHook(r,"a",n)}function onDeactivated(r,n){registerKeepAliveHook(r,"da",n)}function registerKeepAliveHook(r,n,x=currentInstance){const C=r.__wdc||(r.__wdc=()=>{let _=x;for(;_;){if(_.isDeactivated)return;_=_.parent}return r()});if(injectHook(n,C,x),x){let _=x.parent;for(;_&&_.parent;)isKeepAlive(_.parent.vnode)&&injectToKeepAliveRoot(C,n,x,_),_=_.parent}}function injectToKeepAliveRoot(r,n,x,C){const _=injectHook(n,r,C,!0);onUnmounted(()=>{remove(C[n],_)},x)}function injectHook(r,n,x=currentInstance,C=!1){if(x){const _=x[r]||(x[r]=[]),K=n.__weh||(n.__weh=(...$)=>{if(x.isUnmounted)return;pauseTracking(),setCurrentInstance(x);const l=callWithAsyncErrorHandling(n,x,r,$);return unsetCurrentInstance(),resetTracking(),l});return C?_.unshift(K):_.push(K),K}}const createHook=r=>(n,x=currentInstance)=>(!isInSSRComponentSetup||r==="sp")&&injectHook(r,(...C)=>n(...C),x),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(r,n=currentInstance){injectHook("ec",r,n)}function withDirectives(r,n){const x=currentRenderingInstance;if(x===null)return r;const C=getExposeProxy(x)||x.proxy,_=r.dirs||(r.dirs=[]);for(let K=0;K<n.length;K++){let[$,l,a,t=EMPTY_OBJ]=n[K];$&&(isFunction$1($)&&($={mounted:$,updated:$}),$.deep&&traverse(l),_.push({dir:$,instance:C,value:l,oldValue:void 0,arg:a,modifiers:t}))}return r}function invokeDirectiveHook(r,n,x,C){const _=r.dirs,K=n&&n.dirs;for(let $=0;$<_.length;$++){const l=_[$];K&&(l.oldValue=K[$].value);let a=l.dir[C];a&&(pauseTracking(),callWithAsyncErrorHandling(a,x,8,[r.el,l,r,n]),resetTracking())}}const COMPONENTS="components";function resolveComponent(r,n){return resolveAsset(COMPONENTS,r,!0,n)||r}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(r,n,x=!0,C=!1){const _=currentRenderingInstance||currentInstance;if(_){const K=_.type;if(r===COMPONENTS){const l=getComponentName(K,!1);if(l&&(l===n||l===camelize(n)||l===capitalize(camelize(n))))return K}const $=resolve(_[r]||K[r],n)||resolve(_.appContext[r],n);return!$&&C?K:$}}function resolve(r,n){return r&&(r[n]||r[camelize(n)]||r[capitalize(camelize(n))])}function renderList(r,n,x,C){let _;const K=x&&x[C];if(isArray$3(r)||isString$1(r)){_=new Array(r.length);for(let $=0,l=r.length;$<l;$++)_[$]=n(r[$],$,void 0,K&&K[$])}else if(typeof r=="number"){_=new Array(r);for(let $=0;$<r;$++)_[$]=n($+1,$,void 0,K&&K[$])}else if(isObject$3(r))if(r[Symbol.iterator])_=Array.from(r,($,l)=>n($,l,void 0,K&&K[l]));else{const $=Object.keys(r);_=new Array($.length);for(let l=0,a=$.length;l<a;l++){const t=$[l];_[l]=n(r[t],t,l,K&&K[l])}}else _=[];return x&&(x[C]=_),_}function renderSlot(r,n,x={},C,_){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return n!=="default"&&(x.name=n),createVNode("slot",x,C&&C());let K=r[n];K&&K._c&&(K._d=!1),openBlock();const $=K&&ensureValidVNode(K(x)),l=createBlock(Fragment,{key:x.key||$&&$.key||`_${n}`},$||(C?C():[]),$&&r._===1?64:-2);return!_&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),K&&K._c&&(K._d=!0),l}function ensureValidVNode(r){return r.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?r:null}const getPublicInstance=r=>r?isStatefulComponent(r)?getExposeProxy(r)||r.proxy:getPublicInstance(r.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>getPublicInstance(r.parent),$root:r=>getPublicInstance(r.root),$emit:r=>r.emit,$options:r=>resolveMergedOptions(r),$forceUpdate:r=>r.f||(r.f=()=>queueJob(r.update)),$nextTick:r=>r.n||(r.n=nextTick.bind(r.proxy)),$watch:r=>instanceWatch.bind(r)}),hasSetupBinding=(r,n)=>r!==EMPTY_OBJ&&!r.__isScriptSetup&&hasOwn(r,n),PublicInstanceProxyHandlers={get({_:r},n){const{ctx:x,setupState:C,data:_,props:K,accessCache:$,type:l,appContext:a}=r;let t;if(n[0]!=="$"){const e=$[n];if(e!==void 0)switch(e){case 1:return C[n];case 2:return _[n];case 4:return x[n];case 3:return K[n]}else{if(hasSetupBinding(C,n))return $[n]=1,C[n];if(_!==EMPTY_OBJ&&hasOwn(_,n))return $[n]=2,_[n];if((t=r.propsOptions[0])&&hasOwn(t,n))return $[n]=3,K[n];if(x!==EMPTY_OBJ&&hasOwn(x,n))return $[n]=4,x[n];shouldCacheAccess&&($[n]=0)}}const i=publicPropertiesMap[n];let c,s;if(i)return n==="$attrs"&&track(r,"get",n),i(r);if((c=l.__cssModules)&&(c=c[n]))return c;if(x!==EMPTY_OBJ&&hasOwn(x,n))return $[n]=4,x[n];if(s=a.config.globalProperties,hasOwn(s,n))return s[n]},set({_:r},n,x){const{data:C,setupState:_,ctx:K}=r;return hasSetupBinding(_,n)?(_[n]=x,!0):C!==EMPTY_OBJ&&hasOwn(C,n)?(C[n]=x,!0):hasOwn(r.props,n)||n[0]==="$"&&n.slice(1)in r?!1:(K[n]=x,!0)},has({_:{data:r,setupState:n,accessCache:x,ctx:C,appContext:_,propsOptions:K}},$){let l;return!!x[$]||r!==EMPTY_OBJ&&hasOwn(r,$)||hasSetupBinding(n,$)||(l=K[0])&&hasOwn(l,$)||hasOwn(C,$)||hasOwn(publicPropertiesMap,$)||hasOwn(_.config.globalProperties,$)},defineProperty(r,n,x){return x.get!=null?r._.accessCache[n]=0:hasOwn(x,"value")&&this.set(r,n,x.value,null),Reflect.defineProperty(r,n,x)}};let shouldCacheAccess=!0;function applyOptions(r){const n=resolveMergedOptions(r),x=r.proxy,C=r.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook(n.beforeCreate,r,"bc");const{data:_,computed:K,methods:$,watch:l,provide:a,inject:t,created:i,beforeMount:c,mounted:s,beforeUpdate:e,updated:u,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:b,destroyed:v,unmounted:o,render:S,renderTracked:T,renderTriggered:E,errorCaptured:k,serverPrefetch:M,expose:O,inheritAttrs:L,components:te,directives:B,filters:G}=n;if(t&&resolveInjections(t,C,null,r.appContext.config.unwrapInjectedRef),$)for(const U in $){const P=$[U];isFunction$1(P)&&(C[U]=P.bind(x))}if(_){const U=_.call(x,x);isObject$3(U)&&(r.data=reactive(U))}if(shouldCacheAccess=!0,K)for(const U in K){const P=K[U],A=isFunction$1(P)?P.bind(x,x):isFunction$1(P.get)?P.get.bind(x,x):NOOP,z=!isFunction$1(P)&&isFunction$1(P.set)?P.set.bind(x):NOOP,N=computed({get:A,set:z});Object.defineProperty(C,U,{enumerable:!0,configurable:!0,get:()=>N.value,set:W=>N.value=W})}if(l)for(const U in l)createWatcher(l[U],C,x,U);if(a){const U=isFunction$1(a)?a.call(x):a;Reflect.ownKeys(U).forEach(P=>{provide(P,U[P])})}i&&callHook(i,r,"c");function I(U,P){isArray$3(P)?P.forEach(A=>U(A.bind(x))):P&&U(P.bind(x))}if(I(onBeforeMount,c),I(onMounted,s),I(onBeforeUpdate,e),I(onUpdated,u),I(onActivated,m),I(onDeactivated,g),I(onErrorCaptured,k),I(onRenderTracked,T),I(onRenderTriggered,E),I(onBeforeUnmount,b),I(onUnmounted,o),I(onServerPrefetch,M),isArray$3(O))if(O.length){const U=r.exposed||(r.exposed={});O.forEach(P=>{Object.defineProperty(U,P,{get:()=>x[P],set:A=>x[P]=A})})}else r.exposed||(r.exposed={});S&&r.render===NOOP&&(r.render=S),L!=null&&(r.inheritAttrs=L),te&&(r.components=te),B&&(r.directives=B)}function resolveInjections(r,n,x=NOOP,C=!1){isArray$3(r)&&(r=normalizeInject(r));for(const _ in r){const K=r[_];let $;isObject$3(K)?"default"in K?$=inject(K.from||_,K.default,!0):$=inject(K.from||_):$=inject(K),isRef($)&&C?Object.defineProperty(n,_,{enumerable:!0,configurable:!0,get:()=>$.value,set:l=>$.value=l}):n[_]=$}}function callHook(r,n,x){callWithAsyncErrorHandling(isArray$3(r)?r.map(C=>C.bind(n.proxy)):r.bind(n.proxy),n,x)}function createWatcher(r,n,x,C){const _=C.includes(".")?createPathGetter(x,C):()=>x[C];if(isString$1(r)){const K=n[r];isFunction$1(K)&&watch(_,K)}else if(isFunction$1(r))watch(_,r.bind(x));else if(isObject$3(r))if(isArray$3(r))r.forEach(K=>createWatcher(K,n,x,C));else{const K=isFunction$1(r.handler)?r.handler.bind(x):n[r.handler];isFunction$1(K)&&watch(_,K,r)}}function resolveMergedOptions(r){const n=r.type,{mixins:x,extends:C}=n,{mixins:_,optionsCache:K,config:{optionMergeStrategies:$}}=r.appContext,l=K.get(n);let a;return l?a=l:!_.length&&!x&&!C?a=n:(a={},_.length&&_.forEach(t=>mergeOptions$1(a,t,$,!0)),mergeOptions$1(a,n,$)),isObject$3(n)&&K.set(n,a),a}function mergeOptions$1(r,n,x,C=!1){const{mixins:_,extends:K}=n;K&&mergeOptions$1(r,K,x,!0),_&&_.forEach($=>mergeOptions$1(r,$,x,!0));for(const $ in n)if(!(C&&$==="expose")){const l=internalOptionMergeStrats[$]||x&&x[$];r[$]=l?l(r[$],n[$]):n[$]}return r}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(r,n){return n?r?function(){return extend$1(isFunction$1(r)?r.call(this,this):r,isFunction$1(n)?n.call(this,this):n)}:n:r}function mergeInject(r,n){return mergeObjectOptions(normalizeInject(r),normalizeInject(n))}function normalizeInject(r){if(isArray$3(r)){const n={};for(let x=0;x<r.length;x++)n[r[x]]=r[x];return n}return r}function mergeAsArray(r,n){return r?[...new Set([].concat(r,n))]:n}function mergeObjectOptions(r,n){return r?extend$1(extend$1(Object.create(null),r),n):n}function mergeWatchOptions(r,n){if(!r)return n;if(!n)return r;const x=extend$1(Object.create(null),r);for(const C in n)x[C]=mergeAsArray(r[C],n[C]);return x}function initProps(r,n,x,C=!1){const _={},K={};def(K,InternalObjectKey,1),r.propsDefaults=Object.create(null),setFullProps(r,n,_,K);for(const $ in r.propsOptions[0])$ in _||(_[$]=void 0);x?r.props=C?_:shallowReactive(_):r.type.props?r.props=_:r.props=K,r.attrs=K}function updateProps(r,n,x,C){const{props:_,attrs:K,vnode:{patchFlag:$}}=r,l=toRaw(_),[a]=r.propsOptions;let t=!1;if((C||$>0)&&!($&16)){if($&8){const i=r.vnode.dynamicProps;for(let c=0;c<i.length;c++){let s=i[c];if(isEmitListener(r.emitsOptions,s))continue;const e=n[s];if(a)if(hasOwn(K,s))e!==K[s]&&(K[s]=e,t=!0);else{const u=camelize(s);_[u]=resolvePropValue(a,l,u,e,r,!1)}else e!==K[s]&&(K[s]=e,t=!0)}}}else{setFullProps(r,n,_,K)&&(t=!0);let i;for(const c in l)(!n||!hasOwn(n,c)&&((i=hyphenate(c))===c||!hasOwn(n,i)))&&(a?x&&(x[c]!==void 0||x[i]!==void 0)&&(_[c]=resolvePropValue(a,l,c,void 0,r,!0)):delete _[c]);if(K!==l)for(const c in K)(!n||!hasOwn(n,c))&&(delete K[c],t=!0)}t&&trigger(r,"set","$attrs")}function setFullProps(r,n,x,C){const[_,K]=r.propsOptions;let $=!1,l;if(n)for(let a in n){if(isReservedProp(a))continue;const t=n[a];let i;_&&hasOwn(_,i=camelize(a))?!K||!K.includes(i)?x[i]=t:(l||(l={}))[i]=t:isEmitListener(r.emitsOptions,a)||(!(a in C)||t!==C[a])&&(C[a]=t,$=!0)}if(K){const a=toRaw(x),t=l||EMPTY_OBJ;for(let i=0;i<K.length;i++){const c=K[i];x[c]=resolvePropValue(_,a,c,t[c],r,!hasOwn(t,c))}}return $}function resolvePropValue(r,n,x,C,_,K){const $=r[x];if($!=null){const l=hasOwn($,"default");if(l&&C===void 0){const a=$.default;if($.type!==Function&&isFunction$1(a)){const{propsDefaults:t}=_;x in t?C=t[x]:(setCurrentInstance(_),C=t[x]=a.call(null,n),unsetCurrentInstance())}else C=a}$[0]&&(K&&!l?C=!1:$[1]&&(C===""||C===hyphenate(x))&&(C=!0))}return C}function normalizePropsOptions(r,n,x=!1){const C=n.propsCache,_=C.get(r);if(_)return _;const K=r.props,$={},l=[];let a=!1;if(!isFunction$1(r)){const i=c=>{a=!0;const[s,e]=normalizePropsOptions(c,n,!0);extend$1($,s),e&&l.push(...e)};!x&&n.mixins.length&&n.mixins.forEach(i),r.extends&&i(r.extends),r.mixins&&r.mixins.forEach(i)}if(!K&&!a)return isObject$3(r)&&C.set(r,EMPTY_ARR),EMPTY_ARR;if(isArray$3(K))for(let i=0;i<K.length;i++){const c=camelize(K[i]);validatePropName(c)&&($[c]=EMPTY_OBJ)}else if(K)for(const i in K){const c=camelize(i);if(validatePropName(c)){const s=K[i],e=$[c]=isArray$3(s)||isFunction$1(s)?{type:s}:Object.assign({},s);if(e){const u=getTypeIndex(Boolean,e.type),m=getTypeIndex(String,e.type);e[0]=u>-1,e[1]=m<0||u<m,(u>-1||hasOwn(e,"default"))&&l.push(c)}}}const t=[$,l];return isObject$3(r)&&C.set(r,t),t}function validatePropName(r){return r[0]!=="$"}function getType(r){const n=r&&r.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:r===null?"null":""}function isSameType(r,n){return getType(r)===getType(n)}function getTypeIndex(r,n){return isArray$3(n)?n.findIndex(x=>isSameType(x,r)):isFunction$1(n)&&isSameType(n,r)?0:-1}const isInternalKey=r=>r[0]==="_"||r==="$stable",normalizeSlotValue=r=>isArray$3(r)?r.map(normalizeVNode):[normalizeVNode(r)],normalizeSlot$1=(r,n,x)=>{if(n._n)return n;const C=withCtx((..._)=>normalizeSlotValue(n(..._)),x);return C._c=!1,C},normalizeObjectSlots=(r,n,x)=>{const C=r._ctx;for(const _ in r){if(isInternalKey(_))continue;const K=r[_];if(isFunction$1(K))n[_]=normalizeSlot$1(_,K,C);else if(K!=null){const $=normalizeSlotValue(K);n[_]=()=>$}}},normalizeVNodeSlots=(r,n)=>{const x=normalizeSlotValue(n);r.slots.default=()=>x},initSlots=(r,n)=>{if(r.vnode.shapeFlag&32){const x=n._;x?(r.slots=toRaw(n),def(n,"_",x)):normalizeObjectSlots(n,r.slots={})}else r.slots={},n&&normalizeVNodeSlots(r,n);def(r.slots,InternalObjectKey,1)},updateSlots=(r,n,x)=>{const{vnode:C,slots:_}=r;let K=!0,$=EMPTY_OBJ;if(C.shapeFlag&32){const l=n._;l?x&&l===1?K=!1:(extend$1(_,n),!x&&l===1&&delete _._):(K=!n.$stable,normalizeObjectSlots(n,_)),$=n}else n&&(normalizeVNodeSlots(r,n),$={default:1});if(K)for(const l in _)!isInternalKey(l)&&!(l in $)&&delete _[l]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(r,n){return function(C,_=null){isFunction$1(C)||(C=Object.assign({},C)),_!=null&&!isObject$3(_)&&(_=null);const K=createAppContext(),$=new Set;let l=!1;const a=K.app={_uid:uid$1++,_component:C,_props:_,_container:null,_context:K,_instance:null,version:version$4,get config(){return K.config},set config(t){},use(t,...i){return $.has(t)||(t&&isFunction$1(t.install)?($.add(t),t.install(a,...i)):isFunction$1(t)&&($.add(t),t(a,...i))),a},mixin(t){return K.mixins.includes(t)||K.mixins.push(t),a},component(t,i){return i?(K.components[t]=i,a):K.components[t]},directive(t,i){return i?(K.directives[t]=i,a):K.directives[t]},mount(t,i,c){if(!l){const s=createVNode(C,_);return s.appContext=K,i&&n?n(s,t):r(s,t,c),l=!0,a._container=t,t.__vue_app__=a,getExposeProxy(s.component)||s.component.proxy}},unmount(){l&&(r(null,a._container),delete a._container.__vue_app__)},provide(t,i){return K.provides[t]=i,a}};return a}}function setRef(r,n,x,C,_=!1){if(isArray$3(r)){r.forEach((s,e)=>setRef(s,n&&(isArray$3(n)?n[e]:n),x,C,_));return}if(isAsyncWrapper(C)&&!_)return;const K=C.shapeFlag&4?getExposeProxy(C.component)||C.component.proxy:C.el,$=_?null:K,{i:l,r:a}=r,t=n&&n.r,i=l.refs===EMPTY_OBJ?l.refs={}:l.refs,c=l.setupState;if(t!=null&&t!==a&&(isString$1(t)?(i[t]=null,hasOwn(c,t)&&(c[t]=null)):isRef(t)&&(t.value=null)),isFunction$1(a))callWithErrorHandling(a,l,12,[$,i]);else{const s=isString$1(a),e=isRef(a);if(s||e){const u=()=>{if(r.f){const m=s?hasOwn(c,a)?c[a]:i[a]:a.value;_?isArray$3(m)&&remove(m,K):isArray$3(m)?m.includes(K)||m.push(K):s?(i[a]=[K],hasOwn(c,a)&&(c[a]=i[a])):(a.value=[K],r.k&&(i[r.k]=a.value))}else s?(i[a]=$,hasOwn(c,a)&&(c[a]=$)):e&&(a.value=$,r.k&&(i[r.k]=$))};$?(u.id=-1,queuePostRenderEffect(u,x)):u()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(r){return baseCreateRenderer(r)}function baseCreateRenderer(r,n){const x=getGlobalThis();x.__VUE__=!0;const{insert:C,remove:_,patchProp:K,createElement:$,createText:l,createComment:a,setText:t,setElementText:i,parentNode:c,nextSibling:s,setScopeId:e=NOOP,insertStaticContent:u}=r,m=(H,q,ne,le=null,se=null,J=null,re=!1,oe=null,ue=!!q.dynamicChildren)=>{if(H===q)return;H&&!isSameVNodeType(H,q)&&(le=Q(H),W(H,se,J,!0),H=null),q.patchFlag===-2&&(ue=!1,q.dynamicChildren=null);const{type:he,ref:de,shapeFlag:pe}=q;switch(he){case Text:g(H,q,ne,le);break;case Comment:y(H,q,ne,le);break;case Static:H==null&&b(q,ne,le,re);break;case Fragment:te(H,q,ne,le,se,J,re,oe,ue);break;default:pe&1?S(H,q,ne,le,se,J,re,oe,ue):pe&6?B(H,q,ne,le,se,J,re,oe,ue):(pe&64||pe&128)&&he.process(H,q,ne,le,se,J,re,oe,ue,V)}de!=null&&se&&setRef(de,H&&H.ref,J,q||H,!q)},g=(H,q,ne,le)=>{if(H==null)C(q.el=l(q.children),ne,le);else{const se=q.el=H.el;q.children!==H.children&&t(se,q.children)}},y=(H,q,ne,le)=>{H==null?C(q.el=a(q.children||""),ne,le):q.el=H.el},b=(H,q,ne,le)=>{[H.el,H.anchor]=u(H.children,q,ne,le,H.el,H.anchor)},v=({el:H,anchor:q},ne,le)=>{let se;for(;H&&H!==q;)se=s(H),C(H,ne,le),H=se;C(q,ne,le)},o=({el:H,anchor:q})=>{let ne;for(;H&&H!==q;)ne=s(H),_(H),H=ne;_(q)},S=(H,q,ne,le,se,J,re,oe,ue)=>{re=re||q.type==="svg",H==null?T(q,ne,le,se,J,re,oe,ue):M(H,q,se,J,re,oe,ue)},T=(H,q,ne,le,se,J,re,oe)=>{let ue,he;const{type:de,props:pe,shapeFlag:fe,transition:be,dirs:ge}=H;if(ue=H.el=$(H.type,J,pe&&pe.is,pe),fe&8?i(ue,H.children):fe&16&&k(H.children,ue,null,le,se,J&&de!=="foreignObject",re,oe),ge&&invokeDirectiveHook(H,null,le,"created"),E(ue,H,H.scopeId,re,le),pe){for(const ve in pe)ve!=="value"&&!isReservedProp(ve)&&K(ue,ve,null,pe[ve],J,H.children,le,se,D);"value"in pe&&K(ue,"value",null,pe.value),(he=pe.onVnodeBeforeMount)&&invokeVNodeHook(he,le,H)}ge&&invokeDirectiveHook(H,null,le,"beforeMount");const Se=(!se||se&&!se.pendingBranch)&&be&&!be.persisted;Se&&be.beforeEnter(ue),C(ue,q,ne),((he=pe&&pe.onVnodeMounted)||Se||ge)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,le,H),Se&&be.enter(ue),ge&&invokeDirectiveHook(H,null,le,"mounted")},se)},E=(H,q,ne,le,se)=>{if(ne&&e(H,ne),le)for(let J=0;J<le.length;J++)e(H,le[J]);if(se){let J=se.subTree;if(q===J){const re=se.vnode;E(H,re,re.scopeId,re.slotScopeIds,se.parent)}}},k=(H,q,ne,le,se,J,re,oe,ue=0)=>{for(let he=ue;he<H.length;he++){const de=H[he]=oe?cloneIfMounted(H[he]):normalizeVNode(H[he]);m(null,de,q,ne,le,se,J,re,oe)}},M=(H,q,ne,le,se,J,re)=>{const oe=q.el=H.el;let{patchFlag:ue,dynamicChildren:he,dirs:de}=q;ue|=H.patchFlag&16;const pe=H.props||EMPTY_OBJ,fe=q.props||EMPTY_OBJ;let be;ne&&toggleRecurse(ne,!1),(be=fe.onVnodeBeforeUpdate)&&invokeVNodeHook(be,ne,q,H),de&&invokeDirectiveHook(q,H,ne,"beforeUpdate"),ne&&toggleRecurse(ne,!0);const ge=se&&q.type!=="foreignObject";if(he?O(H.dynamicChildren,he,oe,ne,le,ge,J):re||P(H,q,oe,null,ne,le,ge,J,!1),ue>0){if(ue&16)L(oe,q,pe,fe,ne,le,se);else if(ue&2&&pe.class!==fe.class&&K(oe,"class",null,fe.class,se),ue&4&&K(oe,"style",pe.style,fe.style,se),ue&8){const Se=q.dynamicProps;for(let ve=0;ve<Se.length;ve++){const we=Se[ve],Fe=pe[we],Ce=fe[we];(Ce!==Fe||we==="value")&&K(oe,we,Fe,Ce,se,H.children,ne,le,D)}}ue&1&&H.children!==q.children&&i(oe,q.children)}else!re&&he==null&&L(oe,q,pe,fe,ne,le,se);((be=fe.onVnodeUpdated)||de)&&queuePostRenderEffect(()=>{be&&invokeVNodeHook(be,ne,q,H),de&&invokeDirectiveHook(q,H,ne,"updated")},le)},O=(H,q,ne,le,se,J,re)=>{for(let oe=0;oe<q.length;oe++){const ue=H[oe],he=q[oe],de=ue.el&&(ue.type===Fragment||!isSameVNodeType(ue,he)||ue.shapeFlag&70)?c(ue.el):ne;m(ue,he,de,null,le,se,J,re,!0)}},L=(H,q,ne,le,se,J,re)=>{if(ne!==le){if(ne!==EMPTY_OBJ)for(const oe in ne)!isReservedProp(oe)&&!(oe in le)&&K(H,oe,ne[oe],null,re,q.children,se,J,D);for(const oe in le){if(isReservedProp(oe))continue;const ue=le[oe],he=ne[oe];ue!==he&&oe!=="value"&&K(H,oe,he,ue,re,q.children,se,J,D)}"value"in le&&K(H,"value",ne.value,le.value)}},te=(H,q,ne,le,se,J,re,oe,ue)=>{const he=q.el=H?H.el:l(""),de=q.anchor=H?H.anchor:l("");let{patchFlag:pe,dynamicChildren:fe,slotScopeIds:be}=q;be&&(oe=oe?oe.concat(be):be),H==null?(C(he,ne,le),C(de,ne,le),k(q.children,ne,de,se,J,re,oe,ue)):pe>0&&pe&64&&fe&&H.dynamicChildren?(O(H.dynamicChildren,fe,ne,se,J,re,oe),(q.key!=null||se&&q===se.subTree)&&traverseStaticChildren(H,q,!0)):P(H,q,ne,de,se,J,re,oe,ue)},B=(H,q,ne,le,se,J,re,oe,ue)=>{q.slotScopeIds=oe,H==null?q.shapeFlag&512?se.ctx.activate(q,ne,le,re,ue):G(q,ne,le,se,J,re,ue):R(H,q,ue)},G=(H,q,ne,le,se,J,re)=>{const oe=H.component=createComponentInstance(H,le,se);if(isKeepAlive(H)&&(oe.ctx.renderer=V),setupComponent(oe),oe.asyncDep){if(se&&se.registerDep(oe,I),!H.el){const ue=oe.subTree=createVNode(Comment);y(null,ue,q,ne)}return}I(oe,H,q,ne,se,J,re)},R=(H,q,ne)=>{const le=q.component=H.component;if(shouldUpdateComponent(H,q,ne))if(le.asyncDep&&!le.asyncResolved){U(le,q,ne);return}else le.next=q,invalidateJob(le.update),le.update();else q.el=H.el,le.vnode=q},I=(H,q,ne,le,se,J,re)=>{const oe=()=>{if(H.isMounted){let{next:de,bu:pe,u:fe,parent:be,vnode:ge}=H,Se=de,ve;toggleRecurse(H,!1),de?(de.el=ge.el,U(H,de,re)):de=ge,pe&&invokeArrayFns(pe),(ve=de.props&&de.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ve,be,de,ge),toggleRecurse(H,!0);const we=renderComponentRoot(H),Fe=H.subTree;H.subTree=we,m(Fe,we,c(Fe.el),Q(Fe),H,se,J),de.el=we.el,Se===null&&updateHOCHostEl(H,we.el),fe&&queuePostRenderEffect(fe,se),(ve=de.props&&de.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ve,be,de,ge),se)}else{let de;const{el:pe,props:fe}=q,{bm:be,m:ge,parent:Se}=H,ve=isAsyncWrapper(q);if(toggleRecurse(H,!1),be&&invokeArrayFns(be),!ve&&(de=fe&&fe.onVnodeBeforeMount)&&invokeVNodeHook(de,Se,q),toggleRecurse(H,!0),pe&&ae){const we=()=>{H.subTree=renderComponentRoot(H),ae(pe,H.subTree,H,se,null)};ve?q.type.__asyncLoader().then(()=>!H.isUnmounted&&we()):we()}else{const we=H.subTree=renderComponentRoot(H);m(null,we,ne,le,H,se,J),q.el=we.el}if(ge&&queuePostRenderEffect(ge,se),!ve&&(de=fe&&fe.onVnodeMounted)){const we=q;queuePostRenderEffect(()=>invokeVNodeHook(de,Se,we),se)}(q.shapeFlag&256||Se&&isAsyncWrapper(Se.vnode)&&Se.vnode.shapeFlag&256)&&H.a&&queuePostRenderEffect(H.a,se),H.isMounted=!0,q=ne=le=null}},ue=H.effect=new ReactiveEffect(oe,()=>queueJob(he),H.scope),he=H.update=()=>ue.run();he.id=H.uid,toggleRecurse(H,!0),he()},U=(H,q,ne)=>{q.component=H;const le=H.vnode.props;H.vnode=q,H.next=null,updateProps(H,q.props,le,ne),updateSlots(H,q.children,ne),pauseTracking(),flushPreFlushCbs(),resetTracking()},P=(H,q,ne,le,se,J,re,oe,ue=!1)=>{const he=H&&H.children,de=H?H.shapeFlag:0,pe=q.children,{patchFlag:fe,shapeFlag:be}=q;if(fe>0){if(fe&128){z(he,pe,ne,le,se,J,re,oe,ue);return}else if(fe&256){A(he,pe,ne,le,se,J,re,oe,ue);return}}be&8?(de&16&&D(he,se,J),pe!==he&&i(ne,pe)):de&16?be&16?z(he,pe,ne,le,se,J,re,oe,ue):D(he,se,J,!0):(de&8&&i(ne,""),be&16&&k(pe,ne,le,se,J,re,oe,ue))},A=(H,q,ne,le,se,J,re,oe,ue)=>{H=H||EMPTY_ARR,q=q||EMPTY_ARR;const he=H.length,de=q.length,pe=Math.min(he,de);let fe;for(fe=0;fe<pe;fe++){const be=q[fe]=ue?cloneIfMounted(q[fe]):normalizeVNode(q[fe]);m(H[fe],be,ne,null,se,J,re,oe,ue)}he>de?D(H,se,J,!0,!1,pe):k(q,ne,le,se,J,re,oe,ue,pe)},z=(H,q,ne,le,se,J,re,oe,ue)=>{let he=0;const de=q.length;let pe=H.length-1,fe=de-1;for(;he<=pe&&he<=fe;){const be=H[he],ge=q[he]=ue?cloneIfMounted(q[he]):normalizeVNode(q[he]);if(isSameVNodeType(be,ge))m(be,ge,ne,null,se,J,re,oe,ue);else break;he++}for(;he<=pe&&he<=fe;){const be=H[pe],ge=q[fe]=ue?cloneIfMounted(q[fe]):normalizeVNode(q[fe]);if(isSameVNodeType(be,ge))m(be,ge,ne,null,se,J,re,oe,ue);else break;pe--,fe--}if(he>pe){if(he<=fe){const be=fe+1,ge=be<de?q[be].el:le;for(;he<=fe;)m(null,q[he]=ue?cloneIfMounted(q[he]):normalizeVNode(q[he]),ne,ge,se,J,re,oe,ue),he++}}else if(he>fe)for(;he<=pe;)W(H[he],se,J,!0),he++;else{const be=he,ge=he,Se=new Map;for(he=ge;he<=fe;he++){const Ie=q[he]=ue?cloneIfMounted(q[he]):normalizeVNode(q[he]);Ie.key!=null&&Se.set(Ie.key,he)}let ve,we=0;const Fe=fe-ge+1;let Ce=!1,ye=0;const ke=new Array(Fe);for(he=0;he<Fe;he++)ke[he]=0;for(he=be;he<=pe;he++){const Ie=H[he];if(we>=Fe){W(Ie,se,J,!0);continue}let Me;if(Ie.key!=null)Me=Se.get(Ie.key);else for(ve=ge;ve<=fe;ve++)if(ke[ve-ge]===0&&isSameVNodeType(Ie,q[ve])){Me=ve;break}Me===void 0?W(Ie,se,J,!0):(ke[Me-ge]=he+1,Me>=ye?ye=Me:Ce=!0,m(Ie,q[Me],ne,null,se,J,re,oe,ue),we++)}const De=Ce?getSequence(ke):EMPTY_ARR;for(ve=De.length-1,he=Fe-1;he>=0;he--){const Ie=ge+he,Me=q[Ie],Ne=Ie+1<de?q[Ie+1].el:le;ke[he]===0?m(null,Me,ne,Ne,se,J,re,oe,ue):Ce&&(ve<0||he!==De[ve]?N(Me,ne,Ne,2):ve--)}}},N=(H,q,ne,le,se=null)=>{const{el:J,type:re,transition:oe,children:ue,shapeFlag:he}=H;if(he&6){N(H.component.subTree,q,ne,le);return}if(he&128){H.suspense.move(q,ne,le);return}if(he&64){re.move(H,q,ne,V);return}if(re===Fragment){C(J,q,ne);for(let pe=0;pe<ue.length;pe++)N(ue[pe],q,ne,le);C(H.anchor,q,ne);return}if(re===Static){v(H,q,ne);return}if(le!==2&&he&1&&oe)if(le===0)oe.beforeEnter(J),C(J,q,ne),queuePostRenderEffect(()=>oe.enter(J),se);else{const{leave:pe,delayLeave:fe,afterLeave:be}=oe,ge=()=>C(J,q,ne),Se=()=>{pe(J,()=>{ge(),be&&be()})};fe?fe(J,ge,Se):Se()}else C(J,q,ne)},W=(H,q,ne,le=!1,se=!1)=>{const{type:J,props:re,ref:oe,children:ue,dynamicChildren:he,shapeFlag:de,patchFlag:pe,dirs:fe}=H;if(oe!=null&&setRef(oe,null,ne,H,!0),de&256){q.ctx.deactivate(H);return}const be=de&1&&fe,ge=!isAsyncWrapper(H);let Se;if(ge&&(Se=re&&re.onVnodeBeforeUnmount)&&invokeVNodeHook(Se,q,H),de&6)F(H.component,ne,le);else{if(de&128){H.suspense.unmount(ne,le);return}be&&invokeDirectiveHook(H,null,q,"beforeUnmount"),de&64?H.type.remove(H,q,ne,se,V,le):he&&(J!==Fragment||pe>0&&pe&64)?D(he,q,ne,!1,!0):(J===Fragment&&pe&384||!se&&de&16)&&D(ue,q,ne),le&&ie(H)}(ge&&(Se=re&&re.onVnodeUnmounted)||be)&&queuePostRenderEffect(()=>{Se&&invokeVNodeHook(Se,q,H),be&&invokeDirectiveHook(H,null,q,"unmounted")},ne)},ie=H=>{const{type:q,el:ne,anchor:le,transition:se}=H;if(q===Fragment){Y(ne,le);return}if(q===Static){o(H);return}const J=()=>{_(ne),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(H.shapeFlag&1&&se&&!se.persisted){const{leave:re,delayLeave:oe}=se,ue=()=>re(ne,J);oe?oe(H.el,J,ue):ue()}else J()},Y=(H,q)=>{let ne;for(;H!==q;)ne=s(H),_(H),H=ne;_(q)},F=(H,q,ne)=>{const{bum:le,scope:se,update:J,subTree:re,um:oe}=H;le&&invokeArrayFns(le),se.stop(),J&&(J.active=!1,W(re,H,q,ne)),oe&&queuePostRenderEffect(oe,q),queuePostRenderEffect(()=>{H.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},D=(H,q,ne,le=!1,se=!1,J=0)=>{for(let re=J;re<H.length;re++)W(H[re],q,ne,le,se)},Q=H=>H.shapeFlag&6?Q(H.component.subTree):H.shapeFlag&128?H.suspense.next():s(H.anchor||H.el),ee=(H,q,ne)=>{H==null?q._vnode&&W(q._vnode,null,null,!0):m(q._vnode||null,H,q,null,null,null,ne),flushPreFlushCbs(),flushPostFlushCbs(),q._vnode=H},V={p:m,um:W,m:N,r:ie,mt:G,mc:k,pc:P,pbc:O,n:Q,o:r};let Z,ae;return n&&([Z,ae]=n(V)),{render:ee,hydrate:Z,createApp:createAppAPI(ee,Z)}}function toggleRecurse({effect:r,update:n},x){r.allowRecurse=n.allowRecurse=x}function traverseStaticChildren(r,n,x=!1){const C=r.children,_=n.children;if(isArray$3(C)&&isArray$3(_))for(let K=0;K<C.length;K++){const $=C[K];let l=_[K];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=_[K]=cloneIfMounted(_[K]),l.el=$.el),x||traverseStaticChildren($,l)),l.type===Text&&(l.el=$.el)}}function getSequence(r){const n=r.slice(),x=[0];let C,_,K,$,l;const a=r.length;for(C=0;C<a;C++){const t=r[C];if(t!==0){if(_=x[x.length-1],r[_]<t){n[C]=_,x.push(C);continue}for(K=0,$=x.length-1;K<$;)l=K+$>>1,r[x[l]]<t?K=l+1:$=l;t<r[x[K]]&&(K>0&&(n[C]=x[K-1]),x[K]=C)}}for(K=x.length,$=x[K-1];K-- >0;)x[K]=$,$=n[$];return x}const isTeleport=r=>r.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(r=!1){blockStack.push(currentBlock=r?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(r){isBlockTreeEnabled+=r}function setupBlock(r){return r.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(r),r}function createElementBlock(r,n,x,C,_,K){return setupBlock(createBaseVNode(r,n,x,C,_,K,!0))}function createBlock(r,n,x,C,_){return setupBlock(createVNode(r,n,x,C,_,!0))}function isVNode(r){return r?r.__v_isVNode===!0:!1}function isSameVNodeType(r,n){return r.type===n.type&&r.key===n.key}const InternalObjectKey="__vInternal",normalizeKey=({key:r})=>r??null,normalizeRef=({ref:r,ref_key:n,ref_for:x})=>r!=null?isString$1(r)||isRef(r)||isFunction$1(r)?{i:currentRenderingInstance,r,k:n,f:!!x}:r:null;function createBaseVNode(r,n=null,x=null,C=0,_=null,K=r===Fragment?0:1,$=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:r,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:x,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:K,patchFlag:C,dynamicProps:_,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return l?(normalizeChildren(a,x),K&128&&r.normalize(a)):x&&(a.shapeFlag|=isString$1(x)?8:16),isBlockTreeEnabled>0&&!$&&currentBlock&&(a.patchFlag>0||K&6)&&a.patchFlag!==32&&currentBlock.push(a),a}const createVNode=_createVNode;function _createVNode(r,n=null,x=null,C=0,_=null,K=!1){if((!r||r===NULL_DYNAMIC_COMPONENT)&&(r=Comment),isVNode(r)){const l=cloneVNode(r,n,!0);return x&&normalizeChildren(l,x),isBlockTreeEnabled>0&&!K&&currentBlock&&(l.shapeFlag&6?currentBlock[currentBlock.indexOf(r)]=l:currentBlock.push(l)),l.patchFlag|=-2,l}if(isClassComponent(r)&&(r=r.__vccOpts),n){n=guardReactiveProps(n);let{class:l,style:a}=n;l&&!isString$1(l)&&(n.class=normalizeClass(l)),isObject$3(a)&&(isProxy(a)&&!isArray$3(a)&&(a=extend$1({},a)),n.style=normalizeStyle(a))}const $=isString$1(r)?1:isSuspense(r)?128:isTeleport(r)?64:isObject$3(r)?4:isFunction$1(r)?2:0;return createBaseVNode(r,n,x,C,_,$,K,!0)}function guardReactiveProps(r){return r?isProxy(r)||InternalObjectKey in r?extend$1({},r):r:null}function cloneVNode(r,n,x=!1){const{props:C,ref:_,patchFlag:K,children:$}=r,l=n?mergeProps(C||{},n):C;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:l,key:l&&normalizeKey(l),ref:n&&n.ref?x&&_?isArray$3(_)?_.concat(normalizeRef(n)):[_,normalizeRef(n)]:normalizeRef(n):_,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:$,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:n&&r.type!==Fragment?K===-1?16:K|16:K,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&cloneVNode(r.ssContent),ssFallback:r.ssFallback&&cloneVNode(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function createTextVNode(r=" ",n=0){return createVNode(Text,null,r,n)}function createStaticVNode(r,n){const x=createVNode(Static,null,r);return x.staticCount=n,x}function createCommentVNode(r="",n=!1){return n?(openBlock(),createBlock(Comment,null,r)):createVNode(Comment,null,r)}function normalizeVNode(r){return r==null||typeof r=="boolean"?createVNode(Comment):isArray$3(r)?createVNode(Fragment,null,r.slice()):typeof r=="object"?cloneIfMounted(r):createVNode(Text,null,String(r))}function cloneIfMounted(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:cloneVNode(r)}function normalizeChildren(r,n){let x=0;const{shapeFlag:C}=r;if(n==null)n=null;else if(isArray$3(n))x=16;else if(typeof n=="object")if(C&65){const _=n.default;_&&(_._c&&(_._d=!1),normalizeChildren(r,_()),_._c&&(_._d=!0));return}else{x=32;const _=n._;!_&&!(InternalObjectKey in n)?n._ctx=currentRenderingInstance:_===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,r.patchFlag|=1024))}else isFunction$1(n)?(n={default:n,_ctx:currentRenderingInstance},x=32):(n=String(n),C&64?(x=16,n=[createTextVNode(n)]):x=8);r.children=n,r.shapeFlag|=x}function mergeProps(...r){const n={};for(let x=0;x<r.length;x++){const C=r[x];for(const _ in C)if(_==="class")n.class!==C.class&&(n.class=normalizeClass([n.class,C.class]));else if(_==="style")n.style=normalizeStyle([n.style,C.style]);else if(isOn(_)){const K=n[_],$=C[_];$&&K!==$&&!(isArray$3(K)&&K.includes($))&&(n[_]=K?[].concat(K,$):$)}else _!==""&&(n[_]=C[_])}return n}function invokeVNodeHook(r,n,x,C=null){callWithAsyncErrorHandling(r,n,7,[x,C])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(r,n,x){const C=r.type,_=(n?n.appContext:r.appContext)||emptyAppContext,K={uid:uid$2++,vnode:r,type:C,parent:n,appContext:_,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(_.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(C,_),emitsOptions:normalizeEmitsOptions(C,_),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:C.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:x,suspenseId:x?x.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return K.ctx={_:K},K.root=n?n.root:K,K.emit=emit.bind(null,K),r.ce&&r.ce(K),K}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=r=>{currentInstance=r,r.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(r){return r.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(r,n=!1){isInSSRComponentSetup=n;const{props:x,children:C}=r.vnode,_=isStatefulComponent(r);initProps(r,x,_,n),initSlots(r,C);const K=_?setupStatefulComponent(r,n):void 0;return isInSSRComponentSetup=!1,K}function setupStatefulComponent(r,n){const x=r.type;r.accessCache=Object.create(null),r.proxy=markRaw(new Proxy(r.ctx,PublicInstanceProxyHandlers));const{setup:C}=x;if(C){const _=r.setupContext=C.length>1?createSetupContext(r):null;setCurrentInstance(r),pauseTracking();const K=callWithErrorHandling(C,r,0,[r.props,_]);if(resetTracking(),unsetCurrentInstance(),isPromise(K)){if(K.then(unsetCurrentInstance,unsetCurrentInstance),n)return K.then($=>{handleSetupResult(r,$,n)}).catch($=>{handleError($,r,0)});r.asyncDep=K}else handleSetupResult(r,K,n)}else finishComponentSetup(r,n)}function handleSetupResult(r,n,x){isFunction$1(n)?r.type.__ssrInlineRender?r.ssrRender=n:r.render=n:isObject$3(n)&&(r.setupState=proxyRefs(n)),finishComponentSetup(r,x)}let compile;function finishComponentSetup(r,n,x){const C=r.type;if(!r.render){if(!n&&compile&&!C.render){const _=C.template||resolveMergedOptions(r).template;if(_){const{isCustomElement:K,compilerOptions:$}=r.appContext.config,{delimiters:l,compilerOptions:a}=C,t=extend$1(extend$1({isCustomElement:K,delimiters:l},$),a);C.render=compile(_,t)}}r.render=C.render||NOOP}setCurrentInstance(r),pauseTracking(),applyOptions(r),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(r){return new Proxy(r.attrs,{get(n,x){return track(r,"get","$attrs"),n[x]}})}function createSetupContext(r){const n=C=>{r.exposed=C||{}};let x;return{get attrs(){return x||(x=createAttrsProxy(r))},slots:r.slots,emit:r.emit,expose:n}}function getExposeProxy(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(proxyRefs(markRaw(r.exposed)),{get(n,x){if(x in n)return n[x];if(x in publicPropertiesMap)return publicPropertiesMap[x](r)},has(n,x){return x in n||x in publicPropertiesMap}}))}function getComponentName(r,n=!0){return isFunction$1(r)?r.displayName||r.name:r.name||n&&r.__name}function isClassComponent(r){return isFunction$1(r)&&"__vccOpts"in r}const computed=(r,n)=>computed$1(r,n,isInSSRComponentSetup);function h(r,n,x){const C=arguments.length;return C===2?isObject$3(n)&&!isArray$3(n)?isVNode(n)?createVNode(r,null,[n]):createVNode(r,n):createVNode(r,null,n):(C>3?x=Array.prototype.slice.call(arguments,2):C===3&&isVNode(x)&&(x=[x]),createVNode(r,n,x))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version$4="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(r,n,x)=>{n.insertBefore(r,x||null)},remove:r=>{const n=r.parentNode;n&&n.removeChild(r)},createElement:(r,n,x,C)=>{const _=n?doc.createElementNS(svgNS,r):doc.createElement(r,x?{is:x}:void 0);return r==="select"&&C&&C.multiple!=null&&_.setAttribute("multiple",C.multiple),_},createText:r=>doc.createTextNode(r),createComment:r=>doc.createComment(r),setText:(r,n)=>{r.nodeValue=n},setElementText:(r,n)=>{r.textContent=n},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>doc.querySelector(r),setScopeId(r,n){r.setAttribute(n,"")},insertStaticContent(r,n,x,C,_,K){const $=x?x.previousSibling:n.lastChild;if(_&&(_===K||_.nextSibling))for(;n.insertBefore(_.cloneNode(!0),x),!(_===K||!(_=_.nextSibling)););else{templateContainer.innerHTML=C?`<svg>${r}</svg>`:r;const l=templateContainer.content;if(C){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}n.insertBefore(l,x)}return[$?$.nextSibling:n.firstChild,x?x.previousSibling:n.lastChild]}};function patchClass(r,n,x){const C=r._vtc;C&&(n=(n?[n,...C]:[...C]).join(" ")),n==null?r.removeAttribute("class"):x?r.setAttribute("class",n):r.className=n}function patchStyle(r,n,x){const C=r.style,_=isString$1(x);if(x&&!_){if(n&&!isString$1(n))for(const K in n)x[K]==null&&setStyle(C,K,"");for(const K in x)setStyle(C,K,x[K])}else{const K=C.display;_?n!==x&&(C.cssText=x):n&&r.removeAttribute("style"),"_vod"in r&&(C.display=K)}}const importantRE=/\s*!important$/;function setStyle(r,n,x){if(isArray$3(x))x.forEach(C=>setStyle(r,n,C));else if(x==null&&(x=""),n.startsWith("--"))r.setProperty(n,x);else{const C=autoPrefix(r,n);importantRE.test(x)?r.setProperty(hyphenate(C),x.replace(importantRE,""),"important"):r[C]=x}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(r,n){const x=prefixCache[n];if(x)return x;let C=camelize(n);if(C!=="filter"&&C in r)return prefixCache[n]=C;C=capitalize(C);for(let _=0;_<prefixes$1.length;_++){const K=prefixes$1[_]+C;if(K in r)return prefixCache[n]=K}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(r,n,x,C,_){if(C&&n.startsWith("xlink:"))x==null?r.removeAttributeNS(xlinkNS,n.slice(6,n.length)):r.setAttributeNS(xlinkNS,n,x);else{const K=isSpecialBooleanAttr(n);x==null||K&&!includeBooleanAttr(x)?r.removeAttribute(n):r.setAttribute(n,K?"":x)}}function patchDOMProp(r,n,x,C,_,K,$){if(n==="innerHTML"||n==="textContent"){C&&$(C,_,K),r[n]=x??"";return}if(n==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=x;const a=x??"";(r.value!==a||r.tagName==="OPTION")&&(r.value=a),x==null&&r.removeAttribute(n);return}let l=!1;if(x===""||x==null){const a=typeof r[n];a==="boolean"?x=includeBooleanAttr(x):x==null&&a==="string"?(x="",l=!0):a==="number"&&(x=0,l=!0)}try{r[n]=x}catch{}l&&r.removeAttribute(n)}function addEventListener(r,n,x,C){r.addEventListener(n,x,C)}function removeEventListener(r,n,x,C){r.removeEventListener(n,x,C)}function patchEvent(r,n,x,C,_=null){const K=r._vei||(r._vei={}),$=K[n];if(C&&$)$.value=C;else{const[l,a]=parseName(n);if(C){const t=K[n]=createInvoker(C,_);addEventListener(r,l,t,a)}else $&&(removeEventListener(r,l,$,a),K[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(r){let n;if(optionsModifierRE.test(r)){n={};let C;for(;C=r.match(optionsModifierRE);)r=r.slice(0,r.length-C[0].length),n[C[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):hyphenate(r.slice(2)),n]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(r,n){const x=C=>{if(!C._vts)C._vts=Date.now();else if(C._vts<=x.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(C,x.value),n,5,[C])};return x.value=r,x.attached=getNow(),x}function patchStopImmediatePropagation(r,n){if(isArray$3(n)){const x=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{x.call(r),r._stopped=!0},n.map(C=>_=>!_._stopped&&C&&C(_))}else return n}const nativeOnRE=/^on[a-z]/,patchProp=(r,n,x,C,_=!1,K,$,l,a)=>{n==="class"?patchClass(r,C,_):n==="style"?patchStyle(r,x,C):isOn(n)?isModelListener(n)||patchEvent(r,n,x,C,$):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(r,n,C,_))?patchDOMProp(r,n,C,K,$,l,a):(n==="true-value"?r._trueValue=C:n==="false-value"&&(r._falseValue=C),patchAttr(r,n,C,_))};function shouldSetAsProp(r,n,x,C){return C?!!(n==="innerHTML"||n==="textContent"||n in r&&nativeOnRE.test(n)&&isFunction$1(x)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&r.tagName==="INPUT"||n==="type"&&r.tagName==="TEXTAREA"||nativeOnRE.test(n)&&isString$1(x)?!1:n in r}const getModelAssigner=r=>{const n=r.props["onUpdate:modelValue"]||!1;return isArray$3(n)?x=>invokeArrayFns(n,x):n};function onCompositionStart(r){r.target.composing=!0}function onCompositionEnd(r){const n=r.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const vModelText={created(r,{modifiers:{lazy:n,trim:x,number:C}},_){r._assign=getModelAssigner(_);const K=C||_.props&&_.props.type==="number";addEventListener(r,n?"change":"input",$=>{if($.target.composing)return;let l=r.value;x&&(l=l.trim()),K&&(l=looseToNumber(l)),r._assign(l)}),x&&addEventListener(r,"change",()=>{r.value=r.value.trim()}),n||(addEventListener(r,"compositionstart",onCompositionStart),addEventListener(r,"compositionend",onCompositionEnd),addEventListener(r,"change",onCompositionEnd))},mounted(r,{value:n}){r.value=n??""},beforeUpdate(r,{value:n,modifiers:{lazy:x,trim:C,number:_}},K){if(r._assign=getModelAssigner(K),r.composing||document.activeElement===r&&r.type!=="range"&&(x||C&&r.value.trim()===n||(_||r.type==="number")&&looseToNumber(r.value)===n))return;const $=n??"";r.value!==$&&(r.value=$)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,n)=>systemModifiers.some(x=>r[`${x}Key`]&&!n.includes(x))},withModifiers=(r,n)=>(x,...C)=>{for(let _=0;_<n.length;_++){const K=modifierGuards[n[_]];if(K&&K(x,n))return}return r(x,...C)},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...r)=>{const n=ensureRenderer().createApp(...r),{mount:x}=n;return n.mount=C=>{const _=normalizeContainer(C);if(!_)return;const K=n._component;!isFunction$1(K)&&!K.render&&!K.template&&(K.template=_.innerHTML),_.innerHTML="";const $=x(_,!1,_ instanceof SVGElement);return _ instanceof Element&&(_.removeAttribute("v-cloak"),_.setAttribute("data-v-app","")),$},n};function normalizeContainer(r){return isString$1(r)?document.querySelector(r):r}var isVue2=!1;/*!
  * pinia v2.0.29
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=r=>activePinia=r,piniaSymbol=Symbol();function isPlainObject$1(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var MutationType;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const r=effectScope(!0),n=r.run(()=>ref({}));let x=[],C=[];const _=markRaw({install(K){setActivePinia(_),_._a=K,K.provide(piniaSymbol,_),K.config.globalProperties.$pinia=_,C.forEach($=>x.push($)),C=[]},use(K){return!this._a&&!isVue2?C.push(K):x.push(K),this},_p:x,_a:null,_e:r,_s:new Map,state:n});return _}const noop$5=()=>{};function addSubscription(r,n,x,C=noop$5){r.push(n);const _=()=>{const K=r.indexOf(n);K>-1&&(r.splice(K,1),C())};return!x&&getCurrentScope()&&onScopeDispose(_),_}function triggerSubscriptions(r,...n){r.slice().forEach(x=>{x(...n)})}function mergeReactiveObjects(r,n){r instanceof Map&&n instanceof Map&&n.forEach((x,C)=>r.set(C,x)),r instanceof Set&&n instanceof Set&&n.forEach(r.add,r);for(const x in n){if(!n.hasOwnProperty(x))continue;const C=n[x],_=r[x];isPlainObject$1(_)&&isPlainObject$1(C)&&r.hasOwnProperty(x)&&!isRef(C)&&!isReactive(C)?r[x]=mergeReactiveObjects(_,C):r[x]=C}return r}const skipHydrateSymbol=Symbol();function shouldHydrate(r){return!isPlainObject$1(r)||!r.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(r){return!!(isRef(r)&&r.effect)}function createOptionsStore(r,n,x,C){const{state:_,actions:K,getters:$}=n,l=x.state.value[r];let a;function t(){l||(x.state.value[r]=_?_():{});const i=toRefs(x.state.value[r]);return assign$1(i,K,Object.keys($||{}).reduce((c,s)=>(c[s]=markRaw(computed(()=>{setActivePinia(x);const e=x._s.get(r);return $[s].call(e,e)})),c),{}))}return a=createSetupStore(r,t,n,x,C,!0),a.$reset=function(){const c=_?_():{};this.$patch(s=>{assign$1(s,c)})},a}function createSetupStore(r,n,x={},C,_,K){let $;const l=assign$1({actions:{}},x),a={deep:!0};let t,i,c=markRaw([]),s=markRaw([]),e;const u=C.state.value[r];!K&&!u&&(C.state.value[r]={}),ref({});let m;function g(E){let k;t=i=!1,typeof E=="function"?(E(C.state.value[r]),k={type:MutationType.patchFunction,storeId:r,events:e}):(mergeReactiveObjects(C.state.value[r],E),k={type:MutationType.patchObject,payload:E,storeId:r,events:e});const M=m=Symbol();nextTick().then(()=>{m===M&&(t=!0)}),i=!0,triggerSubscriptions(c,k,C.state.value[r])}const y=noop$5;function b(){$.stop(),c=[],s=[],C._s.delete(r)}function v(E,k){return function(){setActivePinia(C);const M=Array.from(arguments),O=[],L=[];function te(R){O.push(R)}function B(R){L.push(R)}triggerSubscriptions(s,{args:M,name:E,store:S,after:te,onError:B});let G;try{G=k.apply(this&&this.$id===r?this:S,M)}catch(R){throw triggerSubscriptions(L,R),R}return G instanceof Promise?G.then(R=>(triggerSubscriptions(O,R),R)).catch(R=>(triggerSubscriptions(L,R),Promise.reject(R))):(triggerSubscriptions(O,G),G)}}const o={_p:C,$id:r,$onAction:addSubscription.bind(null,s),$patch:g,$reset:y,$subscribe(E,k={}){const M=addSubscription(c,E,k.detached,()=>O()),O=$.run(()=>watch(()=>C.state.value[r],L=>{(k.flush==="sync"?i:t)&&E({storeId:r,type:MutationType.direct,events:e},L)},assign$1({},a,k)));return M},$dispose:b},S=reactive(o);C._s.set(r,S);const T=C._e.run(()=>($=effectScope(),$.run(()=>n())));for(const E in T){const k=T[E];if(isRef(k)&&!isComputed(k)||isReactive(k))K||(u&&shouldHydrate(k)&&(isRef(k)?k.value=u[E]:mergeReactiveObjects(k,u[E])),C.state.value[r][E]=k);else if(typeof k=="function"){const M=v(E,k);T[E]=M,l.actions[E]=k}}return assign$1(S,T),assign$1(toRaw(S),T),Object.defineProperty(S,"$state",{get:()=>C.state.value[r],set:E=>{g(k=>{assign$1(k,E)})}}),C._p.forEach(E=>{assign$1(S,$.run(()=>E({store:S,app:C._a,pinia:C,options:l})))}),u&&K&&x.hydrate&&x.hydrate(S.$state,u),t=!0,i=!0,S}function defineStore(r,n,x){let C,_;const K=typeof n=="function";typeof r=="string"?(C=r,_=K?x:n):(_=r,C=r.id);function $(l,a){const t=getCurrentInstance();return l=l||t&&inject(piniaSymbol,null),l&&setActivePinia(l),l=activePinia,l._s.has(C)||(K?createSetupStore(C,n,_,l):createOptionsStore(C,_,l)),l._s.get(C)}return $.$id=C,$}function storeToRefs(r){{r=toRaw(r);const n={};for(const x in r){const C=r[x];(isRef(C)||isReactive(C))&&(n[x]=toRef(r,x))}return n}}const App_vue_vue_type_style_index_0_lang="",_export_sfc=(r,n)=>{const x=r.__vccOpts||r;for(const[C,_]of n)x[C]=_;return x},_sfc_main={};function _sfc_render(r,n){const x=resolveComponent("router-view");return openBlock(),createBlock(x)}const App=_export_sfc(_sfc_main,[["render",_sfc_render]]);function bind(r,n){return function(){return r.apply(n,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(r=>n=>{const x=toString$1.call(n);return r[x]||(r[x]=x.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=r=>(r=r.toLowerCase(),n=>kindOf(n)===r),typeOfTest=r=>n=>typeof n===r,{isArray:isArray$2}=Array,isUndefined=typeOfTest("undefined");function isBuffer(r){return r!==null&&!isUndefined(r)&&r.constructor!==null&&!isUndefined(r.constructor)&&isFunction(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(r){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(r):n=r&&r.buffer&&isArrayBuffer(r.buffer),n}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=r=>r!==null&&typeof r=="object",isBoolean=r=>r===!0||r===!1,isPlainObject=r=>{if(kindOf(r)!=="object")return!1;const n=getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=r=>isObject$2(r)&&isFunction(r.pipe),isFormData=r=>{const n="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||toString$1.call(r)===n||isFunction(r.toString)&&r.toString()===n)},isURLSearchParams=kindOfTest("URLSearchParams"),trim$2=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(r,n,{allOwnKeys:x=!1}={}){if(r===null||typeof r>"u")return;let C,_;if(typeof r!="object"&&(r=[r]),isArray$2(r))for(C=0,_=r.length;C<_;C++)n.call(null,r[C],C,r);else{const K=x?Object.getOwnPropertyNames(r):Object.keys(r),$=K.length;let l;for(C=0;C<$;C++)l=K[C],n.call(null,r[l],l,r)}}function findKey(r,n){n=n.toLowerCase();const x=Object.keys(r);let C=x.length,_;for(;C-- >0;)if(_=x[C],n===_.toLowerCase())return _;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=r=>!isUndefined(r)&&r!==_global;function merge(){const{caseless:r}=isContextDefined(this)&&this||{},n={},x=(C,_)=>{const K=r&&findKey(n,_)||_;isPlainObject(n[K])&&isPlainObject(C)?n[K]=merge(n[K],C):isPlainObject(C)?n[K]=merge({},C):isArray$2(C)?n[K]=C.slice():n[K]=C};for(let C=0,_=arguments.length;C<_;C++)arguments[C]&&forEach(arguments[C],x);return n}const extend=(r,n,x,{allOwnKeys:C}={})=>(forEach(n,(_,K)=>{x&&isFunction(_)?r[K]=bind(_,x):r[K]=_},{allOwnKeys:C}),r),stripBOM=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),inherits=(r,n,x,C)=>{r.prototype=Object.create(n.prototype,C),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:n.prototype}),x&&Object.assign(r.prototype,x)},toFlatObject=(r,n,x,C)=>{let _,K,$;const l={};if(n=n||{},r==null)return n;do{for(_=Object.getOwnPropertyNames(r),K=_.length;K-- >0;)$=_[K],(!C||C($,r,n))&&!l[$]&&(n[$]=r[$],l[$]=!0);r=x!==!1&&getPrototypeOf(r)}while(r&&(!x||x(r,n))&&r!==Object.prototype);return n},endsWith=(r,n,x)=>{r=String(r),(x===void 0||x>r.length)&&(x=r.length),x-=n.length;const C=r.indexOf(n,x);return C!==-1&&C===x},toArray$1=r=>{if(!r)return null;if(isArray$2(r))return r;let n=r.length;if(!isNumber(n))return null;const x=new Array(n);for(;n-- >0;)x[n]=r[n];return x},isTypedArray=(r=>n=>r&&n instanceof r)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(r,n)=>{const C=(r&&r[Symbol.iterator]).call(r);let _;for(;(_=C.next())&&!_.done;){const K=_.value;n.call(r,K[0],K[1])}},matchAll=(r,n)=>{let x;const C=[];for(;(x=r.exec(n))!==null;)C.push(x);return C},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=r=>r.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(x,C,_){return C.toUpperCase()+_}),hasOwnProperty$1=(({hasOwnProperty:r})=>(n,x)=>r.call(n,x))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(r,n)=>{const x=Object.getOwnPropertyDescriptors(r),C={};forEach(x,(_,K)=>{n(_,K,r)!==!1&&(C[K]=_)}),Object.defineProperties(r,C)},freezeMethods=r=>{reduceDescriptors(r,(n,x)=>{if(isFunction(r)&&["arguments","caller","callee"].indexOf(x)!==-1)return!1;const C=r[x];if(isFunction(C)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+x+"'")})}})},toObjectSet=(r,n)=>{const x={},C=_=>{_.forEach(K=>{x[K]=!0})};return isArray$2(r)?C(r):C(String(r).split(n)),x},noop$4=()=>{},toFiniteNumber=(r,n)=>(r=+r,Number.isFinite(r)?r:n),toJSONObject=r=>{const n=new Array(10),x=(C,_)=>{if(isObject$2(C)){if(n.indexOf(C)>=0)return;if(!("toJSON"in C)){n[_]=C;const K=isArray$2(C)?[]:{};return forEach(C,($,l)=>{const a=x($,_+1);!isUndefined(a)&&(K[l]=a)}),n[_]=void 0,K}}return C};return x(r,0)},utils={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$2,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim:trim$2,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$4,toFiniteNumber,findKey,global:_global,isContextDefined,toJSONObject};function AxiosError(r,n,x,C,_){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",n&&(this.code=n),x&&(this.config=x),C&&(this.request=C),_&&(this.response=_)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{descriptors$1[r]={value:r}});Object.defineProperties(AxiosError,descriptors$1);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(r,n,x,C,_,K)=>{const $=Object.create(prototype$1);return utils.toFlatObject(r,$,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),AxiosError.call($,r.message,n,x,C,_),$.cause=r,$.name=r.name,K&&Object.assign($,K),$};var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(r.__esModule)return r;var n=r.default;if(typeof n=="function"){var x=function C(){if(this instanceof C){var _=[null];_.push.apply(_,arguments);var K=Function.bind.apply(n,_);return new K}return n.apply(this,arguments)};x.prototype=n.prototype}else x={};return Object.defineProperty(x,"__esModule",{value:!0}),Object.keys(r).forEach(function(C){var _=Object.getOwnPropertyDescriptor(r,C);Object.defineProperty(x,C,_.get?_:{enumerable:!0,get:function(){return r[C]}})}),x}var browser$1=typeof self=="object"?self.FormData:window.FormData;const FormData$2=browser$1;function isVisitable(r){return utils.isPlainObject(r)||utils.isArray(r)}function removeBrackets(r){return utils.endsWith(r,"[]")?r.slice(0,-2):r}function renderKey(r,n,x){return r?r.concat(n).map(function(_,K){return _=removeBrackets(_),!x&&K?"["+_+"]":_}).join(x?".":""):n}function isFlatArray(r){return utils.isArray(r)&&!r.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(n){return/^is[A-Z]/.test(n)});function isSpecCompliant(r){return r&&utils.isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator]}function toFormData(r,n,x){if(!utils.isObject(r))throw new TypeError("target must be an object");n=n||new(FormData$2||FormData),x=utils.toFlatObject(x,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!utils.isUndefined(g[m])});const C=x.metaTokens,_=x.visitor||i,K=x.dots,$=x.indexes,a=(x.Blob||typeof Blob<"u"&&Blob)&&isSpecCompliant(n);if(!utils.isFunction(_))throw new TypeError("visitor must be a function");function t(u){if(u===null)return"";if(utils.isDate(u))return u.toISOString();if(!a&&utils.isBlob(u))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(u)||utils.isTypedArray(u)?a&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function i(u,m,g){let y=u;if(u&&!g&&typeof u=="object"){if(utils.endsWith(m,"{}"))m=C?m:m.slice(0,-2),u=JSON.stringify(u);else if(utils.isArray(u)&&isFlatArray(u)||utils.isFileList(u)||utils.endsWith(m,"[]")&&(y=utils.toArray(u)))return m=removeBrackets(m),y.forEach(function(v,o){!(utils.isUndefined(v)||v===null)&&n.append($===!0?renderKey([m],o,K):$===null?m:m+"[]",t(v))}),!1}return isVisitable(u)?!0:(n.append(renderKey(g,m,K),t(u)),!1)}const c=[],s=Object.assign(predicates,{defaultVisitor:i,convertValue:t,isVisitable});function e(u,m){if(!utils.isUndefined(u)){if(c.indexOf(u)!==-1)throw Error("Circular reference detected in "+m.join("."));c.push(u),utils.forEach(u,function(y,b){(!(utils.isUndefined(y)||y===null)&&_.call(n,y,utils.isString(b)?b.trim():b,m,s))===!0&&e(y,m?m.concat(b):[b])}),c.pop()}}if(!utils.isObject(r))throw new TypeError("data must be an object");return e(r),n}function encode$1(r){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(C){return n[C]})}function AxiosURLSearchParams(r,n){this._pairs=[],r&&toFormData(r,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,x){this._pairs.push([n,x])};prototype.toString=function(n){const x=n?function(C){return n.call(this,C,encode$1)}:encode$1;return this._pairs.map(function(_){return x(_[0])+"="+x(_[1])},"").join("&")};function encode(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(r,n,x){if(!n)return r;const C=x&&x.encode||encode,_=x&&x.serialize;let K;if(_?K=_(n,x):K=utils.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,x).toString(C),K){const $=r.indexOf("#");$!==-1&&(r=r.slice(0,$)),r+=(r.indexOf("?")===-1?"?":"&")+K}return r}class InterceptorManager{constructor(){this.handlers=[]}use(n,x,C){return this.handlers.push({fulfilled:n,rejected:x,synchronous:C?C.synchronous:!1,runWhen:C?C.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils.forEach(this.handlers,function(C){C!==null&&n(C)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=FormData,isStandardBrowserEnv=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(r,n){return toFormData(r,new platform.classes.URLSearchParams,Object.assign({visitor:function(x,C,_,K){return platform.isNode&&utils.isBuffer(x)?(this.append(C,x.toString("base64")),!1):K.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath(r){return utils.matchAll(/\w+|\[(\w*)]/g,r).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(r){const n={},x=Object.keys(r);let C;const _=x.length;let K;for(C=0;C<_;C++)K=x[C],n[K]=r[K];return n}function formDataToJSON(r){function n(x,C,_,K){let $=x[K++];const l=Number.isFinite(+$),a=K>=x.length;return $=!$&&utils.isArray(_)?_.length:$,a?(utils.hasOwnProp(_,$)?_[$]=[_[$],C]:_[$]=C,!l):((!_[$]||!utils.isObject(_[$]))&&(_[$]=[]),n(x,C,_[$],K)&&utils.isArray(_[$])&&(_[$]=arrayToObject(_[$])),!l)}if(utils.isFormData(r)&&utils.isFunction(r.entries)){const x={};return utils.forEachEntry(r,(C,_)=>{n(parsePropPath(C),_,x,0)}),x}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(r,n,x){if(utils.isString(r))try{return(n||JSON.parse)(r),utils.trim(r)}catch(C){if(C.name!=="SyntaxError")throw C}return(x||JSON.stringify)(r)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(n,x){const C=x.getContentType()||"",_=C.indexOf("application/json")>-1,K=utils.isObject(n);if(K&&utils.isHTMLForm(n)&&(n=new FormData(n)),utils.isFormData(n))return _&&_?JSON.stringify(formDataToJSON(n)):n;if(utils.isArrayBuffer(n)||utils.isBuffer(n)||utils.isStream(n)||utils.isFile(n)||utils.isBlob(n))return n;if(utils.isArrayBufferView(n))return n.buffer;if(utils.isURLSearchParams(n))return x.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(K){if(C.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((l=utils.isFileList(n))||C.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return toFormData(l?{"files[]":n}:n,a&&new a,this.formSerializer)}}return K||_?(x.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const x=this.transitional||defaults.transitional,C=x&&x.forcedJSONParsing,_=this.responseType==="json";if(n&&utils.isString(n)&&(C&&!this.responseType||_)){const $=!(x&&x.silentJSONParsing)&&_;try{return JSON.parse(n)}catch(l){if($)throw l.name==="SyntaxError"?AxiosError.from(l,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(n){defaults.headers[n]={}});utils.forEach(["post","put","patch"],function(n){defaults.headers[n]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=r=>{const n={};let x,C,_;return r&&r.split(`
`).forEach(function($){_=$.indexOf(":"),x=$.substring(0,_).trim().toLowerCase(),C=$.substring(_+1).trim(),!(!x||n[x]&&ignoreDuplicateOf[x])&&(x==="set-cookie"?n[x]?n[x].push(C):n[x]=[C]:n[x]=n[x]?n[x]+", "+C:C)}),n},$internals=Symbol("internals");function normalizeHeader(r){return r&&String(r).trim().toLowerCase()}function normalizeValue(r){return r===!1||r==null?r:utils.isArray(r)?r.map(normalizeValue):String(r)}function parseTokens(r){const n=Object.create(null),x=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let C;for(;C=x.exec(r);)n[C[1]]=C[2];return n}function isValidHeaderName(r){return/^[-_a-zA-Z]+$/.test(r.trim())}function matchHeaderValue(r,n,x,C){if(utils.isFunction(C))return C.call(this,n,x);if(utils.isString(n)){if(utils.isString(C))return n.indexOf(C)!==-1;if(utils.isRegExp(C))return C.test(n)}}function formatHeader(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,x,C)=>x.toUpperCase()+C)}function buildAccessors(r,n){const x=utils.toCamelCase(" "+n);["get","set","has"].forEach(C=>{Object.defineProperty(r,C+x,{value:function(_,K,$){return this[C].call(this,n,_,K,$)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,x,C){const _=this;function K(l,a,t){const i=normalizeHeader(a);if(!i)throw new Error("header name must be a non-empty string");const c=utils.findKey(_,i);(!c||_[c]===void 0||t===!0||t===void 0&&_[c]!==!1)&&(_[c||a]=normalizeValue(l))}const $=(l,a)=>utils.forEach(l,(t,i)=>K(t,i,a));return utils.isPlainObject(n)||n instanceof this.constructor?$(n,x):utils.isString(n)&&(n=n.trim())&&!isValidHeaderName(n)?$(parseHeaders(n),x):n!=null&&K(x,n,C),this}get(n,x){if(n=normalizeHeader(n),n){const C=utils.findKey(this,n);if(C){const _=this[C];if(!x)return _;if(x===!0)return parseTokens(_);if(utils.isFunction(x))return x.call(this,_,C);if(utils.isRegExp(x))return x.exec(_);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,x){if(n=normalizeHeader(n),n){const C=utils.findKey(this,n);return!!(C&&(!x||matchHeaderValue(this,this[C],C,x)))}return!1}delete(n,x){const C=this;let _=!1;function K($){if($=normalizeHeader($),$){const l=utils.findKey(C,$);l&&(!x||matchHeaderValue(C,C[l],l,x))&&(delete C[l],_=!0)}}return utils.isArray(n)?n.forEach(K):K(n),_}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(n){const x=this,C={};return utils.forEach(this,(_,K)=>{const $=utils.findKey(C,K);if($){x[$]=normalizeValue(_),delete x[K];return}const l=n?formatHeader(K):String(K).trim();l!==K&&delete x[K],x[l]=normalizeValue(_),C[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const x=Object.create(null);return utils.forEach(this,(C,_)=>{C!=null&&C!==!1&&(x[_]=n&&utils.isArray(C)?C.join(", "):C)}),x}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,x])=>n+": "+x).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...x){const C=new this(n);return x.forEach(_=>C.set(_)),C}static accessor(n){const C=(this[$internals]=this[$internals]={accessors:{}}).accessors,_=this.prototype;function K($){const l=normalizeHeader($);C[l]||(buildAccessors(_,$),C[l]=!0)}return utils.isArray(n)?n.forEach(K):K(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(r,n){const x=this||defaults$1,C=n||x,_=AxiosHeaders$1.from(C.headers);let K=C.data;return utils.forEach(r,function(l){K=l.call(x,K,_.normalize(),n?n.status:void 0)}),_.normalize(),K}function isCancel(r){return!!(r&&r.__CANCEL__)}function CanceledError(r,n,x){AxiosError.call(this,r??"canceled",AxiosError.ERR_CANCELED,n,x),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});const httpAdapter=null;function settle(r,n,x){const C=x.config.validateStatus;!x.status||!C||C(x.status)?r(x):n(new AxiosError("Request failed with status code "+x.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(x.status/100)-4],x.config,x.request,x))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(x,C,_,K,$,l){const a=[];a.push(x+"="+encodeURIComponent(C)),utils.isNumber(_)&&a.push("expires="+new Date(_).toGMTString()),utils.isString(K)&&a.push("path="+K),utils.isString($)&&a.push("domain="+$),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(x){const C=document.cookie.match(new RegExp("(^|;\\s*)("+x+")=([^;]*)"));return C?decodeURIComponent(C[3]):null},remove:function(x){this.write(x,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function combineURLs(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r}function buildFullPath(r,n){return r&&!isAbsoluteURL(n)?combineURLs(r,n):n}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),x=document.createElement("a");let C;function _(K){let $=K;return n&&(x.setAttribute("href",$),$=x.href),x.setAttribute("href",$),{href:x.href,protocol:x.protocol?x.protocol.replace(/:$/,""):"",host:x.host,search:x.search?x.search.replace(/^\?/,""):"",hash:x.hash?x.hash.replace(/^#/,""):"",hostname:x.hostname,port:x.port,pathname:x.pathname.charAt(0)==="/"?x.pathname:"/"+x.pathname}}return C=_(window.location.href),function($){const l=utils.isString($)?_($):$;return l.protocol===C.protocol&&l.host===C.host}}():function(){return function(){return!0}}();function parseProtocol(r){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return n&&n[1]||""}function speedometer(r,n){r=r||10;const x=new Array(r),C=new Array(r);let _=0,K=0,$;return n=n!==void 0?n:1e3,function(a){const t=Date.now(),i=C[K];$||($=t),x[_]=a,C[_]=t;let c=K,s=0;for(;c!==_;)s+=x[c++],c=c%r;if(_=(_+1)%r,_===K&&(K=(K+1)%r),t-$<n)return;const e=i&&t-i;return e?Math.round(s*1e3/e):void 0}}function progressEventReducer(r,n){let x=0;const C=speedometer(50,250);return _=>{const K=_.loaded,$=_.lengthComputable?_.total:void 0,l=K-x,a=C(l),t=K<=$;x=K;const i={loaded:K,total:$,progress:$?K/$:void 0,bytes:l,rate:a||void 0,estimated:a&&$&&t?($-K)/a:void 0,event:_};i[n?"download":"upload"]=!0,r(i)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(r){return new Promise(function(x,C){let _=r.data;const K=AxiosHeaders$1.from(r.headers).normalize(),$=r.responseType;let l;function a(){r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}utils.isFormData(_)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&K.setContentType(!1);let t=new XMLHttpRequest;if(r.auth){const e=r.auth.username||"",u=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";K.set("Authorization","Basic "+btoa(e+":"+u))}const i=buildFullPath(r.baseURL,r.url);t.open(r.method.toUpperCase(),buildURL(i,r.params,r.paramsSerializer),!0),t.timeout=r.timeout;function c(){if(!t)return;const e=AxiosHeaders$1.from("getAllResponseHeaders"in t&&t.getAllResponseHeaders()),m={data:!$||$==="text"||$==="json"?t.responseText:t.response,status:t.status,statusText:t.statusText,headers:e,config:r,request:t};settle(function(y){x(y),a()},function(y){C(y),a()},m),t=null}if("onloadend"in t?t.onloadend=c:t.onreadystatechange=function(){!t||t.readyState!==4||t.status===0&&!(t.responseURL&&t.responseURL.indexOf("file:")===0)||setTimeout(c)},t.onabort=function(){t&&(C(new AxiosError("Request aborted",AxiosError.ECONNABORTED,r,t)),t=null)},t.onerror=function(){C(new AxiosError("Network Error",AxiosError.ERR_NETWORK,r,t)),t=null},t.ontimeout=function(){let u=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const m=r.transitional||transitionalDefaults;r.timeoutErrorMessage&&(u=r.timeoutErrorMessage),C(new AxiosError(u,m.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,r,t)),t=null},platform.isStandardBrowserEnv){const e=(r.withCredentials||isURLSameOrigin(i))&&r.xsrfCookieName&&cookies.read(r.xsrfCookieName);e&&K.set(r.xsrfHeaderName,e)}_===void 0&&K.setContentType(null),"setRequestHeader"in t&&utils.forEach(K.toJSON(),function(u,m){t.setRequestHeader(m,u)}),utils.isUndefined(r.withCredentials)||(t.withCredentials=!!r.withCredentials),$&&$!=="json"&&(t.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&t.addEventListener("progress",progressEventReducer(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&t.upload&&t.upload.addEventListener("progress",progressEventReducer(r.onUploadProgress)),(r.cancelToken||r.signal)&&(l=e=>{t&&(C(!e||e.type?new CanceledError(null,r,t):e),t.abort(),t=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const s=parseProtocol(i);if(s&&platform.protocols.indexOf(s)===-1){C(new AxiosError("Unsupported protocol "+s+":",AxiosError.ERR_BAD_REQUEST,r));return}t.send(_||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(r,n)=>{if(r){try{Object.defineProperty(r,"name",{value:n})}catch{}Object.defineProperty(r,"adapterName",{value:n})}});const adapters={getAdapter:r=>{r=utils.isArray(r)?r:[r];const{length:n}=r;let x,C;for(let _=0;_<n&&(x=r[_],!(C=utils.isString(x)?knownAdapters[x.toLowerCase()]:x));_++);if(!C)throw C===!1?new AxiosError(`Adapter ${x} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,x)?`Adapter '${x}' is not available in the build`:`Unknown adapter '${x}'`);if(!utils.isFunction(C))throw new TypeError("adapter is not a function");return C},adapters:knownAdapters};function throwIfCancellationRequested(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new CanceledError(null,r)}function dispatchRequest(r){return throwIfCancellationRequested(r),r.headers=AxiosHeaders$1.from(r.headers),r.data=transformData.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(r.adapter||defaults$1.adapter)(r).then(function(C){return throwIfCancellationRequested(r),C.data=transformData.call(r,r.transformResponse,C),C.headers=AxiosHeaders$1.from(C.headers),C},function(C){return isCancel(C)||(throwIfCancellationRequested(r),C&&C.response&&(C.response.data=transformData.call(r,r.transformResponse,C.response),C.response.headers=AxiosHeaders$1.from(C.response.headers))),Promise.reject(C)})}const headersToObject=r=>r instanceof AxiosHeaders$1?r.toJSON():r;function mergeConfig(r,n){n=n||{};const x={};function C(t,i,c){return utils.isPlainObject(t)&&utils.isPlainObject(i)?utils.merge.call({caseless:c},t,i):utils.isPlainObject(i)?utils.merge({},i):utils.isArray(i)?i.slice():i}function _(t,i,c){if(utils.isUndefined(i)){if(!utils.isUndefined(t))return C(void 0,t,c)}else return C(t,i,c)}function K(t,i){if(!utils.isUndefined(i))return C(void 0,i)}function $(t,i){if(utils.isUndefined(i)){if(!utils.isUndefined(t))return C(void 0,t)}else return C(void 0,i)}function l(t,i,c){if(c in n)return C(t,i);if(c in r)return C(void 0,t)}const a={url:K,method:K,data:K,baseURL:$,transformRequest:$,transformResponse:$,paramsSerializer:$,timeout:$,timeoutMessage:$,withCredentials:$,adapter:$,responseType:$,xsrfCookieName:$,xsrfHeaderName:$,onUploadProgress:$,onDownloadProgress:$,decompress:$,maxContentLength:$,maxBodyLength:$,beforeRedirect:$,transport:$,httpAgent:$,httpsAgent:$,cancelToken:$,socketPath:$,responseEncoding:$,validateStatus:l,headers:(t,i)=>_(headersToObject(t),headersToObject(i),!0)};return utils.forEach(Object.keys(r).concat(Object.keys(n)),function(i){const c=a[i]||_,s=c(r[i],n[i],i);utils.isUndefined(s)&&c!==l||(x[i]=s)}),x}const VERSION="1.2.6",validators$1={};["object","boolean","number","function","string","symbol"].forEach((r,n)=>{validators$1[r]=function(C){return typeof C===r||"a"+(n<1?"n ":" ")+r}});const deprecatedWarnings={};validators$1.transitional=function(n,x,C){function _(K,$){return"[Axios v"+VERSION+"] Transitional option '"+K+"'"+$+(C?". "+C:"")}return(K,$,l)=>{if(n===!1)throw new AxiosError(_($," has been removed"+(x?" in "+x:"")),AxiosError.ERR_DEPRECATED);return x&&!deprecatedWarnings[$]&&(deprecatedWarnings[$]=!0,console.warn(_($," has been deprecated since v"+x+" and will be removed in the near future"))),n?n(K,$,l):!0}};function assertOptions(r,n,x){if(typeof r!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const C=Object.keys(r);let _=C.length;for(;_-- >0;){const K=C[_],$=n[K];if($){const l=r[K],a=l===void 0||$(l,K,r);if(a!==!0)throw new AxiosError("option "+K+" must be "+a,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(x!==!0)throw new AxiosError("Unknown option "+K,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(n){this.defaults=n,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(n,x){typeof n=="string"?(x=x||{},x.url=n):x=n||{},x=mergeConfig(this.defaults,x);const{transitional:C,paramsSerializer:_,headers:K}=x;C!==void 0&&validator.assertOptions(C,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),_!==void 0&&validator.assertOptions(_,{encode:validators.function,serialize:validators.function},!0),x.method=(x.method||this.defaults.method||"get").toLowerCase();let $;$=K&&utils.merge(K.common,K[x.method]),$&&utils.forEach(["delete","get","head","post","put","patch","common"],u=>{delete K[u]}),x.headers=AxiosHeaders$1.concat($,K);const l=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(x)===!1||(a=a&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const t=[];this.interceptors.response.forEach(function(m){t.push(m.fulfilled,m.rejected)});let i,c=0,s;if(!a){const u=[dispatchRequest.bind(this),void 0];for(u.unshift.apply(u,l),u.push.apply(u,t),s=u.length,i=Promise.resolve(x);c<s;)i=i.then(u[c++],u[c++]);return i}s=l.length;let e=x;for(c=0;c<s;){const u=l[c++],m=l[c++];try{e=u(e)}catch(g){m.call(this,g);break}}try{i=dispatchRequest.call(this,e)}catch(u){return Promise.reject(u)}for(c=0,s=t.length;c<s;)i=i.then(t[c++],t[c++]);return i}getUri(n){n=mergeConfig(this.defaults,n);const x=buildFullPath(n.baseURL,n.url);return buildURL(x,n.params,n.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(n){Axios.prototype[n]=function(x,C){return this.request(mergeConfig(C||{},{method:n,url:x,data:(C||{}).data}))}});utils.forEach(["post","put","patch"],function(n){function x(C){return function(K,$,l){return this.request(mergeConfig(l||{},{method:n,headers:C?{"Content-Type":"multipart/form-data"}:{},url:K,data:$}))}}Axios.prototype[n]=x(),Axios.prototype[n+"Form"]=x(!0)});const Axios$1=Axios;class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let x;this.promise=new Promise(function(K){x=K});const C=this;this.promise.then(_=>{if(!C._listeners)return;let K=C._listeners.length;for(;K-- >0;)C._listeners[K](_);C._listeners=null}),this.promise.then=_=>{let K;const $=new Promise(l=>{C.subscribe(l),K=l}).then(_);return $.cancel=function(){C.unsubscribe(K)},$},n(function(K,$,l){C.reason||(C.reason=new CanceledError(K,$,l),x(C.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const x=this._listeners.indexOf(n);x!==-1&&this._listeners.splice(x,1)}static source(){let n;return{token:new CancelToken(function(_){n=_}),cancel:n}}}const CancelToken$1=CancelToken;function spread(r){return function(x){return r.apply(null,x)}}function isAxiosError(r){return utils.isObject(r)&&r.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([r,n])=>{HttpStatusCode[n]=r});const HttpStatusCode$1=HttpStatusCode;function createInstance(r){const n=new Axios$1(r),x=bind(Axios$1.prototype.request,n);return utils.extend(x,Axios$1.prototype,n,{allOwnKeys:!0}),utils.extend(x,n,null,{allOwnKeys:!0}),x.create=function(_){return createInstance(mergeConfig(r,_))},x}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(n){return Promise.all(n)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=r=>formDataToJSON(utils.isHTMLForm(r)?new FormData(r):r);axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;function _typeof$2(r){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$2(r)}function plugin(r,n){if(!r.vueAxiosInstalled){var x=isAxiosLike(n)?migrateToMultipleInstances(n):n;if(isValidConfig(x)){var C=getVueVersion(r);if(C){var _=C<3?registerOnVue2:registerOnVue3;Object.keys(x).forEach(function(K){_(r,K,x[K])}),r.vueAxiosInstalled=!0}else console.error("[vue-axios] unknown Vue version")}else console.error("[vue-axios] configuration is invalid, expected options are either <axios_instance> or { <registration_key>: <axios_instance> }")}}function registerOnVue2(r,n,x){Object.defineProperty(r.prototype,n,{get:function(){return x}}),r[n]=x}function registerOnVue3(r,n,x){r.config.globalProperties[n]=x,r[n]=x}function isAxiosLike(r){return r&&typeof r.get=="function"&&typeof r.post=="function"}function migrateToMultipleInstances(r){return{axios:r,$http:r}}function isValidConfig(r){return _typeof$2(r)==="object"&&Object.keys(r).every(function(n){return isAxiosLike(r[n])})}function getVueVersion(r){return r&&r.version&&Number(r.version.split(".")[0])}(typeof exports>"u"?"undefined":_typeof$2(exports))=="object"?module.exports=plugin:typeof define=="function"&&define.amd?define([],function(){return plugin}):window.Vue&&window.axios&&window.Vue.use&&Vue.use(plugin,window.axios);var domToImageExports={},domToImage={get exports(){return domToImageExports},set exports(r){domToImageExports=r}};(function(r){(function(n){var x=v(),C=o(),_=S(),K=T(),$={imagePlaceholder:void 0,cacheBust:!1},l={toSvg:a,toPng:i,toJpeg:c,toBlob:s,toPixelData:t,impl:{fontFaces:_,images:K,util:x,inliner:C,options:{}}};r.exports=l;function a(E,k){return k=k||{},e(k),Promise.resolve(E).then(function(O){return m(O,k.filter,!0)}).then(g).then(y).then(M).then(function(O){return b(O,k.width||x.width(E),k.height||x.height(E))});function M(O){return k.bgcolor&&(O.style.backgroundColor=k.bgcolor),k.width&&(O.style.width=k.width+"px"),k.height&&(O.style.height=k.height+"px"),k.style&&Object.keys(k.style).forEach(function(L){O.style[L]=k.style[L]}),O}}function t(E,k){return u(E,k||{}).then(function(M){return M.getContext("2d").getImageData(0,0,x.width(E),x.height(E)).data})}function i(E,k){return u(E,k||{}).then(function(M){return M.toDataURL()})}function c(E,k){return k=k||{},u(E,k).then(function(M){return M.toDataURL("image/jpeg",k.quality||1)})}function s(E,k){return u(E,k||{}).then(x.canvasToBlob)}function e(E){typeof E.imagePlaceholder>"u"?l.impl.options.imagePlaceholder=$.imagePlaceholder:l.impl.options.imagePlaceholder=E.imagePlaceholder,typeof E.cacheBust>"u"?l.impl.options.cacheBust=$.cacheBust:l.impl.options.cacheBust=E.cacheBust}function u(E,k){return a(E,k).then(x.makeImage).then(x.delay(100)).then(function(O){var L=M(E);return L.getContext("2d").drawImage(O,0,0),L});function M(O){var L=document.createElement("canvas");if(L.width=k.width||x.width(O),L.height=k.height||x.height(O),k.bgcolor){var te=L.getContext("2d");te.fillStyle=k.bgcolor,te.fillRect(0,0,L.width,L.height)}return L}}function m(E,k,M){if(!M&&k&&!k(E))return Promise.resolve();return Promise.resolve(E).then(O).then(function(B){return L(E,B,k)}).then(function(B){return te(E,B)});function O(B){return B instanceof HTMLCanvasElement?x.makeImage(B.toDataURL()):B.cloneNode(!1)}function L(B,G,R){var I=B.childNodes;if(I.length===0)return Promise.resolve(G);return U(G,x.asArray(I),R).then(function(){return G});function U(P,A,z){var N=Promise.resolve();return A.forEach(function(W){N=N.then(function(){return m(W,z)}).then(function(ie){ie&&P.appendChild(ie)})}),N}}function te(B,G){if(!(G instanceof Element))return G;return Promise.resolve().then(R).then(I).then(U).then(P).then(function(){return G});function R(){A(window.getComputedStyle(B),G.style);function A(z,N){z.cssText?N.cssText=z.cssText:W(z,N);function W(ie,Y){x.asArray(ie).forEach(function(F){Y.setProperty(F,ie.getPropertyValue(F),ie.getPropertyPriority(F))})}}}function I(){[":before",":after"].forEach(function(z){A(z)});function A(z){var N=window.getComputedStyle(B,z),W=N.getPropertyValue("content");if(W===""||W==="none")return;var ie=x.uid();G.className=G.className+" "+ie;var Y=document.createElement("style");Y.appendChild(F(ie,z,N)),G.appendChild(Y);function F(D,Q,ee){var V="."+D+":"+Q,Z=ee.cssText?ae(ee):H(ee);return document.createTextNode(V+"{"+Z+"}");function ae(q){var ne=q.getPropertyValue("content");return q.cssText+" content: "+ne+";"}function H(q){return x.asArray(q).map(ne).join("; ")+";";function ne(le){return le+": "+q.getPropertyValue(le)+(q.getPropertyPriority(le)?" !important":"")}}}}}function U(){B instanceof HTMLTextAreaElement&&(G.innerHTML=B.value),B instanceof HTMLInputElement&&G.setAttribute("value",B.value)}function P(){G instanceof SVGElement&&(G.setAttribute("xmlns","http://www.w3.org/2000/svg"),G instanceof SVGRectElement&&["width","height"].forEach(function(A){var z=G.getAttribute(A);z&&G.style.setProperty(A,z)}))}}}function g(E){return _.resolveAll().then(function(k){var M=document.createElement("style");return E.appendChild(M),M.appendChild(document.createTextNode(k)),E})}function y(E){return K.inlineAll(E).then(function(){return E})}function b(E,k,M){return Promise.resolve(E).then(function(O){return O.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(O)}).then(x.escapeXhtml).then(function(O){return'<foreignObject x="0" y="0" width="100%" height="100%">'+O+"</foreignObject>"}).then(function(O){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+k+'" height="'+M+'">'+O+"</svg>"}).then(function(O){return"data:image/svg+xml;charset=utf-8,"+O})}function v(){return{escape:P,parseExtension:k,mimeType:M,dataAsUrl:U,isDataUrl:O,canvasToBlob:te,resolveUrl:B,getAndEncode:I,uid:G(),delay:A,asArray:z,escapeXhtml:N,makeImage:R,width:W,height:ie};function E(){var F="application/font-woff",D="image/jpeg";return{woff:F,woff2:F,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:D,jpeg:D,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function k(F){var D=/\.([^\.\/]*?)$/g.exec(F);return D?D[1]:""}function M(F){var D=k(F).toLowerCase();return E()[D]||""}function O(F){return F.search(/^(data:)/)!==-1}function L(F){return new Promise(function(D){for(var Q=window.atob(F.toDataURL().split(",")[1]),ee=Q.length,V=new Uint8Array(ee),Z=0;Z<ee;Z++)V[Z]=Q.charCodeAt(Z);D(new Blob([V],{type:"image/png"}))})}function te(F){return F.toBlob?new Promise(function(D){F.toBlob(D)}):L(F)}function B(F,D){var Q=document.implementation.createHTMLDocument(),ee=Q.createElement("base");Q.head.appendChild(ee);var V=Q.createElement("a");return Q.body.appendChild(V),ee.href=D,V.href=F,V.href}function G(){var F=0;return function(){return"u"+D()+F++;function D(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function R(F){return new Promise(function(D,Q){var ee=new Image;ee.onload=function(){D(ee)},ee.onerror=Q,ee.src=F})}function I(F){var D=3e4;return l.impl.options.cacheBust&&(F+=(/\?/.test(F)?"&":"?")+new Date().getTime()),new Promise(function(Q){var ee=new XMLHttpRequest;ee.onreadystatechange=ae,ee.ontimeout=H,ee.responseType="blob",ee.timeout=D,ee.open("GET",F,!0),ee.send();var V;if(l.impl.options.imagePlaceholder){var Z=l.impl.options.imagePlaceholder.split(/,/);Z&&Z[1]&&(V=Z[1])}function ae(){if(ee.readyState===4){if(ee.status!==200){V?Q(V):q("cannot fetch resource: "+F+", status: "+ee.status);return}var ne=new FileReader;ne.onloadend=function(){var le=ne.result.split(/,/)[1];Q(le)},ne.readAsDataURL(ee.response)}}function H(){V?Q(V):q("timeout of "+D+"ms occured while fetching resource: "+F)}function q(ne){console.error(ne),Q("")}})}function U(F,D){return"data:"+D+";base64,"+F}function P(F){return F.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function A(F){return function(D){return new Promise(function(Q){setTimeout(function(){Q(D)},F)})}}function z(F){for(var D=[],Q=F.length,ee=0;ee<Q;ee++)D.push(F[ee]);return D}function N(F){return F.replace(/#/g,"%23").replace(/\n/g,"%0A")}function W(F){var D=Y(F,"border-left-width"),Q=Y(F,"border-right-width");return F.scrollWidth+D+Q}function ie(F){var D=Y(F,"border-top-width"),Q=Y(F,"border-bottom-width");return F.scrollHeight+D+Q}function Y(F,D){var Q=window.getComputedStyle(F).getPropertyValue(D);return parseFloat(Q.replace("px",""))}}function o(){var E=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:L,shouldProcess:k,impl:{readUrls:M,inline:O}};function k(te){return te.search(E)!==-1}function M(te){for(var B=[],G;(G=E.exec(te))!==null;)B.push(G[1]);return B.filter(function(R){return!x.isDataUrl(R)})}function O(te,B,G,R){return Promise.resolve(B).then(function(U){return G?x.resolveUrl(U,G):U}).then(R||x.getAndEncode).then(function(U){return x.dataAsUrl(U,x.mimeType(B))}).then(function(U){return te.replace(I(B),"$1"+U+"$3")});function I(U){return new RegExp(`(url\\(['"]?)(`+x.escape(U)+`)(['"]?\\))`,"g")}}function L(te,B,G){if(R())return Promise.resolve(te);return Promise.resolve(te).then(M).then(function(I){var U=Promise.resolve(te);return I.forEach(function(P){U=U.then(function(A){return O(A,P,B,G)})}),U});function R(){return!k(te)}}}function S(){return{resolveAll:E,impl:{readAll:k}};function E(){return k().then(function(M){return Promise.all(M.map(function(O){return O.resolve()}))}).then(function(M){return M.join(`
`)})}function k(){return Promise.resolve(x.asArray(document.styleSheets)).then(O).then(M).then(function(te){return te.map(L)});function M(te){return te.filter(function(B){return B.type===CSSRule.FONT_FACE_RULE}).filter(function(B){return C.shouldProcess(B.style.getPropertyValue("src"))})}function O(te){var B=[];return te.forEach(function(G){try{x.asArray(G.cssRules||[]).forEach(B.push.bind(B))}catch(R){console.log("Error while reading CSS rules from "+G.href,R.toString())}}),B}function L(te){return{resolve:function(){var G=(te.parentStyleSheet||{}).href;return C.inlineAll(te.cssText,G)},src:function(){return te.style.getPropertyValue("src")}}}}}function T(){return{inlineAll:k,impl:{newImage:E}};function E(M){return{inline:O};function O(L){return x.isDataUrl(M.src)?Promise.resolve():Promise.resolve(M.src).then(L||x.getAndEncode).then(function(te){return x.dataAsUrl(te,x.mimeType(M.src))}).then(function(te){return new Promise(function(B,G){M.onload=B,M.onerror=G,M.src=te})})}}function k(M){if(!(M instanceof Element))return Promise.resolve(M);return O(M).then(function(){return M instanceof HTMLImageElement?E(M).inline():Promise.all(x.asArray(M.childNodes).map(function(L){return k(L)}))});function O(L){var te=L.style.getPropertyValue("background");return te?C.inlineAll(te).then(function(B){L.style.setProperty("background",B,L.style.getPropertyPriority("background"))}).then(function(){return L}):Promise.resolve(L)}}}})()})(domToImage);const domtoimage=domToImageExports,scriptRel="modulepreload",assetsURL=function(r,n){return new URL(r,n).href},seen={},__vitePreload=function(n,x,C){if(!x||x.length===0)return n();const _=document.getElementsByTagName("link");return Promise.all(x.map(K=>{if(K=assetsURL(K,C),K in seen)return;seen[K]=!0;const $=K.endsWith(".css"),l=$?'[rel="stylesheet"]':"";if(!!C)for(let i=_.length-1;i>=0;i--){const c=_[i];if(c.href===K&&(!$||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${K}"]${l}`))return;const t=document.createElement("link");if(t.rel=$?"stylesheet":scriptRel,$||(t.as="script",t.crossOrigin=""),t.href=K,document.head.appendChild(t),$)return new Promise((i,c)=>{t.addEventListener("load",i),t.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${K}`)))})})).then(()=>n())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(r){return r.__esModule||r[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(r,n){const x={};for(const C in n){const _=n[C];x[C]=isArray$1(_)?_.map(r):r(_)}return x}const noop$3=()=>{},isArray$1=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=r=>r.replace(TRAILING_SLASH_RE,"");function parseURL(r,n,x="/"){let C,_={},K="",$="";const l=n.indexOf("#");let a=n.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(C=n.slice(0,a),K=n.slice(a+1,l>-1?l:n.length),_=r(K)),l>-1&&(C=C||n.slice(0,l),$=n.slice(l,n.length)),C=resolveRelativePath(C??n,x),{fullPath:C+(K&&"?")+K+$,path:C,query:_,hash:$}}function stringifyURL(r,n){const x=n.query?r(n.query):"";return n.path+(x&&"?")+x+(n.hash||"")}function stripBase(r,n){return!n||!r.toLowerCase().startsWith(n.toLowerCase())?r:r.slice(n.length)||"/"}function isSameRouteLocation(r,n,x){const C=n.matched.length-1,_=x.matched.length-1;return C>-1&&C===_&&isSameRouteRecord(n.matched[C],x.matched[_])&&isSameRouteLocationParams(n.params,x.params)&&r(n.query)===r(x.query)&&n.hash===x.hash}function isSameRouteRecord(r,n){return(r.aliasOf||r)===(n.aliasOf||n)}function isSameRouteLocationParams(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const x in r)if(!isSameRouteLocationParamsValue(r[x],n[x]))return!1;return!0}function isSameRouteLocationParamsValue(r,n){return isArray$1(r)?isEquivalentArray(r,n):isArray$1(n)?isEquivalentArray(n,r):r===n}function isEquivalentArray(r,n){return isArray$1(n)?r.length===n.length&&r.every((x,C)=>x===n[C]):r.length===1&&r[0]===n}function resolveRelativePath(r,n){if(r.startsWith("/"))return r;if(!r)return n;const x=n.split("/"),C=r.split("/");let _=x.length-1,K,$;for(K=0;K<C.length;K++)if($=C[K],$!==".")if($==="..")_>1&&_--;else break;return x.slice(0,_).join("/")+"/"+C.slice(K-(K===C.length?1:0)).join("/")}var NavigationType;(function(r){r.pop="pop",r.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(r){r.back="back",r.forward="forward",r.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(r){if(!r)if(isBrowser){const n=document.querySelector("base");r=n&&n.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),removeTrailingSlash(r)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(r,n){return r.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(r,n){const x=document.documentElement.getBoundingClientRect(),C=r.getBoundingClientRect();return{behavior:n.behavior,left:C.left-x.left-(n.left||0),top:C.top-x.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(r){let n;if("el"in r){const x=r.el,C=typeof x=="string"&&x.startsWith("#"),_=typeof x=="string"?C?document.getElementById(x.slice(1)):document.querySelector(x):x;if(!_)return;n=getElementPosition(_,r)}else n=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function getScrollKey(r,n){return(history.state?history.state.position-n:-1)+r}const scrollPositions=new Map;function saveScrollPosition(r,n){scrollPositions.set(r,n)}function getSavedScrollPosition(r){const n=scrollPositions.get(r);return scrollPositions.delete(r),n}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(r,n){const{pathname:x,search:C,hash:_}=n,K=r.indexOf("#");if(K>-1){let l=_.includes(r.slice(K))?r.slice(K).length:1,a=_.slice(l);return a[0]!=="/"&&(a="/"+a),stripBase(a,"")}return stripBase(x,r)+C+_}function useHistoryListeners(r,n,x,C){let _=[],K=[],$=null;const l=({state:s})=>{const e=createCurrentLocation(r,location),u=x.value,m=n.value;let g=0;if(s){if(x.value=e,n.value=s,$&&$===u){$=null;return}g=m?s.position-m.position:0}else C(e);_.forEach(y=>{y(x.value,u,{delta:g,type:NavigationType.pop,direction:g?g>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function a(){$=x.value}function t(s){_.push(s);const e=()=>{const u=_.indexOf(s);u>-1&&_.splice(u,1)};return K.push(e),e}function i(){const{history:s}=window;s.state&&s.replaceState(assign({},s.state,{scroll:computeScrollPosition()}),"")}function c(){for(const s of K)s();K=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",i)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",i),{pauseListeners:a,listen:t,destroy:c}}function buildState(r,n,x,C=!1,_=!1){return{back:r,current:n,forward:x,replaced:C,position:window.history.length,scroll:_?computeScrollPosition():null}}function useHistoryStateNavigation(r){const{history:n,location:x}=window,C={value:createCurrentLocation(r,x)},_={value:n.state};_.value||K(C.value,{back:null,current:C.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function K(a,t,i){const c=r.indexOf("#"),s=c>-1?(x.host&&document.querySelector("base")?r:r.slice(c))+a:createBaseLocation()+r+a;try{n[i?"replaceState":"pushState"](t,"",s),_.value=t}catch(e){console.error(e),x[i?"replace":"assign"](s)}}function $(a,t){const i=assign({},n.state,buildState(_.value.back,a,_.value.forward,!0),t,{position:_.value.position});K(a,i,!0),C.value=a}function l(a,t){const i=assign({},_.value,n.state,{forward:a,scroll:computeScrollPosition()});K(i.current,i,!0);const c=assign({},buildState(C.value,a,null),{position:i.position+1},t);K(a,c,!1),C.value=a}return{location:C,state:_,push:l,replace:$}}function createWebHistory(r){r=normalizeBase(r);const n=useHistoryStateNavigation(r),x=useHistoryListeners(r,n.state,n.location,n.replace);function C(K,$=!0){$||x.pauseListeners(),history.go(K)}const _=assign({location:"",base:r,go:C,createHref:createHref.bind(null,r)},n,x);return Object.defineProperty(_,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(_,"state",{enumerable:!0,get:()=>n.state.value}),_}function createWebHashHistory(r){return r=location.host?r||location.pathname+location.search:"",r.includes("#")||(r+="#"),createWebHistory(r)}function isRouteLocation(r){return typeof r=="string"||r&&typeof r=="object"}function isRouteName(r){return typeof r=="string"||typeof r=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(r,n){return assign(new Error,{type:r,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(r,n){return r instanceof Error&&NavigationFailureSymbol in r&&(n==null||!!(r.type&n))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(r,n){const x=assign({},BASE_PATH_PARSER_OPTIONS,n),C=[];let _=x.start?"^":"";const K=[];for(const t of r){const i=t.length?[]:[90];x.strict&&!t.length&&(_+="/");for(let c=0;c<t.length;c++){const s=t[c];let e=40+(x.sensitive?.25:0);if(s.type===0)c||(_+="/"),_+=s.value.replace(REGEX_CHARS_RE,"\\$&"),e+=40;else if(s.type===1){const{value:u,repeatable:m,optional:g,regexp:y}=s;K.push({name:u,repeatable:m,optional:g});const b=y||BASE_PARAM_PATTERN;if(b!==BASE_PARAM_PATTERN){e+=10;try{new RegExp(`(${b})`)}catch(o){throw new Error(`Invalid custom RegExp for param "${u}" (${b}): `+o.message)}}let v=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;c||(v=g&&t.length<2?`(?:/${v})`:"/"+v),g&&(v+="?"),_+=v,e+=20,g&&(e+=-8),m&&(e+=-20),b===".*"&&(e+=-50)}i.push(e)}C.push(i)}if(x.strict&&x.end){const t=C.length-1;C[t][C[t].length-1]+=.7000000000000001}x.strict||(_+="/?"),x.end?_+="$":x.strict&&(_+="(?:/|$)");const $=new RegExp(_,x.sensitive?"":"i");function l(t){const i=t.match($),c={};if(!i)return null;for(let s=1;s<i.length;s++){const e=i[s]||"",u=K[s-1];c[u.name]=e&&u.repeatable?e.split("/"):e}return c}function a(t){let i="",c=!1;for(const s of r){(!c||!i.endsWith("/"))&&(i+="/"),c=!1;for(const e of s)if(e.type===0)i+=e.value;else if(e.type===1){const{value:u,repeatable:m,optional:g}=e,y=u in t?t[u]:"";if(isArray$1(y)&&!m)throw new Error(`Provided param "${u}" is an array but it is not repeatable (* or + modifiers)`);const b=isArray$1(y)?y.join("/"):y;if(!b)if(g)s.length<2&&(i.endsWith("/")?i=i.slice(0,-1):c=!0);else throw new Error(`Missing required param "${u}"`);i+=b}}return i||"/"}return{re:$,score:C,keys:K,parse:l,stringify:a}}function compareScoreArray(r,n){let x=0;for(;x<r.length&&x<n.length;){const C=n[x]-r[x];if(C)return C;x++}return r.length<n.length?r.length===1&&r[0]===40+40?-1:1:r.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function comparePathParserScore(r,n){let x=0;const C=r.score,_=n.score;for(;x<C.length&&x<_.length;){const K=compareScoreArray(C[x],_[x]);if(K)return K;x++}if(Math.abs(_.length-C.length)===1){if(isLastScoreNegative(C))return 1;if(isLastScoreNegative(_))return-1}return _.length-C.length}function isLastScoreNegative(r){const n=r[r.length-1];return r.length>0&&n[n.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(r){if(!r)return[[]];if(r==="/")return[[ROOT_TOKEN]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function n(e){throw new Error(`ERR (${x})/"${t}": ${e}`)}let x=0,C=x;const _=[];let K;function $(){K&&_.push(K),K=[]}let l=0,a,t="",i="";function c(){t&&(x===0?K.push({type:0,value:t}):x===1||x===2||x===3?(K.length>1&&(a==="*"||a==="+")&&n(`A repeatable param (${t}) must be alone in its segment. eg: '/:ids+.`),K.push({type:1,value:t,regexp:i,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):n("Invalid state to consume buffer"),t="")}function s(){t+=a}for(;l<r.length;){if(a=r[l++],a==="\\"&&x!==2){C=x,x=4;continue}switch(x){case 0:a==="/"?(t&&c(),$()):a===":"?(c(),x=1):s();break;case 4:s(),x=C;break;case 1:a==="("?x=2:VALID_PARAM_RE.test(a)?s():(c(),x=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?i[i.length-1]=="\\"?i=i.slice(0,-1)+a:x=3:i+=a;break;case 3:c(),x=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,i="";break;default:n("Unknown state");break}}return x===2&&n(`Unfinished custom RegExp for param "${t}"`),c(),$(),_}function createRouteRecordMatcher(r,n,x){const C=tokensToParser(tokenizePath(r.path),x),_=assign(C,{record:r,parent:n,children:[],alias:[]});return n&&!_.record.aliasOf==!n.record.aliasOf&&n.children.push(_),_}function createRouterMatcher(r,n){const x=[],C=new Map;n=mergeOptions({strict:!1,end:!0,sensitive:!1},n);function _(i){return C.get(i)}function K(i,c,s){const e=!s,u=normalizeRouteRecord(i);u.aliasOf=s&&s.record;const m=mergeOptions(n,i),g=[u];if("alias"in i){const v=typeof i.alias=="string"?[i.alias]:i.alias;for(const o of v)g.push(assign({},u,{components:s?s.record.components:u.components,path:o,aliasOf:s?s.record:u}))}let y,b;for(const v of g){const{path:o}=v;if(c&&o[0]!=="/"){const S=c.record.path,T=S[S.length-1]==="/"?"":"/";v.path=c.record.path+(o&&T+o)}if(y=createRouteRecordMatcher(v,c,m),s?s.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),e&&i.name&&!isAliasRecord(y)&&$(i.name)),u.children){const S=u.children;for(let T=0;T<S.length;T++)K(S[T],y,s&&s.children[T])}s=s||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&a(y)}return b?()=>{$(b)}:noop$3}function $(i){if(isRouteName(i)){const c=C.get(i);c&&(C.delete(i),x.splice(x.indexOf(c),1),c.children.forEach($),c.alias.forEach($))}else{const c=x.indexOf(i);c>-1&&(x.splice(c,1),i.record.name&&C.delete(i.record.name),i.children.forEach($),i.alias.forEach($))}}function l(){return x}function a(i){let c=0;for(;c<x.length&&comparePathParserScore(i,x[c])>=0&&(i.record.path!==x[c].record.path||!isRecordChildOf(i,x[c]));)c++;x.splice(c,0,i),i.record.name&&!isAliasRecord(i)&&C.set(i.record.name,i)}function t(i,c){let s,e={},u,m;if("name"in i&&i.name){if(s=C.get(i.name),!s)throw createRouterError(1,{location:i});m=s.record.name,e=assign(paramsFromLocation(c.params,s.keys.filter(b=>!b.optional).map(b=>b.name)),i.params&&paramsFromLocation(i.params,s.keys.map(b=>b.name))),u=s.stringify(e)}else if("path"in i)u=i.path,s=x.find(b=>b.re.test(u)),s&&(e=s.parse(u),m=s.record.name);else{if(s=c.name?C.get(c.name):x.find(b=>b.re.test(c.path)),!s)throw createRouterError(1,{location:i,currentLocation:c});m=s.record.name,e=assign({},c.params,i.params),u=s.stringify(e)}const g=[];let y=s;for(;y;)g.unshift(y.record),y=y.parent;return{name:m,path:u,params:e,matched:g,meta:mergeMetaFields(g)}}return r.forEach(i=>K(i)),{addRoute:K,resolve:t,removeRoute:$,getRoutes:l,getRecordMatcher:_}}function paramsFromLocation(r,n){const x={};for(const C of n)C in r&&(x[C]=r[C]);return x}function normalizeRouteRecord(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:normalizeRecordProps(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}}}function normalizeRecordProps(r){const n={},x=r.props||!1;if("component"in r)n.default=x;else for(const C in r.components)n[C]=typeof x=="boolean"?x:x[C];return n}function isAliasRecord(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function mergeMetaFields(r){return r.reduce((n,x)=>assign(n,x.meta),{})}function mergeOptions(r,n){const x={};for(const C in r)x[C]=C in n?n[C]:r[C];return x}function isRecordChildOf(r,n){return n.children.some(x=>x===r||isRecordChildOf(r,x))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(r){return encodeURI(""+r).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(r){return commonEncode(r).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(r){return commonEncode(r).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(r){return encodeQueryValue(r).replace(EQUAL_RE,"%3D")}function encodePath(r){return commonEncode(r).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(r){return r==null?"":encodePath(r).replace(SLASH_RE,"%2F")}function decode(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function parseQuery(r){const n={};if(r===""||r==="?")return n;const C=(r[0]==="?"?r.slice(1):r).split("&");for(let _=0;_<C.length;++_){const K=C[_].replace(PLUS_RE," "),$=K.indexOf("="),l=decode($<0?K:K.slice(0,$)),a=$<0?null:decode(K.slice($+1));if(l in n){let t=n[l];isArray$1(t)||(t=n[l]=[t]),t.push(a)}else n[l]=a}return n}function stringifyQuery(r){let n="";for(let x in r){const C=r[x];if(x=encodeQueryKey(x),C==null){C!==void 0&&(n+=(n.length?"&":"")+x);continue}(isArray$1(C)?C.map(K=>K&&encodeQueryValue(K)):[C&&encodeQueryValue(C)]).forEach(K=>{K!==void 0&&(n+=(n.length?"&":"")+x,K!=null&&(n+="="+K))})}return n}function normalizeQuery(r){const n={};for(const x in r){const C=r[x];C!==void 0&&(n[x]=isArray$1(C)?C.map(_=>_==null?null:""+_):C==null?C:""+C)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let r=[];function n(C){return r.push(C),()=>{const _=r.indexOf(C);_>-1&&r.splice(_,1)}}function x(){r=[]}return{add:n,list:()=>r,reset:x}}function guardToPromiseFn(r,n,x,C,_){const K=C&&(C.enterCallbacks[_]=C.enterCallbacks[_]||[]);return()=>new Promise(($,l)=>{const a=c=>{c===!1?l(createRouterError(4,{from:x,to:n})):c instanceof Error?l(c):isRouteLocation(c)?l(createRouterError(2,{from:n,to:c})):(K&&C.enterCallbacks[_]===K&&typeof c=="function"&&K.push(c),$())},t=r.call(C&&C.instances[_],n,x,a);let i=Promise.resolve(t);r.length<3&&(i=i.then(a)),i.catch(c=>l(c))})}function extractComponentsGuards(r,n,x,C){const _=[];for(const K of r)for(const $ in K.components){let l=K.components[$];if(!(n!=="beforeRouteEnter"&&!K.instances[$]))if(isRouteComponent(l)){const t=(l.__vccOpts||l)[n];t&&_.push(guardToPromiseFn(t,x,C,K,$))}else{let a=l();_.push(()=>a.then(t=>{if(!t)return Promise.reject(new Error(`Couldn't resolve component "${$}" at "${K.path}"`));const i=isESModule(t)?t.default:t;K.components[$]=i;const s=(i.__vccOpts||i)[n];return s&&guardToPromiseFn(s,x,C,K,$)()}))}}return _}function isRouteComponent(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function useLink(r){const n=inject(routerKey),x=inject(routeLocationKey),C=computed(()=>n.resolve(unref(r.to))),_=computed(()=>{const{matched:a}=C.value,{length:t}=a,i=a[t-1],c=x.matched;if(!i||!c.length)return-1;const s=c.findIndex(isSameRouteRecord.bind(null,i));if(s>-1)return s;const e=getOriginalPath(a[t-2]);return t>1&&getOriginalPath(i)===e&&c[c.length-1].path!==e?c.findIndex(isSameRouteRecord.bind(null,a[t-2])):s}),K=computed(()=>_.value>-1&&includesParams(x.params,C.value.params)),$=computed(()=>_.value>-1&&_.value===x.matched.length-1&&isSameRouteLocationParams(x.params,C.value.params));function l(a={}){return guardEvent(a)?n[unref(r.replace)?"replace":"push"](unref(r.to)).catch(noop$3):Promise.resolve()}return{route:C,href:computed(()=>C.value.href),isActive:K,isExactActive:$,navigate:l}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(r,{slots:n}){const x=reactive(useLink(r)),{options:C}=inject(routerKey),_=computed(()=>({[getLinkClass(r.activeClass,C.linkActiveClass,"router-link-active")]:x.isActive,[getLinkClass(r.exactActiveClass,C.linkExactActiveClass,"router-link-exact-active")]:x.isExactActive}));return()=>{const K=n.default&&n.default(x);return r.custom?K:h("a",{"aria-current":x.isExactActive?r.ariaCurrentValue:null,href:x.href,onClick:x.navigate,class:_.value},K)}}}),RouterLink=RouterLinkImpl;function guardEvent(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const n=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return r.preventDefault&&r.preventDefault(),!0}}function includesParams(r,n){for(const x in n){const C=n[x],_=r[x];if(typeof C=="string"){if(C!==_)return!1}else if(!isArray$1(_)||_.length!==C.length||C.some((K,$)=>K!==_[$]))return!1}return!0}function getOriginalPath(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const getLinkClass=(r,n,x)=>r??n??x,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:n,slots:x}){const C=inject(routerViewLocationKey),_=computed(()=>r.route||C.value),K=inject(viewDepthKey,0),$=computed(()=>{let t=unref(K);const{matched:i}=_.value;let c;for(;(c=i[t])&&!c.components;)t++;return t}),l=computed(()=>_.value.matched[$.value]);provide(viewDepthKey,computed(()=>$.value+1)),provide(matchedRouteKey,l),provide(routerViewLocationKey,_);const a=ref();return watch(()=>[a.value,l.value,r.name],([t,i,c],[s,e,u])=>{i&&(i.instances[c]=t,e&&e!==i&&t&&t===s&&(i.leaveGuards.size||(i.leaveGuards=e.leaveGuards),i.updateGuards.size||(i.updateGuards=e.updateGuards))),t&&i&&(!e||!isSameRouteRecord(i,e)||!s)&&(i.enterCallbacks[c]||[]).forEach(m=>m(t))},{flush:"post"}),()=>{const t=_.value,i=r.name,c=l.value,s=c&&c.components[i];if(!s)return normalizeSlot(x.default,{Component:s,route:t});const e=c.props[i],u=e?e===!0?t.params:typeof e=="function"?e(t):e:null,g=h(s,assign({},u,n,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(c.instances[i]=null)},ref:a}));return normalizeSlot(x.default,{Component:g,route:t})||g}}});function normalizeSlot(r,n){if(!r)return null;const x=r(n);return x.length===1?x[0]:x}const RouterView=RouterViewImpl;function createRouter(r){const n=createRouterMatcher(r.routes,r),x=r.parseQuery||parseQuery,C=r.stringifyQuery||stringifyQuery,_=r.history,K=useCallbacks(),$=useCallbacks(),l=useCallbacks(),a=shallowRef(START_LOCATION_NORMALIZED);let t=START_LOCATION_NORMALIZED;isBrowser&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const i=applyToParams.bind(null,F=>""+F),c=applyToParams.bind(null,encodeParam),s=applyToParams.bind(null,decode);function e(F,D){let Q,ee;return isRouteName(F)?(Q=n.getRecordMatcher(F),ee=D):ee=F,n.addRoute(ee,Q)}function u(F){const D=n.getRecordMatcher(F);D&&n.removeRoute(D)}function m(){return n.getRoutes().map(F=>F.record)}function g(F){return!!n.getRecordMatcher(F)}function y(F,D){if(D=assign({},D||a.value),typeof F=="string"){const H=parseURL(x,F,D.path),q=n.resolve({path:H.path},D),ne=_.createHref(H.fullPath);return assign(H,q,{params:s(q.params),hash:decode(H.hash),redirectedFrom:void 0,href:ne})}let Q;if("path"in F)Q=assign({},F,{path:parseURL(x,F.path,D.path).path});else{const H=assign({},F.params);for(const q in H)H[q]==null&&delete H[q];Q=assign({},F,{params:c(F.params)}),D.params=c(D.params)}const ee=n.resolve(Q,D),V=F.hash||"";ee.params=i(s(ee.params));const Z=stringifyURL(C,assign({},F,{hash:encodeHash(V),path:ee.path})),ae=_.createHref(Z);return assign({fullPath:Z,hash:V,query:C===stringifyQuery?normalizeQuery(F.query):F.query||{}},ee,{redirectedFrom:void 0,href:ae})}function b(F){return typeof F=="string"?parseURL(x,F,a.value.path):assign({},F)}function v(F,D){if(t!==F)return createRouterError(8,{from:D,to:F})}function o(F){return E(F)}function S(F){return o(assign(b(F),{replace:!0}))}function T(F){const D=F.matched[F.matched.length-1];if(D&&D.redirect){const{redirect:Q}=D;let ee=typeof Q=="function"?Q(F):Q;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=b(ee):{path:ee},ee.params={}),assign({query:F.query,hash:F.hash,params:"path"in ee?{}:F.params},ee)}}function E(F,D){const Q=t=y(F),ee=a.value,V=F.state,Z=F.force,ae=F.replace===!0,H=T(Q);if(H)return E(assign(b(H),{state:typeof H=="object"?assign({},V,H.state):V,force:Z,replace:ae}),D||Q);const q=Q;q.redirectedFrom=D;let ne;return!Z&&isSameRouteLocation(C,ee,Q)&&(ne=createRouterError(16,{to:q,from:ee}),z(ee,ee,!0,!1)),(ne?Promise.resolve(ne):M(q,ee)).catch(le=>isNavigationFailure(le)?isNavigationFailure(le,2)?le:A(le):U(le,q,ee)).then(le=>{if(le){if(isNavigationFailure(le,2))return E(assign({replace:ae},b(le.to),{state:typeof le.to=="object"?assign({},V,le.to.state):V,force:Z}),D||q)}else le=L(q,ee,!0,ae,V);return O(q,ee,le),le})}function k(F,D){const Q=v(F,D);return Q?Promise.reject(Q):Promise.resolve()}function M(F,D){let Q;const[ee,V,Z]=extractChangingRecords(F,D);Q=extractComponentsGuards(ee.reverse(),"beforeRouteLeave",F,D);for(const H of ee)H.leaveGuards.forEach(q=>{Q.push(guardToPromiseFn(q,F,D))});const ae=k.bind(null,F,D);return Q.push(ae),runGuardQueue(Q).then(()=>{Q=[];for(const H of K.list())Q.push(guardToPromiseFn(H,F,D));return Q.push(ae),runGuardQueue(Q)}).then(()=>{Q=extractComponentsGuards(V,"beforeRouteUpdate",F,D);for(const H of V)H.updateGuards.forEach(q=>{Q.push(guardToPromiseFn(q,F,D))});return Q.push(ae),runGuardQueue(Q)}).then(()=>{Q=[];for(const H of F.matched)if(H.beforeEnter&&!D.matched.includes(H))if(isArray$1(H.beforeEnter))for(const q of H.beforeEnter)Q.push(guardToPromiseFn(q,F,D));else Q.push(guardToPromiseFn(H.beforeEnter,F,D));return Q.push(ae),runGuardQueue(Q)}).then(()=>(F.matched.forEach(H=>H.enterCallbacks={}),Q=extractComponentsGuards(Z,"beforeRouteEnter",F,D),Q.push(ae),runGuardQueue(Q))).then(()=>{Q=[];for(const H of $.list())Q.push(guardToPromiseFn(H,F,D));return Q.push(ae),runGuardQueue(Q)}).catch(H=>isNavigationFailure(H,8)?H:Promise.reject(H))}function O(F,D,Q){for(const ee of l.list())ee(F,D,Q)}function L(F,D,Q,ee,V){const Z=v(F,D);if(Z)return Z;const ae=D===START_LOCATION_NORMALIZED,H=isBrowser?history.state:{};Q&&(ee||ae?_.replace(F.fullPath,assign({scroll:ae&&H&&H.scroll},V)):_.push(F.fullPath,V)),a.value=F,z(F,D,Q,ae),A()}let te;function B(){te||(te=_.listen((F,D,Q)=>{if(!Y.listening)return;const ee=y(F),V=T(ee);if(V){E(assign(V,{replace:!0}),ee).catch(noop$3);return}t=ee;const Z=a.value;isBrowser&&saveScrollPosition(getScrollKey(Z.fullPath,Q.delta),computeScrollPosition()),M(ee,Z).catch(ae=>isNavigationFailure(ae,12)?ae:isNavigationFailure(ae,2)?(E(ae.to,ee).then(H=>{isNavigationFailure(H,20)&&!Q.delta&&Q.type===NavigationType.pop&&_.go(-1,!1)}).catch(noop$3),Promise.reject()):(Q.delta&&_.go(-Q.delta,!1),U(ae,ee,Z))).then(ae=>{ae=ae||L(ee,Z,!1),ae&&(Q.delta&&!isNavigationFailure(ae,8)?_.go(-Q.delta,!1):Q.type===NavigationType.pop&&isNavigationFailure(ae,20)&&_.go(-1,!1)),O(ee,Z,ae)}).catch(noop$3)}))}let G=useCallbacks(),R=useCallbacks(),I;function U(F,D,Q){A(F);const ee=R.list();return ee.length?ee.forEach(V=>V(F,D,Q)):console.error(F),Promise.reject(F)}function P(){return I&&a.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((F,D)=>{G.add([F,D])})}function A(F){return I||(I=!F,B(),G.list().forEach(([D,Q])=>F?Q(F):D()),G.reset()),F}function z(F,D,Q,ee){const{scrollBehavior:V}=r;if(!isBrowser||!V)return Promise.resolve();const Z=!Q&&getSavedScrollPosition(getScrollKey(F.fullPath,0))||(ee||!Q)&&history.state&&history.state.scroll||null;return nextTick().then(()=>V(F,D,Z)).then(ae=>ae&&scrollToPosition(ae)).catch(ae=>U(ae,F,D))}const N=F=>_.go(F);let W;const ie=new Set,Y={currentRoute:a,listening:!0,addRoute:e,removeRoute:u,hasRoute:g,getRoutes:m,resolve:y,options:r,push:o,replace:S,go:N,back:()=>N(-1),forward:()=>N(1),beforeEach:K.add,beforeResolve:$.add,afterEach:l.add,onError:R.add,isReady:P,install(F){const D=this;F.component("RouterLink",RouterLink),F.component("RouterView",RouterView),F.config.globalProperties.$router=D,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(a)}),isBrowser&&!W&&a.value===START_LOCATION_NORMALIZED&&(W=!0,o(_.location).catch(V=>{}));const Q={};for(const V in START_LOCATION_NORMALIZED)Q[V]=computed(()=>a.value[V]);F.provide(routerKey,D),F.provide(routeLocationKey,reactive(Q)),F.provide(routerViewLocationKey,a);const ee=F.unmount;ie.add(F),F.unmount=function(){ie.delete(F),ie.size<1&&(t=START_LOCATION_NORMALIZED,te&&te(),te=null,a.value=START_LOCATION_NORMALIZED,W=!1,I=!1),ee()}}};return Y}function runGuardQueue(r){return r.reduce((n,x)=>n.then(()=>x()),Promise.resolve())}function extractChangingRecords(r,n){const x=[],C=[],_=[],K=Math.max(n.matched.length,r.matched.length);for(let $=0;$<K;$++){const l=n.matched[$];l&&(r.matched.find(t=>isSameRouteRecord(t,l))?C.push(l):x.push(l));const a=r.matched[$];a&&(n.matched.find(t=>isSameRouteRecord(t,a))||_.push(a))}return[x,C,_]}function useRouter(){return inject(routerKey)}const router=createRouter({history:createWebHashHistory("./"),routes:[{path:"/",name:"FrontView",component:()=>__vitePreload(()=>import("./FrontView-d4d1ea97.js"),["./FrontView-d4d1ea97.js","./Logo-6ad6ddf9.js","./signatureStore-c91fd415.js","./Addfile-687d6dc1.js","./FrontView-40b4bc66.css"],import.meta.url)},{path:"/guest",name:"guest",component:()=>__vitePreload(()=>import("./GuestView-9332bfbf.js"),["./GuestView-9332bfbf.js","./ReviewFile-cf2b38b3.js","./signatureStore-c91fd415.js","./Addfile-687d6dc1.js","./ReviewFile-a8ef8463.css","./Logo-6ad6ddf9.js","./GuestView-7918070e.css"],import.meta.url)},{path:"/login",name:"login",component:()=>__vitePreload(()=>import("./LoginView-cbbc2f45.js"),["./LoginView-cbbc2f45.js","./BtnFromOthers-bb0b3c7e.js","./BtnFromOthers-9f55b52e.css","./Logo-6ad6ddf9.js","./LoginView-2806f8c2.css"],import.meta.url)},{path:"/regist",name:"regist",component:()=>__vitePreload(()=>import("./RegistView-e093781a.js"),["./RegistView-e093781a.js","./BtnFromOthers-bb0b3c7e.js","./BtnFromOthers-9f55b52e.css","./Logo-6ad6ddf9.js","./RegistView-46b12c1c.css"],import.meta.url)},{path:"/testLoading",name:"testLoading",component:()=>__vitePreload(()=>import("./TestLoading-e81e7f92.js"),["./TestLoading-e81e7f92.js","./Addfile-687d6dc1.js","./TestLoading-32f03b13.css"],import.meta.url)},{path:"/forgotpassword",name:"forgotpassword",component:()=>__vitePreload(()=>import("./ForgotpasswordView-1d19146b.js"),["./ForgotpasswordView-1d19146b.js","./Logo-6ad6ddf9.js","./ForgotpasswordView-d48ba014.css"],import.meta.url)},{path:"/connecterror",name:"connecterror",component:()=>__vitePreload(()=>import("./ConnecterrorView-ecd45b39.js"),["./ConnecterrorView-ecd45b39.js","./wrong-4b6e5593.js"],import.meta.url)},{path:"/uploaderror",name:"uploaderror",component:()=>__vitePreload(()=>import("./UploaderrorView-c0c49ae1.js"),["./UploaderrorView-c0c49ae1.js","./wrong-4b6e5593.js"],import.meta.url)},{path:"/dashboard",name:"dashBoard",component:()=>__vitePreload(()=>import("./DashbordView-17186a7c.js"),[],import.meta.url),children:[{path:"memember",name:"memember",component:()=>__vitePreload(()=>import("./MememberView-0ae011fd.js"),["./MememberView-0ae011fd.js","./ReviewFile-cf2b38b3.js","./signatureStore-c91fd415.js","./Addfile-687d6dc1.js","./ReviewFile-a8ef8463.css"],import.meta.url)}]}]});function commonjsRequire$1(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports$1={},pdf={get exports(){return pdfExports$1},set exports(r){pdfExports$1=r}},dommatrixExports={},dommatrix={get exports(){return dommatrixExports},set exports(r){dommatrixExports=r}};/*!
* DOMMatrix v1.0.3 (https://thednp.github.io/dommatrix/)
* Copyright 2022  thednp
* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)
*/var hasRequiredDommatrix;function requireDommatrix(){return hasRequiredDommatrix||(hasRequiredDommatrix=1,function(r,n){(function(x,C){r.exports=C()})(commonjsGlobal$2,function(){function x(b){var v=new u,o=Array.from(b);if(!o.every(function(Q){return!Number.isNaN(Q)}))throw TypeError('CSSMatrix: "'+b+'" must only have numbers.');if(o.length===16){var S=o[0],T=o[1],E=o[2],k=o[3],M=o[4],O=o[5],L=o[6],te=o[7],B=o[8],G=o[9],R=o[10],I=o[11],U=o[12],P=o[13],A=o[14],z=o[15];v.m11=S,v.a=S,v.m21=M,v.c=M,v.m31=B,v.m41=U,v.e=U,v.m12=T,v.b=T,v.m22=O,v.d=O,v.m32=G,v.m42=P,v.f=P,v.m13=E,v.m23=L,v.m33=R,v.m43=A,v.m14=k,v.m24=te,v.m34=I,v.m44=z}else if(o.length===6){var N=o[0],W=o[1],ie=o[2],Y=o[3],F=o[4],D=o[5];v.m11=N,v.a=N,v.m12=W,v.b=W,v.m21=ie,v.c=ie,v.m22=Y,v.d=Y,v.m41=F,v.e=F,v.m42=D,v.f=D}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return v}function C(b){var v=Object.keys(new u);if(typeof b=="object"&&v.every(function(o){return o in b}))return x([b.m11,b.m12,b.m13,b.m14,b.m21,b.m22,b.m23,b.m24,b.m31,b.m32,b.m33,b.m34,b.m41,b.m42,b.m43,b.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(b)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function _(b){if(typeof b!="string")throw TypeError('CSSMatrix: "'+b+'" is not a string.');var v=String(b).replace(/\s/g,""),o=new u,S='CSSMatrix: invalid transform string "'+b+'"';return v.split(")").filter(function(T){return T}).forEach(function(T){var E=T.split("("),k=E[0],M=E[1];if(!M)throw TypeError(S);var O=M.split(",").map(function(F){return F.includes("rad")?parseFloat(F)*(180/Math.PI):parseFloat(F)}),L=O[0],te=O[1],B=O[2],G=O[3],R=[L,te,B],I=[L,te,B,G];if(k==="perspective"&&L&&[te,B].every(function(F){return F===void 0}))o.m34=-1/L;else if(k.includes("matrix")&&[6,16].includes(O.length)&&O.every(function(F){return!Number.isNaN(+F)})){var U=O.map(function(F){return Math.abs(F)<1e-6?0:F});o=o.multiply(x(U))}else if(k==="translate3d"&&R.every(function(F){return!Number.isNaN(+F)}))o=o.translate(L,te,B);else if(k==="translate"&&L&&B===void 0)o=o.translate(L,te||0,0);else if(k==="rotate3d"&&I.every(function(F){return!Number.isNaN(+F)})&&G)o=o.rotateAxisAngle(L,te,B,G);else if(k==="rotate"&&L&&[te,B].every(function(F){return F===void 0}))o=o.rotate(0,0,L);else if(k==="scale3d"&&R.every(function(F){return!Number.isNaN(+F)})&&R.some(function(F){return F!==1}))o=o.scale(L,te,B);else if(k==="scale"&&!Number.isNaN(L)&&L!==1&&B===void 0){var P=Number.isNaN(+te),A=P?L:te;o=o.scale(L,A,1)}else if(k==="skew"&&(L||!Number.isNaN(L)&&te)&&B===void 0)o=o.skew(L,te||0);else if(/[XYZ]/.test(k)&&L&&[te,B].every(function(F){return F===void 0})&&["translate","rotate","scale","skew"].some(function(F){return k.includes(F)}))if(["skewX","skewY"].includes(k))o=o[k](L);else{var z=k.replace(/[XYZ]/,""),N=k.replace(z,""),W=["X","Y","Z"].indexOf(N),ie=z==="scale"?1:0,Y=[W===0?L:ie,W===1?L:ie,W===2?L:ie];o=o[z].apply(o,Y)}else throw TypeError(S)}),o}function K(b,v){return v?[b.a,b.b,b.c,b.d,b.e,b.f]:[b.m11,b.m12,b.m13,b.m14,b.m21,b.m22,b.m23,b.m24,b.m31,b.m32,b.m33,b.m34,b.m41,b.m42,b.m43,b.m44]}function $(b,v,o){var S=new u;return S.m41=b,S.e=b,S.m42=v,S.f=v,S.m43=o,S}function l(b,v,o){var S=new u,T=Math.PI/180,E=b*T,k=v*T,M=o*T,O=Math.cos(E),L=-Math.sin(E),te=Math.cos(k),B=-Math.sin(k),G=Math.cos(M),R=-Math.sin(M),I=te*G,U=-te*R;S.m11=I,S.a=I,S.m12=U,S.b=U,S.m13=B;var P=L*B*G+O*R;S.m21=P,S.c=P;var A=O*G-L*B*R;return S.m22=A,S.d=A,S.m23=-L*te,S.m31=L*R-O*B*G,S.m32=L*G+O*B*R,S.m33=O*te,S}function a(b,v,o,S){var T=new u,E=Math.sqrt(b*b+v*v+o*o);if(E===0)return T;var k=b/E,M=v/E,O=o/E,L=S*(Math.PI/360),te=Math.sin(L),B=Math.cos(L),G=te*te,R=k*k,I=M*M,U=O*O,P=1-2*(I+U)*G;T.m11=P,T.a=P;var A=2*(k*M*G+O*te*B);T.m12=A,T.b=A,T.m13=2*(k*O*G-M*te*B);var z=2*(M*k*G-O*te*B);T.m21=z,T.c=z;var N=1-2*(U+R)*G;return T.m22=N,T.d=N,T.m23=2*(M*O*G+k*te*B),T.m31=2*(O*k*G+M*te*B),T.m32=2*(O*M*G-k*te*B),T.m33=1-2*(R+I)*G,T}function t(b,v,o){var S=new u;return S.m11=b,S.a=b,S.m22=v,S.d=v,S.m33=o,S}function i(b,v){var o=new u;if(b){var S=b*Math.PI/180,T=Math.tan(S);o.m21=T,o.c=T}if(v){var E=v*Math.PI/180,k=Math.tan(E);o.m12=k,o.b=k}return o}function c(b){return i(b,0)}function s(b){return i(0,b)}function e(b,v){var o=v.m11*b.m11+v.m12*b.m21+v.m13*b.m31+v.m14*b.m41,S=v.m11*b.m12+v.m12*b.m22+v.m13*b.m32+v.m14*b.m42,T=v.m11*b.m13+v.m12*b.m23+v.m13*b.m33+v.m14*b.m43,E=v.m11*b.m14+v.m12*b.m24+v.m13*b.m34+v.m14*b.m44,k=v.m21*b.m11+v.m22*b.m21+v.m23*b.m31+v.m24*b.m41,M=v.m21*b.m12+v.m22*b.m22+v.m23*b.m32+v.m24*b.m42,O=v.m21*b.m13+v.m22*b.m23+v.m23*b.m33+v.m24*b.m43,L=v.m21*b.m14+v.m22*b.m24+v.m23*b.m34+v.m24*b.m44,te=v.m31*b.m11+v.m32*b.m21+v.m33*b.m31+v.m34*b.m41,B=v.m31*b.m12+v.m32*b.m22+v.m33*b.m32+v.m34*b.m42,G=v.m31*b.m13+v.m32*b.m23+v.m33*b.m33+v.m34*b.m43,R=v.m31*b.m14+v.m32*b.m24+v.m33*b.m34+v.m34*b.m44,I=v.m41*b.m11+v.m42*b.m21+v.m43*b.m31+v.m44*b.m41,U=v.m41*b.m12+v.m42*b.m22+v.m43*b.m32+v.m44*b.m42,P=v.m41*b.m13+v.m42*b.m23+v.m43*b.m33+v.m44*b.m43,A=v.m41*b.m14+v.m42*b.m24+v.m43*b.m34+v.m44*b.m44;return x([o,S,T,E,k,M,O,L,te,B,G,R,I,U,P,A])}var u=function(){for(var v=[],o=arguments.length;o--;)v[o]=arguments[o];var S=this;if(S.a=1,S.b=0,S.c=0,S.d=1,S.e=0,S.f=0,S.m11=1,S.m12=0,S.m13=0,S.m14=0,S.m21=0,S.m22=1,S.m23=0,S.m24=0,S.m31=0,S.m32=0,S.m33=1,S.m34=0,S.m41=0,S.m42=0,S.m43=0,S.m44=1,v.length){var T=[16,6].some(function(E){return E===v.length})?v:v[0];return S.setMatrixValue(T)}return S},m={isIdentity:{configurable:!0},is2D:{configurable:!0}};m.isIdentity.get=function(){var b=this;return b.m11===1&&b.m12===0&&b.m13===0&&b.m14===0&&b.m21===0&&b.m22===1&&b.m23===0&&b.m24===0&&b.m31===0&&b.m32===0&&b.m33===1&&b.m34===0&&b.m41===0&&b.m42===0&&b.m43===0&&b.m44===1},m.is2D.get=function(){var b=this;return b.m31===0&&b.m32===0&&b.m33===1&&b.m34===0&&b.m43===0&&b.m44===1},u.prototype.setMatrixValue=function(v){var o=this;return typeof v=="string"&&v.length&&v!=="none"?_(v):[Array,Float64Array,Float32Array].some(function(S){return v instanceof S})?x(v):[u,DOMMatrix,Object].some(function(S){return v instanceof S})?C(v):o},u.prototype.toFloat32Array=function(v){return Float32Array.from(K(this,v))},u.prototype.toFloat64Array=function(v){return Float64Array.from(K(this,v))},u.prototype.toString=function(){var v=this,o=v.is2D,S=v.toFloat64Array(o).join(", "),T=o?"matrix":"matrix3d";return T+"("+S+")"},u.prototype.toJSON=function(){var v=this,o=v.is2D,S=v.isIdentity;return Object.assign({},v,{is2D:o,isIdentity:S})},u.prototype.multiply=function(v){return e(this,v)},u.prototype.translate=function(v,o,S){var T=v,E=o,k=S;return E===void 0&&(E=0),k===void 0&&(k=0),e(this,$(T,E,k))},u.prototype.scale=function(v,o,S){var T=v,E=o,k=S;return E===void 0&&(E=v),k===void 0&&(k=1),e(this,t(T,E,k))},u.prototype.rotate=function(v,o,S){var T=v,E=o||0,k=S||0;return typeof v=="number"&&o===void 0&&S===void 0&&(k=T,T=0,E=0),e(this,l(T,E,k))},u.prototype.rotateAxisAngle=function(v,o,S,T){if([v,o,S,T].some(function(E){return Number.isNaN(+E)}))throw new TypeError("CSSMatrix: expecting 4 values");return e(this,a(v,o,S,T))},u.prototype.skewX=function(v){return e(this,c(v))},u.prototype.skewY=function(v){return e(this,s(v))},u.prototype.skew=function(v,o){return e(this,i(v,o))},u.prototype.transformPoint=function(v){var o=this,S=o.m11*v.x+o.m21*v.y+o.m31*v.z+o.m41*v.w,T=o.m12*v.x+o.m22*v.y+o.m32*v.z+o.m42*v.w,E=o.m13*v.x+o.m23*v.y+o.m33*v.z+o.m43*v.w,k=o.m14*v.x+o.m24*v.y+o.m34*v.z+o.m44*v.w;return v instanceof DOMPoint?new DOMPoint(S,T,E,k):{x:S,y:T,z:E,w:k}},Object.defineProperties(u.prototype,m),Object.assign(u,{Translate:$,Rotate:l,RotateAxisAngle:a,Scale:t,SkewX:c,SkewY:s,Skew:i,Multiply:e,fromArray:x,fromMatrix:C,fromString:_,toArray:K});var g="1.0.3",y=g;return Object.assign(u,{Version:y}),u})}(dommatrix)),dommatrixExports}var ponyfillExports={},ponyfill={get exports(){return ponyfillExports},set exports(r){ponyfillExports=r}},hasRequiredPonyfill;function requirePonyfill(){return hasRequiredPonyfill||(hasRequiredPonyfill=1,function(r,n){(function(x,C){C(n)})(commonjsGlobal$2,function(x){var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(ce){return"Symbol("+ce+")"};function _(){}function K(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal$2<"u")return commonjsGlobal$2}var $=K();function l(ce){return typeof ce=="object"&&ce!==null||typeof ce=="function"}var a=_,t=Promise,i=Promise.prototype.then,c=Promise.resolve.bind(t),s=Promise.reject.bind(t);function e(ce){return new t(ce)}function u(ce){return c(ce)}function m(ce){return s(ce)}function g(ce,xe,_e){return i.call(ce,xe,_e)}function y(ce,xe,_e){g(g(ce,xe,_e),void 0,a)}function b(ce,xe){y(ce,xe)}function v(ce,xe){y(ce,void 0,xe)}function o(ce,xe,_e){return g(ce,xe,_e)}function S(ce){g(ce,void 0,a)}var T=function(){var ce=$&&$.queueMicrotask;if(typeof ce=="function")return ce;var xe=u(void 0);return function(_e){return g(xe,_e)}}();function E(ce,xe,_e){if(typeof ce!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(ce,xe,_e)}function k(ce,xe,_e){try{return u(E(ce,xe,_e))}catch(He){return m(He)}}var M=16384,O=function(){function ce(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(ce.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),ce.prototype.push=function(xe){var _e=this._back,He=_e;_e._elements.length===M-1&&(He={_elements:[],_next:void 0}),_e._elements.push(xe),He!==_e&&(this._back=He,_e._next=He),++this._size},ce.prototype.shift=function(){var xe=this._front,_e=xe,He=this._cursor,Je=He+1,ut=xe._elements,bt=ut[He];return Je===M&&(_e=xe._next,Je=0),--this._size,this._cursor=Je,xe!==_e&&(this._front=_e),ut[He]=void 0,bt},ce.prototype.forEach=function(xe){for(var _e=this._cursor,He=this._front,Je=He._elements;(_e!==Je.length||He._next!==void 0)&&!(_e===Je.length&&(He=He._next,Je=He._elements,_e=0,Je.length===0));)xe(Je[_e]),++_e},ce.prototype.peek=function(){var xe=this._front,_e=this._cursor;return xe._elements[_e]},ce}();function L(ce,xe){ce._ownerReadableStream=xe,xe._reader=ce,xe._state==="readable"?R(ce):xe._state==="closed"?U(ce):I(ce,xe._storedError)}function te(ce,xe){var _e=ce._ownerReadableStream;return fn(_e,xe)}function B(ce){ce._ownerReadableStream._state==="readable"?P(ce,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):A(ce,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),ce._ownerReadableStream._reader=void 0,ce._ownerReadableStream=void 0}function G(ce){return new TypeError("Cannot "+ce+" a stream using a released reader")}function R(ce){ce._closedPromise=e(function(xe,_e){ce._closedPromise_resolve=xe,ce._closedPromise_reject=_e})}function I(ce,xe){R(ce),P(ce,xe)}function U(ce){R(ce),z(ce)}function P(ce,xe){ce._closedPromise_reject!==void 0&&(S(ce._closedPromise),ce._closedPromise_reject(xe),ce._closedPromise_resolve=void 0,ce._closedPromise_reject=void 0)}function A(ce,xe){I(ce,xe)}function z(ce){ce._closedPromise_resolve!==void 0&&(ce._closedPromise_resolve(void 0),ce._closedPromise_resolve=void 0,ce._closedPromise_reject=void 0)}var N=C("[[AbortSteps]]"),W=C("[[ErrorSteps]]"),ie=C("[[CancelSteps]]"),Y=C("[[PullSteps]]"),F=Number.isFinite||function(ce){return typeof ce=="number"&&isFinite(ce)},D=Math.trunc||function(ce){return ce<0?Math.ceil(ce):Math.floor(ce)};function Q(ce){return typeof ce=="object"||typeof ce=="function"}function ee(ce,xe){if(ce!==void 0&&!Q(ce))throw new TypeError(xe+" is not an object.")}function V(ce,xe){if(typeof ce!="function")throw new TypeError(xe+" is not a function.")}function Z(ce){return typeof ce=="object"&&ce!==null||typeof ce=="function"}function ae(ce,xe){if(!Z(ce))throw new TypeError(xe+" is not an object.")}function H(ce,xe,_e){if(ce===void 0)throw new TypeError("Parameter "+xe+" is required in '"+_e+"'.")}function q(ce,xe,_e){if(ce===void 0)throw new TypeError(xe+" is required in '"+_e+"'.")}function ne(ce){return Number(ce)}function le(ce){return ce===0?0:ce}function se(ce){return le(D(ce))}function J(ce,xe){var _e=0,He=Number.MAX_SAFE_INTEGER,Je=Number(ce);if(Je=le(Je),!F(Je))throw new TypeError(xe+" is not a finite number");if(Je=se(Je),Je<_e||Je>He)throw new TypeError(xe+" is outside the accepted range of "+_e+" to "+He+", inclusive");return!F(Je)||Je===0?0:Je}function re(ce,xe){if(!Rn(ce))throw new TypeError(xe+" is not a ReadableStream.")}function oe(ce){return new fe(ce)}function ue(ce,xe){ce._reader._readRequests.push(xe)}function he(ce,xe,_e){var He=ce._reader,Je=He._readRequests.shift();_e?Je._closeSteps():Je._chunkSteps(xe)}function de(ce){return ce._reader._readRequests.length}function pe(ce){var xe=ce._reader;return!(xe===void 0||!be(xe))}var fe=function(){function ce(xe){if(H(xe,1,"ReadableStreamDefaultReader"),re(xe,"First parameter"),Mn(xe))throw new TypeError("This stream has already been locked for exclusive reading by another reader");L(this,xe),this._readRequests=new O}return Object.defineProperty(ce.prototype,"closed",{get:function(){return be(this)?this._closedPromise:m(Se("closed"))},enumerable:!1,configurable:!0}),ce.prototype.cancel=function(xe){return xe===void 0&&(xe=void 0),be(this)?this._ownerReadableStream===void 0?m(G("cancel")):te(this,xe):m(Se("cancel"))},ce.prototype.read=function(){if(!be(this))return m(Se("read"));if(this._ownerReadableStream===void 0)return m(G("read from"));var xe,_e,He=e(function(ut,bt){xe=ut,_e=bt}),Je={_chunkSteps:function(ut){return xe({value:ut,done:!1})},_closeSteps:function(){return xe({value:void 0,done:!0})},_errorSteps:function(ut){return _e(ut)}};return ge(this,Je),He},ce.prototype.releaseLock=function(){if(!be(this))throw Se("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");B(this)}},ce}();Object.defineProperties(fe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(fe.prototype,C.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function be(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_readRequests")?!1:ce instanceof fe}function ge(ce,xe){var _e=ce._ownerReadableStream;_e._disturbed=!0,_e._state==="closed"?xe._closeSteps():_e._state==="errored"?xe._errorSteps(_e._storedError):_e._readableStreamController[Y](xe)}function Se(ce){return new TypeError("ReadableStreamDefaultReader.prototype."+ce+" can only be used on a ReadableStreamDefaultReader")}var ve,we;typeof C.asyncIterator=="symbol"&&(we=(ve={},ve[C.asyncIterator]=function(){return this},ve),Object.defineProperty(we,C.asyncIterator,{enumerable:!1}));var Fe=function(){function ce(xe,_e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=xe,this._preventCancel=_e}return ce.prototype.next=function(){var xe=this,_e=function(){return xe._nextSteps()};return this._ongoingPromise=this._ongoingPromise?o(this._ongoingPromise,_e,_e):_e(),this._ongoingPromise},ce.prototype.return=function(xe){var _e=this,He=function(){return _e._returnSteps(xe)};return this._ongoingPromise?o(this._ongoingPromise,He,He):He()},ce.prototype._nextSteps=function(){var xe=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var _e=this._reader;if(_e._ownerReadableStream===void 0)return m(G("iterate"));var He,Je,ut=e(function(_t,Ut){He=_t,Je=Ut}),bt={_chunkSteps:function(_t){xe._ongoingPromise=void 0,T(function(){return He({value:_t,done:!1})})},_closeSteps:function(){xe._ongoingPromise=void 0,xe._isFinished=!0,B(_e),He({value:void 0,done:!0})},_errorSteps:function(_t){xe._ongoingPromise=void 0,xe._isFinished=!0,B(_e),Je(_t)}};return ge(_e,bt),ut},ce.prototype._returnSteps=function(xe){if(this._isFinished)return Promise.resolve({value:xe,done:!0});this._isFinished=!0;var _e=this._reader;if(_e._ownerReadableStream===void 0)return m(G("finish iterating"));if(!this._preventCancel){var He=te(_e,xe);return B(_e),o(He,function(){return{value:xe,done:!0}})}return B(_e),u({value:xe,done:!0})},ce}(),Ce={next:function(){return ke(this)?this._asyncIteratorImpl.next():m(De("next"))},return:function(ce){return ke(this)?this._asyncIteratorImpl.return(ce):m(De("return"))}};we!==void 0&&Object.setPrototypeOf(Ce,we);function ye(ce,xe){var _e=oe(ce),He=new Fe(_e,xe),Je=Object.create(Ce);return Je._asyncIteratorImpl=He,Je}function ke(ce){if(!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_asyncIteratorImpl"))return!1;try{return ce._asyncIteratorImpl instanceof Fe}catch{return!1}}function De(ce){return new TypeError("ReadableStreamAsyncIterator."+ce+" can only be used on a ReadableSteamAsyncIterator")}var Ie=Number.isNaN||function(ce){return ce!==ce};function Me(ce){return ce.slice()}function Ne(ce,xe,_e,He,Je){new Uint8Array(ce).set(new Uint8Array(_e,He,Je),xe)}function Re(ce){return ce}function Oe(ce){return!1}function Le(ce,xe,_e){if(ce.slice)return ce.slice(xe,_e);var He=_e-xe,Je=new ArrayBuffer(He);return Ne(Je,0,ce,xe,He),Je}function Pe(ce){return!(typeof ce!="number"||Ie(ce)||ce<0)}function $e(ce){var xe=Le(ce.buffer,ce.byteOffset,ce.byteOffset+ce.byteLength);return new Uint8Array(xe)}function je(ce){var xe=ce._queue.shift();return ce._queueTotalSize-=xe.size,ce._queueTotalSize<0&&(ce._queueTotalSize=0),xe.value}function Te(ce,xe,_e){if(!Pe(_e)||_e===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");ce._queue.push({value:xe,size:_e}),ce._queueTotalSize+=_e}function Ae(ce){var xe=ce._queue.peek();return xe.value}function Ee(ce){ce._queue=new O,ce._queueTotalSize=0}var Be=function(){function ce(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ce.prototype,"view",{get:function(){if(!tt(this))throw at("view");return this._view},enumerable:!1,configurable:!0}),ce.prototype.respond=function(xe){if(!tt(this))throw at("respond");if(H(xe,1,"respond"),xe=J(xe,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Oe(this._view.buffer),It(this._associatedReadableByteStreamController,xe)},ce.prototype.respondWithNewView=function(xe){if(!tt(this))throw at("respondWithNewView");if(H(xe,1,"respondWithNewView"),!ArrayBuffer.isView(xe))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Oe(xe.buffer),Ft(this._associatedReadableByteStreamController,xe)},ce}();Object.defineProperties(Be.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(Be.prototype,C.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var ze=function(){function ce(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ce.prototype,"byobRequest",{get:function(){if(!We(this))throw nt("byobRequest");return wt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"desiredSize",{get:function(){if(!We(this))throw nt("desiredSize");return yt(this)},enumerable:!1,configurable:!0}),ce.prototype.close=function(){if(!We(this))throw nt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var xe=this._controlledReadableByteStream._state;if(xe!=="readable")throw new TypeError("The stream (in "+xe+" state) is not in the readable state and cannot be closed");xt(this)},ce.prototype.enqueue=function(xe){if(!We(this))throw nt("enqueue");if(H(xe,1,"enqueue"),!ArrayBuffer.isView(xe))throw new TypeError("chunk must be an array buffer view");if(xe.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(xe.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var _e=this._controlledReadableByteStream._state;if(_e!=="readable")throw new TypeError("The stream (in "+_e+" state) is not in the readable state and cannot be enqueued to");St(this,xe)},ce.prototype.error=function(xe){if(xe===void 0&&(xe=void 0),!We(this))throw nt("error");ot(this,xe)},ce.prototype[ie]=function(xe){Xe(this),Ee(this);var _e=this._cancelAlgorithm(xe);return ft(this),_e},ce.prototype[Y]=function(xe){var _e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var He=this._queue.shift();this._queueTotalSize-=He.byteLength,pt(this);var Je=new Uint8Array(He.buffer,He.byteOffset,He.byteLength);xe._chunkSteps(Je);return}var ut=this._autoAllocateChunkSize;if(ut!==void 0){var bt=void 0;try{bt=new ArrayBuffer(ut)}catch(Ut){xe._errorSteps(Ut);return}var _t={buffer:bt,bufferByteLength:ut,byteOffset:0,byteLength:ut,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(_t)}ue(_e,xe),Ze(this)},ce}();Object.defineProperties(ze.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(ze.prototype,C.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function We(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_controlledReadableByteStream")?!1:ce instanceof ze}function tt(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_associatedReadableByteStreamController")?!1:ce instanceof Be}function Ze(ce){var xe=rt(ce);if(xe){if(ce._pulling){ce._pullAgain=!0;return}ce._pulling=!0;var _e=ce._pullAlgorithm();y(_e,function(){ce._pulling=!1,ce._pullAgain&&(ce._pullAgain=!1,Ze(ce))},function(He){ot(ce,He)})}}function Xe(ce){Ct(ce),ce._pendingPullIntos=new O}function st(ce,xe){var _e=!1;ce._state==="closed"&&(_e=!0);var He=gt(xe);xe.readerType==="default"?he(ce,He,_e):zt(ce,He,_e)}function gt(ce){var xe=ce.bytesFilled,_e=ce.elementSize;return new ce.viewConstructor(ce.buffer,ce.byteOffset,xe/_e)}function Ge(ce,xe,_e,He){ce._queue.push({buffer:xe,byteOffset:_e,byteLength:He}),ce._queueTotalSize+=He}function ht(ce,xe){var _e=xe.elementSize,He=xe.bytesFilled-xe.bytesFilled%_e,Je=Math.min(ce._queueTotalSize,xe.byteLength-xe.bytesFilled),ut=xe.bytesFilled+Je,bt=ut-ut%_e,_t=Je,Ut=!1;bt>He&&(_t=bt-xe.bytesFilled,Ut=!0);for(var Xt=ce._queue;_t>0;){var Vt=Xt.peek(),Kt=Math.min(_t,Vt.byteLength),rn=xe.byteOffset+xe.bytesFilled;Ne(xe.buffer,rn,Vt.buffer,Vt.byteOffset,Kt),Vt.byteLength===Kt?Xt.shift():(Vt.byteOffset+=Kt,Vt.byteLength-=Kt),ce._queueTotalSize-=Kt,ct(ce,Kt,xe),_t-=Kt}return Ut}function ct(ce,xe,_e){_e.bytesFilled+=xe}function pt(ce){ce._queueTotalSize===0&&ce._closeRequested?(ft(ce),hr(ce._controlledReadableByteStream)):Ze(ce)}function Ct(ce){ce._byobRequest!==null&&(ce._byobRequest._associatedReadableByteStreamController=void 0,ce._byobRequest._view=null,ce._byobRequest=null)}function kt(ce){for(;ce._pendingPullIntos.length>0;){if(ce._queueTotalSize===0)return;var xe=ce._pendingPullIntos.peek();ht(ce,xe)&&(it(ce),st(ce._controlledReadableByteStream,xe))}}function mt(ce,xe,_e){var He=ce._controlledReadableByteStream,Je=1;xe.constructor!==DataView&&(Je=xe.constructor.BYTES_PER_ELEMENT);var ut=xe.constructor,bt=xe.buffer,_t={buffer:bt,bufferByteLength:bt.byteLength,byteOffset:xe.byteOffset,byteLength:xe.byteLength,bytesFilled:0,elementSize:Je,viewConstructor:ut,readerType:"byob"};if(ce._pendingPullIntos.length>0){ce._pendingPullIntos.push(_t),Pt(He,_e);return}if(He._state==="closed"){var Ut=new ut(_t.buffer,_t.byteOffset,0);_e._closeSteps(Ut);return}if(ce._queueTotalSize>0){if(ht(ce,_t)){var Xt=gt(_t);pt(ce),_e._chunkSteps(Xt);return}if(ce._closeRequested){var Vt=new TypeError("Insufficient bytes to fill elements in the given buffer");ot(ce,Vt),_e._errorSteps(Vt);return}}ce._pendingPullIntos.push(_t),Pt(He,_e),Ze(ce)}function Wt(ce,xe){var _e=ce._controlledReadableByteStream;if(Rt(_e))for(;Ot(_e)>0;){var He=it(ce);st(_e,He)}}function et(ce,xe,_e){if(ct(ce,xe,_e),!(_e.bytesFilled<_e.elementSize)){it(ce);var He=_e.bytesFilled%_e.elementSize;if(He>0){var Je=_e.byteOffset+_e.bytesFilled,ut=Le(_e.buffer,Je-He,Je);Ge(ce,ut,0,ut.byteLength)}_e.bytesFilled-=He,st(ce._controlledReadableByteStream,_e),kt(ce)}}function qe(ce,xe){var _e=ce._pendingPullIntos.peek();Ct(ce);var He=ce._controlledReadableByteStream._state;He==="closed"?Wt(ce):et(ce,xe,_e),Ze(ce)}function it(ce){var xe=ce._pendingPullIntos.shift();return xe}function rt(ce){var xe=ce._controlledReadableByteStream;if(xe._state!=="readable"||ce._closeRequested||!ce._started)return!1;if(pe(xe)&&de(xe)>0||Rt(xe)&&Ot(xe)>0)return!0;var _e=yt(ce);return _e>0}function ft(ce){ce._pullAlgorithm=void 0,ce._cancelAlgorithm=void 0}function xt(ce){var xe=ce._controlledReadableByteStream;if(!(ce._closeRequested||xe._state!=="readable")){if(ce._queueTotalSize>0){ce._closeRequested=!0;return}if(ce._pendingPullIntos.length>0){var _e=ce._pendingPullIntos.peek();if(_e.bytesFilled>0){var He=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ot(ce,He),He}}ft(ce),hr(xe)}}function St(ce,xe){var _e=ce._controlledReadableByteStream;if(!(ce._closeRequested||_e._state!=="readable")){var He=xe.buffer,Je=xe.byteOffset,ut=xe.byteLength,bt=He;if(ce._pendingPullIntos.length>0){var _t=ce._pendingPullIntos.peek();Oe(_t.buffer),_t.buffer=_t.buffer}if(Ct(ce),pe(_e))if(de(_e)===0)Ge(ce,bt,Je,ut);else{ce._pendingPullIntos.length>0&&it(ce);var Ut=new Uint8Array(bt,Je,ut);he(_e,Ut,!1)}else Rt(_e)?(Ge(ce,bt,Je,ut),kt(ce)):Ge(ce,bt,Je,ut);Ze(ce)}}function ot(ce,xe){var _e=ce._controlledReadableByteStream;_e._state==="readable"&&(Xe(ce),Ee(ce),ft(ce),Jr(_e,xe))}function wt(ce){if(ce._byobRequest===null&&ce._pendingPullIntos.length>0){var xe=ce._pendingPullIntos.peek(),_e=new Uint8Array(xe.buffer,xe.byteOffset+xe.bytesFilled,xe.byteLength-xe.bytesFilled),He=Object.create(Be.prototype);Ye(He,ce,_e),ce._byobRequest=He}return ce._byobRequest}function yt(ce){var xe=ce._controlledReadableByteStream._state;return xe==="errored"?null:xe==="closed"?0:ce._strategyHWM-ce._queueTotalSize}function It(ce,xe){var _e=ce._pendingPullIntos.peek(),He=ce._controlledReadableByteStream._state;if(He==="closed"){if(xe!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(xe===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(_e.bytesFilled+xe>_e.byteLength)throw new RangeError("bytesWritten out of range")}_e.buffer=_e.buffer,qe(ce,xe)}function Ft(ce,xe){var _e=ce._pendingPullIntos.peek(),He=ce._controlledReadableByteStream._state;if(He==="closed"){if(xe.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(xe.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(_e.byteOffset+_e.bytesFilled!==xe.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(_e.bufferByteLength!==xe.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(_e.bytesFilled+xe.byteLength>_e.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var Je=xe.byteLength;_e.buffer=xe.buffer,qe(ce,Je)}function At(ce,xe,_e,He,Je,ut,bt){xe._controlledReadableByteStream=ce,xe._pullAgain=!1,xe._pulling=!1,xe._byobRequest=null,xe._queue=xe._queueTotalSize=void 0,Ee(xe),xe._closeRequested=!1,xe._started=!1,xe._strategyHWM=ut,xe._pullAlgorithm=He,xe._cancelAlgorithm=Je,xe._autoAllocateChunkSize=bt,xe._pendingPullIntos=new O,ce._readableStreamController=xe;var _t=_e();y(u(_t),function(){xe._started=!0,Ze(xe)},function(Ut){ot(xe,Ut)})}function Ue(ce,xe,_e){var He=Object.create(ze.prototype),Je=function(){},ut=function(){return u(void 0)},bt=function(){return u(void 0)};xe.start!==void 0&&(Je=function(){return xe.start(He)}),xe.pull!==void 0&&(ut=function(){return xe.pull(He)}),xe.cancel!==void 0&&(bt=function(Ut){return xe.cancel(Ut)});var _t=xe.autoAllocateChunkSize;if(_t===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");At(ce,He,Je,ut,bt,_e,_t)}function Ye(ce,xe,_e){ce._associatedReadableByteStreamController=xe,ce._view=_e}function at(ce){return new TypeError("ReadableStreamBYOBRequest.prototype."+ce+" can only be used on a ReadableStreamBYOBRequest")}function nt(ce){return new TypeError("ReadableByteStreamController.prototype."+ce+" can only be used on a ReadableByteStreamController")}function dt(ce){return new Ht(ce)}function Pt(ce,xe){ce._reader._readIntoRequests.push(xe)}function zt(ce,xe,_e){var He=ce._reader,Je=He._readIntoRequests.shift();_e?Je._closeSteps(xe):Je._chunkSteps(xe)}function Ot(ce){return ce._reader._readIntoRequests.length}function Rt(ce){var xe=ce._reader;return!(xe===void 0||!qt(xe))}var Ht=function(){function ce(xe){if(H(xe,1,"ReadableStreamBYOBReader"),re(xe,"First parameter"),Mn(xe))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!We(xe._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");L(this,xe),this._readIntoRequests=new O}return Object.defineProperty(ce.prototype,"closed",{get:function(){return qt(this)?this._closedPromise:m(En("closed"))},enumerable:!1,configurable:!0}),ce.prototype.cancel=function(xe){return xe===void 0&&(xe=void 0),qt(this)?this._ownerReadableStream===void 0?m(G("cancel")):te(this,xe):m(En("cancel"))},ce.prototype.read=function(xe){if(!qt(this))return m(En("read"));if(!ArrayBuffer.isView(xe))return m(new TypeError("view must be an array buffer view"));if(xe.byteLength===0)return m(new TypeError("view must have non-zero byteLength"));if(xe.buffer.byteLength===0)return m(new TypeError("view's buffer must have non-zero byteLength"));if(Oe(xe.buffer),this._ownerReadableStream===void 0)return m(G("read from"));var _e,He,Je=e(function(bt,_t){_e=bt,He=_t}),ut={_chunkSteps:function(bt){return _e({value:bt,done:!1})},_closeSteps:function(bt){return _e({value:bt,done:!0})},_errorSteps:function(bt){return He(bt)}};return cn(this,xe,ut),Je},ce.prototype.releaseLock=function(){if(!qt(this))throw En("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");B(this)}},ce}();Object.defineProperties(Ht.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(Ht.prototype,C.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function qt(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_readIntoRequests")?!1:ce instanceof Ht}function cn(ce,xe,_e){var He=ce._ownerReadableStream;He._disturbed=!0,He._state==="errored"?_e._errorSteps(He._storedError):mt(He._readableStreamController,xe,_e)}function En(ce){return new TypeError("ReadableStreamBYOBReader.prototype."+ce+" can only be used on a ReadableStreamBYOBReader")}function gn(ce,xe){var _e=ce.highWaterMark;if(_e===void 0)return xe;if(Ie(_e)||_e<0)throw new RangeError("Invalid highWaterMark");return _e}function Tn(ce){var xe=ce.size;return xe||function(){return 1}}function kn(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.highWaterMark,He=ce==null?void 0:ce.size;return{highWaterMark:_e===void 0?void 0:ne(_e),size:He===void 0?void 0:zn(He,xe+" has member 'size' that")}}function zn(ce,xe){return V(ce,xe),function(_e){return ne(ce(_e))}}function er(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.abort,He=ce==null?void 0:ce.close,Je=ce==null?void 0:ce.start,ut=ce==null?void 0:ce.type,bt=ce==null?void 0:ce.write;return{abort:_e===void 0?void 0:tr(_e,ce,xe+" has member 'abort' that"),close:He===void 0?void 0:nr(He,ce,xe+" has member 'close' that"),start:Je===void 0?void 0:rr(Je,ce,xe+" has member 'start' that"),write:bt===void 0?void 0:ir(bt,ce,xe+" has member 'write' that"),type:ut}}function tr(ce,xe,_e){return V(ce,_e),function(He){return k(ce,xe,[He])}}function nr(ce,xe,_e){return V(ce,_e),function(){return k(ce,xe,[])}}function rr(ce,xe,_e){return V(ce,_e),function(He){return E(ce,xe,[He])}}function ir(ce,xe,_e){return V(ce,_e),function(He,Je){return k(ce,xe,[He,Je])}}function Vn(ce,xe){if(!hn(ce))throw new TypeError(xe+" is not a WritableStream.")}function Gn(ce){if(typeof ce!="object"||ce===null)return!1;try{return typeof ce.aborted=="boolean"}catch{return!1}}var Nn=typeof AbortController=="function";function ar(){if(Nn)return new AbortController}var vn=function(){function ce(xe,_e){xe===void 0&&(xe={}),_e===void 0&&(_e={}),xe===void 0?xe=null:ae(xe,"First parameter");var He=kn(_e,"Second parameter"),Je=er(xe,"First parameter");$n(this);var ut=Je.type;if(ut!==void 0)throw new RangeError("Invalid type is specified");var bt=Tn(He),_t=gn(He,1);mn(this,Je,_t,bt)}return Object.defineProperty(ce.prototype,"locked",{get:function(){if(!hn(this))throw gr("locked");return pn(this)},enumerable:!1,configurable:!0}),ce.prototype.abort=function(xe){return xe===void 0&&(xe=void 0),hn(this)?pn(this)?m(new TypeError("Cannot abort a stream that already has a writer")):Fn(this,xe):m(gr("abort"))},ce.prototype.close=function(){return hn(this)?pn(this)?m(new TypeError("Cannot close a stream that already has a writer")):X(this)?m(new TypeError("Cannot close an already-closing stream")):Kn(this):m(gr("close"))},ce.prototype.getWriter=function(){if(!hn(this))throw gr("getWriter");return Yn(this)},ce}();Object.defineProperties(vn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(vn.prototype,C.toStringTag,{value:"WritableStream",configurable:!0});function Yn(ce){return new vt(ce)}function Bn(ce,xe,_e,He,Je,ut){Je===void 0&&(Je=1),ut===void 0&&(ut=function(){return 1});var bt=Object.create(vn.prototype);$n(bt);var _t=Object.create($t.prototype);return Bt(bt,_t,ce,xe,_e,He,Je,ut),bt}function $n(ce){ce._state="writable",ce._storedError=void 0,ce._writer=void 0,ce._writableStreamController=void 0,ce._writeRequests=new O,ce._inFlightWriteRequest=void 0,ce._closeRequest=void 0,ce._inFlightCloseRequest=void 0,ce._pendingAbortRequest=void 0,ce._backpressure=!1}function hn(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_writableStreamController")?!1:ce instanceof vn}function pn(ce){return ce._writer!==void 0}function Fn(ce,xe){var _e;if(ce._state==="closed"||ce._state==="errored")return u(void 0);ce._writableStreamController._abortReason=xe,(_e=ce._writableStreamController._abortController)===null||_e===void 0||_e.abort();var He=ce._state;if(He==="closed"||He==="errored")return u(void 0);if(ce._pendingAbortRequest!==void 0)return ce._pendingAbortRequest._promise;var Je=!1;He==="erroring"&&(Je=!0,xe=void 0);var ut=e(function(bt,_t){ce._pendingAbortRequest={_promise:void 0,_resolve:bt,_reject:_t,_reason:xe,_wasAlreadyErroring:Je}});return ce._pendingAbortRequest._promise=ut,Je||Sn(ce,xe),ut}function Kn(ce){var xe=ce._state;if(xe==="closed"||xe==="errored")return m(new TypeError("The stream (in "+xe+" state) is not in the writable state and cannot be closed"));var _e=e(function(Je,ut){var bt={_resolve:Je,_reject:ut};ce._closeRequest=bt}),He=ce._writer;return He!==void 0&&ce._backpressure&&xe==="writable"&&Dr(He),sn(ce._writableStreamController),_e}function sr(ce){var xe=e(function(_e,He){var Je={_resolve:_e,_reject:He};ce._writeRequests.push(Je)});return xe}function jn(ce,xe){var _e=ce._state;if(_e==="writable"){Sn(ce,xe);return}Un(ce)}function Sn(ce,xe){var _e=ce._writableStreamController;ce._state="erroring",ce._storedError=xe;var He=ce._writer;He!==void 0&&Zt(He,xe),!me(ce)&&_e._started&&Un(ce)}function Un(ce){ce._state="errored",ce._writableStreamController[W]();var xe=ce._storedError;if(ce._writeRequests.forEach(function(Je){Je._reject(xe)}),ce._writeRequests=new O,ce._pendingAbortRequest===void 0){lt(ce);return}var _e=ce._pendingAbortRequest;if(ce._pendingAbortRequest=void 0,_e._wasAlreadyErroring){_e._reject(xe),lt(ce);return}var He=ce._writableStreamController[N](_e._reason);y(He,function(){_e._resolve(),lt(ce)},function(Je){_e._reject(Je),lt(ce)})}function Pn(ce){ce._inFlightWriteRequest._resolve(void 0),ce._inFlightWriteRequest=void 0}function or(ce,xe){ce._inFlightWriteRequest._reject(xe),ce._inFlightWriteRequest=void 0,jn(ce,xe)}function _n(ce){ce._inFlightCloseRequest._resolve(void 0),ce._inFlightCloseRequest=void 0;var xe=ce._state;xe==="erroring"&&(ce._storedError=void 0,ce._pendingAbortRequest!==void 0&&(ce._pendingAbortRequest._resolve(),ce._pendingAbortRequest=void 0)),ce._state="closed";var _e=ce._writer;_e!==void 0&&Hr(_e)}function Ke(ce,xe){ce._inFlightCloseRequest._reject(xe),ce._inFlightCloseRequest=void 0,ce._pendingAbortRequest!==void 0&&(ce._pendingAbortRequest._reject(xe),ce._pendingAbortRequest=void 0),jn(ce,xe)}function X(ce){return!(ce._closeRequest===void 0&&ce._inFlightCloseRequest===void 0)}function me(ce){return!(ce._inFlightWriteRequest===void 0&&ce._inFlightCloseRequest===void 0)}function Ve(ce){ce._inFlightCloseRequest=ce._closeRequest,ce._closeRequest=void 0}function Qe(ce){ce._inFlightWriteRequest=ce._writeRequests.shift()}function lt(ce){ce._closeRequest!==void 0&&(ce._closeRequest._reject(ce._storedError),ce._closeRequest=void 0);var xe=ce._writer;xe!==void 0&&Rr(xe,ce._storedError)}function Et(ce,xe){var _e=ce._writer;_e!==void 0&&xe!==ce._backpressure&&(xe?pi(_e):Dr(_e)),ce._backpressure=xe}var vt=function(){function ce(xe){if(H(xe,1,"WritableStreamDefaultWriter"),Vn(xe,"First parameter"),pn(xe))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=xe,xe._writer=this;var _e=xe._state;if(_e==="writable")!X(xe)&&xe._backpressure?mr(this):Wr(this),pr(this);else if(_e==="erroring")Mr(this,xe._storedError),pr(this);else if(_e==="closed")Wr(this),di(this);else{var He=xe._storedError;Mr(this,He),Ur(this,He)}}return Object.defineProperty(ce.prototype,"closed",{get:function(){return Tt(this)?this._closedPromise:m(Wn("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"desiredSize",{get:function(){if(!Tt(this))throw Wn("desiredSize");if(this._ownerWritableStream===void 0)throw lr("desiredSize");return Qt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"ready",{get:function(){return Tt(this)?this._readyPromise:m(Wn("ready"))},enumerable:!1,configurable:!0}),ce.prototype.abort=function(xe){return xe===void 0&&(xe=void 0),Tt(this)?this._ownerWritableStream===void 0?m(lr("abort")):Mt(this,xe):m(Wn("abort"))},ce.prototype.close=function(){if(!Tt(this))return m(Wn("close"));var xe=this._ownerWritableStream;return xe===void 0?m(lr("close")):X(xe)?m(new TypeError("Cannot close an already-closing stream")):jt(this)},ce.prototype.releaseLock=function(){if(!Tt(this))throw Wn("releaseLock");var xe=this._ownerWritableStream;xe!==void 0&&Dt(this)},ce.prototype.write=function(xe){return xe===void 0&&(xe=void 0),Tt(this)?this._ownerWritableStream===void 0?m(lr("write to")):en(this,xe):m(Wn("write"))},ce}();Object.defineProperties(vt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(vt.prototype,C.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Tt(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_ownerWritableStream")?!1:ce instanceof vt}function Mt(ce,xe){var _e=ce._ownerWritableStream;return Fn(_e,xe)}function jt(ce){var xe=ce._ownerWritableStream;return Kn(xe)}function Yt(ce){var xe=ce._ownerWritableStream,_e=xe._state;return X(xe)||_e==="closed"?u(void 0):_e==="errored"?m(xe._storedError):jt(ce)}function Gt(ce,xe){ce._closedPromiseState==="pending"?Rr(ce,xe):gi(ce,xe)}function Zt(ce,xe){ce._readyPromiseState==="pending"?Xr(ce,xe):mi(ce,xe)}function Qt(ce){var xe=ce._ownerWritableStream,_e=xe._state;return _e==="errored"||_e==="erroring"?null:_e==="closed"?0:wn(xe._writableStreamController)}function Dt(ce){var xe=ce._ownerWritableStream,_e=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Zt(ce,_e),Gt(ce,_e),xe._writer=void 0,ce._ownerWritableStream=void 0}function en(ce,xe){var _e=ce._ownerWritableStream,He=_e._writableStreamController,Je=Hn(He,xe);if(_e!==ce._ownerWritableStream)return m(lr("write to"));var ut=_e._state;if(ut==="errored")return m(_e._storedError);if(X(_e)||ut==="closed")return m(new TypeError("The stream is closing or closed and cannot be written to"));if(ut==="erroring")return m(_e._storedError);var bt=sr(_e);return Pr(He,xe,Je),bt}var Lt={},$t=function(){function ce(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ce.prototype,"abortReason",{get:function(){if(!an(this))throw Ir("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"signal",{get:function(){if(!an(this))throw Ir("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),ce.prototype.error=function(xe){if(xe===void 0&&(xe=void 0),!an(this))throw Ir("error");var _e=this._controlledWritableStream._state;_e==="writable"&&jr(this,xe)},ce.prototype[N]=function(xe){var _e=this._abortAlgorithm(xe);return ln(this),_e},ce.prototype[W]=function(){Ee(this)},ce}();Object.defineProperties($t.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty($t.prototype,C.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function an(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_controlledWritableStream")?!1:ce instanceof $t}function Bt(ce,xe,_e,He,Je,ut,bt,_t){xe._controlledWritableStream=ce,ce._writableStreamController=xe,xe._queue=void 0,xe._queueTotalSize=void 0,Ee(xe),xe._abortReason=void 0,xe._abortController=ar(),xe._started=!1,xe._strategySizeAlgorithm=_t,xe._strategyHWM=bt,xe._writeAlgorithm=He,xe._closeAlgorithm=Je,xe._abortAlgorithm=ut;var Ut=Or(xe);Et(ce,Ut);var Xt=_e(),Vt=u(Xt);y(Vt,function(){xe._started=!0,Cn(xe)},function(Kt){xe._started=!0,jn(ce,Kt)})}function mn(ce,xe,_e,He){var Je=Object.create($t.prototype),ut=function(){},bt=function(){return u(void 0)},_t=function(){return u(void 0)},Ut=function(){return u(void 0)};xe.start!==void 0&&(ut=function(){return xe.start(Je)}),xe.write!==void 0&&(bt=function(Xt){return xe.write(Xt,Je)}),xe.close!==void 0&&(_t=function(){return xe.close()}),xe.abort!==void 0&&(Ut=function(Xt){return xe.abort(Xt)}),Bt(ce,Je,ut,bt,_t,Ut,_e,He)}function ln(ce){ce._writeAlgorithm=void 0,ce._closeAlgorithm=void 0,ce._abortAlgorithm=void 0,ce._strategySizeAlgorithm=void 0}function sn(ce){Te(ce,Lt,0),Cn(ce)}function Hn(ce,xe){try{return ce._strategySizeAlgorithm(xe)}catch(_e){return _r(ce,_e),1}}function wn(ce){return ce._strategyHWM-ce._queueTotalSize}function Pr(ce,xe,_e){try{Te(ce,xe,_e)}catch(ut){_r(ce,ut);return}var He=ce._controlledWritableStream;if(!X(He)&&He._state==="writable"){var Je=Or(ce);Et(He,Je)}Cn(ce)}function Cn(ce){var xe=ce._controlledWritableStream;if(ce._started&&xe._inFlightWriteRequest===void 0){var _e=xe._state;if(_e==="erroring"){Un(xe);return}if(ce._queue.length!==0){var He=Ae(ce);He===Lt?hi(ce):fi(ce,He)}}}function _r(ce,xe){ce._controlledWritableStream._state==="writable"&&jr(ce,xe)}function hi(ce){var xe=ce._controlledWritableStream;Ve(xe),je(ce);var _e=ce._closeAlgorithm();ln(ce),y(_e,function(){_n(xe)},function(He){Ke(xe,He)})}function fi(ce,xe){var _e=ce._controlledWritableStream;Qe(_e);var He=ce._writeAlgorithm(xe);y(He,function(){Pn(_e);var Je=_e._state;if(je(ce),!X(_e)&&Je==="writable"){var ut=Or(ce);Et(_e,ut)}Cn(ce)},function(Je){_e._state==="writable"&&ln(ce),or(_e,Je)})}function Or(ce){var xe=wn(ce);return xe<=0}function jr(ce,xe){var _e=ce._controlledWritableStream;ln(ce),Sn(_e,xe)}function gr(ce){return new TypeError("WritableStream.prototype."+ce+" can only be used on a WritableStream")}function Ir(ce){return new TypeError("WritableStreamDefaultController.prototype."+ce+" can only be used on a WritableStreamDefaultController")}function Wn(ce){return new TypeError("WritableStreamDefaultWriter.prototype."+ce+" can only be used on a WritableStreamDefaultWriter")}function lr(ce){return new TypeError("Cannot "+ce+" a stream using a released writer")}function pr(ce){ce._closedPromise=e(function(xe,_e){ce._closedPromise_resolve=xe,ce._closedPromise_reject=_e,ce._closedPromiseState="pending"})}function Ur(ce,xe){pr(ce),Rr(ce,xe)}function di(ce){pr(ce),Hr(ce)}function Rr(ce,xe){ce._closedPromise_reject!==void 0&&(S(ce._closedPromise),ce._closedPromise_reject(xe),ce._closedPromise_resolve=void 0,ce._closedPromise_reject=void 0,ce._closedPromiseState="rejected")}function gi(ce,xe){Ur(ce,xe)}function Hr(ce){ce._closedPromise_resolve!==void 0&&(ce._closedPromise_resolve(void 0),ce._closedPromise_resolve=void 0,ce._closedPromise_reject=void 0,ce._closedPromiseState="resolved")}function mr(ce){ce._readyPromise=e(function(xe,_e){ce._readyPromise_resolve=xe,ce._readyPromise_reject=_e}),ce._readyPromiseState="pending"}function Mr(ce,xe){mr(ce),Xr(ce,xe)}function Wr(ce){mr(ce),Dr(ce)}function Xr(ce,xe){ce._readyPromise_reject!==void 0&&(S(ce._readyPromise),ce._readyPromise_reject(xe),ce._readyPromise_resolve=void 0,ce._readyPromise_reject=void 0,ce._readyPromiseState="rejected")}function pi(ce){mr(ce)}function mi(ce,xe){Mr(ce,xe)}function Dr(ce){ce._readyPromise_resolve!==void 0&&(ce._readyPromise_resolve(void 0),ce._readyPromise_resolve=void 0,ce._readyPromise_reject=void 0,ce._readyPromiseState="fulfilled")}var zr=typeof DOMException<"u"?DOMException:void 0;function bi(ce){if(!(typeof ce=="function"||typeof ce=="object"))return!1;try{return new ce,!0}catch{return!1}}function xi(){var ce=function(_e,He){this.message=_e||"",this.name=He||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return ce.prototype=Object.create(Error.prototype),Object.defineProperty(ce.prototype,"constructor",{value:ce,writable:!0,configurable:!0}),ce}var yi=bi(zr)?zr:xi();function Vr(ce,xe,_e,He,Je,ut){var bt=oe(ce),_t=Yn(xe);ce._disturbed=!0;var Ut=!1,Xt=u(void 0);return e(function(Vt,Kt){var rn;if(ut!==void 0){if(rn=function(){var Nt=new yi("Aborted","AbortError"),Jt=[];He||Jt.push(function(){return xe._state==="writable"?Fn(xe,Nt):u(void 0)}),Je||Jt.push(function(){return ce._state==="readable"?fn(ce,Nt):u(void 0)}),un(function(){return Promise.all(Jt.map(function(nn){return nn()}))},!0,Nt)},ut.aborted){rn();return}ut.addEventListener("abort",rn)}function dn(){return e(function(Nt,Jt){function nn(yn){yn?Nt():g(Zn(),nn,Jt)}nn(!1)})}function Zn(){return Ut?u(!0):g(_t._readyPromise,function(){return e(function(Nt,Jt){ge(bt,{_chunkSteps:function(nn){Xt=g(en(_t,nn),void 0,_),Nt(!1)},_closeSteps:function(){return Nt(!0)},_errorSteps:Jt})})})}if(on(ce,bt._closedPromise,function(Nt){He?An(!0,Nt):un(function(){return Fn(xe,Nt)},!0,Nt)}),on(xe,_t._closedPromise,function(Nt){Je?An(!0,Nt):un(function(){return fn(ce,Nt)},!0,Nt)}),xn(ce,bt._closedPromise,function(){_e?An():un(function(){return Yt(_t)})}),X(xe)||xe._state==="closed"){var Dn=new TypeError("the destination writable stream closed before all data could be piped to it");Je?An(!0,Dn):un(function(){return fn(ce,Dn)},!0,Dn)}S(dn());function bn(){var Nt=Xt;return g(Xt,function(){return Nt!==Xt?bn():void 0})}function on(Nt,Jt,nn){Nt._state==="errored"?nn(Nt._storedError):v(Jt,nn)}function xn(Nt,Jt,nn){Nt._state==="closed"?nn():b(Jt,nn)}function un(Nt,Jt,nn){if(Ut)return;Ut=!0,xe._state==="writable"&&!X(xe)?b(bn(),yn):yn();function yn(){y(Nt(),function(){return tn(Jt,nn)},function(Ln){return tn(!0,Ln)})}}function An(Nt,Jt){Ut||(Ut=!0,xe._state==="writable"&&!X(xe)?b(bn(),function(){return tn(Nt,Jt)}):tn(Nt,Jt))}function tn(Nt,Jt){Dt(_t),B(bt),ut!==void 0&&ut.removeEventListener("abort",rn),Nt?Kt(Jt):Vt(void 0)}})}var qn=function(){function ce(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ce.prototype,"desiredSize",{get:function(){if(!br(this))throw vr("desiredSize");return Lr(this)},enumerable:!1,configurable:!0}),ce.prototype.close=function(){if(!br(this))throw vr("close");if(!Jn(this))throw new TypeError("The stream is not in a state that permits close");ur(this)},ce.prototype.enqueue=function(xe){if(xe===void 0&&(xe=void 0),!br(this))throw vr("enqueue");if(!Jn(this))throw new TypeError("The stream is not in a state that permits enqueue");return yr(this,xe)},ce.prototype.error=function(xe){if(xe===void 0&&(xe=void 0),!br(this))throw vr("error");On(this,xe)},ce.prototype[ie]=function(xe){Ee(this);var _e=this._cancelAlgorithm(xe);return xr(this),_e},ce.prototype[Y]=function(xe){var _e=this._controlledReadableStream;if(this._queue.length>0){var He=je(this);this._closeRequested&&this._queue.length===0?(xr(this),hr(_e)):cr(this),xe._chunkSteps(He)}else ue(_e,xe),cr(this)},ce}();Object.defineProperties(qn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(qn.prototype,C.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function br(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_controlledReadableStream")?!1:ce instanceof qn}function cr(ce){var xe=Gr(ce);if(xe){if(ce._pulling){ce._pullAgain=!0;return}ce._pulling=!0;var _e=ce._pullAlgorithm();y(_e,function(){ce._pulling=!1,ce._pullAgain&&(ce._pullAgain=!1,cr(ce))},function(He){On(ce,He)})}}function Gr(ce){var xe=ce._controlledReadableStream;if(!Jn(ce)||!ce._started)return!1;if(Mn(xe)&&de(xe)>0)return!0;var _e=Lr(ce);return _e>0}function xr(ce){ce._pullAlgorithm=void 0,ce._cancelAlgorithm=void 0,ce._strategySizeAlgorithm=void 0}function ur(ce){if(Jn(ce)){var xe=ce._controlledReadableStream;ce._closeRequested=!0,ce._queue.length===0&&(xr(ce),hr(xe))}}function yr(ce,xe){if(Jn(ce)){var _e=ce._controlledReadableStream;if(Mn(_e)&&de(_e)>0)he(_e,xe,!1);else{var He=void 0;try{He=ce._strategySizeAlgorithm(xe)}catch(Je){throw On(ce,Je),Je}try{Te(ce,xe,He)}catch(Je){throw On(ce,Je),Je}}cr(ce)}}function On(ce,xe){var _e=ce._controlledReadableStream;_e._state==="readable"&&(Ee(ce),xr(ce),Jr(_e,xe))}function Lr(ce){var xe=ce._controlledReadableStream._state;return xe==="errored"?null:xe==="closed"?0:ce._strategyHWM-ce._queueTotalSize}function vi(ce){return!Gr(ce)}function Jn(ce){var xe=ce._controlledReadableStream._state;return!ce._closeRequested&&xe==="readable"}function Yr(ce,xe,_e,He,Je,ut,bt){xe._controlledReadableStream=ce,xe._queue=void 0,xe._queueTotalSize=void 0,Ee(xe),xe._started=!1,xe._closeRequested=!1,xe._pullAgain=!1,xe._pulling=!1,xe._strategySizeAlgorithm=bt,xe._strategyHWM=ut,xe._pullAlgorithm=He,xe._cancelAlgorithm=Je,ce._readableStreamController=xe;var _t=_e();y(u(_t),function(){xe._started=!0,cr(xe)},function(Ut){On(xe,Ut)})}function Si(ce,xe,_e,He){var Je=Object.create(qn.prototype),ut=function(){},bt=function(){return u(void 0)},_t=function(){return u(void 0)};xe.start!==void 0&&(ut=function(){return xe.start(Je)}),xe.pull!==void 0&&(bt=function(){return xe.pull(Je)}),xe.cancel!==void 0&&(_t=function(Ut){return xe.cancel(Ut)}),Yr(ce,Je,ut,bt,_t,_e,He)}function vr(ce){return new TypeError("ReadableStreamDefaultController.prototype."+ce+" can only be used on a ReadableStreamDefaultController")}function wi(ce,xe){return We(ce._readableStreamController)?Ai(ce):Ci(ce)}function Ci(ce,xe){var _e=oe(ce),He=!1,Je=!1,ut=!1,bt=!1,_t,Ut,Xt,Vt,Kt,rn=e(function(on){Kt=on});function dn(){if(He)return Je=!0,u(void 0);He=!0;var on={_chunkSteps:function(xn){T(function(){Je=!1;var un=xn,An=xn;ut||yr(Xt._readableStreamController,un),bt||yr(Vt._readableStreamController,An),He=!1,Je&&dn()})},_closeSteps:function(){He=!1,ut||ur(Xt._readableStreamController),bt||ur(Vt._readableStreamController),(!ut||!bt)&&Kt(void 0)},_errorSteps:function(){He=!1}};return ge(_e,on),u(void 0)}function Zn(on){if(ut=!0,_t=on,bt){var xn=Me([_t,Ut]),un=fn(ce,xn);Kt(un)}return rn}function Dn(on){if(bt=!0,Ut=on,ut){var xn=Me([_t,Ut]),un=fn(ce,xn);Kt(un)}return rn}function bn(){}return Xt=Nr(bn,dn,Zn),Vt=Nr(bn,dn,Dn),v(_e._closedPromise,function(on){On(Xt._readableStreamController,on),On(Vt._readableStreamController,on),(!ut||!bt)&&Kt(void 0)}),[Xt,Vt]}function Ai(ce){var xe=oe(ce),_e=!1,He=!1,Je=!1,ut=!1,bt=!1,_t,Ut,Xt,Vt,Kt,rn=e(function(tn){Kt=tn});function dn(tn){v(tn._closedPromise,function(Nt){tn===xe&&(ot(Xt._readableStreamController,Nt),ot(Vt._readableStreamController,Nt),(!ut||!bt)&&Kt(void 0))})}function Zn(){qt(xe)&&(B(xe),xe=oe(ce),dn(xe));var tn={_chunkSteps:function(Nt){T(function(){He=!1,Je=!1;var Jt=Nt,nn=Nt;if(!ut&&!bt)try{nn=$e(Nt)}catch(yn){ot(Xt._readableStreamController,yn),ot(Vt._readableStreamController,yn),Kt(fn(ce,yn));return}ut||St(Xt._readableStreamController,Jt),bt||St(Vt._readableStreamController,nn),_e=!1,He?bn():Je&&on()})},_closeSteps:function(){_e=!1,ut||xt(Xt._readableStreamController),bt||xt(Vt._readableStreamController),Xt._readableStreamController._pendingPullIntos.length>0&&It(Xt._readableStreamController,0),Vt._readableStreamController._pendingPullIntos.length>0&&It(Vt._readableStreamController,0),(!ut||!bt)&&Kt(void 0)},_errorSteps:function(){_e=!1}};ge(xe,tn)}function Dn(tn,Nt){be(xe)&&(B(xe),xe=dt(ce),dn(xe));var Jt=Nt?Vt:Xt,nn=Nt?Xt:Vt,yn={_chunkSteps:function(Ln){T(function(){He=!1,Je=!1;var Qn=Nt?bt:ut,dr=Nt?ut:bt;if(dr)Qn||Ft(Jt._readableStreamController,Ln);else{var ui=void 0;try{ui=$e(Ln)}catch($r){ot(Jt._readableStreamController,$r),ot(nn._readableStreamController,$r),Kt(fn(ce,$r));return}Qn||Ft(Jt._readableStreamController,Ln),St(nn._readableStreamController,ui)}_e=!1,He?bn():Je&&on()})},_closeSteps:function(Ln){_e=!1;var Qn=Nt?bt:ut,dr=Nt?ut:bt;Qn||xt(Jt._readableStreamController),dr||xt(nn._readableStreamController),Ln!==void 0&&(Qn||Ft(Jt._readableStreamController,Ln),!dr&&nn._readableStreamController._pendingPullIntos.length>0&&It(nn._readableStreamController,0)),(!Qn||!dr)&&Kt(void 0)},_errorSteps:function(){_e=!1}};cn(xe,tn,yn)}function bn(){if(_e)return He=!0,u(void 0);_e=!0;var tn=wt(Xt._readableStreamController);return tn===null?Zn():Dn(tn._view,!1),u(void 0)}function on(){if(_e)return Je=!0,u(void 0);_e=!0;var tn=wt(Vt._readableStreamController);return tn===null?Zn():Dn(tn._view,!0),u(void 0)}function xn(tn){if(ut=!0,_t=tn,bt){var Nt=Me([_t,Ut]),Jt=fn(ce,Nt);Kt(Jt)}return rn}function un(tn){if(bt=!0,Ut=tn,ut){var Nt=Me([_t,Ut]),Jt=fn(ce,Nt);Kt(Jt)}return rn}function An(){}return Xt=qr(An,bn,xn),Vt=qr(An,on,un),dn(xe),[Xt,Vt]}function Ei(ce,xe){ee(ce,xe);var _e=ce,He=_e==null?void 0:_e.autoAllocateChunkSize,Je=_e==null?void 0:_e.cancel,ut=_e==null?void 0:_e.pull,bt=_e==null?void 0:_e.start,_t=_e==null?void 0:_e.type;return{autoAllocateChunkSize:He===void 0?void 0:J(He,xe+" has member 'autoAllocateChunkSize' that"),cancel:Je===void 0?void 0:Ti(Je,_e,xe+" has member 'cancel' that"),pull:ut===void 0?void 0:ki(ut,_e,xe+" has member 'pull' that"),start:bt===void 0?void 0:Fi(bt,_e,xe+" has member 'start' that"),type:_t===void 0?void 0:Pi(_t,xe+" has member 'type' that")}}function Ti(ce,xe,_e){return V(ce,_e),function(He){return k(ce,xe,[He])}}function ki(ce,xe,_e){return V(ce,_e),function(He){return k(ce,xe,[He])}}function Fi(ce,xe,_e){return V(ce,_e),function(He){return E(ce,xe,[He])}}function Pi(ce,xe){if(ce=""+ce,ce!=="bytes")throw new TypeError(xe+" '"+ce+"' is not a valid enumeration value for ReadableStreamType");return ce}function _i(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.mode;return{mode:_e===void 0?void 0:Oi(_e,xe+" has member 'mode' that")}}function Oi(ce,xe){if(ce=""+ce,ce!=="byob")throw new TypeError(xe+" '"+ce+"' is not a valid enumeration value for ReadableStreamReaderMode");return ce}function Ii(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.preventCancel;return{preventCancel:Boolean(_e)}}function Kr(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.preventAbort,He=ce==null?void 0:ce.preventCancel,Je=ce==null?void 0:ce.preventClose,ut=ce==null?void 0:ce.signal;return ut!==void 0&&Ri(ut,xe+" has member 'signal' that"),{preventAbort:Boolean(_e),preventCancel:Boolean(He),preventClose:Boolean(Je),signal:ut}}function Ri(ce,xe){if(!Gn(ce))throw new TypeError(xe+" is not an AbortSignal.")}function Mi(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.readable;q(_e,"readable","ReadableWritablePair"),re(_e,xe+" has member 'readable' that");var He=ce==null?void 0:ce.writable;return q(He,"writable","ReadableWritablePair"),Vn(He,xe+" has member 'writable' that"),{readable:_e,writable:He}}var In=function(){function ce(xe,_e){xe===void 0&&(xe={}),_e===void 0&&(_e={}),xe===void 0?xe=null:ae(xe,"First parameter");var He=kn(_e,"Second parameter"),Je=Ei(xe,"First parameter");if(Br(this),Je.type==="bytes"){if(He.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var ut=gn(He,0);Ue(this,Je,ut)}else{var bt=Tn(He),ut=gn(He,1);Si(this,Je,ut,bt)}}return Object.defineProperty(ce.prototype,"locked",{get:function(){if(!Rn(this))throw Xn("locked");return Mn(this)},enumerable:!1,configurable:!0}),ce.prototype.cancel=function(xe){return xe===void 0&&(xe=void 0),Rn(this)?Mn(this)?m(new TypeError("Cannot cancel a stream that already has a reader")):fn(this,xe):m(Xn("cancel"))},ce.prototype.getReader=function(xe){if(xe===void 0&&(xe=void 0),!Rn(this))throw Xn("getReader");var _e=_i(xe,"First parameter");return _e.mode===void 0?oe(this):dt(this)},ce.prototype.pipeThrough=function(xe,_e){if(_e===void 0&&(_e={}),!Rn(this))throw Xn("pipeThrough");H(xe,1,"pipeThrough");var He=Mi(xe,"First parameter"),Je=Kr(_e,"Second parameter");if(Mn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(pn(He.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var ut=Vr(this,He.writable,Je.preventClose,Je.preventAbort,Je.preventCancel,Je.signal);return S(ut),He.readable},ce.prototype.pipeTo=function(xe,_e){if(_e===void 0&&(_e={}),!Rn(this))return m(Xn("pipeTo"));if(xe===void 0)return m("Parameter 1 is required in 'pipeTo'.");if(!hn(xe))return m(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var He;try{He=Kr(_e,"Second parameter")}catch(Je){return m(Je)}return Mn(this)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):pn(xe)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Vr(this,xe,He.preventClose,He.preventAbort,He.preventCancel,He.signal)},ce.prototype.tee=function(){if(!Rn(this))throw Xn("tee");var xe=wi(this);return Me(xe)},ce.prototype.values=function(xe){if(xe===void 0&&(xe=void 0),!Rn(this))throw Xn("values");var _e=Ii(xe,"First parameter");return ye(this,_e.preventCancel)},ce}();Object.defineProperties(In.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(In.prototype,C.toStringTag,{value:"ReadableStream",configurable:!0}),typeof C.asyncIterator=="symbol"&&Object.defineProperty(In.prototype,C.asyncIterator,{value:In.prototype.values,writable:!0,configurable:!0});function Nr(ce,xe,_e,He,Je){He===void 0&&(He=1),Je===void 0&&(Je=function(){return 1});var ut=Object.create(In.prototype);Br(ut);var bt=Object.create(qn.prototype);return Yr(ut,bt,ce,xe,_e,He,Je),ut}function qr(ce,xe,_e){var He=Object.create(In.prototype);Br(He);var Je=Object.create(ze.prototype);return At(He,Je,ce,xe,_e,0,void 0),He}function Br(ce){ce._state="readable",ce._reader=void 0,ce._storedError=void 0,ce._disturbed=!1}function Rn(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_readableStreamController")?!1:ce instanceof In}function Mn(ce){return ce._reader!==void 0}function fn(ce,xe){if(ce._disturbed=!0,ce._state==="closed")return u(void 0);if(ce._state==="errored")return m(ce._storedError);hr(ce);var _e=ce._reader;_e!==void 0&&qt(_e)&&(_e._readIntoRequests.forEach(function(Je){Je._closeSteps(void 0)}),_e._readIntoRequests=new O);var He=ce._readableStreamController[ie](xe);return o(He,_)}function hr(ce){ce._state="closed";var xe=ce._reader;xe!==void 0&&(z(xe),be(xe)&&(xe._readRequests.forEach(function(_e){_e._closeSteps()}),xe._readRequests=new O))}function Jr(ce,xe){ce._state="errored",ce._storedError=xe;var _e=ce._reader;_e!==void 0&&(P(_e,xe),be(_e)?(_e._readRequests.forEach(function(He){He._errorSteps(xe)}),_e._readRequests=new O):(_e._readIntoRequests.forEach(function(He){He._errorSteps(xe)}),_e._readIntoRequests=new O))}function Xn(ce){return new TypeError("ReadableStream.prototype."+ce+" can only be used on a ReadableStream")}function Zr(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.highWaterMark;return q(_e,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ne(_e)}}var Qr=function(ce){return ce.byteLength};try{Object.defineProperty(Qr,"name",{value:"size",configurable:!0})}catch{}var Sr=function(){function ce(xe){H(xe,1,"ByteLengthQueuingStrategy"),xe=Zr(xe,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=xe.highWaterMark}return Object.defineProperty(ce.prototype,"highWaterMark",{get:function(){if(!ti(this))throw ei("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"size",{get:function(){if(!ti(this))throw ei("size");return Qr},enumerable:!1,configurable:!0}),ce}();Object.defineProperties(Sr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(Sr.prototype,C.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function ei(ce){return new TypeError("ByteLengthQueuingStrategy.prototype."+ce+" can only be used on a ByteLengthQueuingStrategy")}function ti(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_byteLengthQueuingStrategyHighWaterMark")?!1:ce instanceof Sr}var ni=function(){return 1};try{Object.defineProperty(ni,"name",{value:"size",configurable:!0})}catch{}var wr=function(){function ce(xe){H(xe,1,"CountQueuingStrategy"),xe=Zr(xe,"First parameter"),this._countQueuingStrategyHighWaterMark=xe.highWaterMark}return Object.defineProperty(ce.prototype,"highWaterMark",{get:function(){if(!ii(this))throw ri("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"size",{get:function(){if(!ii(this))throw ri("size");return ni},enumerable:!1,configurable:!0}),ce}();Object.defineProperties(wr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,C.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ri(ce){return new TypeError("CountQueuingStrategy.prototype."+ce+" can only be used on a CountQueuingStrategy")}function ii(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_countQueuingStrategyHighWaterMark")?!1:ce instanceof wr}function Di(ce,xe){ee(ce,xe);var _e=ce==null?void 0:ce.flush,He=ce==null?void 0:ce.readableType,Je=ce==null?void 0:ce.start,ut=ce==null?void 0:ce.transform,bt=ce==null?void 0:ce.writableType;return{flush:_e===void 0?void 0:Li(_e,ce,xe+" has member 'flush' that"),readableType:He,start:Je===void 0?void 0:Ni(Je,ce,xe+" has member 'start' that"),transform:ut===void 0?void 0:Bi(ut,ce,xe+" has member 'transform' that"),writableType:bt}}function Li(ce,xe,_e){return V(ce,_e),function(He){return k(ce,xe,[He])}}function Ni(ce,xe,_e){return V(ce,_e),function(He){return E(ce,xe,[He])}}function Bi(ce,xe,_e){return V(ce,_e),function(He,Je){return k(ce,xe,[He,Je])}}var Cr=function(){function ce(xe,_e,He){xe===void 0&&(xe={}),_e===void 0&&(_e={}),He===void 0&&(He={}),xe===void 0&&(xe=null);var Je=kn(_e,"Second parameter"),ut=kn(He,"Third parameter"),bt=Di(xe,"First parameter");if(bt.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(bt.writableType!==void 0)throw new RangeError("Invalid writableType specified");var _t=gn(ut,0),Ut=Tn(ut),Xt=gn(Je,1),Vt=Tn(Je),Kt,rn=e(function(dn){Kt=dn});$i(this,rn,Xt,Vt,_t,Ut),Ui(this,bt),bt.start!==void 0?Kt(bt.start(this._transformStreamController)):Kt(void 0)}return Object.defineProperty(ce.prototype,"readable",{get:function(){if(!ai(this))throw ci("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"writable",{get:function(){if(!ai(this))throw ci("writable");return this._writable},enumerable:!1,configurable:!0}),ce}();Object.defineProperties(Cr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(Cr.prototype,C.toStringTag,{value:"TransformStream",configurable:!0});function $i(ce,xe,_e,He,Je,ut){function bt(){return xe}function _t(rn){return Xi(ce,rn)}function Ut(rn){return zi(ce,rn)}function Xt(){return Vi(ce)}ce._writable=Bn(bt,_t,Xt,Ut,_e,He);function Vt(){return Gi(ce)}function Kt(rn){return Er(ce,rn),u(void 0)}ce._readable=Nr(bt,Vt,Kt,Je,ut),ce._backpressure=void 0,ce._backpressureChangePromise=void 0,ce._backpressureChangePromise_resolve=void 0,Tr(ce,!0),ce._transformStreamController=void 0}function ai(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_transformStreamController")?!1:ce instanceof Cr}function Ar(ce,xe){On(ce._readable._readableStreamController,xe),Er(ce,xe)}function Er(ce,xe){si(ce._transformStreamController),_r(ce._writable._writableStreamController,xe),ce._backpressure&&Tr(ce,!1)}function Tr(ce,xe){ce._backpressureChangePromise!==void 0&&ce._backpressureChangePromise_resolve(),ce._backpressureChangePromise=e(function(_e){ce._backpressureChangePromise_resolve=_e}),ce._backpressure=xe}var fr=function(){function ce(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ce.prototype,"desiredSize",{get:function(){if(!kr(this))throw Fr("desiredSize");var xe=this._controlledTransformStream._readable._readableStreamController;return Lr(xe)},enumerable:!1,configurable:!0}),ce.prototype.enqueue=function(xe){if(xe===void 0&&(xe=void 0),!kr(this))throw Fr("enqueue");oi(this,xe)},ce.prototype.error=function(xe){if(xe===void 0&&(xe=void 0),!kr(this))throw Fr("error");Hi(this,xe)},ce.prototype.terminate=function(){if(!kr(this))throw Fr("terminate");Wi(this)},ce}();Object.defineProperties(fr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof C.toStringTag=="symbol"&&Object.defineProperty(fr.prototype,C.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function kr(ce){return!l(ce)||!Object.prototype.hasOwnProperty.call(ce,"_controlledTransformStream")?!1:ce instanceof fr}function ji(ce,xe,_e,He){xe._controlledTransformStream=ce,ce._transformStreamController=xe,xe._transformAlgorithm=_e,xe._flushAlgorithm=He}function Ui(ce,xe){var _e=Object.create(fr.prototype),He=function(ut){try{return oi(_e,ut),u(void 0)}catch(bt){return m(bt)}},Je=function(){return u(void 0)};xe.transform!==void 0&&(He=function(ut){return xe.transform(ut,_e)}),xe.flush!==void 0&&(Je=function(){return xe.flush(_e)}),ji(ce,_e,He,Je)}function si(ce){ce._transformAlgorithm=void 0,ce._flushAlgorithm=void 0}function oi(ce,xe){var _e=ce._controlledTransformStream,He=_e._readable._readableStreamController;if(!Jn(He))throw new TypeError("Readable side is not in a state that permits enqueue");try{yr(He,xe)}catch(ut){throw Er(_e,ut),_e._readable._storedError}var Je=vi(He);Je!==_e._backpressure&&Tr(_e,!0)}function Hi(ce,xe){Ar(ce._controlledTransformStream,xe)}function li(ce,xe){var _e=ce._transformAlgorithm(xe);return o(_e,void 0,function(He){throw Ar(ce._controlledTransformStream,He),He})}function Wi(ce){var xe=ce._controlledTransformStream,_e=xe._readable._readableStreamController;ur(_e);var He=new TypeError("TransformStream terminated");Er(xe,He)}function Xi(ce,xe){var _e=ce._transformStreamController;if(ce._backpressure){var He=ce._backpressureChangePromise;return o(He,function(){var Je=ce._writable,ut=Je._state;if(ut==="erroring")throw Je._storedError;return li(_e,xe)})}return li(_e,xe)}function zi(ce,xe){return Ar(ce,xe),u(void 0)}function Vi(ce){var xe=ce._readable,_e=ce._transformStreamController,He=_e._flushAlgorithm();return si(_e),o(He,function(){if(xe._state==="errored")throw xe._storedError;ur(xe._readableStreamController)},function(Je){throw Ar(ce,Je),xe._storedError})}function Gi(ce){return Tr(ce,!1),ce._backpressureChangePromise}function Fr(ce){return new TypeError("TransformStreamDefaultController.prototype."+ce+" can only be used on a TransformStreamDefaultController")}function ci(ce){return new TypeError("TransformStream.prototype."+ce+" can only be used on a TransformStream")}x.ByteLengthQueuingStrategy=Sr,x.CountQueuingStrategy=wr,x.ReadableByteStreamController=ze,x.ReadableStream=In,x.ReadableStreamBYOBReader=Ht,x.ReadableStreamBYOBRequest=Be,x.ReadableStreamDefaultController=qn,x.ReadableStreamDefaultReader=fe,x.TransformStream=Cr,x.TransformStreamDefaultController=fr,x.WritableStream=vn,x.WritableStreamDefaultController=$t,x.WritableStreamDefaultWriter=vt,Object.defineProperty(x,"__esModule",{value:!0})})}(ponyfill,ponyfillExports)),ponyfillExports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(n,x){module.exports=x()})(globalThis,()=>(()=>{var __webpack_modules__=[,(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.UNSUPPORTED_FEATURES=n.TextRenderingMode=n.StreamType=n.RenderingIntentFlag=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FontType=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.AnnotationType=n.AnnotationStateModelType=n.AnnotationReviewState=n.AnnotationReplyType=n.AnnotationMode=n.AnnotationMarkedState=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.arrayByteLength=J,n.arraysToBytes=re,n.assert=ie,n.bytesToString=le,n.createPromiseCapability=Ne,n.createValidAbsoluteUrl=F,n.escapeString=we,n.getModificationDate=Me,n.getVerbosityLevel=A,n.info=z,n.isArrayBuffer=De,n.isArrayEqual=Ie,n.isAscii=Fe,n.objectFromMap=he,n.objectSize=ue,n.setVerbosityLevel=P,n.shadow=D,n.string32=oe,n.stringToBytes=se,n.stringToPDFString=ve,n.stringToUTF16BEString=Ce,n.stringToUTF8String=ye,n.unreachable=W,n.utf8StringToString=ke,n.warn=N,x(2);const C=[1,0,0,1,0,0];n.IDENTITY_MATRIX=C;const _=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=_;const K=1.35;n.LINE_FACTOR=K;const $=.35;n.LINE_DESCENT_FACTOR=$;const l={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=l;const a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=a;const t="pdfjs_internal_editor_";n.AnnotationEditorPrefix=t;const i={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};n.AnnotationEditorType=i;const c={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};n.AnnotationEditorParamsType=c;const s={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=s;const e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=e;const u={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=u;const m={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=m;const g={MARKED:"Marked",REVIEW:"Review"};n.AnnotationStateModelType=g;const y={MARKED:"Marked",UNMARKED:"Unmarked"};n.AnnotationMarkedState=y;const b={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};n.AnnotationReviewState=b;const v={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=v;const o={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=o;const S={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=S;const T={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=T;const E={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=E;const k={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=k;const M={O:"PageOpen",C:"PageClose"};n.PageActionEventType=M;const O={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};n.StreamType=O;const L={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};n.FontType=L;const te={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=te;const B={NONE:0,BINARY:1,STREAM:2};n.CMapCompressionType=B;const G={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=G;const R={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};n.UNSUPPORTED_FEATURES=R;const I={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=I;let U=te.WARNINGS;function P(Re){Number.isInteger(Re)&&(U=Re)}function A(){return U}function z(Re){U>=te.INFOS&&console.log(`Info: ${Re}`)}function N(Re){U>=te.WARNINGS&&console.log(`Warning: ${Re}`)}function W(Re){throw new Error(Re)}function ie(Re,Oe){Re||W(Oe)}function Y(Re){if(!Re)return!1;switch(Re.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function F(Re){let Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Re)return null;try{if(Le&&typeof Re=="string"){if(Le.addDefaultProtocol&&Re.startsWith("www.")){const $e=Re.match(/\./g);$e&&$e.length>=2&&(Re=`http://${Re}`)}if(Le.tryConvertEncoding)try{Re=ye(Re)}catch{}}const Pe=Oe?new URL(Re,Oe):new URL(Re);if(Y(Pe))return Pe}catch{}return null}function D(Re,Oe,Le){return Object.defineProperty(Re,Oe,{value:Le,enumerable:!0,configurable:!0,writable:!1}),Le}const Q=function(){function Oe(Le,Pe){this.constructor===Oe&&W("Cannot initialize BaseException."),this.message=Le,this.name=Pe}return Oe.prototype=new Error,Oe.constructor=Oe,Oe}();n.BaseException=Q;class ee extends Q{constructor(Oe,Le){super(Oe,"PasswordException"),this.code=Le}}n.PasswordException=ee;class V extends Q{constructor(Oe,Le){super(Oe,"UnknownErrorException"),this.details=Le}}n.UnknownErrorException=V;class Z extends Q{constructor(Oe){super(Oe,"InvalidPDFException")}}n.InvalidPDFException=Z;class ae extends Q{constructor(Oe){super(Oe,"MissingPDFException")}}n.MissingPDFException=ae;class H extends Q{constructor(Oe,Le){super(Oe,"UnexpectedResponseException"),this.status=Le}}n.UnexpectedResponseException=H;class q extends Q{constructor(Oe){super(Oe,"FormatError")}}n.FormatError=q;class ne extends Q{constructor(Oe){super(Oe,"AbortException")}}n.AbortException=ne;function le(Re){(typeof Re!="object"||Re===null||Re.length===void 0)&&W("Invalid argument for bytesToString");const Oe=Re.length,Le=8192;if(Oe<Le)return String.fromCharCode.apply(null,Re);const Pe=[];for(let $e=0;$e<Oe;$e+=Le){const je=Math.min($e+Le,Oe),Te=Re.subarray($e,je);Pe.push(String.fromCharCode.apply(null,Te))}return Pe.join("")}function se(Re){typeof Re!="string"&&W("Invalid argument for stringToBytes");const Oe=Re.length,Le=new Uint8Array(Oe);for(let Pe=0;Pe<Oe;++Pe)Le[Pe]=Re.charCodeAt(Pe)&255;return Le}function J(Re){if(Re.length!==void 0)return Re.length;if(Re.byteLength!==void 0)return Re.byteLength;W("Invalid argument for arrayByteLength")}function re(Re){const Oe=Re.length;if(Oe===1&&Re[0]instanceof Uint8Array)return Re[0];let Le=0;for(let je=0;je<Oe;je++)Le+=J(Re[je]);let Pe=0;const $e=new Uint8Array(Le);for(let je=0;je<Oe;je++){let Te=Re[je];Te instanceof Uint8Array||(typeof Te=="string"?Te=se(Te):Te=new Uint8Array(Te));const Ae=Te.byteLength;$e.set(Te,Pe),Pe+=Ae}return $e}function oe(Re){return String.fromCharCode(Re>>24&255,Re>>16&255,Re>>8&255,Re&255)}function ue(Re){return Object.keys(Re).length}function he(Re){const Oe=Object.create(null);for(const[Le,Pe]of Re)Oe[Le]=Pe;return Oe}function de(){const Re=new Uint8Array(4);return Re[0]=1,new Uint32Array(Re.buffer,0,1)[0]===1}function pe(){try{return new Function(""),!0}catch{return!1}}class fe{static get isLittleEndian(){return D(this,"isLittleEndian",de())}static get isEvalSupported(){return D(this,"isEvalSupported",pe())}static get isOffscreenCanvasSupported(){return D(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}n.FeatureTest=fe;const be=[...Array(256).keys()].map(Re=>Re.toString(16).padStart(2,"0"));class ge{static makeHexColor(Oe,Le,Pe){return`#${be[Oe]}${be[Le]}${be[Pe]}`}static scaleMinMax(Oe,Le){let Pe;Oe[0]?(Oe[0]<0&&(Pe=Le[0],Le[0]=Le[1],Le[1]=Pe),Le[0]*=Oe[0],Le[1]*=Oe[0],Oe[3]<0&&(Pe=Le[2],Le[2]=Le[3],Le[3]=Pe),Le[2]*=Oe[3],Le[3]*=Oe[3]):(Pe=Le[0],Le[0]=Le[2],Le[2]=Pe,Pe=Le[1],Le[1]=Le[3],Le[3]=Pe,Oe[1]<0&&(Pe=Le[2],Le[2]=Le[3],Le[3]=Pe),Le[2]*=Oe[1],Le[3]*=Oe[1],Oe[2]<0&&(Pe=Le[0],Le[0]=Le[1],Le[1]=Pe),Le[0]*=Oe[2],Le[1]*=Oe[2]),Le[0]+=Oe[4],Le[1]+=Oe[4],Le[2]+=Oe[5],Le[3]+=Oe[5]}static transform(Oe,Le){return[Oe[0]*Le[0]+Oe[2]*Le[1],Oe[1]*Le[0]+Oe[3]*Le[1],Oe[0]*Le[2]+Oe[2]*Le[3],Oe[1]*Le[2]+Oe[3]*Le[3],Oe[0]*Le[4]+Oe[2]*Le[5]+Oe[4],Oe[1]*Le[4]+Oe[3]*Le[5]+Oe[5]]}static applyTransform(Oe,Le){const Pe=Oe[0]*Le[0]+Oe[1]*Le[2]+Le[4],$e=Oe[0]*Le[1]+Oe[1]*Le[3]+Le[5];return[Pe,$e]}static applyInverseTransform(Oe,Le){const Pe=Le[0]*Le[3]-Le[1]*Le[2],$e=(Oe[0]*Le[3]-Oe[1]*Le[2]+Le[2]*Le[5]-Le[4]*Le[3])/Pe,je=(-Oe[0]*Le[1]+Oe[1]*Le[0]+Le[4]*Le[1]-Le[5]*Le[0])/Pe;return[$e,je]}static getAxialAlignedBoundingBox(Oe,Le){const Pe=ge.applyTransform(Oe,Le),$e=ge.applyTransform(Oe.slice(2,4),Le),je=ge.applyTransform([Oe[0],Oe[3]],Le),Te=ge.applyTransform([Oe[2],Oe[1]],Le);return[Math.min(Pe[0],$e[0],je[0],Te[0]),Math.min(Pe[1],$e[1],je[1],Te[1]),Math.max(Pe[0],$e[0],je[0],Te[0]),Math.max(Pe[1],$e[1],je[1],Te[1])]}static inverseTransform(Oe){const Le=Oe[0]*Oe[3]-Oe[1]*Oe[2];return[Oe[3]/Le,-Oe[1]/Le,-Oe[2]/Le,Oe[0]/Le,(Oe[2]*Oe[5]-Oe[4]*Oe[3])/Le,(Oe[4]*Oe[1]-Oe[5]*Oe[0])/Le]}static apply3dTransform(Oe,Le){return[Oe[0]*Le[0]+Oe[1]*Le[1]+Oe[2]*Le[2],Oe[3]*Le[0]+Oe[4]*Le[1]+Oe[5]*Le[2],Oe[6]*Le[0]+Oe[7]*Le[1]+Oe[8]*Le[2]]}static singularValueDecompose2dScale(Oe){const Le=[Oe[0],Oe[2],Oe[1],Oe[3]],Pe=Oe[0]*Le[0]+Oe[1]*Le[2],$e=Oe[0]*Le[1]+Oe[1]*Le[3],je=Oe[2]*Le[0]+Oe[3]*Le[2],Te=Oe[2]*Le[1]+Oe[3]*Le[3],Ae=(Pe+Te)/2,Ee=Math.sqrt((Pe+Te)**2-4*(Pe*Te-je*$e))/2,Be=Ae+Ee||1,ze=Ae-Ee||1;return[Math.sqrt(Be),Math.sqrt(ze)]}static normalizeRect(Oe){const Le=Oe.slice(0);return Oe[0]>Oe[2]&&(Le[0]=Oe[2],Le[2]=Oe[0]),Oe[1]>Oe[3]&&(Le[1]=Oe[3],Le[3]=Oe[1]),Le}static intersect(Oe,Le){const Pe=Math.max(Math.min(Oe[0],Oe[2]),Math.min(Le[0],Le[2])),$e=Math.min(Math.max(Oe[0],Oe[2]),Math.max(Le[0],Le[2]));if(Pe>$e)return null;const je=Math.max(Math.min(Oe[1],Oe[3]),Math.min(Le[1],Le[3])),Te=Math.min(Math.max(Oe[1],Oe[3]),Math.max(Le[1],Le[3]));return je>Te?null:[Pe,je,$e,Te]}static bezierBoundingBox(Oe,Le,Pe,$e,je,Te,Ae,Ee){const Be=[],ze=[[],[]];let We,tt,Ze,Xe,st,gt,Ge,ht;for(let kt=0;kt<2;++kt){if(kt===0?(tt=6*Oe-12*Pe+6*je,We=-3*Oe+9*Pe-9*je+3*Ae,Ze=3*Pe-3*Oe):(tt=6*Le-12*$e+6*Te,We=-3*Le+9*$e-9*Te+3*Ee,Ze=3*$e-3*Le),Math.abs(We)<1e-12){if(Math.abs(tt)<1e-12)continue;Xe=-Ze/tt,0<Xe&&Xe<1&&Be.push(Xe);continue}Ge=tt*tt-4*Ze*We,ht=Math.sqrt(Ge),!(Ge<0)&&(st=(-tt+ht)/(2*We),0<st&&st<1&&Be.push(st),gt=(-tt-ht)/(2*We),0<gt&&gt<1&&Be.push(gt))}let ct=Be.length,pt;const Ct=ct;for(;ct--;)Xe=Be[ct],pt=1-Xe,ze[0][ct]=pt*pt*pt*Oe+3*pt*pt*Xe*Pe+3*pt*Xe*Xe*je+Xe*Xe*Xe*Ae,ze[1][ct]=pt*pt*pt*Le+3*pt*pt*Xe*$e+3*pt*Xe*Xe*Te+Xe*Xe*Xe*Ee;return ze[0][Ct]=Oe,ze[1][Ct]=Le,ze[0][Ct+1]=Ae,ze[1][Ct+1]=Ee,ze[0].length=ze[1].length=Ct+2,[Math.min(...ze[0]),Math.min(...ze[1]),Math.max(...ze[0]),Math.max(...ze[1])]}}n.Util=ge;const Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ve(Re){if(Re[0]>=""){let Le;if(Re[0]===""&&Re[1]===""?Le="utf-16be":Re[0]===""&&Re[1]===""?Le="utf-16le":Re[0]===""&&Re[1]===""&&Re[2]===""&&(Le="utf-8"),Le)try{const Pe=new TextDecoder(Le,{fatal:!0}),$e=se(Re);return Pe.decode($e)}catch(Pe){N(`stringToPDFString: "${Pe}".`)}}const Oe=[];for(let Le=0,Pe=Re.length;Le<Pe;Le++){const $e=Se[Re.charCodeAt(Le)];Oe.push($e?String.fromCharCode($e):Re.charAt(Le))}return Oe.join("")}function we(Re){return Re.replace(/([()\\\n\r])/g,Oe=>Oe===`
`?"\\n":Oe==="\r"?"\\r":`\\${Oe}`)}function Fe(Re){return/^[\x00-\x7F]*$/.test(Re)}function Ce(Re){const Oe=[""];for(let Le=0,Pe=Re.length;Le<Pe;Le++){const $e=Re.charCodeAt(Le);Oe.push(String.fromCharCode($e>>8&255),String.fromCharCode($e&255))}return Oe.join("")}function ye(Re){return decodeURIComponent(escape(Re))}function ke(Re){return unescape(encodeURIComponent(Re))}function De(Re){return typeof Re=="object"&&Re!==null&&Re.byteLength!==void 0}function Ie(Re,Oe){if(Re.length!==Oe.length)return!1;for(let Le=0,Pe=Re.length;Le<Pe;Le++)if(Re[Le]!==Oe[Le])return!1;return!0}function Me(){let Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Re.getUTCFullYear().toString(),(Re.getUTCMonth()+1).toString().padStart(2,"0"),Re.getUTCDate().toString().padStart(2,"0"),Re.getUTCHours().toString().padStart(2,"0"),Re.getUTCMinutes().toString().padStart(2,"0"),Re.getUTCSeconds().toString().padStart(2,"0")].join("")}function Ne(){const Re=Object.create(null);let Oe=!1;return Object.defineProperty(Re,"settled",{get(){return Oe}}),Re.promise=new Promise(function(Le,Pe){Re.resolve=function($e){Oe=!0,Le($e)},Re.reject=function($e){Oe=!0,Pe($e)}}),Re}},(r,n,x)=>{var C=x(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!C.isNodeJS||(globalThis.btoa=function(K){return Buffer.from(K,"binary").toString("base64")})}(),function(){globalThis.atob||!C.isNodeJS||(globalThis.atob=function(K){return Buffer.from(K,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!C.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())}(),function(){globalThis.ReadableStream||!C.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||x(4)}(),function(){Uint8Array.prototype.at||x(76)}(),function(){globalThis.structuredClone||x(86)}())},(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeJS=void 0;const x=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=x},(r,n,x)=>{x(5);var C=x(75);r.exports=C("Array","at")},(r,n,x)=>{var C=x(6),_=x(41),K=x(65),$=x(63),l=x(70);C({target:"Array",proto:!0},{at:function(t){var i=_(this),c=K(i),s=$(t),e=s>=0?s:c+s;return e<0||e>=c?void 0:i[e]}}),l("at")},(r,n,x)=>{var C=x(7),_=x(8).f,K=x(45),$=x(49),l=x(39),a=x(57),t=x(69);r.exports=function(i,c){var s=i.target,e=i.global,u=i.stat,m,g,y,b,v,o;if(e?g=C:u?g=C[s]||l(s,{}):g=(C[s]||{}).prototype,g)for(y in c){if(v=c[y],i.dontCallGetSet?(o=_(g,y),b=o&&o.value):b=g[y],m=t(e?y:s+(u?".":"#")+y,i.forced),!m&&b!==void 0){if(typeof v==typeof b)continue;a(v,b)}(i.sham||b&&b.sham)&&K(v,"sham",!0),$(g,y,v,i)}}},r=>{var n=function(x){return x&&x.Math==Math&&x};r.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||function(){return this}()||Function("return this")()},(r,n,x)=>{var C=x(9),_=x(11),K=x(13),$=x(14),l=x(15),a=x(20),t=x(40),i=x(43),c=Object.getOwnPropertyDescriptor;n.f=C?c:function(e,u){if(e=l(e),u=a(u),i)try{return c(e,u)}catch{}if(t(e,u))return $(!_(K.f,e,u),e[u])}},(r,n,x)=>{var C=x(10);r.exports=!C(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},r=>{r.exports=function(n){try{return!!n()}catch{return!0}}},(r,n,x)=>{var C=x(12),_=Function.prototype.call;r.exports=C?_.bind(_):function(){return _.apply(_,arguments)}},(r,n,x)=>{var C=x(10);r.exports=!C(function(){var _=function(){}.bind();return typeof _!="function"||_.hasOwnProperty("prototype")})},(r,n)=>{var x={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,_=C&&!x.call({1:2},1);n.f=_?function($){var l=C(this,$);return!!l&&l.enumerable}:x},r=>{r.exports=function(n,x){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:x}}},(r,n,x)=>{var C=x(16),_=x(19);r.exports=function(K){return C(_(K))}},(r,n,x)=>{var C=x(17),_=x(10),K=x(18),$=Object,l=C("".split);r.exports=_(function(){return!$("z").propertyIsEnumerable(0)})?function(a){return K(a)=="String"?l(a,""):$(a)}:$},(r,n,x)=>{var C=x(12),_=Function.prototype,K=_.bind,$=_.call,l=C&&K.bind($,$);r.exports=C?function(a){return a&&l(a)}:function(a){return a&&function(){return $.apply(a,arguments)}}},(r,n,x)=>{var C=x(17),_=C({}.toString),K=C("".slice);r.exports=function($){return K(_($),8,-1)}},r=>{var n=TypeError;r.exports=function(x){if(x==null)throw n("Can't call method on "+x);return x}},(r,n,x)=>{var C=x(21),_=x(24);r.exports=function(K){var $=C(K,"string");return _($)?$:$+""}},(r,n,x)=>{var C=x(11),_=x(22),K=x(24),$=x(31),l=x(34),a=x(35),t=TypeError,i=a("toPrimitive");r.exports=function(c,s){if(!_(c)||K(c))return c;var e=$(c,i),u;if(e){if(s===void 0&&(s="default"),u=C(e,c,s),!_(u)||K(u))return u;throw t("Can't convert object to primitive value")}return s===void 0&&(s="number"),l(c,s)}},(r,n,x)=>{var C=x(23);r.exports=function(_){return typeof _=="object"?_!==null:C(_)}},r=>{r.exports=function(n){return typeof n=="function"}},(r,n,x)=>{var C=x(25),_=x(23),K=x(26),$=x(27),l=Object;r.exports=$?function(a){return typeof a=="symbol"}:function(a){var t=C("Symbol");return _(t)&&K(t.prototype,l(a))}},(r,n,x)=>{var C=x(7),_=x(23),K=function($){return _($)?$:void 0};r.exports=function($,l){return arguments.length<2?K(C[$]):C[$]&&C[$][l]}},(r,n,x)=>{var C=x(17);r.exports=C({}.isPrototypeOf)},(r,n,x)=>{var C=x(28);r.exports=C&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(r,n,x)=>{var C=x(29),_=x(10);r.exports=!!Object.getOwnPropertySymbols&&!_(function(){var K=Symbol();return!String(K)||!(Object(K)instanceof Symbol)||!Symbol.sham&&C&&C<41})},(r,n,x)=>{var C=x(7),_=x(30),K=C.process,$=C.Deno,l=K&&K.versions||$&&$.version,a=l&&l.v8,t,i;a&&(t=a.split("."),i=t[0]>0&&t[0]<4?1:+(t[0]+t[1])),!i&&_&&(t=_.match(/Edge\/(\d+)/),(!t||t[1]>=74)&&(t=_.match(/Chrome\/(\d+)/),t&&(i=+t[1]))),r.exports=i},(r,n,x)=>{var C=x(25);r.exports=C("navigator","userAgent")||""},(r,n,x)=>{var C=x(32);r.exports=function(_,K){var $=_[K];return $==null?void 0:C($)}},(r,n,x)=>{var C=x(23),_=x(33),K=TypeError;r.exports=function($){if(C($))return $;throw K(_($)+" is not a function")}},r=>{var n=String;r.exports=function(x){try{return n(x)}catch{return"Object"}}},(r,n,x)=>{var C=x(11),_=x(23),K=x(22),$=TypeError;r.exports=function(l,a){var t,i;if(a==="string"&&_(t=l.toString)&&!K(i=C(t,l))||_(t=l.valueOf)&&!K(i=C(t,l))||a!=="string"&&_(t=l.toString)&&!K(i=C(t,l)))return i;throw $("Can't convert object to primitive value")}},(r,n,x)=>{var C=x(7),_=x(36),K=x(40),$=x(42),l=x(28),a=x(27),t=_("wks"),i=C.Symbol,c=i&&i.for,s=a?i:i&&i.withoutSetter||$;r.exports=function(e){if(!K(t,e)||!(l||typeof t[e]=="string")){var u="Symbol."+e;l&&K(i,e)?t[e]=i[e]:a&&c?t[e]=c(u):t[e]=s(u)}return t[e]}},(r,n,x)=>{var C=x(37),_=x(38);(r.exports=function(K,$){return _[K]||(_[K]=$!==void 0?$:{})})("versions",[]).push({version:"3.24.1",mode:C?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},r=>{r.exports=!1},(r,n,x)=>{var C=x(7),_=x(39),K="__core-js_shared__",$=C[K]||_(K,{});r.exports=$},(r,n,x)=>{var C=x(7),_=Object.defineProperty;r.exports=function(K,$){try{_(C,K,{value:$,configurable:!0,writable:!0})}catch{C[K]=$}return $}},(r,n,x)=>{var C=x(17),_=x(41),K=C({}.hasOwnProperty);r.exports=Object.hasOwn||function(l,a){return K(_(l),a)}},(r,n,x)=>{var C=x(19),_=Object;r.exports=function(K){return _(C(K))}},(r,n,x)=>{var C=x(17),_=0,K=Math.random(),$=C(1 .toString);r.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+$(++_+K,36)}},(r,n,x)=>{var C=x(9),_=x(10),K=x(44);r.exports=!C&&!_(function(){return Object.defineProperty(K("div"),"a",{get:function(){return 7}}).a!=7})},(r,n,x)=>{var C=x(7),_=x(22),K=C.document,$=_(K)&&_(K.createElement);r.exports=function(l){return $?K.createElement(l):{}}},(r,n,x)=>{var C=x(9),_=x(46),K=x(14);r.exports=C?function($,l,a){return _.f($,l,K(1,a))}:function($,l,a){return $[l]=a,$}},(r,n,x)=>{var C=x(9),_=x(43),K=x(47),$=x(48),l=x(20),a=TypeError,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,c="enumerable",s="configurable",e="writable";n.f=C?K?function(m,g,y){if($(m),g=l(g),$(y),typeof m=="function"&&g==="prototype"&&"value"in y&&e in y&&!y[e]){var b=i(m,g);b&&b[e]&&(m[g]=y.value,y={configurable:s in y?y[s]:b[s],enumerable:c in y?y[c]:b[c],writable:!1})}return t(m,g,y)}:t:function(m,g,y){if($(m),g=l(g),$(y),_)try{return t(m,g,y)}catch{}if("get"in y||"set"in y)throw a("Accessors not supported");return"value"in y&&(m[g]=y.value),m}},(r,n,x)=>{var C=x(9),_=x(10);r.exports=C&&_(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(r,n,x)=>{var C=x(22),_=String,K=TypeError;r.exports=function($){if(C($))return $;throw K(_($)+" is not an object")}},(r,n,x)=>{var C=x(23),_=x(46),K=x(50),$=x(39);r.exports=function(l,a,t,i){i||(i={});var c=i.enumerable,s=i.name!==void 0?i.name:a;if(C(t)&&K(t,s,i),i.global)c?l[a]=t:$(a,t);else{try{i.unsafe?l[a]&&(c=!0):delete l[a]}catch{}c?l[a]=t:_.f(l,a,{value:t,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return l}},(r,n,x)=>{var C=x(10),_=x(23),K=x(40),$=x(9),l=x(51).CONFIGURABLE,a=x(52),t=x(53),i=t.enforce,c=t.get,s=Object.defineProperty,e=$&&!C(function(){return s(function(){},"length",{value:8}).length!==8}),u=String(String).split("String"),m=r.exports=function(g,y,b){String(y).slice(0,7)==="Symbol("&&(y="["+String(y).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),b&&b.getter&&(y="get "+y),b&&b.setter&&(y="set "+y),(!K(g,"name")||l&&g.name!==y)&&($?s(g,"name",{value:y,configurable:!0}):g.name=y),e&&b&&K(b,"arity")&&g.length!==b.arity&&s(g,"length",{value:b.arity});try{b&&K(b,"constructor")&&b.constructor?$&&s(g,"prototype",{writable:!1}):g.prototype&&(g.prototype=void 0)}catch{}var v=i(g);return K(v,"source")||(v.source=u.join(typeof y=="string"?y:"")),g};Function.prototype.toString=m(function(){return _(this)&&c(this).source||a(this)},"toString")},(r,n,x)=>{var C=x(9),_=x(40),K=Function.prototype,$=C&&Object.getOwnPropertyDescriptor,l=_(K,"name"),a=l&&function(){}.name==="something",t=l&&(!C||C&&$(K,"name").configurable);r.exports={EXISTS:l,PROPER:a,CONFIGURABLE:t}},(r,n,x)=>{var C=x(17),_=x(23),K=x(38),$=C(Function.toString);_(K.inspectSource)||(K.inspectSource=function(l){return $(l)}),r.exports=K.inspectSource},(r,n,x)=>{var C=x(54),_=x(7),K=x(17),$=x(22),l=x(45),a=x(40),t=x(38),i=x(55),c=x(56),s="Object already initialized",e=_.TypeError,u=_.WeakMap,m,g,y,b=function(M){return y(M)?g(M):m(M,{})},v=function(M){return function(O){var L;if(!$(O)||(L=g(O)).type!==M)throw e("Incompatible receiver, "+M+" required");return L}};if(C||t.state){var o=t.state||(t.state=new u),S=K(o.get),T=K(o.has),E=K(o.set);m=function(M,O){if(T(o,M))throw new e(s);return O.facade=M,E(o,M,O),O},g=function(M){return S(o,M)||{}},y=function(M){return T(o,M)}}else{var k=i("state");c[k]=!0,m=function(M,O){if(a(M,k))throw new e(s);return O.facade=M,l(M,k,O),O},g=function(M){return a(M,k)?M[k]:{}},y=function(M){return a(M,k)}}r.exports={set:m,get:g,has:y,enforce:b,getterFor:v}},(r,n,x)=>{var C=x(7),_=x(23),K=x(52),$=C.WeakMap;r.exports=_($)&&/native code/.test(K($))},(r,n,x)=>{var C=x(36),_=x(42),K=C("keys");r.exports=function($){return K[$]||(K[$]=_($))}},r=>{r.exports={}},(r,n,x)=>{var C=x(40),_=x(58),K=x(8),$=x(46);r.exports=function(l,a,t){for(var i=_(a),c=$.f,s=K.f,e=0;e<i.length;e++){var u=i[e];!C(l,u)&&!(t&&C(t,u))&&c(l,u,s(a,u))}}},(r,n,x)=>{var C=x(25),_=x(17),K=x(59),$=x(68),l=x(48),a=_([].concat);r.exports=C("Reflect","ownKeys")||function(i){var c=K.f(l(i)),s=$.f;return s?a(c,s(i)):c}},(r,n,x)=>{var C=x(60),_=x(67),K=_.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(l){return C(l,K)}},(r,n,x)=>{var C=x(17),_=x(40),K=x(15),$=x(61).indexOf,l=x(56),a=C([].push);r.exports=function(t,i){var c=K(t),s=0,e=[],u;for(u in c)!_(l,u)&&_(c,u)&&a(e,u);for(;i.length>s;)_(c,u=i[s++])&&(~$(e,u)||a(e,u));return e}},(r,n,x)=>{var C=x(15),_=x(62),K=x(65),$=function(l){return function(a,t,i){var c=C(a),s=K(c),e=_(i,s),u;if(l&&t!=t){for(;s>e;)if(u=c[e++],u!=u)return!0}else for(;s>e;e++)if((l||e in c)&&c[e]===t)return l||e||0;return!l&&-1}};r.exports={includes:$(!0),indexOf:$(!1)}},(r,n,x)=>{var C=x(63),_=Math.max,K=Math.min;r.exports=function($,l){var a=C($);return a<0?_(a+l,0):K(a,l)}},(r,n,x)=>{var C=x(64);r.exports=function(_){var K=+_;return K!==K||K===0?0:C(K)}},r=>{var n=Math.ceil,x=Math.floor;r.exports=Math.trunc||function(_){var K=+_;return(K>0?x:n)(K)}},(r,n,x)=>{var C=x(66);r.exports=function(_){return C(_.length)}},(r,n,x)=>{var C=x(63),_=Math.min;r.exports=function(K){return K>0?_(C(K),9007199254740991):0}},r=>{r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(r,n)=>{n.f=Object.getOwnPropertySymbols},(r,n,x)=>{var C=x(10),_=x(23),K=/#|\.prototype\./,$=function(c,s){var e=a[l(c)];return e==i?!0:e==t?!1:_(s)?C(s):!!s},l=$.normalize=function(c){return String(c).replace(K,".").toLowerCase()},a=$.data={},t=$.NATIVE="N",i=$.POLYFILL="P";r.exports=$},(r,n,x)=>{var C=x(35),_=x(71),K=x(46).f,$=C("unscopables"),l=Array.prototype;l[$]==null&&K(l,$,{configurable:!0,value:_(null)}),r.exports=function(a){l[$][a]=!0}},(r,n,x)=>{var C=x(48),_=x(72),K=x(67),$=x(56),l=x(74),a=x(44),t=x(55),i=">",c="<",s="prototype",e="script",u=t("IE_PROTO"),m=function(){},g=function(S){return c+e+i+S+c+"/"+e+i},y=function(S){S.write(g("")),S.close();var T=S.parentWindow.Object;return S=null,T},b=function(){var S=a("iframe"),T="java"+e+":",E;return S.style.display="none",l.appendChild(S),S.src=String(T),E=S.contentWindow.document,E.open(),E.write(g("document.F=Object")),E.close(),E.F},v,o=function(){try{v=new ActiveXObject("htmlfile")}catch{}o=typeof document<"u"?document.domain&&v?y(v):b():y(v);for(var S=K.length;S--;)delete o[s][K[S]];return o()};$[u]=!0,r.exports=Object.create||function(T,E){var k;return T!==null?(m[s]=C(T),k=new m,m[s]=null,k[u]=T):k=o(),E===void 0?k:_.f(k,E)}},(r,n,x)=>{var C=x(9),_=x(47),K=x(46),$=x(48),l=x(15),a=x(73);n.f=C&&!_?Object.defineProperties:function(i,c){$(i);for(var s=l(c),e=a(c),u=e.length,m=0,g;u>m;)K.f(i,g=e[m++],s[g]);return i}},(r,n,x)=>{var C=x(60),_=x(67);r.exports=Object.keys||function($){return C($,_)}},(r,n,x)=>{var C=x(25);r.exports=C("document","documentElement")},(r,n,x)=>{var C=x(7),_=x(17);r.exports=function(K,$){return _(C[K].prototype[$])}},(r,n,x)=>{x(77)},(r,n,x)=>{var C=x(78),_=x(65),K=x(63),$=C.aTypedArray,l=C.exportTypedArrayMethod;l("at",function(t){var i=$(this),c=_(i),s=K(t),e=s>=0?s:c+s;return e<0||e>=c?void 0:i[e]})},(r,n,x)=>{var C=x(79),_=x(9),K=x(7),$=x(23),l=x(22),a=x(40),t=x(80),i=x(33),c=x(45),s=x(49),e=x(46).f,u=x(26),m=x(82),g=x(84),y=x(35),b=x(42),v=x(53),o=v.enforce,S=v.get,T=K.Int8Array,E=T&&T.prototype,k=K.Uint8ClampedArray,M=k&&k.prototype,O=T&&m(T),L=E&&m(E),te=Object.prototype,B=K.TypeError,G=y("toStringTag"),R=b("TYPED_ARRAY_TAG"),I="TypedArrayConstructor",U=C&&!!g&&t(K.opera)!=="Opera",P=!1,A,z,N,W={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ie={BigInt64Array:8,BigUint64Array:8},Y=function(H){if(!l(H))return!1;var q=t(H);return q==="DataView"||a(W,q)||a(ie,q)},F=function(ae){var H=m(ae);if(l(H)){var q=S(H);return q&&a(q,I)?q[I]:F(H)}},D=function(ae){if(!l(ae))return!1;var H=t(ae);return a(W,H)||a(ie,H)},Q=function(ae){if(D(ae))return ae;throw B("Target is not a typed array")},ee=function(ae){if($(ae)&&(!g||u(O,ae)))return ae;throw B(i(ae)+" is not a typed array constructor")},V=function(ae,H,q,ne){if(_){if(q)for(var le in W){var se=K[le];if(se&&a(se.prototype,ae))try{delete se.prototype[ae]}catch{try{se.prototype[ae]=H}catch{}}}(!L[ae]||q)&&s(L,ae,q?H:U&&E[ae]||H,ne)}},Z=function(ae,H,q){var ne,le;if(_){if(g){if(q){for(ne in W)if(le=K[ne],le&&a(le,ae))try{delete le[ae]}catch{}}if(!O[ae]||q)try{return s(O,ae,q?H:U&&O[ae]||H)}catch{}else return}for(ne in W)le=K[ne],le&&(!le[ae]||q)&&s(le,ae,H)}};for(A in W)z=K[A],N=z&&z.prototype,N?o(N)[I]=z:U=!1;for(A in ie)z=K[A],N=z&&z.prototype,N&&(o(N)[I]=z);if((!U||!$(O)||O===Function.prototype)&&(O=function(){throw B("Incorrect invocation")},U))for(A in W)K[A]&&g(K[A],O);if((!U||!L||L===te)&&(L=O.prototype,U))for(A in W)K[A]&&g(K[A].prototype,L);if(U&&m(M)!==L&&g(M,L),_&&!a(L,G)){P=!0,e(L,G,{get:function(){return l(this)?this[R]:void 0}});for(A in W)K[A]&&c(K[A],R,A)}r.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:P&&R,aTypedArray:Q,aTypedArrayConstructor:ee,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:Z,getTypedArrayConstructor:F,isView:Y,isTypedArray:D,TypedArray:O,TypedArrayPrototype:L}},r=>{r.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(r,n,x)=>{var C=x(81),_=x(23),K=x(18),$=x(35),l=$("toStringTag"),a=Object,t=K(function(){return arguments}())=="Arguments",i=function(c,s){try{return c[s]}catch{}};r.exports=C?K:function(c){var s,e,u;return c===void 0?"Undefined":c===null?"Null":typeof(e=i(s=a(c),l))=="string"?e:t?K(s):(u=K(s))=="Object"&&_(s.callee)?"Arguments":u}},(r,n,x)=>{var C=x(35),_=C("toStringTag"),K={};K[_]="z",r.exports=String(K)==="[object z]"},(r,n,x)=>{var C=x(40),_=x(23),K=x(41),$=x(55),l=x(83),a=$("IE_PROTO"),t=Object,i=t.prototype;r.exports=l?t.getPrototypeOf:function(c){var s=K(c);if(C(s,a))return s[a];var e=s.constructor;return _(e)&&s instanceof e?e.prototype:s instanceof t?i:null}},(r,n,x)=>{var C=x(10);r.exports=!C(function(){function _(){}return _.prototype.constructor=null,Object.getPrototypeOf(new _)!==_.prototype})},(r,n,x)=>{var C=x(17),_=x(48),K=x(85);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var $=!1,l={},a;try{a=C(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),a(l,[]),$=l instanceof Array}catch{}return function(i,c){return _(i),K(c),$?a(i,c):i.__proto__=c,i}}():void 0)},(r,n,x)=>{var C=x(23),_=String,K=TypeError;r.exports=function($){if(typeof $=="object"||C($))return $;throw K("Can't set "+_($)+" as a prototype")}},(r,n,x)=>{x(87),x(93),x(95),x(117),x(119);var C=x(128);r.exports=C.structuredClone},(r,n,x)=>{var C=x(15),_=x(70),K=x(88),$=x(53),l=x(46).f,a=x(89),t=x(37),i=x(9),c="Array Iterator",s=$.set,e=$.getterFor(c);r.exports=a(Array,"Array",function(m,g){s(this,{type:c,target:C(m),index:0,kind:g})},function(){var m=e(this),g=m.target,y=m.kind,b=m.index++;return!g||b>=g.length?(m.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:b,done:!1}:y=="values"?{value:g[b],done:!1}:{value:[b,g[b]],done:!1}},"values");var u=K.Arguments=K.Array;if(_("keys"),_("values"),_("entries"),!t&&i&&u.name!=="values")try{l(u,"name",{value:"values"})}catch{}},r=>{r.exports={}},(r,n,x)=>{var C=x(6),_=x(11),K=x(37),$=x(51),l=x(23),a=x(90),t=x(82),i=x(84),c=x(92),s=x(45),e=x(49),u=x(35),m=x(88),g=x(91),y=$.PROPER,b=$.CONFIGURABLE,v=g.IteratorPrototype,o=g.BUGGY_SAFARI_ITERATORS,S=u("iterator"),T="keys",E="values",k="entries",M=function(){return this};r.exports=function(O,L,te,B,G,R,I){a(te,L,B);var U=function(Q){if(Q===G&&W)return W;if(!o&&Q in z)return z[Q];switch(Q){case T:return function(){return new te(this,Q)};case E:return function(){return new te(this,Q)};case k:return function(){return new te(this,Q)}}return function(){return new te(this)}},P=L+" Iterator",A=!1,z=O.prototype,N=z[S]||z["@@iterator"]||G&&z[G],W=!o&&N||U(G),ie=L=="Array"&&z.entries||N,Y,F,D;if(ie&&(Y=t(ie.call(new O)),Y!==Object.prototype&&Y.next&&(!K&&t(Y)!==v&&(i?i(Y,v):l(Y[S])||e(Y,S,M)),c(Y,P,!0,!0),K&&(m[P]=M))),y&&G==E&&N&&N.name!==E&&(!K&&b?s(z,"name",E):(A=!0,W=function(){return _(N,this)})),G)if(F={values:U(E),keys:R?W:U(T),entries:U(k)},I)for(D in F)(o||A||!(D in z))&&e(z,D,F[D]);else C({target:L,proto:!0,forced:o||A},F);return(!K||I)&&z[S]!==W&&e(z,S,W,{name:G}),m[L]=W,F}},(r,n,x)=>{var C=x(91).IteratorPrototype,_=x(71),K=x(14),$=x(92),l=x(88),a=function(){return this};r.exports=function(t,i,c,s){var e=i+" Iterator";return t.prototype=_(C,{next:K(+!s,c)}),$(t,e,!1,!0),l[e]=a,t}},(r,n,x)=>{var C=x(10),_=x(23),K=x(71),$=x(82),l=x(49),a=x(35),t=x(37),i=a("iterator"),c=!1,s,e,u;[].keys&&(u=[].keys(),"next"in u?(e=$($(u)),e!==Object.prototype&&(s=e)):c=!0);var m=s==null||C(function(){var g={};return s[i].call(g)!==g});m?s={}:t&&(s=K(s)),_(s[i])||l(s,i,function(){return this}),r.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:c}},(r,n,x)=>{var C=x(46).f,_=x(40),K=x(35),$=K("toStringTag");r.exports=function(l,a,t){l&&!t&&(l=l.prototype),l&&!_(l,$)&&C(l,$,{configurable:!0,value:a})}},(r,n,x)=>{var C=x(81),_=x(49),K=x(94);C||_(Object.prototype,"toString",K,{unsafe:!0})},(r,n,x)=>{var C=x(81),_=x(80);r.exports=C?{}.toString:function(){return"[object "+_(this)+"]"}},(r,n,x)=>{x(96)},(r,n,x)=>{var C=x(97),_=x(114);C("Map",function(K){return function(){return K(this,arguments.length?arguments[0]:void 0)}},_)},(r,n,x)=>{var C=x(6),_=x(7),K=x(17),$=x(69),l=x(49),a=x(98),t=x(105),i=x(111),c=x(23),s=x(22),e=x(10),u=x(112),m=x(92),g=x(113);r.exports=function(y,b,v){var o=y.indexOf("Map")!==-1,S=y.indexOf("Weak")!==-1,T=o?"set":"add",E=_[y],k=E&&E.prototype,M=E,O={},L=function(P){var A=K(k[P]);l(k,P,P=="add"?function(N){return A(this,N===0?0:N),this}:P=="delete"?function(z){return S&&!s(z)?!1:A(this,z===0?0:z)}:P=="get"?function(N){return S&&!s(N)?void 0:A(this,N===0?0:N)}:P=="has"?function(N){return S&&!s(N)?!1:A(this,N===0?0:N)}:function(N,W){return A(this,N===0?0:N,W),this})},te=$(y,!c(E)||!(S||k.forEach&&!e(function(){new E().entries().next()})));if(te)M=v.getConstructor(b,y,o,T),a.enable();else if($(y,!0)){var B=new M,G=B[T](S?{}:-0,1)!=B,R=e(function(){B.has(1)}),I=u(function(P){new E(P)}),U=!S&&e(function(){for(var P=new E,A=5;A--;)P[T](A,A);return!P.has(-0)});I||(M=b(function(P,A){i(P,k);var z=g(new E,P,M);return A!=null&&t(A,z[T],{that:z,AS_ENTRIES:o}),z}),M.prototype=k,k.constructor=M),(R||U)&&(L("delete"),L("has"),o&&L("get")),(U||G)&&L(T),S&&k.clear&&delete k.clear}return O[y]=M,C({global:!0,constructor:!0,forced:M!=E},O),m(M,y),S||v.setStrong(M,y,o),M}},(r,n,x)=>{var C=x(6),_=x(17),K=x(56),$=x(22),l=x(40),a=x(46).f,t=x(59),i=x(99),c=x(102),s=x(42),e=x(104),u=!1,m=s("meta"),g=0,y=function(E){a(E,m,{value:{objectID:"O"+g++,weakData:{}}})},b=function(E,k){if(!$(E))return typeof E=="symbol"?E:(typeof E=="string"?"S":"P")+E;if(!l(E,m)){if(!c(E))return"F";if(!k)return"E";y(E)}return E[m].objectID},v=function(E,k){if(!l(E,m)){if(!c(E))return!0;if(!k)return!1;y(E)}return E[m].weakData},o=function(E){return e&&u&&c(E)&&!l(E,m)&&y(E),E},S=function(){T.enable=function(){},u=!0;var E=t.f,k=_([].splice),M={};M[m]=1,E(M).length&&(t.f=function(O){for(var L=E(O),te=0,B=L.length;te<B;te++)if(L[te]===m){k(L,te,1);break}return L},C({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:i.f}))},T=r.exports={enable:S,fastKey:b,getWeakData:v,onFreeze:o};K[m]=!0},(r,n,x)=>{var C=x(18),_=x(15),K=x(59).f,$=x(100),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return K(t)}catch{return $(l)}};r.exports.f=function(i){return l&&C(i)=="Window"?a(i):K(_(i))}},(r,n,x)=>{var C=x(62),_=x(65),K=x(101),$=Array,l=Math.max;r.exports=function(a,t,i){for(var c=_(a),s=C(t,c),e=C(i===void 0?c:i,c),u=$(l(e-s,0)),m=0;s<e;s++,m++)K(u,m,a[s]);return u.length=m,u}},(r,n,x)=>{var C=x(20),_=x(46),K=x(14);r.exports=function($,l,a){var t=C(l);t in $?_.f($,t,K(0,a)):$[t]=a}},(r,n,x)=>{var C=x(10),_=x(22),K=x(18),$=x(103),l=Object.isExtensible,a=C(function(){});r.exports=a||$?function(i){return!_(i)||$&&K(i)=="ArrayBuffer"?!1:l?l(i):!0}:l},(r,n,x)=>{var C=x(10);r.exports=C(function(){if(typeof ArrayBuffer=="function"){var _=new ArrayBuffer(8);Object.isExtensible(_)&&Object.defineProperty(_,"a",{value:8})}})},(r,n,x)=>{var C=x(10);r.exports=!C(function(){return Object.isExtensible(Object.preventExtensions({}))})},(r,n,x)=>{var C=x(106),_=x(11),K=x(48),$=x(33),l=x(107),a=x(65),t=x(26),i=x(108),c=x(109),s=x(110),e=TypeError,u=function(g,y){this.stopped=g,this.result=y},m=u.prototype;r.exports=function(g,y,b){var v=b&&b.that,o=!!(b&&b.AS_ENTRIES),S=!!(b&&b.IS_RECORD),T=!!(b&&b.IS_ITERATOR),E=!!(b&&b.INTERRUPTED),k=C(y,v),M,O,L,te,B,G,R,I=function(P){return M&&s(M,"normal",P),new u(!0,P)},U=function(P){return o?(K(P),E?k(P[0],P[1],I):k(P[0],P[1])):E?k(P,I):k(P)};if(S)M=g.iterator;else if(T)M=g;else{if(O=c(g),!O)throw e($(g)+" is not iterable");if(l(O)){for(L=0,te=a(g);te>L;L++)if(B=U(g[L]),B&&t(m,B))return B;return new u(!1)}M=i(g,O)}for(G=S?g.next:M.next;!(R=_(G,M)).done;){try{B=U(R.value)}catch(P){s(M,"throw",P)}if(typeof B=="object"&&B&&t(m,B))return B}return new u(!1)}},(r,n,x)=>{var C=x(17),_=x(32),K=x(12),$=C(C.bind);r.exports=function(l,a){return _(l),a===void 0?l:K?$(l,a):function(){return l.apply(a,arguments)}}},(r,n,x)=>{var C=x(35),_=x(88),K=C("iterator"),$=Array.prototype;r.exports=function(l){return l!==void 0&&(_.Array===l||$[K]===l)}},(r,n,x)=>{var C=x(11),_=x(32),K=x(48),$=x(33),l=x(109),a=TypeError;r.exports=function(t,i){var c=arguments.length<2?l(t):i;if(_(c))return K(C(c,t));throw a($(t)+" is not iterable")}},(r,n,x)=>{var C=x(80),_=x(31),K=x(88),$=x(35),l=$("iterator");r.exports=function(a){if(a!=null)return _(a,l)||_(a,"@@iterator")||K[C(a)]}},(r,n,x)=>{var C=x(11),_=x(48),K=x(31);r.exports=function($,l,a){var t,i;_($);try{if(t=K($,"return"),!t){if(l==="throw")throw a;return a}t=C(t,$)}catch(c){i=!0,t=c}if(l==="throw")throw a;if(i)throw t;return _(t),a}},(r,n,x)=>{var C=x(26),_=TypeError;r.exports=function(K,$){if(C($,K))return K;throw _("Incorrect invocation")}},(r,n,x)=>{var C=x(35),_=C("iterator"),K=!1;try{var $=0,l={next:function(){return{done:!!$++}},return:function(){K=!0}};l[_]=function(){return this},Array.from(l,function(){throw 2})}catch{}r.exports=function(a,t){if(!t&&!K)return!1;var i=!1;try{var c={};c[_]=function(){return{next:function(){return{done:i=!0}}}},a(c)}catch{}return i}},(r,n,x)=>{var C=x(23),_=x(22),K=x(84);r.exports=function($,l,a){var t,i;return K&&C(t=l.constructor)&&t!==a&&_(i=t.prototype)&&i!==a.prototype&&K($,i),$}},(r,n,x)=>{var C=x(46).f,_=x(71),K=x(115),$=x(106),l=x(111),a=x(105),t=x(89),i=x(116),c=x(9),s=x(98).fastKey,e=x(53),u=e.set,m=e.getterFor;r.exports={getConstructor:function(g,y,b,v){var o=g(function(M,O){l(M,S),u(M,{type:y,index:_(null),first:void 0,last:void 0,size:0}),c||(M.size=0),O!=null&&a(O,M[v],{that:M,AS_ENTRIES:b})}),S=o.prototype,T=m(y),E=function(M,O,L){var te=T(M),B=k(M,O),G,R;return B?B.value=L:(te.last=B={index:R=s(O,!0),key:O,value:L,previous:G=te.last,next:void 0,removed:!1},te.first||(te.first=B),G&&(G.next=B),c?te.size++:M.size++,R!=="F"&&(te.index[R]=B)),M},k=function(M,O){var L=T(M),te=s(O),B;if(te!=="F")return L.index[te];for(B=L.first;B;B=B.next)if(B.key==O)return B};return K(S,{clear:function(){for(var O=this,L=T(O),te=L.index,B=L.first;B;)B.removed=!0,B.previous&&(B.previous=B.previous.next=void 0),delete te[B.index],B=B.next;L.first=L.last=void 0,c?L.size=0:O.size=0},delete:function(M){var O=this,L=T(O),te=k(O,M);if(te){var B=te.next,G=te.previous;delete L.index[te.index],te.removed=!0,G&&(G.next=B),B&&(B.previous=G),L.first==te&&(L.first=B),L.last==te&&(L.last=G),c?L.size--:O.size--}return!!te},forEach:function(O){for(var L=T(this),te=$(O,arguments.length>1?arguments[1]:void 0),B;B=B?B.next:L.first;)for(te(B.value,B.key,this);B&&B.removed;)B=B.previous},has:function(O){return!!k(this,O)}}),K(S,b?{get:function(O){var L=k(this,O);return L&&L.value},set:function(O,L){return E(this,O===0?0:O,L)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),c&&C(S,"size",{get:function(){return T(this).size}}),o},setStrong:function(g,y,b){var v=y+" Iterator",o=m(y),S=m(v);t(g,y,function(T,E){u(this,{type:v,target:T,state:o(T),kind:E,last:void 0})},function(){for(var T=S(this),E=T.kind,k=T.last;k&&k.removed;)k=k.previous;return!T.target||!(T.last=k=k?k.next:T.state.first)?(T.target=void 0,{value:void 0,done:!0}):E=="keys"?{value:k.key,done:!1}:E=="values"?{value:k.value,done:!1}:{value:[k.key,k.value],done:!1}},b?"entries":"values",!b,!0),i(y)}}},(r,n,x)=>{var C=x(49);r.exports=function(_,K,$){for(var l in K)C(_,l,K[l],$);return _}},(r,n,x)=>{var C=x(25),_=x(46),K=x(35),$=x(9),l=K("species");r.exports=function(a){var t=C(a),i=_.f;$&&t&&!t[l]&&i(t,l,{configurable:!0,get:function(){return this}})}},(r,n,x)=>{x(118)},(r,n,x)=>{var C=x(97),_=x(114);C("Set",function(K){return function(){return K(this,arguments.length?arguments[0]:void 0)}},_)},(r,n,x)=>{var C=x(37),_=x(6),K=x(7),$=x(25),l=x(17),a=x(10),t=x(42),i=x(23),c=x(120),s=x(22),e=x(24),u=x(105),m=x(48),g=x(80),y=x(40),b=x(101),v=x(45),o=x(65),S=x(121),T=x(122),E=x(124),k=x(29),M=x(125),O=x(126),L=x(127),te=K.Object,B=K.Date,G=K.Error,R=K.EvalError,I=K.RangeError,U=K.ReferenceError,P=K.SyntaxError,A=K.TypeError,z=K.URIError,N=K.PerformanceMark,W=K.WebAssembly,ie=W&&W.CompileError||G,Y=W&&W.LinkError||G,F=W&&W.RuntimeError||G,D=$("DOMException"),Q=$("Set"),ee=$("Map"),V=ee.prototype,Z=l(V.has),ae=l(V.get),H=l(V.set),q=l(Q.prototype.add),ne=$("Object","keys"),le=l([].push),se=l((!0).valueOf),J=l(1 .valueOf),re=l("".valueOf),oe=l(B.prototype.getTime),ue=t("structuredClone"),he="DataCloneError",de="Transferring",pe=function(Ie){return!a(function(){var Me=new K.Set([7]),Ne=Ie(Me),Re=Ie(te(7));return Ne==Me||!Ne.has(7)||typeof Re!="object"||Re!=7})&&Ie},fe=function(Ie,Me){return!a(function(){var Ne=new Me,Re=Ie({a:Ne,b:Ne});return!(Re&&Re.a===Re.b&&Re.a instanceof Me&&Re.a.stack===Ne.stack)})},be=function(Ie){return!a(function(){var Me=Ie(new K.AggregateError([1],ue,{cause:3}));return Me.name!="AggregateError"||Me.errors[0]!=1||Me.message!=ue||Me.cause!=3})},ge=K.structuredClone,Se=C||!fe(ge,G)||!fe(ge,D)||!be(ge),ve=!ge&&pe(function(Ie){return new N(ue,{detail:Ie}).detail}),we=pe(ge)||ve,Fe=function(Ie){throw new D("Uncloneable type: "+Ie,he)},Ce=function(Ie,Me){throw new D((Me||"Cloning")+" of "+Ie+" cannot be properly polyfilled in this engine",he)},ye=function(Ie,Me){if(e(Ie)&&Fe("Symbol"),!s(Ie))return Ie;if(Me){if(Z(Me,Ie))return ae(Me,Ie)}else Me=new ee;var Ne=g(Ie),Re=!1,Oe,Le,Pe,$e,je,Te,Ae,Ee,Be,ze;switch(Ne){case"Array":Pe=[],Re=!0;break;case"Object":Pe={},Re=!0;break;case"Map":Pe=new ee,Re=!0;break;case"Set":Pe=new Q,Re=!0;break;case"RegExp":Pe=new RegExp(Ie.source,T(Ie));break;case"Error":switch(Le=Ie.name,Le){case"AggregateError":Pe=$("AggregateError")([]);break;case"EvalError":Pe=R();break;case"RangeError":Pe=I();break;case"ReferenceError":Pe=U();break;case"SyntaxError":Pe=P();break;case"TypeError":Pe=A();break;case"URIError":Pe=z();break;case"CompileError":Pe=ie();break;case"LinkError":Pe=Y();break;case"RuntimeError":Pe=F();break;default:Pe=G()}Re=!0;break;case"DOMException":Pe=new D(Ie.message,Ie.name),Re=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Oe=K[Ne],s(Oe)||Ce(Ne),Pe=new Oe(ye(Ie.buffer,Me),Ie.byteOffset,Ne==="DataView"?Ie.byteLength:Ie.length);break;case"DOMQuad":try{Pe=new DOMQuad(ye(Ie.p1,Me),ye(Ie.p2,Me),ye(Ie.p3,Me),ye(Ie.p4,Me))}catch{we?Pe=we(Ie):Ce(Ne)}break;case"FileList":if(Oe=K.DataTransfer,c(Oe)){for($e=new Oe,je=0,Te=o(Ie);je<Te;je++)$e.items.add(ye(Ie[je],Me));Pe=$e.files}else we?Pe=we(Ie):Ce(Ne);break;case"ImageData":try{Pe=new ImageData(ye(Ie.data,Me),Ie.width,Ie.height,{colorSpace:Ie.colorSpace})}catch{we?Pe=we(Ie):Ce(Ne)}break;default:if(we)Pe=we(Ie);else switch(Ne){case"BigInt":Pe=te(Ie.valueOf());break;case"Boolean":Pe=te(se(Ie));break;case"Number":Pe=te(J(Ie));break;case"String":Pe=te(re(Ie));break;case"Date":Pe=new B(oe(Ie));break;case"ArrayBuffer":Oe=K.DataView,!Oe&&typeof Ie.slice!="function"&&Ce(Ne);try{if(typeof Ie.slice=="function")Pe=Ie.slice(0);else for(Te=Ie.byteLength,Pe=new ArrayBuffer(Te),Be=new Oe(Ie),ze=new Oe(Pe),je=0;je<Te;je++)ze.setUint8(je,Be.getUint8(je))}catch{throw new D("ArrayBuffer is detached",he)}break;case"SharedArrayBuffer":Pe=Ie;break;case"Blob":try{Pe=Ie.slice(0,Ie.size,Ie.type)}catch{Ce(Ne)}break;case"DOMPoint":case"DOMPointReadOnly":Oe=K[Ne];try{Pe=Oe.fromPoint?Oe.fromPoint(Ie):new Oe(Ie.x,Ie.y,Ie.z,Ie.w)}catch{Ce(Ne)}break;case"DOMRect":case"DOMRectReadOnly":Oe=K[Ne];try{Pe=Oe.fromRect?Oe.fromRect(Ie):new Oe(Ie.x,Ie.y,Ie.width,Ie.height)}catch{Ce(Ne)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Oe=K[Ne];try{Pe=Oe.fromMatrix?Oe.fromMatrix(Ie):new Oe(Ie)}catch{Ce(Ne)}break;case"AudioData":case"VideoFrame":i(Ie.clone)||Ce(Ne);try{Pe=Ie.clone()}catch{Fe(Ne)}break;case"File":try{Pe=new File([Ie],Ie.name,Ie)}catch{Ce(Ne)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Ce(Ne);default:Fe(Ne)}}if(H(Me,Ie,Pe),Re)switch(Ne){case"Array":case"Object":for(Ae=ne(Ie),je=0,Te=o(Ae);je<Te;je++)Ee=Ae[je],b(Pe,Ee,ye(Ie[Ee],Me));break;case"Map":Ie.forEach(function(We,tt){H(Pe,ye(tt,Me),ye(We,Me))});break;case"Set":Ie.forEach(function(We){q(Pe,ye(We,Me))});break;case"Error":v(Pe,"message",ye(Ie.message,Me)),y(Ie,"cause")&&v(Pe,"cause",ye(Ie.cause,Me)),Le=="AggregateError"&&(Pe.errors=ye(Ie.errors,Me));case"DOMException":E&&v(Pe,"stack",ye(Ie.stack,Me))}return Pe},ke=ge&&!a(function(){if(O&&k>92||L&&k>94||M&&k>97)return!1;var Ie=new ArrayBuffer(8),Me=ge(Ie,{transfer:[Ie]});return Ie.byteLength!=0||Me.byteLength!=8}),De=function(Ie,Me){if(!s(Ie))throw A("Transfer option cannot be converted to a sequence");var Ne=[];u(Ie,function(Be){le(Ne,m(Be))});var Re=0,Oe=o(Ne),Le,Pe,$e,je,Te,Ae,Ee;if(ke)for(je=ge(Ne,{transfer:Ne});Re<Oe;)H(Me,Ne[Re],je[Re++]);else for(;Re<Oe;){if(Le=Ne[Re++],Z(Me,Le))throw new D("Duplicate transferable",he);switch(Pe=g(Le),Pe){case"ImageBitmap":$e=K.OffscreenCanvas,c($e)||Ce(Pe,de);try{Ae=new $e(Le.width,Le.height),Ee=Ae.getContext("bitmaprenderer"),Ee.transferFromImageBitmap(Le),Te=Ae.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!i(Le.clone)||!i(Le.close))&&Ce(Pe,de);try{Te=Le.clone(),Le.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Ce(Pe,de)}if(Te===void 0)throw new D("This object cannot be transferred: "+Pe,he);H(Me,Le,Te)}};_({global:!0,enumerable:!0,sham:!ke,forced:Se},{structuredClone:function(Me){var Ne=S(arguments.length,1)>1&&arguments[1]!=null?m(arguments[1]):void 0,Re=Ne?Ne.transfer:void 0,Oe;return Re!==void 0&&(Oe=new ee,De(Re,Oe)),ye(Me,Oe)}})},(r,n,x)=>{var C=x(17),_=x(10),K=x(23),$=x(80),l=x(25),a=x(52),t=function(){},i=[],c=l("Reflect","construct"),s=/^\s*(?:class|function)\b/,e=C(s.exec),u=!s.exec(t),m=function(b){if(!K(b))return!1;try{return c(t,i,b),!0}catch{return!1}},g=function(b){if(!K(b))return!1;switch($(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!e(s,a(b))}catch{return!0}};g.sham=!0,r.exports=!c||_(function(){var y;return m(m.call)||!m(Object)||!m(function(){y=!0})||y})?g:m},r=>{var n=TypeError;r.exports=function(x,C){if(x<C)throw n("Not enough arguments");return x}},(r,n,x)=>{var C=x(11),_=x(40),K=x(26),$=x(123),l=RegExp.prototype;r.exports=function(a){var t=a.flags;return t===void 0&&!("flags"in l)&&!_(a,"flags")&&K(l,a)?C($,a):t}},(r,n,x)=>{var C=x(48);r.exports=function(){var _=C(this),K="";return _.hasIndices&&(K+="d"),_.global&&(K+="g"),_.ignoreCase&&(K+="i"),_.multiline&&(K+="m"),_.dotAll&&(K+="s"),_.unicode&&(K+="u"),_.unicodeSets&&(K+="v"),_.sticky&&(K+="y"),K}},(r,n,x)=>{var C=x(10),_=x(14);r.exports=!C(function(){var K=Error("a");return"stack"in K?(Object.defineProperty(K,"stack",_(1,7)),K.stack!==7):!0})},(r,n,x)=>{var C=x(126),_=x(127);r.exports=!C&&!_&&typeof window=="object"&&typeof document=="object"},r=>{r.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(r,n,x)=>{var C=x(18),_=x(7);r.exports=C(_.process)=="process"},(r,n,x)=>{var C=x(7);r.exports=C},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(r,n){_checkPrivateRedeclaration(r,n),n.add(r)}function _classPrivateMethodGet(r,n,x){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return x}function _classPrivateFieldInitSpec(r,n,x){_checkPrivateRedeclaration(r,n),n.set(r,x)}function _checkPrivateRedeclaration(r,n){if(n.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(r,n,x){var C=_classExtractFieldDescriptor(r,n,"set");return _classApplyDescriptorSet(r,C,x),x}function _classPrivateFieldGet(r,n){var x=_classExtractFieldDescriptor(r,n,"get");return _classApplyDescriptorGet(r,x)}function _classExtractFieldDescriptor(r,n,x){if(!n.has(r))throw new TypeError("attempted to "+x+" private field on non-instance");return n.get(r)}function _classStaticPrivateFieldSpecSet(r,n,x,C){return _classCheckPrivateStaticAccess(r,n),_classCheckPrivateStaticFieldDescriptor(x,"set"),_classApplyDescriptorSet(r,x,C),C}function _classApplyDescriptorSet(r,n,x){if(n.set)n.set.call(r,x);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=x}}function _classStaticPrivateFieldSpecGet(r,n,x){return _classCheckPrivateStaticAccess(r,n),_classCheckPrivateStaticFieldDescriptor(x,"get"),_classApplyDescriptorGet(r,x)}function _classCheckPrivateStaticFieldDescriptor(r,n){if(r===void 0)throw new TypeError("attempted to "+n+" private static field before its declaration")}function _classCheckPrivateStaticAccess(r,n){if(r!==n)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(r,n){return n.get?n.get.call(r):n.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:r,NodeCMapReaderFactory:n,NodeStandardFontDataFactory:x}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=r,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=n,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=x}let createPDFNetworkStream;function setPDFNetworkStreamFactory(r){createPDFNetworkStream=r}function getDocument(r){const n=new PDFDocumentLoadingTask;let x;if(typeof r=="string"||r instanceof URL)x={url:r};else if((0,_util.isArrayBuffer)(r))x={data:r};else if(r instanceof PDFDataRangeTransport)x={range:r};else{if(typeof r!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!r.url&&!r.data&&!r.range)throw new Error("Invalid parameter object: need either .data, .range or .url");x=r}const C=Object.create(null);let _=null,K=null;for(const l in x){const a=x[l];switch(l){case"url":if(typeof window<"u")try{C[l]=new URL(a,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if(typeof a=="string"||a instanceof URL){C[l]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":_=a;continue;case"worker":K=a;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&a instanceof Buffer)C[l]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if(typeof a=="string")C[l]=(0,_util.stringToBytes)(a);else if(typeof a=="object"&&a!==null&&!isNaN(a.length))C[l]=new Uint8Array(a);else if((0,_util.isArrayBuffer)(a))C[l]=new Uint8Array(a);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}C[l]=a}if(C.CMapReaderFactory=C.CMapReaderFactory||DefaultCMapReaderFactory,C.StandardFontDataFactory=C.StandardFontDataFactory||DefaultStandardFontDataFactory,C.ignoreErrors=C.stopAtErrors!==!0,C.fontExtraProperties=C.fontExtraProperties===!0,C.pdfBug=C.pdfBug===!0,C.enableXfa=C.enableXfa===!0,(!Number.isInteger(C.rangeChunkSize)||C.rangeChunkSize<1)&&(C.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof C.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(C.docBaseUrl))&&(C.docBaseUrl=null),(!Number.isInteger(C.maxImageSize)||C.maxImageSize<-1)&&(C.maxImageSize=-1),typeof C.cMapUrl!="string"&&(C.cMapUrl=null),typeof C.standardFontDataUrl!="string"&&(C.standardFontDataUrl=null),typeof C.useWorkerFetch!="boolean"&&(C.useWorkerFetch=C.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&C.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof C.isEvalSupported!="boolean"&&(C.isEvalSupported=!0),typeof C.disableFontFace!="boolean"&&(C.disableFontFace=_is_node.isNodeJS),typeof C.useSystemFonts!="boolean"&&(C.useSystemFonts=!_is_node.isNodeJS&&!C.disableFontFace),(typeof C.ownerDocument!="object"||C.ownerDocument===null)&&(C.ownerDocument=globalThis.document),typeof C.disableRange!="boolean"&&(C.disableRange=!1),typeof C.disableStream!="boolean"&&(C.disableStream=!1),typeof C.disableAutoFetch!="boolean"&&(C.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(C.verbosity),!K){const l={verbosity:C.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};K=l.port?_PDFWorker.fromPort(l):new _PDFWorker(l),n._worker=K}const $=n.docId;return K.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");const l=_fetchDocument(K,C,_,$),a=new Promise(function(t){let i;_?i=new _transport_stream.PDFDataTransportStream({length:C.length,initialData:C.initialData,progressiveDone:C.progressiveDone,contentDispositionFilename:C.contentDispositionFilename,disableRange:C.disableRange,disableStream:C.disableStream},_):C.data||(i=createPDFNetworkStream({url:C.url,length:C.length,httpHeaders:C.httpHeaders,withCredentials:C.withCredentials,rangeChunkSize:C.rangeChunkSize,disableRange:C.disableRange,disableStream:C.disableStream})),t(i)});return Promise.all([l,a]).then(function(t){let[i,c]=t;if(n.destroyed)throw new Error("Loading aborted");const s=new _message_handler.MessageHandler($,i,K.port),e=new WorkerTransport(s,n,c,C);n._transport=e,s.send("Ready",null)})}).catch(n._capability.reject),n}async function _fetchDocument(r,n,x,C){if(r.destroyed)throw new Error("Worker was destroyed");x&&(n.length=x.length,n.initialData=x.initialData,n.progressiveDone=x.progressiveDone,n.contentDispositionFilename=x.contentDispositionFilename);const _=await r.messageHandler.sendWithPromise("GetDocRequest",{docId:C,apiVersion:"2.16.105",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});if(n.data&&(n.data=null),r.destroyed)throw new Error("Worker was destroyed");return _}class PDFDocumentLoadingTask{constructor(){var n,x;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(n=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),x=n++,n)),x}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var n;this.destroyed=!0,await((n=this._transport)===null||n===void 0?void 0:n.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(n,x){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=n,this.initialData=x,this.progressiveDone=C,this.contentDispositionFilename=_,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,x){for(const C of this._rangeListeners)C(n,x)}onDataProgress(n,x){this._readyCapability.promise.then(()=>{for(const C of this._progressListeners)C(n,x)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const x of this._progressiveReadListeners)x(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,x){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(n,x){this._pdfInfo=n,this._transport=x,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(n){return this._transport.getPage(n)}getPageIndex(n){return this._transport.getPageIndex(n)}getDestinations(){return this._transport.getDestinations()}getDestination(n){return this._transport.getDestination(n)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(n||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(n,x,C,_){let K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=n,this._pageInfo=x,this._ownerDocument=_,this._transport=C,this._stats=K?new _display_utils.StatTimer:null,this._pdfBug=K,this.commonObjs=C.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:n,rotation:x=this.rotate,offsetX:C=0,offsetY:_=0,dontFlip:K=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:n,rotation:x,offsetX:C,offsetY:_,dontFlip:K})}getAnnotations(){let{intent:n="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const x=this._transport.getRenderingIntent(n);let C=this._annotationPromises.get(x.cacheKey);return C||(C=this._transport.getAnnotations(this._pageIndex,x.renderingIntent),this._annotationPromises.set(x.cacheKey,C),C=C.then(_=>{for(const K of _)K.titleObj!==void 0&&Object.defineProperty(K,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),K.titleObj.str}}),K.contentsObj!==void 0&&Object.defineProperty(K,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),K.contentsObj.str}});return _})),C}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var n;return((n=this._transport._htmlForXfa)===null||n===void 0?void 0:n.children[this._pageIndex])||null}render(n){var x,C,_;let{canvasContext:K,viewport:$,intent:l="display",annotationMode:a=_util.AnnotationMode.ENABLE,transform:t=null,imageLayer:i=null,canvasFactory:c=null,background:s=null,optionalContentConfigPromise:e=null,annotationCanvasMap:u=null,pageColors:m=null,printAnnotationStorage:g=null}=n;((x=arguments[0])===null||x===void 0?void 0:x.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_FORMS)),((C=arguments[0])===null||C===void 0?void 0:C.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const y=this._transport.getRenderingIntent(l,a,g);this.pendingCleanup=!1,e||(e=this._transport.getOptionalContentConfig());let b=this._intentStates.get(y.cacheKey);b||(b=Object.create(null),this._intentStates.set(y.cacheKey,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const v=c||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),o=!!(y.renderingIntent&_util.RenderingIntentFlag.PRINT);b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(y));const S=k=>{b.renderTasks.delete(T),(this.cleanupAfterRender||o)&&(this.pendingCleanup=!0),this._tryCleanup(),k?(T.capability.reject(k),this._abortOperatorList({intentState:b,reason:k instanceof Error?k:new Error(k)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},T=new InternalRenderTask({callback:S,params:{canvasContext:K,viewport:$,transform:t,imageLayer:i,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:v,useRequestAnimationFrame:!o,pdfBug:this._pdfBug,pageColors:m});((_=b).renderTasks||(_.renderTasks=new Set)).add(T);const E=T.task;return Promise.all([b.displayReadyCapability.promise,e]).then(k=>{let[M,O]=k;if(this.pendingCleanup){S();return}this._stats&&this._stats.time("Rendering"),T.initializeGraphics({transparency:M,optionalContentConfig:O}),T.operatorListChanged()}).catch(S),E}getOperatorList(){let{intent:n="display",annotationMode:x=_util.AnnotationMode.ENABLE,printAnnotationStorage:C=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function _(){$.operatorList.lastChunk&&($.opListReadCapability.resolve($.operatorList),$.renderTasks.delete(l))}const K=this._transport.getRenderingIntent(n,x,C,!0);let $=this._intentStates.get(K.cacheKey);$||($=Object.create(null),this._intentStates.set(K.cacheKey,$));let l;if(!$.opListReadCapability){var a;l=Object.create(null),l.operatorListChanged=_,$.opListReadCapability=(0,_util.createPromiseCapability)(),((a=$).renderTasks||(a.renderTasks=new Set)).add(l),$.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(K)}return $.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:n=!1,includeMarkedContent:x=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const C=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:n!==!0,includeMarkedContent:x===!0},{highWaterMark:C,size(_){return _.items.length}})}getTextContent(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(C=>_xfa_text.XfaText.textContent(C));const x=this.streamTextContent(n);return new Promise(function(C,_){function K(){$.read().then(function(a){let{value:t,done:i}=a;if(i){C(l);return}Object.assign(l.styles,t.styles),l.items.push(...t.items),K()},_)}const $=x.getReader(),l={items:[],styles:Object.create(null)};K()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const n=[];for(const x of this._intentStates.values())if(this._abortOperatorList({intentState:x,reason:new Error("Page was destroyed."),force:!0}),!x.opListReadCapability)for(const C of x.renderTasks)n.push(C.completed),C.cancel();this.objs.clear();for(const x of this._bitmaps)x.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(n)}cleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(n)}_tryCleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:x,operatorList:C}of this._intentStates.values())if(x.size>0||!C.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,n&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const x of this._bitmaps)x.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(n,x){const C=this._intentStates.get(x);C&&(this._stats&&this._stats.timeEnd("Page Request"),C.displayReadyCapability&&C.displayReadyCapability.resolve(n))}_renderPageChunk(n,x){for(let C=0,_=n.length;C<_;C++)x.operatorList.fnArray.push(n.fnArray[C]),x.operatorList.argsArray.push(n.argsArray[C]);x.operatorList.lastChunk=n.lastChunk,x.operatorList.separateAnnots=n.separateAnnots;for(const C of x.renderTasks)C.operatorListChanged();n.lastChunk&&this._tryCleanup()}_pumpOperatorList(n){let{renderingIntent:x,cacheKey:C,annotationStorageMap:_}=n;const $=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:x,cacheKey:C,annotationStorage:_}).getReader(),l=this._intentStates.get(C);l.streamReader=$;const a=()=>{$.read().then(t=>{let{value:i,done:c}=t;if(c){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(i,l),a())},t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const i of l.renderTasks)i.operatorListChanged();this._tryCleanup()}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else if(l.opListReadCapability)l.opListReadCapability.reject(t);else throw t}})};a()}_abortOperatorList(n){let{intentState:x,reason:C,force:_=!1}=n;if(x.streamReader){if(!_){if(x.renderTasks.size>0)return;if(C instanceof _display_utils.RenderingCancelledException){x.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:x,reason:C,force:!0}),x.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(x.streamReader.cancel(new _util.AbortException(C.message)).catch(()=>{}),x.streamReader=null,!this._transport.destroyed){for(const[K,$]of this._intentStates)if($===x){this._intentStates.delete(K);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(n,x){const C={data:structuredClone(n,x)};this._deferred.then(()=>{for(const _ of this._listeners)_.call(this,C)})}addEventListener(n,x){this._listeners.push(x)}removeEventListener(n,x){const C=this._listeners.indexOf(x);this._listeners.splice(C,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire$1=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const r=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;r&&(PDFWorkerUtil.fallbackWorkerSrc=r.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(r,n){let x;try{if(x=new URL(r),!x.origin||x.origin==="null")return!1}catch{return!1}const C=new URL(n,x);return x.origin===C.origin},PDFWorkerUtil.createCDNWrapper=function(r){const n=`importScripts("${r}");`;return URL.createObjectURL(new Blob([n]))}}class _PDFWorker{constructor(){let{name:r=null,port:n=null,verbosity:x=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(n))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=r,this.destroyed=!1,this.verbosity=x,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,n){_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(r){this._port=r,this._messageHandler=new _message_handler.MessageHandler("main","worker",r),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:r}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,r)||(r=PDFWorkerUtil.createCDNWrapper(new URL(r,window.location).href));const n=new Worker(r),x=new _message_handler.MessageHandler("main","worker",n),C=()=>{n.removeEventListener("error",_),x.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},_=()=>{this._webWorker||C()};n.addEventListener("error",_),x.on("test",$=>{if(n.removeEventListener("error",_),this.destroyed){C();return}$?(this._messageHandler=x,this._port=n,this._webWorker=n,this._readyCapability.resolve(),x.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),x.destroy(),n.terminate())}),x.on("ready",$=>{if(n.removeEventListener("error",_),this.destroyed){C();return}try{K()}catch{this._setupFakeWorker()}});const K=()=>{const $=new Uint8Array;x.send("test",$,[$.buffer])};K();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(r=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new LoopbackPort;this._port=n;const x=`fake${PDFWorkerUtil.fakeWorkerId++}`,C=new _message_handler.MessageHandler(x+"_worker",x,n);r.setup(C,n);const _=new _message_handler.MessageHandler(x,x+"_worker",n);this._messageHandler=_,this._readyCapability.resolve(),_.send("configure",{verbosity:this.verbosity})}).catch(r=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${r.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(r){if(!(r!=null&&r.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(r.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(r.port):new _PDFWorker(r)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var r;return((r=globalThis.pdfjsWorker)===null||r===void 0?void 0:r.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire$1=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(n,x,C,_){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=n,this.loadingTask=x,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:x.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:_.ownerDocument,styleElement:_.styleElement}),this._params=_,_.useWorkerFetch||(this.CMapReaderFactory=new _.CMapReaderFactory({baseUrl:_.cMapUrl,isCompressed:_.cMapPacked}),this.StandardFontDataFactory=new _.StandardFontDataFactory({baseUrl:_.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=C,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(n){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,K=_util.RenderingIntentFlag.DISPLAY,$=null;switch(n){case"any":K=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":K=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${n}`)}switch(x){case _util.AnnotationMode.DISABLE:K+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:K+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:K+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,$=(K&_util.RenderingIntentFlag.PRINT&&C instanceof _annotation_storage.PrintAnnotationStorage?C:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${x}`)}return _&&(K+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:K,cacheKey:`${K}_${_annotation_storage.AnnotationStorage.getHash($)}`,annotationStorageMap:$}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const n=[];for(const C of _classPrivateFieldGet(this,_pageCache).values())n.push(C._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const x=this.messageHandler.sendWithPromise("Terminate",null);return n.push(x),Promise.all(n).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:n,loadingTask:x}=this;n.on("GetReader",(C,_)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=K=>{this._lastProgress={loaded:K.loaded,total:K.total}},_.onPull=()=>{this._fullReader.read().then(function(K){let{value:$,done:l}=K;if(l){_.close();return}(0,_util.assert)((0,_util.isArrayBuffer)($),"GetReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array($),1,[$])}).catch(K=>{_.error(K)})},_.onCancel=K=>{this._fullReader.cancel(K),_.ready.catch($=>{if(!this.destroyed)throw $})}}),n.on("ReaderHeadersReady",C=>{const _=(0,_util.createPromiseCapability)(),K=this._fullReader;return K.headersReady.then(()=>{if(!K.isStreamingSupported||!K.isRangeSupported){if(this._lastProgress){var $;($=x.onProgress)===null||$===void 0||$.call(x,this._lastProgress)}K.onProgress=l=>{var a;(a=x.onProgress)===null||a===void 0||a.call(x,{loaded:l.loaded,total:l.total})}}_.resolve({isStreamingSupported:K.isStreamingSupported,isRangeSupported:K.isRangeSupported,contentLength:K.contentLength})},_.reject),_.promise}),n.on("GetRangeReader",(C,_)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const K=this._networkStream.getRangeReader(C.begin,C.end);if(!K){_.close();return}_.onPull=()=>{K.read().then(function($){let{value:l,done:a}=$;if(a){_.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(l),"GetRangeReader - expected an ArrayBuffer."),_.enqueue(new Uint8Array(l),1,[l])}).catch($=>{_.error($)})},_.onCancel=$=>{K.cancel($),_.ready.catch(l=>{if(!this.destroyed)throw l})}}),n.on("GetDoc",C=>{let{pdfInfo:_}=C;this._numPages=_.numPages,this._htmlForXfa=_.htmlForXfa,delete _.htmlForXfa,x._capability.resolve(new PDFDocumentProxy(_,this))}),n.on("DocException",function(C){let _;switch(C.name){case"PasswordException":_=new _util.PasswordException(C.message,C.code);break;case"InvalidPDFException":_=new _util.InvalidPDFException(C.message);break;case"MissingPDFException":_=new _util.MissingPDFException(C.message);break;case"UnexpectedResponseException":_=new _util.UnexpectedResponseException(C.message,C.status);break;case"UnknownErrorException":_=new _util.UnknownErrorException(C.message,C.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}x._capability.reject(_)}),n.on("PasswordRequest",C=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),x.onPassword){const _=K=>{K instanceof Error?this._passwordCapability.reject(K):this._passwordCapability.resolve({password:K})};try{x.onPassword(_,C.code)}catch(K){this._passwordCapability.reject(K)}}else this._passwordCapability.reject(new _util.PasswordException(C.message,C.code));return this._passwordCapability.promise}),n.on("DataLoaded",C=>{var _;(_=x.onProgress)===null||_===void 0||_.call(x,{loaded:C.length,total:C.length}),this.downloadInfoCapability.resolve(C)}),n.on("StartRenderPage",C=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(C.pageIndex)._startRenderPage(C.transparency,C.cacheKey)}),n.on("commonobj",C=>{var _;let[K,$,l]=C;if(!this.destroyed&&!this.commonObjs.has(K))switch($){case"Font":const a=this._params;if("error"in l){const c=l.error;(0,_util.warn)(`Error during font loading: ${c}`),this.commonObjs.resolve(K,c);break}let t=null;a.pdfBug&&(_=globalThis.FontInspector)!==null&&_!==void 0&&_.enabled&&(t={registerFont(c,s){globalThis.FontInspector.fontAdded(c,s)}});const i=new _font_loader.FontFaceObject(l,{isEvalSupported:a.isEvalSupported,disableFontFace:a.disableFontFace,ignoreErrors:a.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:t});this.fontLoader.bind(i).catch(c=>n.sendWithPromise("FontFallback",{id:K})).finally(()=>{!a.fontExtraProperties&&i.data&&(i.data=null),this.commonObjs.resolve(K,i)});break;case"FontPath":case"Image":this.commonObjs.resolve(K,l);break;default:throw new Error(`Got unknown common object type ${$}`)}}),n.on("obj",C=>{let[_,K,$,l]=C;if(this.destroyed)return;const a=_classPrivateFieldGet(this,_pageCache).get(K);if(!a.objs.has(_))switch($){case"Image":a.objs.resolve(_,l);const i=8e6;if(l){let c;if(l.bitmap){const{bitmap:s,width:e,height:u}=l;c=e*u*4,a._bitmaps.add(s)}else{var t;c=((t=l.data)===null||t===void 0?void 0:t.length)||0}c>i&&(a.cleanupAfterRender=!0)}break;case"Pattern":a.objs.resolve(_,l);break;default:throw new Error(`Got unknown object type ${$}`)}}),n.on("DocProgress",C=>{var _;this.destroyed||(_=x.onProgress)===null||_===void 0||_.call(x,{loaded:C.loaded,total:C.total})}),n.on("DocStats",C=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(C.streamTypes),fontTypes:Object.freeze(C.fontTypes)}))}),n.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),n.on("FetchBuiltInCMap",C=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(C):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),n.on("FetchStandardFontData",C=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(C):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(n){var x,C;let{featureId:_}=n;this.destroyed||(x=(C=this.loadingTask).onUnsupportedFeature)===null||x===void 0||x.call(C,_)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(n){if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request."));const x=n-1,C=_classPrivateFieldGet(this,_pagePromises).get(x);if(C)return C;const _=this.messageHandler.sendWithPromise("GetPage",{pageIndex:x}).then(K=>{if(this.destroyed)throw new Error("Transport destroyed");const $=new PDFPageProxy(x,K,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(x,$),$});return _classPrivateFieldGet(this,_pagePromises).set(x,_),_}getPageIndex(n){return typeof n!="object"||n===null||!Number.isInteger(n.num)||n.num<0||!Number.isInteger(n.gen)||n.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:n.num,gen:n.gen})}getAnnotations(n,x){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:x})}saveDocument(){var n,x;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(n=(x=this._fullReader)===null||x===void 0?void 0:x.filename)!==null&&n!==void 0?n:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(n){return typeof n!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}getStructTree(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(n=>new _optional_content_config.OptionalContentConfig(n))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(n=>{var x,C,_,K;return{info:n[0],metadata:n[1]?new _metadata.Metadata(n[1]):null,contentDispositionFilename:(x=(C=this._fullReader)===null||C===void 0?void 0:C.filename)!==null&&x!==void 0?x:null,contentLength:(_=(K=this._fullReader)===null||K===void 0?void 0:K.contentLength)!==null&&_!==void 0?_:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const x of _classPrivateFieldGet(this,_pageCache).values())if(!x.cleanup())throw new Error(`startCleanup: Page ${x.pageNumber} is currently rendering.`);this.commonObjs.clear(),n||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const n=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n.disableAutoFetch,enableXfa:n.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(n){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(x){const _=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,n);return _.capability.promise.then(()=>x(_.data)),null}const C=_classPrivateFieldGet(this,_objs)[n];if(!(C!=null&&C.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${n}.`);return C.data}has(n){const x=_classPrivateFieldGet(this,_objs)[n];return(x==null?void 0:x.capability.settled)||!1}resolve(n){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const C=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,n);C.data=x,C.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(r){const n=_classPrivateFieldGet(this,_objs)[r];return n||(_classPrivateFieldGet(this,_objs)[r]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(n){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,n),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:n}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!n)return!1;const{annotationCanvasMap:x}=_classPrivateFieldGet(this,_internalRenderTask);return n.form||n.canvas&&(x==null?void 0:x.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(n){let{callback:x,params:C,objs:_,commonObjs:K,annotationCanvasMap:$,operatorList:l,pageIndex:a,canvasFactory:t,useRequestAnimationFrame:i=!1,pdfBug:c=!1,pageColors:s=null}=n;this.callback=x,this.params=C,this.objs=_,this.commonObjs=K,this.annotationCanvasMap=$,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=a,this.canvasFactory=t,this._pdfBug=c,this.pageColors=s,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=i===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=C.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(n){var x;let{transparency:C=!1,optionalContentConfig:_}=n;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(x=globalThis.StepperManager)!==null&&x!==void 0&&x.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:K,viewport:$,transform:l,imageLayer:a,background:t}=this.params;this.gfx=new _canvas.CanvasGraphics(K,this.commonObjs,this.objs,this.canvasFactory,a,_,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:$,transparency:C,background:t}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(n||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PrintAnnotationStorage=n.AnnotationStorage=void 0;var C=x(1),_=x(131),K=x(135);function $(o,S,T){e(o,S),S.set(o,T)}function l(o,S){var T=i(o,S,"get");return a(o,T)}function a(o,S){return S.get?S.get.call(o):S.value}function t(o,S,T){var E=i(o,S,"set");return c(o,E,T),T}function i(o,S,T){if(!S.has(o))throw new TypeError("attempted to "+T+" private field on non-instance");return S.get(o)}function c(o,S,T){if(S.set)S.set.call(o,T);else{if(!S.writable)throw new TypeError("attempted to set read only private field");S.value=T}}function s(o,S){e(o,S),S.add(o)}function e(o,S){if(S.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(o,S,T){if(!S.has(o))throw new TypeError("attempted to get private field on non-instance");return T}var m=new WeakSet;class g{constructor(){s(this,m),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(S,T){const E=this._storage.get(S);return E===void 0?T:Object.assign(T,E)}getRawValue(S){return this._storage.get(S)}remove(S){if(this._storage.delete(S),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const T of this._storage.values())if(T instanceof _.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(S,T){const E=this._storage.get(S);let k=!1;if(E!==void 0)for(const[M,O]of Object.entries(T))E[M]!==O&&(k=!0,E[M]=O);else k=!0,this._storage.set(S,T);k&&u(this,m,y).call(this),T instanceof _.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(T.constructor._type)}has(S){return this._storage.has(S)}getAll(){return this._storage.size>0?(0,C.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new v(this)}get serializable(){if(this._storage.size===0)return null;const S=new Map;for(const[T,E]of this._storage){const k=E instanceof _.AnnotationEditor?E.serialize():E;k&&S.set(T,k)}return S}static getHash(S){if(!S)return"";const T=new K.MurmurHash3_64;for(const[E,k]of S)T.update(`${E}:${JSON.stringify(k)}`);return T.hexdigest()}}n.AnnotationStorage=g;function y(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var b=new WeakMap;class v extends g{constructor(S){super(),$(this,b,{writable:!0,value:null}),t(this,b,structuredClone(S.serializable))}get print(){(0,C.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,b)}}n.PrintAnnotationStorage=v},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0;var C=x(132),_=x(1);function K(o,S,T){return S in o?Object.defineProperty(o,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):o[S]=T,o}function $(o,S,T){l(o,S),S.set(o,T)}function l(o,S){if(S.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(o,S,T){var E=c(o,S,"set");return t(o,E,T),T}function t(o,S,T){if(S.set)S.set.call(o,T);else{if(!S.writable)throw new TypeError("attempted to set read only private field");S.value=T}}function i(o,S){var T=c(o,S,"get");return s(o,T)}function c(o,S,T){if(!S.has(o))throw new TypeError("attempted to "+T+" private field on non-instance");return S.get(o)}function s(o,S){return S.get?S.get.call(o):S.value}var e=new WeakMap,u=new WeakMap,m=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap;class v{constructor(S){$(this,e,{writable:!0,value:this.focusin.bind(this)}),$(this,u,{writable:!0,value:this.focusout.bind(this)}),$(this,m,{writable:!0,value:!1}),$(this,g,{writable:!0,value:!1}),$(this,y,{writable:!0,value:!1}),$(this,b,{writable:!0,value:v._zIndex++}),this.constructor===v&&(0,_.unreachable)("Cannot initialize AnnotationEditor."),this.parent=S.parent,this.id=S.id,this.width=this.height=null,this.pageIndex=S.parent.pageIndex,this.name=S.name,this.div=null;const[T,E]=this.parent.viewportBaseDimensions;this.x=S.x/T,this.y=S.y/E,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,_.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=i(this,b)}focusin(S){i(this,m)?a(this,m,!1):this.parent.setSelected(this)}focusout(S){if(!this.isAttachedToDOM)return;const T=S.relatedTarget;T!=null&&T.closest(`#${this.id}`)||(S.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(S){const T=this.parent.div.getBoundingClientRect();this.startX=S.clientX-T.x,this.startY=S.clientY-T.y,S.dataTransfer.setData("text/plain",this.id),S.dataTransfer.effectAllowed="move"}setAt(S,T,E,k){const[M,O]=this.parent.viewportBaseDimensions;[E,k]=this.screenToPageTranslation(E,k),this.x=(S+E)/M,this.y=(T+k)/O,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(S,T){const[E,k]=this.parent.viewportBaseDimensions;[S,T]=this.screenToPageTranslation(S,T),this.x+=S/E,this.y+=T/k,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(S,T){const{rotation:E}=this.parent.viewport;switch(E){case 90:return[T,-S];case 180:return[-S,-T];case 270:return[-T,S];default:return[S,T]}}setDims(S,T){const[E,k]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*S/E}%`,this.div.style.height=`${100*T/k}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",i(this,e)),this.div.addEventListener("focusout",i(this,u));const[S,T]=this.getInitialTranslation();return this.translate(S,T),(0,C.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(S){const T=C.KeyboardManager.platform.isMac;if(S.button!==0||S.ctrlKey&&T){S.preventDefault();return}S.ctrlKey&&!T||S.shiftKey||S.metaKey&&T?this.parent.toggleSelected(this):this.parent.setSelected(this),a(this,m,!0)}getRect(S,T){const[E,k]=this.parent.viewportBaseDimensions,[M,O]=this.parent.pageDimensions,L=M*S/E,te=O*T/k,B=this.x*M,G=this.y*O,R=this.width*M,I=this.height*O;switch(this.rotation){case 0:return[B+L,O-G-te-I,B+L+R,O-G-te];case 90:return[B+te,O-G+L,B+te+I,O-G+L+R];case 180:return[B-L-R,O-G+te,B-L,O-G+te+I];case 270:return[B-te-I,O-G-L-R,B-te,O-G-L];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(S,T){const[E,k,M,O]=S,L=M-E,te=O-k;switch(this.rotation){case 0:return[E,T-O,L,te];case 90:return[E,T-k,te,L];case 180:return[M,T-k,L,te];case 270:return[M,T-O,te,L];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){a(this,y,!0)}disableEditMode(){a(this,y,!1)}isInEditMode(){return i(this,y)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var S;(S=this.div)===null||S===void 0||S.addEventListener("focusin",i(this,e))}serialize(){(0,_.unreachable)("An editor must be serializable")}static deserialize(S,T){const E=new this.prototype.constructor({parent:T,id:T.getNextId()});E.rotation=S.rotation;const[k,M]=T.pageDimensions,[O,L,te,B]=E.getRectInCurrentCoords(S.rect,M);return E.x=O/k,E.y=L/M,E.width=te/k,E.height=B/M,E}remove(){this.div.removeEventListener("focusin",i(this,e)),this.div.removeEventListener("focusout",i(this,u)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var S;(S=this.div)===null||S===void 0||S.classList.add("selectedEditor")}unselect(){var S;(S=this.div)===null||S===void 0||S.classList.remove("selectedEditor")}updateParams(S,T){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return i(this,g)}set isEditing(S){a(this,g,S),S?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}n.AnnotationEditor=v,K(v,"_colorManager",new C.ColorManager),K(v,"_zIndex",1)},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=m,n.opacityToHex=g;var C=x(1),_=x(133);function K(Fe,Ce,ye){return Ce in Fe?Object.defineProperty(Fe,Ce,{value:ye,enumerable:!0,configurable:!0,writable:!0}):Fe[Ce]=ye,Fe}function $(Fe,Ce){t(Fe,Ce),Ce.add(Fe)}function l(Fe,Ce,ye){if(!Ce.has(Fe))throw new TypeError("attempted to get private field on non-instance");return ye}function a(Fe,Ce,ye){t(Fe,Ce),Ce.set(Fe,ye)}function t(Fe,Ce){if(Ce.has(Fe))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(Fe,Ce,ye){var ke=e(Fe,Ce,"set");return c(Fe,ke,ye),ye}function c(Fe,Ce,ye){if(Ce.set)Ce.set.call(Fe,ye);else{if(!Ce.writable)throw new TypeError("attempted to set read only private field");Ce.value=ye}}function s(Fe,Ce){var ye=e(Fe,Ce,"get");return u(Fe,ye)}function e(Fe,Ce,ye){if(!Ce.has(Fe))throw new TypeError("attempted to "+ye+" private field on non-instance");return Ce.get(Fe)}function u(Fe,Ce){return Ce.get?Ce.get.call(Fe):Ce.value}function m(Fe,Ce,ye){for(const ke of ye)Ce.addEventListener(ke,Fe[ke].bind(Fe))}function g(Fe){return Math.round(Math.min(255,Math.max(1,255*Fe))).toString(16).padStart(2,"0")}var y=new WeakMap;class b{constructor(){a(this,y,{writable:!0,value:0})}getId(){var Ce,ye;return`${C.AnnotationEditorPrefix}${i(this,y,(Ce=s(this,y),ye=Ce++,Ce)),ye}`}}var v=new WeakMap,o=new WeakMap,S=new WeakMap,T=new WeakMap;class E{constructor(){let Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;a(this,v,{writable:!0,value:[]}),a(this,o,{writable:!0,value:!1}),a(this,S,{writable:!0,value:void 0}),a(this,T,{writable:!0,value:-1}),i(this,S,Ce)}add(Ce){let{cmd:ye,undo:ke,mustExec:De,type:Ie=NaN,overwriteIfSameType:Me=!1,keepUndo:Ne=!1}=Ce;if(De&&ye(),s(this,o))return;const Re={cmd:ye,undo:ke,type:Ie};if(s(this,T)===-1){s(this,v).length>0&&(s(this,v).length=0),i(this,T,0),s(this,v).push(Re);return}if(Me&&s(this,v)[s(this,T)].type===Ie){Ne&&(Re.undo=s(this,v)[s(this,T)].undo),s(this,v)[s(this,T)]=Re;return}const Oe=s(this,T)+1;Oe===s(this,S)?s(this,v).splice(0,1):(i(this,T,Oe),Oe<s(this,v).length&&s(this,v).splice(Oe)),s(this,v).push(Re)}undo(){s(this,T)!==-1&&(i(this,o,!0),s(this,v)[s(this,T)].undo(),i(this,o,!1),i(this,T,s(this,T)-1))}redo(){s(this,T)<s(this,v).length-1&&(i(this,T,s(this,T)+1),i(this,o,!0),s(this,v)[s(this,T)].cmd(),i(this,o,!1))}hasSomethingToUndo(){return s(this,T)!==-1}hasSomethingToRedo(){return s(this,T)<s(this,v).length-1}destroy(){i(this,v,null)}}n.CommandManager=E;var k=new WeakSet;class M{constructor(Ce){$(this,k),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const ye=M.platform.isMac;for(const[ke,De]of Ce)for(const Ie of ke){const Me=Ie.startsWith("mac+");ye&&Me?(this.callbacks.set(Ie.slice(4),De),this.allKeys.add(Ie.split("+").at(-1))):!ye&&!Me&&(this.callbacks.set(Ie,De),this.allKeys.add(Ie.split("+").at(-1)))}}static get platform(){const Ce=typeof navigator<"u"?navigator.platform:"";return(0,C.shadow)(this,"platform",{isWin:Ce.includes("Win"),isMac:Ce.includes("Mac")})}exec(Ce,ye){if(!this.allKeys.has(ye.key))return;const ke=this.callbacks.get(l(this,k,O).call(this,ye));ke&&(ke.bind(Ce)(),ye.stopPropagation(),ye.preventDefault())}}n.KeyboardManager=M;function O(Fe){Fe.altKey&&this.buffer.push("alt"),Fe.ctrlKey&&this.buffer.push("ctrl"),Fe.metaKey&&this.buffer.push("meta"),Fe.shiftKey&&this.buffer.push("shift"),this.buffer.push(Fe.key);const Ce=this.buffer.join("+");return this.buffer.length=0,Ce}var L=new WeakMap;class te{constructor(){a(this,L,{writable:!0,value:null})}copy(Ce){Ce&&(Array.isArray(Ce)?i(this,L,Ce.map(ye=>ye.serialize())):i(this,L,[Ce.serialize()]),i(this,L,s(this,L).filter(ye=>!!ye)),s(this,L).length===0&&i(this,L,null))}paste(){return s(this,L)}isEmpty(){return s(this,L)===null}destroy(){i(this,L,null)}}class B{get _colors(){const Ce=new Map([["CanvasText",null],["Canvas",null]]);return(0,_.getColorValues)(Ce),(0,C.shadow)(this,"_colors",Ce)}convert(Ce){const ye=(0,_.getRGB)(Ce);if(!window.matchMedia("(forced-colors: active)").matches)return ye;for(const[ke,De]of this._colors)if(De.every((Ie,Me)=>Ie===ye[Me]))return B._colorsMapping.get(ke);return ye}getHexCode(Ce){const ye=this._colors.get(Ce);return ye?C.Util.makeHexColor(...ye):Ce}}n.ColorManager=B,K(B,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var G=new WeakMap,R=new WeakMap,I=new WeakMap,U=new WeakMap,P=new WeakMap,A=new WeakMap,z=new WeakMap,N=new WeakMap,W=new WeakMap,ie=new WeakMap,Y=new WeakMap,F=new WeakMap,D=new WeakMap,Q=new WeakMap,ee=new WeakMap,V=new WeakMap,Z=new WeakMap,ae=new WeakSet,H=new WeakSet,q=new WeakSet,ne=new WeakSet,le=new WeakSet,se=new WeakSet,J=new WeakSet,re=new WeakSet,oe=new WeakSet;class ue{constructor(Ce,ye){$(this,oe),$(this,re),$(this,J),$(this,se),$(this,le),$(this,ne),$(this,q),$(this,H),$(this,ae),a(this,G,{writable:!0,value:null}),a(this,R,{writable:!0,value:new Map}),a(this,I,{writable:!0,value:new Map}),a(this,U,{writable:!0,value:new te}),a(this,P,{writable:!0,value:new E}),a(this,A,{writable:!0,value:0}),a(this,z,{writable:!0,value:null}),a(this,N,{writable:!0,value:null}),a(this,W,{writable:!0,value:new b}),a(this,ie,{writable:!0,value:!1}),a(this,Y,{writable:!0,value:C.AnnotationEditorType.NONE}),a(this,F,{writable:!0,value:new Set}),a(this,D,{writable:!0,value:this.keydown.bind(this)}),a(this,Q,{writable:!0,value:this.onEditingAction.bind(this)}),a(this,ee,{writable:!0,value:this.onPageChanging.bind(this)}),a(this,V,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),a(this,Z,{writable:!0,value:null}),i(this,Z,Ce),i(this,N,ye),s(this,N)._on("editingaction",s(this,Q)),s(this,N)._on("pagechanging",s(this,ee))}destroy(){l(this,H,de).call(this),s(this,N)._off("editingaction",s(this,Q)),s(this,N)._off("pagechanging",s(this,ee));for(const Ce of s(this,I).values())Ce.destroy();s(this,I).clear(),s(this,R).clear(),i(this,G,null),s(this,F).clear(),s(this,U).destroy(),s(this,P).destroy()}onPageChanging(Ce){let{pageNumber:ye}=Ce;i(this,A,ye-1)}focusMainContainer(){s(this,Z).focus()}keydown(Ce){var ye;(ye=this.getActive())!==null&&ye!==void 0&&ye.shouldGetKeyboardEvents()||ue._keyboardManager.exec(this,Ce)}onEditingAction(Ce){["undo","redo","cut","copy","paste","delete","selectAll"].includes(Ce.name)&&this[Ce.name]()}setEditingState(Ce){Ce?(l(this,ae,he).call(this),l(this,q,pe).call(this,{isEditing:s(this,Y)!==C.AnnotationEditorType.NONE,isEmpty:l(this,re,ve).call(this),hasSomethingToUndo:s(this,P).hasSomethingToUndo(),hasSomethingToRedo:s(this,P).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:s(this,U).isEmpty()})):(l(this,H,de).call(this),l(this,q,pe).call(this,{isEditing:!1}))}registerEditorTypes(Ce){i(this,z,Ce);for(const ye of s(this,z))l(this,ne,fe).call(this,ye.defaultPropertiesToUpdate)}getId(){return s(this,W).getId()}addLayer(Ce){s(this,I).set(Ce.pageIndex,Ce),s(this,ie)?Ce.enable():Ce.disable()}removeLayer(Ce){s(this,I).delete(Ce.pageIndex)}updateMode(Ce){if(i(this,Y,Ce),Ce===C.AnnotationEditorType.NONE)this.setEditingState(!1),l(this,se,ge).call(this);else{this.setEditingState(!0),l(this,le,be).call(this);for(const ye of s(this,I).values())ye.updateMode(Ce)}}updateToolbar(Ce){Ce!==s(this,Y)&&s(this,N).dispatch("switchannotationeditormode",{source:this,mode:Ce})}updateParams(Ce,ye){for(const ke of s(this,F))ke.updateParams(Ce,ye);for(const ke of s(this,z))ke.updateDefaultParams(Ce,ye)}getEditors(Ce){const ye=[];for(const ke of s(this,R).values())ke.pageIndex===Ce&&ye.push(ke);return ye}getEditor(Ce){return s(this,R).get(Ce)}addEditor(Ce){s(this,R).set(Ce.id,Ce)}removeEditor(Ce){s(this,R).delete(Ce.id),this.unselect(Ce)}setActiveEditor(Ce){s(this,G)!==Ce&&(i(this,G,Ce),Ce&&l(this,ne,fe).call(this,Ce.propertiesToUpdate))}toggleSelected(Ce){if(s(this,F).has(Ce)){s(this,F).delete(Ce),Ce.unselect(),l(this,q,pe).call(this,{hasSelectedEditor:this.hasSelection});return}s(this,F).add(Ce),Ce.select(),l(this,ne,fe).call(this,Ce.propertiesToUpdate),l(this,q,pe).call(this,{hasSelectedEditor:!0})}setSelected(Ce){for(const ye of s(this,F))ye!==Ce&&ye.unselect();s(this,F).clear(),s(this,F).add(Ce),Ce.select(),l(this,ne,fe).call(this,Ce.propertiesToUpdate),l(this,q,pe).call(this,{hasSelectedEditor:!0})}isSelected(Ce){return s(this,F).has(Ce)}unselect(Ce){Ce.unselect(),s(this,F).delete(Ce),l(this,q,pe).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return s(this,F).size!==0}undo(){s(this,P).undo(),l(this,q,pe).call(this,{hasSomethingToUndo:s(this,P).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:l(this,re,ve).call(this)})}redo(){s(this,P).redo(),l(this,q,pe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:s(this,P).hasSomethingToRedo(),isEmpty:l(this,re,ve).call(this)})}addCommands(Ce){s(this,P).add(Ce),l(this,q,pe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:l(this,re,ve).call(this)})}delete(){if(s(this,G)&&s(this,G).commitOrRemove(),!this.hasSelection)return;const Ce=[...s(this,F)],ye=()=>{for(const De of Ce)De.remove()},ke=()=>{for(const De of Ce)l(this,J,Se).call(this,De)};this.addCommands({cmd:ye,undo:ke,mustExec:!0})}copy(){if(s(this,G)&&s(this,G).commitOrRemove(),this.hasSelection){const Ce=[];for(const ye of s(this,F))ye.isEmpty()||Ce.push(ye);if(Ce.length===0)return;s(this,U).copy(Ce),l(this,q,pe).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(s(this,U).isEmpty())return;this.unselectAll();const Ce=s(this,I).get(s(this,A)),ye=s(this,U).paste().map(Ie=>Ce.deserialize(Ie)),ke=()=>{for(const Ie of ye)l(this,J,Se).call(this,Ie);l(this,oe,we).call(this,ye)},De=()=>{for(const Ie of ye)Ie.remove()};this.addCommands({cmd:ke,undo:De,mustExec:!0})}selectAll(){for(const Ce of s(this,F))Ce.commit();l(this,oe,we).call(this,s(this,R).values())}unselectAll(){if(s(this,G)){s(this,G).commitOrRemove();return}if(l(this,oe,we).size!==0){for(const Ce of s(this,F))Ce.unselect();s(this,F).clear(),l(this,q,pe).call(this,{hasSelectedEditor:!1})}}isActive(Ce){return s(this,G)===Ce}getActive(){return s(this,G)}getMode(){return s(this,Y)}}n.AnnotationEditorUIManager=ue;function he(){s(this,Z).addEventListener("keydown",s(this,D))}function de(){s(this,Z).removeEventListener("keydown",s(this,D))}function pe(Fe){Object.entries(Fe).some(ye=>{let[ke,De]=ye;return s(this,V)[ke]!==De})&&s(this,N).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(s(this,V),Fe)})}function fe(Fe){s(this,N).dispatch("annotationeditorparamschanged",{source:this,details:Fe})}function be(){if(!s(this,ie)){i(this,ie,!0);for(const Fe of s(this,I).values())Fe.enable()}}function ge(){if(this.unselectAll(),s(this,ie)){i(this,ie,!1);for(const Fe of s(this,I).values())Fe.disable()}}function Se(Fe){const Ce=s(this,I).get(Fe.pageIndex);Ce?Ce.addOrRebuild(Fe):this.addEditor(Fe)}function ve(){if(s(this,R).size===0)return!0;if(s(this,R).size===1)for(const Fe of s(this,R).values())return Fe.isEmpty();return!1}function we(Fe){s(this,F).clear();for(const Ce of Fe)Ce.isEmpty()||(s(this,F).add(Ce),Ce.select());l(this,q,pe).call(this,{hasSelectedEditor:!0})}K(ue,"_keyboardManager",new M([[["ctrl+a","mac+meta+a"],ue.prototype.selectAll],[["ctrl+c","mac+meta+c"],ue.prototype.copy],[["ctrl+v","mac+meta+v"],ue.prototype.paste],[["ctrl+x","mac+meta+x"],ue.prototype.cut],[["ctrl+z","mac+meta+z"],ue.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],ue.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],ue.prototype.delete],[["Escape","mac+Escape"],ue.prototype.unselectAll]]))},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=n.AnnotationPrefix=void 0,n.deprecated=E,n.getColorValues=te,n.getCurrentTransform=B,n.getCurrentTransformInverse=G,n.getFilenameFromUrl=b,n.getPdfFilenameFromUrl=v,n.getRGB=L,n.getXfaPageViewport=O,n.isDataScheme=g,n.isPdfFile=y,n.isValidFetchUrl=S,n.loadScript=T;var C=x(134),_=x(1);function K(R,I,U){return I in R?Object.defineProperty(R,I,{value:U,enumerable:!0,configurable:!0,writable:!0}):R[I]=U,R}const $="http://www.w3.org/2000/svg",l="pdfjs_internal_id_";n.AnnotationPrefix=l;class a{}n.PixelsPerInch=a,K(a,"CSS",96),K(a,"PDF",72),K(a,"PDF_TO_CSS_UNITS",a.CSS/a.PDF);class t extends C.BaseCanvasFactory{constructor(){let{ownerDocument:I=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=I}_createCanvas(I,U){const P=this._document.createElement("canvas");return P.width=I,P.height=U,P}}n.DOMCanvasFactory=t;async function i(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(S(R,document.baseURI)){const U=await fetch(R);if(!U.ok)throw new Error(U.statusText);return I?new Uint8Array(await U.arrayBuffer()):(0,_.stringToBytes)(await U.text())}return new Promise((U,P)=>{const A=new XMLHttpRequest;A.open("GET",R,!0),I&&(A.responseType="arraybuffer"),A.onreadystatechange=()=>{if(A.readyState===XMLHttpRequest.DONE){if(A.status===200||A.status===0){let z;if(I&&A.response?z=new Uint8Array(A.response):!I&&A.responseText&&(z=(0,_.stringToBytes)(A.responseText)),z){U(z);return}}P(new Error(A.statusText))}},A.send(null)})}class c extends C.BaseCMapReaderFactory{_fetchData(I,U){return i(I,this.isCompressed).then(P=>({cMapData:P,compressionType:U}))}}n.DOMCMapReaderFactory=c;class s extends C.BaseStandardFontDataFactory{_fetchData(I){return i(I,!0)}}n.DOMStandardFontDataFactory=s;class e extends C.BaseSVGFactory{_createSVG(I){return document.createElementNS($,I)}}n.DOMSVGFactory=e;class u{constructor(I){let{viewBox:U,scale:P,rotation:A,offsetX:z=0,offsetY:N=0,dontFlip:W=!1}=I;this.viewBox=U,this.scale=P,this.rotation=A,this.offsetX=z,this.offsetY=N;const ie=(U[2]+U[0])/2,Y=(U[3]+U[1])/2;let F,D,Q,ee;switch(A%=360,A<0&&(A+=360),A){case 180:F=-1,D=0,Q=0,ee=1;break;case 90:F=0,D=1,Q=1,ee=0;break;case 270:F=0,D=-1,Q=-1,ee=0;break;case 0:F=1,D=0,Q=0,ee=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}W&&(Q=-Q,ee=-ee);let V,Z,ae,H;F===0?(V=Math.abs(Y-U[1])*P+z,Z=Math.abs(ie-U[0])*P+N,ae=Math.abs(U[3]-U[1])*P,H=Math.abs(U[2]-U[0])*P):(V=Math.abs(ie-U[0])*P+z,Z=Math.abs(Y-U[1])*P+N,ae=Math.abs(U[2]-U[0])*P,H=Math.abs(U[3]-U[1])*P),this.transform=[F*P,D*P,Q*P,ee*P,V-F*P*ie-Q*P*Y,Z-D*P*ie-ee*P*Y],this.width=ae,this.height=H}clone(){let{scale:I=this.scale,rotation:U=this.rotation,offsetX:P=this.offsetX,offsetY:A=this.offsetY,dontFlip:z=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new u({viewBox:this.viewBox.slice(),scale:I,rotation:U,offsetX:P,offsetY:A,dontFlip:z})}convertToViewportPoint(I,U){return _.Util.applyTransform([I,U],this.transform)}convertToViewportRectangle(I){const U=_.Util.applyTransform([I[0],I[1]],this.transform),P=_.Util.applyTransform([I[2],I[3]],this.transform);return[U[0],U[1],P[0],P[1]]}convertToPdfPoint(I,U){return _.Util.applyInverseTransform([I,U],this.transform)}}n.PageViewport=u;class m extends _.BaseException{constructor(I,U){super(I,"RenderingCancelledException"),this.type=U}}n.RenderingCancelledException=m;function g(R){const I=R.length;let U=0;for(;U<I&&R[U].trim()==="";)U++;return R.substring(U,U+5).toLowerCase()==="data:"}function y(R){return typeof R=="string"&&/\.pdf$/i.test(R)}function b(R){const I=R.indexOf("#"),U=R.indexOf("?"),P=Math.min(I>0?I:R.length,U>0?U:R.length);return R.substring(R.lastIndexOf("/",P)+1,P)}function v(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof R!="string")return I;if(g(R))return(0,_.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),I;const U=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,P=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,A=U.exec(R);let z=P.exec(A[1])||P.exec(A[2])||P.exec(A[3]);if(z&&(z=z[0],z.includes("%")))try{z=P.exec(decodeURIComponent(z))[0]}catch{}return z||I}class o{constructor(){this.started=Object.create(null),this.times=[]}time(I){I in this.started&&(0,_.warn)(`Timer is already running for ${I}`),this.started[I]=Date.now()}timeEnd(I){I in this.started||(0,_.warn)(`Timer has not been started for ${I}`),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}toString(){const I=[];let U=0;for(const P of this.times){const A=P.name;A.length>U&&(U=A.length)}for(const P of this.times){const A=P.end-P.start;I.push(`${P.name.padEnd(U)} ${A}ms
`)}return I.join("")}}n.StatTimer=o;function S(R,I){try{const{protocol:U}=I?new URL(R,I):new URL(R);return U==="http:"||U==="https:"}catch{return!1}}function T(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((U,P)=>{const A=document.createElement("script");A.src=R,A.onload=function(z){I&&A.remove(),U(z)},A.onerror=function(){P(new Error(`Cannot load script at: ${A.src}`))},(document.head||document.documentElement).append(A)})}function E(R){console.log("Deprecated API usage: "+R)}let k;class M{static toDateObject(I){if(!I||typeof I!="string")return null;k||(k=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const U=k.exec(I);if(!U)return null;const P=parseInt(U[1],10);let A=parseInt(U[2],10);A=A>=1&&A<=12?A-1:0;let z=parseInt(U[3],10);z=z>=1&&z<=31?z:1;let N=parseInt(U[4],10);N=N>=0&&N<=23?N:0;let W=parseInt(U[5],10);W=W>=0&&W<=59?W:0;let ie=parseInt(U[6],10);ie=ie>=0&&ie<=59?ie:0;const Y=U[7]||"Z";let F=parseInt(U[8],10);F=F>=0&&F<=23?F:0;let D=parseInt(U[9],10)||0;return D=D>=0&&D<=59?D:0,Y==="-"?(N+=F,W+=D):Y==="+"&&(N-=F,W-=D),new Date(Date.UTC(P,A,z,N,W,ie))}}n.PDFDateString=M;function O(R,I){let{scale:U=1,rotation:P=0}=I;const{width:A,height:z}=R.attributes.style,N=[0,0,parseInt(A),parseInt(z)];return new u({viewBox:N,scale:U,rotation:P})}function L(R){if(R.startsWith("#")){const I=parseInt(R.slice(1),16);return[(I&16711680)>>16,(I&65280)>>8,I&255]}return R.startsWith("rgb(")?R.slice(4,-1).split(",").map(I=>parseInt(I)):R.startsWith("rgba(")?R.slice(5,-1).split(",").map(I=>parseInt(I)).slice(0,3):((0,_.warn)(`Not a valid color format: "${R}"`),[0,0,0])}function te(R){const I=document.createElement("span");I.style.visibility="hidden",document.body.append(I);for(const U of R.keys()){I.style.color=U;const P=window.getComputedStyle(I).color;R.set(U,L(P))}I.remove()}function B(R){const{a:I,b:U,c:P,d:A,e:z,f:N}=R.getTransform();return[I,U,P,A,z,N]}function G(R){const{a:I,b:U,c:P,d:A,e:z,f:N}=R.getTransform().invertSelf();return[I,U,P,A,z,N]}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0;var C=x(1);class _{constructor(){this.constructor===_&&(0,C.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,i){if(t<=0||i<=0)throw new Error("Invalid canvas size");const c=this._createCanvas(t,i);return{canvas:c,context:c.getContext("2d")}}reset(t,i,c){if(!t.canvas)throw new Error("Canvas is not specified");if(i<=0||c<=0)throw new Error("Invalid canvas size");t.canvas.width=i,t.canvas.height=c}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,i){(0,C.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=_;class K{constructor(t){let{baseUrl:i=null,isCompressed:c=!1}=t;this.constructor===K&&(0,C.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=i,this.isCompressed=c}async fetch(t){let{name:i}=t;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!i)throw new Error("CMap name must be specified.");const c=this.baseUrl+i+(this.isCompressed?".bcmap":""),s=this.isCompressed?C.CMapCompressionType.BINARY:C.CMapCompressionType.NONE;return this._fetchData(c,s).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${c}`)})}_fetchData(t,i){(0,C.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=K;class ${constructor(t){let{baseUrl:i=null}=t;this.constructor===$&&(0,C.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=i}async fetch(t){let{filename:i}=t;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!i)throw new Error("Font filename must be specified.");const c=`${this.baseUrl}${i}`;return this._fetchData(c).catch(s=>{throw new Error(`Unable to load font data at: ${c}`)})}_fetchData(t){(0,C.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=$;class l{constructor(){this.constructor===l&&(0,C.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t<=0||i<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),c||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${i}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${i}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,C.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=l},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0;var C=x(1);const _=3285377520,K=4294901760,$=65535;class l{constructor(t){this.h1=t?t&4294967295:_,this.h2=t?t&4294967295:_}update(t){let i,c;if(typeof t=="string"){i=new Uint8Array(t.length*2),c=0;for(let E=0,k=t.length;E<k;E++){const M=t.charCodeAt(E);M<=255?i[c++]=M:(i[c++]=M>>>8,i[c++]=M&255)}}else if((0,C.isArrayBuffer)(t))i=t.slice(),c=i.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const s=c>>2,e=c-s*4,u=new Uint32Array(i.buffer,0,s);let m=0,g=0,y=this.h1,b=this.h2;const v=3432918353,o=461845907,S=v&$,T=o&$;for(let E=0;E<s;E++)E&1?(m=u[E],m=m*v&K|m*S&$,m=m<<15|m>>>17,m=m*o&K|m*T&$,y^=m,y=y<<13|y>>>19,y=y*5+3864292196):(g=u[E],g=g*v&K|g*S&$,g=g<<15|g>>>17,g=g*o&K|g*T&$,b^=g,b=b<<13|b>>>19,b=b*5+3864292196);switch(m=0,e){case 3:m^=i[s*4+2]<<16;case 2:m^=i[s*4+1]<<8;case 1:m^=i[s*4],m=m*v&K|m*S&$,m=m<<15|m>>>17,m=m*o&K|m*T&$,s&1?y^=m:b^=m}this.h1=y,this.h2=b}hexdigest(){let t=this.h1,i=this.h2;t^=i>>>1,t=t*3981806797&K|t*36045&$,i=i*4283543511&K|((i<<16|t>>>16)*2950163797&K)>>>16,t^=i>>>1,t=t*444984403&K|t*60499&$,i=i*3301882366&K|((i<<16|t>>>16)*3120437893&K)>>>16,t^=i>>>1;const c=(t>>>0).toString(16),s=(i>>>0).toString(16);return c.padStart(8,"0")+s.padStart(8,"0")}}n.MurmurHash3_64=l},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0;var C=x(1);class _{constructor(a){let{docId:t,onUnsupportedFeature:i,ownerDocument:c=globalThis.document,styleElement:s=null}=a;this.constructor===_&&(0,C.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=i,this._document=c,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(a){this.nativeFontFaces.push(a),this._document.fonts.add(a)}insertRule(a){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(t));const i=t.sheet;i.insertRule(a,i.cssRules.length)}clear(){for(const a of this.nativeFontFaces)this._document.fonts.delete(a);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(a){if(a.attached||a.missingFile)return;if(a.attached=!0,this.isFontLoadingAPISupported){const i=a.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(c){throw this._onUnsupportedFeature({featureId:C.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,C.warn)(`Failed to load font '${i.family}': '${c}'.`),a.disableFontFace=!0,c}}return}const t=a.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const c=this._queueLoadingCallback(i);this._prepareFontLoadEvent([t],[a],c)})}}_queueLoadingCallback(a){(0,C.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var a;const t=!!((a=this._document)!==null&&a!==void 0&&a.fonts);return(0,C.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,C.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,C.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(a,t,i){(0,C.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let K;n.FontLoader=K,n.FontLoader=K=class extends _{constructor(a){super(a),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let a=!1;if(typeof navigator>"u")a=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(t==null?void 0:t[1])>=14&&(a=!0)}return(0,C.shadow)(this,"isSyncFontLoadingSupported",a)}_queueLoadingCallback(a){function t(){for((0,C.assert)(!c.done,"completeRequest() cannot be called twice."),c.done=!0;i.requests.length>0&&i.requests[0].done;){const s=i.requests.shift();setTimeout(s.callback,0)}}const i=this.loadingContext,c={id:`pdfjs-font-loading-${i.nextRequestId++}`,done:!1,complete:t,callback:a};return i.requests.push(c),c}get _loadTestFont(){const a=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,C.shadow)(this,"_loadTestFont",a())}_prepareFontLoadEvent(a,t,i){function c(B,G){return B.charCodeAt(G)<<24|B.charCodeAt(G+1)<<16|B.charCodeAt(G+2)<<8|B.charCodeAt(G+3)&255}function s(B,G,R,I){const U=B.substring(0,G),P=B.substring(G+R);return U+I+P}let e,u;const m=this._document.createElement("canvas");m.width=1,m.height=1;const g=m.getContext("2d");let y=0;function b(B,G){if(y++,y>30){(0,C.warn)("Load test font never loaded."),G();return}if(g.font="30px "+B,g.fillText(".",0,20),g.getImageData(0,0,1,1).data[3]>0){G();return}setTimeout(b.bind(null,B,G))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let o=this._loadTestFont;o=s(o,976,v.length,v);const T=16,E=1482184792;let k=c(o,T);for(e=0,u=v.length-3;e<u;e+=4)k=k-E+c(v,e)|0;e<v.length&&(k=k-E+c(v+"XXX",e)|0),o=s(o,T,4,(0,C.string32)(k));const M=`url(data:font/opentype;base64,${btoa(o)});`,O=`@font-face {font-family:"${v}";src:${M}}`;this.insertRule(O);const L=[];for(const B of t)L.push(B.loadedName);L.push(v);const te=this._document.createElement("div");te.style.visibility="hidden",te.style.width=te.style.height="10px",te.style.position="absolute",te.style.top=te.style.left="0px";for(const B of L){const G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=B,te.append(G)}this._document.body.append(te),b(v,()=>{te.remove(),i.complete()})}};class ${constructor(a,t){let{isEvalSupported:i=!0,disableFontFace:c=!1,ignoreErrors:s=!1,onUnsupportedFeature:e,fontRegistry:u=null}=t;this.compiledGlyphs=Object.create(null);for(const m in a)this[m]=a[m];this.isEvalSupported=i!==!1,this.disableFontFace=c===!0,this.ignoreErrors=s===!0,this._onUnsupportedFeature=e,this.fontRegistry=u}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let a;if(!this.cssFontInfo)a=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),a=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this.fontRegistry&&this.fontRegistry.registerFont(this),a}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const a=(0,C.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(a)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${t}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,t),i}getPathGenerator(a,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=a.get(this.loadedName+"_path_"+t)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature({featureId:C.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,C.warn)(`getPathGenerator - ignoring character: "${c}".`),this.compiledGlyphs[t]=function(s,e){}}if(this.isEvalSupported&&C.FeatureTest.isEvalSupported){const c=[];for(const s of i){const e=s.args!==void 0?s.args.join(","):"";c.push("c.",s.cmd,"(",e,`);
`)}return this.compiledGlyphs[t]=new Function("c","size",c.join(""))}return this.compiledGlyphs[t]=function(c,s){for(const e of i)e.cmd==="scale"&&(e.args=[s,-s]),c[e.cmd].apply(c,e.args)}}}n.FontFaceObject=$},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0;var C=x(133),_=x(1),K=x(138),$=x(139),l=x(3);function a(Y,F){t(Y,F),F.add(Y)}function t(Y,F){if(F.has(Y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(Y,F,D){if(!F.has(Y))throw new TypeError("attempted to get private field on non-instance");return D}const c=16,s=100,e=4096,u=15,m=10,g=l.isNodeJS&&typeof Path2D>"u"?-1:1e3,y=16;function b(Y,F){if(Y._removeMirroring)throw new Error("Context is already forwarding operations.");Y.__originalSave=Y.save,Y.__originalRestore=Y.restore,Y.__originalRotate=Y.rotate,Y.__originalScale=Y.scale,Y.__originalTranslate=Y.translate,Y.__originalTransform=Y.transform,Y.__originalSetTransform=Y.setTransform,Y.__originalResetTransform=Y.resetTransform,Y.__originalClip=Y.clip,Y.__originalMoveTo=Y.moveTo,Y.__originalLineTo=Y.lineTo,Y.__originalBezierCurveTo=Y.bezierCurveTo,Y.__originalRect=Y.rect,Y.__originalClosePath=Y.closePath,Y.__originalBeginPath=Y.beginPath,Y._removeMirroring=()=>{Y.save=Y.__originalSave,Y.restore=Y.__originalRestore,Y.rotate=Y.__originalRotate,Y.scale=Y.__originalScale,Y.translate=Y.__originalTranslate,Y.transform=Y.__originalTransform,Y.setTransform=Y.__originalSetTransform,Y.resetTransform=Y.__originalResetTransform,Y.clip=Y.__originalClip,Y.moveTo=Y.__originalMoveTo,Y.lineTo=Y.__originalLineTo,Y.bezierCurveTo=Y.__originalBezierCurveTo,Y.rect=Y.__originalRect,Y.closePath=Y.__originalClosePath,Y.beginPath=Y.__originalBeginPath,delete Y._removeMirroring},Y.save=function(){F.save(),this.__originalSave()},Y.restore=function(){F.restore(),this.__originalRestore()},Y.translate=function(Q,ee){F.translate(Q,ee),this.__originalTranslate(Q,ee)},Y.scale=function(Q,ee){F.scale(Q,ee),this.__originalScale(Q,ee)},Y.transform=function(Q,ee,V,Z,ae,H){F.transform(Q,ee,V,Z,ae,H),this.__originalTransform(Q,ee,V,Z,ae,H)},Y.setTransform=function(Q,ee,V,Z,ae,H){F.setTransform(Q,ee,V,Z,ae,H),this.__originalSetTransform(Q,ee,V,Z,ae,H)},Y.resetTransform=function(){F.resetTransform(),this.__originalResetTransform()},Y.rotate=function(Q){F.rotate(Q),this.__originalRotate(Q)},Y.clip=function(Q){F.clip(Q),this.__originalClip(Q)},Y.moveTo=function(D,Q){F.moveTo(D,Q),this.__originalMoveTo(D,Q)},Y.lineTo=function(D,Q){F.lineTo(D,Q),this.__originalLineTo(D,Q)},Y.bezierCurveTo=function(D,Q,ee,V,Z,ae){F.bezierCurveTo(D,Q,ee,V,Z,ae),this.__originalBezierCurveTo(D,Q,ee,V,Z,ae)},Y.rect=function(D,Q,ee,V){F.rect(D,Q,ee,V),this.__originalRect(D,Q,ee,V)},Y.closePath=function(){F.closePath(),this.__originalClosePath()},Y.beginPath=function(){F.beginPath(),this.__originalBeginPath()}}class v{constructor(F){this.canvasFactory=F,this.cache=Object.create(null)}getCanvas(F,D,Q){let ee;return this.cache[F]!==void 0?(ee=this.cache[F],this.canvasFactory.reset(ee,D,Q)):(ee=this.canvasFactory.create(D,Q),this.cache[F]=ee),ee}delete(F){delete this.cache[F]}clear(){for(const F in this.cache){const D=this.cache[F];this.canvasFactory.destroy(D),delete this.cache[F]}}}function o(Y,F,D,Q,ee,V,Z,ae,H,q){const[ne,le,se,J,re,oe]=(0,C.getCurrentTransform)(Y);if(le===0&&se===0){const de=Z*ne+re,pe=Math.round(de),fe=ae*J+oe,be=Math.round(fe),ge=(Z+H)*ne+re,Se=Math.abs(Math.round(ge)-pe)||1,ve=(ae+q)*J+oe,we=Math.abs(Math.round(ve)-be)||1;return Y.setTransform(Math.sign(ne),0,0,Math.sign(J),pe,be),Y.drawImage(F,D,Q,ee,V,0,0,Se,we),Y.setTransform(ne,le,se,J,re,oe),[Se,we]}if(ne===0&&J===0){const de=ae*se+re,pe=Math.round(de),fe=Z*le+oe,be=Math.round(fe),ge=(ae+q)*se+re,Se=Math.abs(Math.round(ge)-pe)||1,ve=(Z+H)*le+oe,we=Math.abs(Math.round(ve)-be)||1;return Y.setTransform(0,Math.sign(le),Math.sign(se),0,pe,be),Y.drawImage(F,D,Q,ee,V,0,0,we,Se),Y.setTransform(ne,le,se,J,re,oe),[we,Se]}Y.drawImage(F,D,Q,ee,V,Z,ae,H,q);const ue=Math.hypot(ne,le),he=Math.hypot(se,J);return[ue*H,he*q]}function S(Y){const{width:F,height:D}=Y;if(F>g||D>g)return null;const Q=1e3,ee=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),V=F+1;let Z=new Uint8Array(V*(D+1)),ae,H,q;const ne=F+7&-8;let le=new Uint8Array(ne*D),se=0;for(const he of Y.data){let de=128;for(;de>0;)le[se++]=he&de?0:255,de>>=1}let J=0;for(se=0,le[se]!==0&&(Z[0]=1,++J),H=1;H<F;H++)le[se]!==le[se+1]&&(Z[H]=le[se]?2:1,++J),se++;for(le[se]!==0&&(Z[H]=2,++J),ae=1;ae<D;ae++){se=ae*ne,q=ae*V,le[se-ne]!==le[se]&&(Z[q]=le[se]?1:8,++J);let he=(le[se]?4:0)+(le[se-ne]?8:0);for(H=1;H<F;H++)he=(he>>2)+(le[se+1]?4:0)+(le[se-ne+1]?8:0),ee[he]&&(Z[q+H]=ee[he],++J),se++;if(le[se-ne]!==le[se]&&(Z[q+H]=le[se]?2:4,++J),J>Q)return null}for(se=ne*(D-1),q=ae*V,le[se]!==0&&(Z[q]=8,++J),H=1;H<F;H++)le[se]!==le[se+1]&&(Z[q+H]=le[se]?4:8,++J),se++;if(le[se]!==0&&(Z[q+H]=4,++J),J>Q)return null;const re=new Int32Array([0,V,-1,0,-V,0,0,0,1]),oe=new Path2D;for(ae=0;J&&ae<=D;ae++){let he=ae*V;const de=he+F;for(;he<de&&!Z[he];)he++;if(he===de)continue;oe.moveTo(he%V,ae);const pe=he;let fe=Z[he];do{const be=re[fe];do he+=be;while(!Z[he]);const ge=Z[he];ge!==5&&ge!==10?(fe=ge,Z[he]=0):(fe=ge&51*fe>>4,Z[he]&=fe>>2|fe<<2),oe.lineTo(he%V,he/V|0),Z[he]||--J}while(pe!==he);--ae}return le=null,Z=null,function(he){he.save(),he.scale(1/F,-1/D),he.translate(0,-D),he.fill(oe),he.beginPath(),he.restore()}}class T{constructor(F,D){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,F,D])}clone(){const F=Object.create(this);return F.clipBox=this.clipBox.slice(),F}setCurrentPoint(F,D){this.x=F,this.y=D}updatePathMinMax(F,D,Q){[D,Q]=_.Util.applyTransform([D,Q],F),this.minX=Math.min(this.minX,D),this.minY=Math.min(this.minY,Q),this.maxX=Math.max(this.maxX,D),this.maxY=Math.max(this.maxY,Q)}updateRectMinMax(F,D){const Q=_.Util.applyTransform(D,F),ee=_.Util.applyTransform(D.slice(2),F);this.minX=Math.min(this.minX,Q[0],ee[0]),this.minY=Math.min(this.minY,Q[1],ee[1]),this.maxX=Math.max(this.maxX,Q[0],ee[0]),this.maxY=Math.max(this.maxY,Q[1],ee[1])}updateScalingPathMinMax(F,D){_.Util.scaleMinMax(F,D),this.minX=Math.min(this.minX,D[0]),this.maxX=Math.max(this.maxX,D[1]),this.minY=Math.min(this.minY,D[2]),this.maxY=Math.max(this.maxY,D[3])}updateCurvePathMinMax(F,D,Q,ee,V,Z,ae,H,q,ne){const le=_.Util.bezierBoundingBox(D,Q,ee,V,Z,ae,H,q);if(ne){ne[0]=Math.min(ne[0],le[0],le[2]),ne[1]=Math.max(ne[1],le[0],le[2]),ne[2]=Math.min(ne[2],le[1],le[3]),ne[3]=Math.max(ne[3],le[1],le[3]);return}this.updateRectMinMax(F,le)}getPathBoundingBox(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K.PathType.FILL,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Q=[this.minX,this.minY,this.maxX,this.maxY];if(F===K.PathType.STROKE){D||(0,_.unreachable)("Stroke bounding box must include transform.");const ee=_.Util.singularValueDecompose2dScale(D),V=ee[0]*this.lineWidth/2,Z=ee[1]*this.lineWidth/2;Q[0]-=V,Q[1]-=Z,Q[2]+=V,Q[3]+=Z}return Q}updateClipFromPath(){const F=_.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(F||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(F){this.clipBox=F,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K.PathType.FILL,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return _.Util.intersect(this.clipBox,this.getPathBoundingBox(F,D))}}function E(Y,F){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&F instanceof ImageData){Y.putImageData(F,0,0);return}const Q=F.height,ee=F.width,V=Q%y,Z=(Q-V)/y,ae=V===0?Z:Z+1,H=Y.createImageData(ee,y);let q=0,ne;const le=F.data,se=H.data;let J,re,oe,ue,he,de,pe,fe;if(D)switch(D.length){case 1:he=D[0],de=D[0],pe=D[0],fe=D[0];break;case 4:he=D[0],de=D[1],pe=D[2],fe=D[3];break}if(F.kind===_.ImageKind.GRAYSCALE_1BPP){const be=le.byteLength,ge=new Uint32Array(se.buffer,0,se.byteLength>>2),Se=ge.length,ve=ee+7>>3;let we=4294967295,Fe=_.FeatureTest.isLittleEndian?4278190080:255;for(fe&&fe[0]===255&&fe[255]===0&&([we,Fe]=[Fe,we]),J=0;J<ae;J++){for(oe=J<Z?y:V,ne=0,re=0;re<oe;re++){const Ce=be-q;let ye=0;const ke=Ce>ve?ee:Ce*8-7,De=ke&-8;let Ie=0,Me=0;for(;ye<De;ye+=8)Me=le[q++],ge[ne++]=Me&128?we:Fe,ge[ne++]=Me&64?we:Fe,ge[ne++]=Me&32?we:Fe,ge[ne++]=Me&16?we:Fe,ge[ne++]=Me&8?we:Fe,ge[ne++]=Me&4?we:Fe,ge[ne++]=Me&2?we:Fe,ge[ne++]=Me&1?we:Fe;for(;ye<ke;ye++)Ie===0&&(Me=le[q++],Ie=128),ge[ne++]=Me&Ie?we:Fe,Ie>>=1}for(;ne<Se;)ge[ne++]=0;Y.putImageData(H,0,J*y)}}else if(F.kind===_.ImageKind.RGBA_32BPP){const be=!!(he||de||pe);for(re=0,ue=ee*y*4,J=0;J<Z;J++){if(se.set(le.subarray(q,q+ue)),q+=ue,be)for(let ge=0;ge<ue;ge+=4)he&&(se[ge+0]=he[se[ge+0]]),de&&(se[ge+1]=de[se[ge+1]]),pe&&(se[ge+2]=pe[se[ge+2]]);Y.putImageData(H,0,re),re+=y}if(J<ae){if(ue=ee*V*4,se.set(le.subarray(q,q+ue)),be)for(let ge=0;ge<ue;ge+=4)he&&(se[ge+0]=he[se[ge+0]]),de&&(se[ge+1]=de[se[ge+1]]),pe&&(se[ge+2]=pe[se[ge+2]]);Y.putImageData(H,0,re)}}else if(F.kind===_.ImageKind.RGB_24BPP){const be=!!(he||de||pe);for(oe=y,ue=ee*oe,J=0;J<ae;J++){for(J>=Z&&(oe=V,ue=ee*oe),ne=0,re=ue;re--;)se[ne++]=le[q++],se[ne++]=le[q++],se[ne++]=le[q++],se[ne++]=255;if(be)for(let ge=0;ge<ne;ge+=4)he&&(se[ge+0]=he[se[ge+0]]),de&&(se[ge+1]=de[se[ge+1]]),pe&&(se[ge+2]=pe[se[ge+2]]);Y.putImageData(H,0,J*y)}}else throw new Error(`bad image kind: ${F.kind}`)}function k(Y,F){if(F.bitmap){Y.drawImage(F.bitmap,0,0);return}const D=F.height,Q=F.width,ee=D%y,V=(D-ee)/y,Z=ee===0?V:V+1,ae=Y.createImageData(Q,y);let H=0;const q=F.data,ne=ae.data;for(let le=0;le<Z;le++){const se=le<V?y:ee;({srcPos:H}=(0,$.applyMaskImageData)({src:q,srcPos:H,dest:ne,width:Q,height:se})),Y.putImageData(ae,0,le*y)}}function M(Y,F){const D=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Q=0,ee=D.length;Q<ee;Q++){const V=D[Q];Y[V]!==void 0&&(F[V]=Y[V])}Y.setLineDash!==void 0&&(F.setLineDash(Y.getLineDash()),F.lineDashOffset=Y.lineDashOffset)}function O(Y,F){Y.strokeStyle=Y.fillStyle=F||"#000000",Y.fillRule="nonzero",Y.globalAlpha=1,Y.lineWidth=1,Y.lineCap="butt",Y.lineJoin="miter",Y.miterLimit=10,Y.globalCompositeOperation="source-over",Y.font="10px sans-serif",Y.setLineDash!==void 0&&(Y.setLineDash([]),Y.lineDashOffset=0)}function L(Y,F,D,Q){const ee=Y.length;for(let V=3;V<ee;V+=4){const Z=Y[V];if(Z===0)Y[V-3]=F,Y[V-2]=D,Y[V-1]=Q;else if(Z<255){const ae=255-Z;Y[V-3]=Y[V-3]*Z+F*ae>>8,Y[V-2]=Y[V-2]*Z+D*ae>>8,Y[V-1]=Y[V-1]*Z+Q*ae>>8}}}function te(Y,F,D){const Q=Y.length,ee=1/255;for(let V=3;V<Q;V+=4){const Z=D?D[Y[V]]:Y[V];F[V]=F[V]*Z*ee|0}}function B(Y,F,D){const Q=Y.length;for(let ee=3;ee<Q;ee+=4){const V=Y[ee-3]*77+Y[ee-2]*152+Y[ee-1]*28;F[ee]=D?F[ee]*D[V>>8]>>8:F[ee]*V>>16}}function G(Y,F,D,Q,ee,V,Z,ae,H,q,ne){const le=!!V,se=le?V[0]:0,J=le?V[1]:0,re=le?V[2]:0;let oe;ee==="Luminosity"?oe=B:oe=te;const he=Math.min(Q,Math.ceil(1048576/D));for(let de=0;de<Q;de+=he){const pe=Math.min(he,Q-de),fe=Y.getImageData(ae-q,de+(H-ne),D,pe),be=F.getImageData(ae,de+H,D,pe);le&&L(fe.data,se,J,re),oe(fe.data,be.data,Z),F.putImageData(be,ae,de+H)}}function R(Y,F,D,Q){const ee=Q[0],V=Q[1],Z=Q[2]-ee,ae=Q[3]-V;Z===0||ae===0||(G(F.context,D,Z,ae,F.subtype,F.backdrop,F.transferMap,ee,V,F.offsetX,F.offsetY),Y.save(),Y.globalAlpha=1,Y.globalCompositeOperation="source-over",Y.setTransform(1,0,0,1,0,0),Y.drawImage(D.canvas,0,0),Y.restore())}function I(Y,F){const D=_.Util.singularValueDecompose2dScale(Y);D[0]=Math.fround(D[0]),D[1]=Math.fround(D[1]);const Q=Math.fround((globalThis.devicePixelRatio||1)*C.PixelsPerInch.PDF_TO_CSS_UNITS);return F!==void 0?F:D[0]<=Q||D[1]<=Q}const U=["butt","round","square"],P=["miter","round","bevel"],A={},z={};var N=new WeakSet;class W{constructor(F,D,Q,ee,V,Z,ae,H){a(this,N),this.ctx=F,this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=D,this.objs=Q,this.canvasFactory=ee,this.imageLayer=V,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Z,this.cachedCanvases=new v(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ae,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(H==null?void 0:H.background)||null,this.foregroundColor=(H==null?void 0:H.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(F){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof F=="string"?F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F):D}beginDrawing(F){let{transform:D,viewport:Q,transparency:ee=!1,background:V=null}=F;const Z=this.ctx.canvas.width,ae=this.ctx.canvas.height,H=V||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const q=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ne=this.backgroundColor=this.ctx.fillStyle;let le=!0,se=H;if(this.ctx.fillStyle=H,se=this.ctx.fillStyle,le=typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se),q==="#000000"&&ne==="#ffffff"||q===ne||!le)this.foregroundColor=this.backgroundColor=null;else{const[J,re,oe]=(0,C.getRGB)(se),ue=de=>(de/=255,de<=.03928?de/12.92:((de+.055)/1.055)**2.4),he=Math.round(.2126*ue(J)+.7152*ue(re)+.0722*ue(oe));this.selectColor=(de,pe,fe)=>{const be=.2126*ue(de)+.7152*ue(pe)+.0722*ue(fe);return Math.round(be)===he?ne:q}}}if(this.ctx.fillStyle=this.backgroundColor||H,this.ctx.fillRect(0,0,Z,ae),this.ctx.restore(),ee){const q=this.cachedCanvases.getCanvas("transparent",Z,ae);this.compositeCtx=this.ctx,this.transparentCanvas=q.canvas,this.ctx=q.context,this.ctx.save(),this.ctx.transform(...(0,C.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),O(this.ctx,this.foregroundColor),D&&(this.ctx.transform(...D),this.outputScaleX=D[0],this.outputScaleY=D[0]),this.ctx.transform(...Q.transform),this.viewportScale=Q.scale,this.baseTransform=(0,C.getCurrentTransform)(this.ctx),this.imageLayer&&((0,C.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(F,D,Q,ee){const V=F.argsArray,Z=F.fnArray;let ae=D||0;const H=V.length;if(H===ae)return ae;const q=H-ae>m&&typeof Q=="function",ne=q?Date.now()+u:0;let le=0;const se=this.commonObjs,J=this.objs;let re;for(;;){if(ee!==void 0&&ae===ee.nextBreakPoint)return ee.breakIt(ae,Q),ae;if(re=Z[ae],re!==_.OPS.dependency)this[re].apply(this,V[ae]);else for(const oe of V[ae]){const ue=oe.startsWith("g_")?se:J;if(!ue.has(oe))return ue.get(oe,Q),ae}if(ae++,ae===H)return ae;if(q&&++le>m){if(Date.now()>ne)return Q(),ae;le=0}}}endDrawing(){i(this,N,ie).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const F of this._cachedBitmapsMap.values()){for(const D of F.values())typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement&&(D.width=D.height=0);F.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(F,D){const Q=F.width,ee=F.height;let V=Math.max(Math.hypot(D[0],D[1]),1),Z=Math.max(Math.hypot(D[2],D[3]),1),ae=Q,H=ee,q="prescale1",ne,le;for(;V>2&&ae>1||Z>2&&H>1;){let se=ae,J=H;V>2&&ae>1&&(se=Math.ceil(ae/2),V/=ae/se),Z>2&&H>1&&(J=Math.ceil(H/2),Z/=H/J),ne=this.cachedCanvases.getCanvas(q,se,J),le=ne.context,le.clearRect(0,0,se,J),le.drawImage(F,0,0,ae,H,0,0,se,J),F=ne.canvas,ae=se,H=J,q=q==="prescale1"?"prescale2":"prescale1"}return{img:F,paintWidth:ae,paintHeight:H}}_createMaskCanvas(F){const D=this.ctx,{width:Q,height:ee}=F,V=this.current.fillColor,Z=this.current.patternFill,ae=(0,C.getCurrentTransform)(D);let H,q,ne,le;if((F.bitmap||F.data)&&F.count>1){const Se=F.bitmap||F.data.buffer,ve=ae.slice(0,4);q=JSON.stringify(Z?ve:[ve,V]),H=this._cachedBitmapsMap.get(Se),H||(H=new Map,this._cachedBitmapsMap.set(Se,H));const we=H.get(q);if(we&&!Z){const Fe=Math.round(Math.min(ae[0],ae[2])+ae[4]),Ce=Math.round(Math.min(ae[1],ae[3])+ae[5]);return{canvas:we,offsetX:Fe,offsetY:Ce}}ne=we}ne||(le=this.cachedCanvases.getCanvas("maskCanvas",Q,ee),k(le.context,F));let se=_.Util.transform(ae,[1/Q,0,0,-1/ee,0,0]);se=_.Util.transform(se,[1,0,0,1,0,-ee]);const J=_.Util.applyTransform([0,0],se),re=_.Util.applyTransform([Q,ee],se),oe=_.Util.normalizeRect([J[0],J[1],re[0],re[1]]),ue=Math.round(oe[2]-oe[0])||1,he=Math.round(oe[3]-oe[1])||1,de=this.cachedCanvases.getCanvas("fillCanvas",ue,he),pe=de.context,fe=Math.min(J[0],re[0]),be=Math.min(J[1],re[1]);pe.translate(-fe,-be),pe.transform(...se),ne||(ne=this._scaleImage(le.canvas,(0,C.getCurrentTransformInverse)(pe)),ne=ne.img,H&&Z&&H.set(q,ne)),pe.imageSmoothingEnabled=I((0,C.getCurrentTransform)(pe),F.interpolate),o(pe,ne,0,0,ne.width,ne.height,0,0,Q,ee),pe.globalCompositeOperation="source-in";const ge=_.Util.transform((0,C.getCurrentTransformInverse)(pe),[1,0,0,1,-fe,-be]);return pe.fillStyle=Z?V.getPattern(D,this,ge,K.PathType.FILL):V,pe.fillRect(0,0,Q,ee),H&&!Z&&(this.cachedCanvases.delete("fillCanvas"),H.set(q,de.canvas)),{canvas:de.canvas,offsetX:Math.round(fe),offsetY:Math.round(be)}}setLineWidth(F){F!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=F,this.ctx.lineWidth=F}setLineCap(F){this.ctx.lineCap=U[F]}setLineJoin(F){this.ctx.lineJoin=P[F]}setMiterLimit(F){this.ctx.miterLimit=F}setDash(F,D){const Q=this.ctx;Q.setLineDash!==void 0&&(Q.setLineDash(F),Q.lineDashOffset=D)}setRenderingIntent(F){}setFlatness(F){}setGState(F){for(let D=0,Q=F.length;D<Q;D++){const ee=F[D],V=ee[0],Z=ee[1];switch(V){case"LW":this.setLineWidth(Z);break;case"LC":this.setLineCap(Z);break;case"LJ":this.setLineJoin(Z);break;case"ML":this.setMiterLimit(Z);break;case"D":this.setDash(Z[0],Z[1]);break;case"RI":this.setRenderingIntent(Z);break;case"FL":this.setFlatness(Z);break;case"Font":this.setFont(Z[0],Z[1]);break;case"CA":this.current.strokeAlpha=ee[1];break;case"ca":this.current.fillAlpha=ee[1],this.ctx.globalAlpha=ee[1];break;case"BM":this.ctx.globalCompositeOperation=Z;break;case"SMask":this.current.activeSMask=Z?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Z}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const F=this.inSMaskMode;this.current.activeSMask&&!F?this.beginSMaskMode():!this.current.activeSMask&&F&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const F=this.ctx.canvas.width,D=this.ctx.canvas.height,Q="smaskGroupAt"+this.groupLevel,ee=this.cachedCanvases.getCanvas(Q,F,D);this.suspendedCtx=this.ctx,this.ctx=ee.context;const V=this.ctx;V.setTransform(...(0,C.getCurrentTransform)(this.suspendedCtx)),M(this.suspendedCtx,V),b(V,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),M(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(F){if(!this.current.activeSMask)return;F?(F[0]=Math.floor(F[0]),F[1]=Math.floor(F[1]),F[2]=Math.ceil(F[2]),F[3]=Math.ceil(F[3])):F=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const D=this.current.activeSMask,Q=this.suspendedCtx;R(Q,D,this.ctx,F),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(M(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const F=this.current;this.stateStack.push(F),this.current=F.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),M(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(F,D,Q,ee,V,Z){this.ctx.transform(F,D,Q,ee,V,Z),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(F,D,Q){const ee=this.ctx,V=this.current;let Z=V.x,ae=V.y,H,q;const ne=(0,C.getCurrentTransform)(ee),le=ne[0]===0&&ne[3]===0||ne[1]===0&&ne[2]===0,se=le?Q.slice(0):null;for(let J=0,re=0,oe=F.length;J<oe;J++)switch(F[J]|0){case _.OPS.rectangle:Z=D[re++],ae=D[re++];const ue=D[re++],he=D[re++],de=Z+ue,pe=ae+he;ee.moveTo(Z,ae),ue===0||he===0?ee.lineTo(de,pe):(ee.lineTo(de,ae),ee.lineTo(de,pe),ee.lineTo(Z,pe)),le||V.updateRectMinMax(ne,[Z,ae,de,pe]),ee.closePath();break;case _.OPS.moveTo:Z=D[re++],ae=D[re++],ee.moveTo(Z,ae),le||V.updatePathMinMax(ne,Z,ae);break;case _.OPS.lineTo:Z=D[re++],ae=D[re++],ee.lineTo(Z,ae),le||V.updatePathMinMax(ne,Z,ae);break;case _.OPS.curveTo:H=Z,q=ae,Z=D[re+4],ae=D[re+5],ee.bezierCurveTo(D[re],D[re+1],D[re+2],D[re+3],Z,ae),V.updateCurvePathMinMax(ne,H,q,D[re],D[re+1],D[re+2],D[re+3],Z,ae,se),re+=6;break;case _.OPS.curveTo2:H=Z,q=ae,ee.bezierCurveTo(Z,ae,D[re],D[re+1],D[re+2],D[re+3]),V.updateCurvePathMinMax(ne,H,q,Z,ae,D[re],D[re+1],D[re+2],D[re+3],se),Z=D[re+2],ae=D[re+3],re+=4;break;case _.OPS.curveTo3:H=Z,q=ae,Z=D[re+2],ae=D[re+3],ee.bezierCurveTo(D[re],D[re+1],Z,ae,Z,ae),V.updateCurvePathMinMax(ne,H,q,D[re],D[re+1],Z,ae,Z,ae,se),re+=4;break;case _.OPS.closePath:ee.closePath();break}le&&V.updateScalingPathMinMax(ne,se),V.setCurrentPoint(Z,ae)}closePath(){this.ctx.closePath()}stroke(F){F=typeof F<"u"?F:!0;const D=this.ctx,Q=this.current.strokeColor;D.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Q=="object"&&Q!==null&&Q!==void 0&&Q.getPattern?(D.save(),D.strokeStyle=Q.getPattern(D,this,(0,C.getCurrentTransformInverse)(D),K.PathType.STROKE),this.rescaleAndStroke(!1),D.restore()):this.rescaleAndStroke(!0)),F&&this.consumePath(this.current.getClippedPathBoundingBox()),D.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(F){F=typeof F<"u"?F:!0;const D=this.ctx,Q=this.current.fillColor,ee=this.current.patternFill;let V=!1;ee&&(D.save(),D.fillStyle=Q.getPattern(D,this,(0,C.getCurrentTransformInverse)(D),K.PathType.FILL),V=!0);const Z=this.current.getClippedPathBoundingBox();this.contentVisible&&Z!==null&&(this.pendingEOFill?(D.fill("evenodd"),this.pendingEOFill=!1):D.fill()),V&&D.restore(),F&&this.consumePath(Z)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=A}eoClip(){this.pendingClip=z}beginText(){this.current.textMatrix=_.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const F=this.pendingTextPaths,D=this.ctx;if(F===void 0){D.beginPath();return}D.save(),D.beginPath();for(const Q of F)D.setTransform(...Q.transform),D.translate(Q.x,Q.y),Q.addToPath(D,Q.fontSize);D.restore(),D.clip(),D.beginPath(),delete this.pendingTextPaths}setCharSpacing(F){this.current.charSpacing=F}setWordSpacing(F){this.current.wordSpacing=F}setHScale(F){this.current.textHScale=F/100}setLeading(F){this.current.leading=-F}setFont(F,D){const Q=this.commonObjs.get(F),ee=this.current;if(!Q)throw new Error(`Can't find font for ${F}`);if(ee.fontMatrix=Q.fontMatrix||_.FONT_IDENTITY_MATRIX,(ee.fontMatrix[0]===0||ee.fontMatrix[3]===0)&&(0,_.warn)("Invalid font matrix for font "+F),D<0?(D=-D,ee.fontDirection=-1):ee.fontDirection=1,this.current.font=Q,this.current.fontSize=D,Q.isType3Font)return;const V=Q.loadedName||"sans-serif";let Z="normal";Q.black?Z="900":Q.bold&&(Z="bold");const ae=Q.italic?"italic":"normal",H=`"${V}", ${Q.fallbackName}`;let q=D;D<c?q=c:D>s&&(q=s),this.current.fontSizeScale=D/q,this.ctx.font=`${ae} ${Z} ${q}px ${H}`}setTextRenderingMode(F){this.current.textRenderingMode=F}setTextRise(F){this.current.textRise=F}moveText(F,D){this.current.x=this.current.lineX+=F,this.current.y=this.current.lineY+=D}setLeadingMoveText(F,D){this.setLeading(-D),this.moveText(F,D)}setTextMatrix(F,D,Q,ee,V,Z){this.current.textMatrix=[F,D,Q,ee,V,Z],this.current.textMatrixScale=Math.hypot(F,D),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(F,D,Q,ee){const V=this.ctx,Z=this.current,ae=Z.font,H=Z.textRenderingMode,q=Z.fontSize/Z.fontSizeScale,ne=H&_.TextRenderingMode.FILL_STROKE_MASK,le=!!(H&_.TextRenderingMode.ADD_TO_PATH_FLAG),se=Z.patternFill&&!ae.missingFile;let J;(ae.disableFontFace||le||se)&&(J=ae.getPathGenerator(this.commonObjs,F)),ae.disableFontFace||se?(V.save(),V.translate(D,Q),V.beginPath(),J(V,q),ee&&V.setTransform(...ee),(ne===_.TextRenderingMode.FILL||ne===_.TextRenderingMode.FILL_STROKE)&&V.fill(),(ne===_.TextRenderingMode.STROKE||ne===_.TextRenderingMode.FILL_STROKE)&&V.stroke(),V.restore()):((ne===_.TextRenderingMode.FILL||ne===_.TextRenderingMode.FILL_STROKE)&&V.fillText(F,D,Q),(ne===_.TextRenderingMode.STROKE||ne===_.TextRenderingMode.FILL_STROKE)&&V.strokeText(F,D,Q)),le&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,C.getCurrentTransform)(V),x:D,y:Q,fontSize:q,addToPath:J})}get isFontSubpixelAAEnabled(){const{context:F}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);F.scale(1.5,1),F.fillText("I",0,10);const D=F.getImageData(0,0,10,10).data;let Q=!1;for(let ee=3;ee<D.length;ee+=4)if(D[ee]>0&&D[ee]<255){Q=!0;break}return(0,_.shadow)(this,"isFontSubpixelAAEnabled",Q)}showText(F){const D=this.current,Q=D.font;if(Q.isType3Font)return this.showType3Text(F);const ee=D.fontSize;if(ee===0)return;const V=this.ctx,Z=D.fontSizeScale,ae=D.charSpacing,H=D.wordSpacing,q=D.fontDirection,ne=D.textHScale*q,le=F.length,se=Q.vertical,J=se?1:-1,re=Q.defaultVMetrics,oe=ee*D.fontMatrix[0],ue=D.textRenderingMode===_.TextRenderingMode.FILL&&!Q.disableFontFace&&!D.patternFill;V.save(),V.transform(...D.textMatrix),V.translate(D.x,D.y+D.textRise),q>0?V.scale(ne,-1):V.scale(ne,1);let he;if(D.patternFill){V.save();const ge=D.fillColor.getPattern(V,this,(0,C.getCurrentTransformInverse)(V),K.PathType.FILL);he=(0,C.getCurrentTransform)(V),V.restore(),V.fillStyle=ge}let de=D.lineWidth;const pe=D.textMatrixScale;if(pe===0||de===0){const ge=D.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;(ge===_.TextRenderingMode.STROKE||ge===_.TextRenderingMode.FILL_STROKE)&&(de=this.getSinglePixelWidth())}else de/=pe;Z!==1&&(V.scale(Z,Z),de/=Z),V.lineWidth=de;let fe=0,be;for(be=0;be<le;++be){const ge=F[be];if(typeof ge=="number"){fe+=J*ge*ee/1e3;continue}let Se=!1;const ve=(ge.isSpace?H:0)+ae,we=ge.fontChar,Fe=ge.accent;let Ce,ye,ke=ge.width;if(se){const Ie=ge.vmetric||re,Me=-(ge.vmetric?Ie[1]:ke*.5)*oe,Ne=Ie[2]*oe;ke=Ie?-Ie[0]:ke,Ce=Me/Z,ye=(fe+Ne)/Z}else Ce=fe/Z,ye=0;if(Q.remeasure&&ke>0){const Ie=V.measureText(we).width*1e3/ee*Z;if(ke<Ie&&this.isFontSubpixelAAEnabled){const Me=ke/Ie;Se=!0,V.save(),V.scale(Me,1),Ce/=Me}else ke!==Ie&&(Ce+=(ke-Ie)/2e3*ee/Z)}if(this.contentVisible&&(ge.isInFont||Q.missingFile)){if(ue&&!Fe)V.fillText(we,Ce,ye);else if(this.paintChar(we,Ce,ye,he),Fe){const Ie=Ce+ee*Fe.offset.x/Z,Me=ye-ee*Fe.offset.y/Z;this.paintChar(Fe.fontChar,Ie,Me,he)}}let De;se?De=ke*oe-ve*q:De=ke*oe+ve*q,fe+=De,Se&&V.restore()}se?D.y-=fe:D.x+=fe*ne,V.restore(),this.compose()}showType3Text(F){const D=this.ctx,Q=this.current,ee=Q.font,V=Q.fontSize,Z=Q.fontDirection,ae=ee.vertical?1:-1,H=Q.charSpacing,q=Q.wordSpacing,ne=Q.textHScale*Z,le=Q.fontMatrix||_.FONT_IDENTITY_MATRIX,se=F.length,J=Q.textRenderingMode===_.TextRenderingMode.INVISIBLE;let re,oe,ue,he;if(!(J||V===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,D.save(),D.transform(...Q.textMatrix),D.translate(Q.x,Q.y),D.scale(ne,Z),re=0;re<se;++re){if(oe=F[re],typeof oe=="number"){he=ae*oe*V/1e3,this.ctx.translate(he,0),Q.x+=he*ne;continue}const de=(oe.isSpace?q:0)+H,pe=ee.charProcOperatorList[oe.operatorListId];if(!pe){(0,_.warn)(`Type3 character "${oe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=oe,this.save(),D.scale(V,V),D.transform(...le),this.executeOperatorList(pe),this.restore()),ue=_.Util.applyTransform([oe.width,0],le)[0]*V+de,D.translate(ue,0),Q.x+=ue*ne}D.restore(),this.processingType3=null}}setCharWidth(F,D){}setCharWidthAndBounds(F,D,Q,ee,V,Z){this.ctx.rect(Q,ee,V-Q,Z-ee),this.ctx.clip(),this.endPath()}getColorN_Pattern(F){let D;if(F[0]==="TilingPattern"){const Q=F[1],ee=this.baseTransform||(0,C.getCurrentTransform)(this.ctx),V={createCanvasGraphics:Z=>new W(Z,this.commonObjs,this.objs,this.canvasFactory)};D=new K.TilingPattern(F,Q,this.ctx,V,ee)}else D=this._getPattern(F[1],F[2]);return D}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(F,D,Q){var ee;const V=((ee=this.selectColor)===null||ee===void 0?void 0:ee.call(this,F,D,Q))||_.Util.makeHexColor(F,D,Q);this.ctx.strokeStyle=V,this.current.strokeColor=V}setFillRGBColor(F,D,Q){var ee;const V=((ee=this.selectColor)===null||ee===void 0?void 0:ee.call(this,F,D,Q))||_.Util.makeHexColor(F,D,Q);this.ctx.fillStyle=V,this.current.fillColor=V,this.current.patternFill=!1}_getPattern(F){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Q;return this.cachedPatterns.has(F)?Q=this.cachedPatterns.get(F):(Q=(0,K.getShadingPattern)(this.objs.get(F)),this.cachedPatterns.set(F,Q)),D&&(Q.matrix=D),Q}shadingFill(F){if(!this.contentVisible)return;const D=this.ctx;this.save();const Q=this._getPattern(F);D.fillStyle=Q.getPattern(D,this,(0,C.getCurrentTransformInverse)(D),K.PathType.SHADING);const ee=(0,C.getCurrentTransformInverse)(D);if(ee){const V=D.canvas,Z=V.width,ae=V.height,H=_.Util.applyTransform([0,0],ee),q=_.Util.applyTransform([0,ae],ee),ne=_.Util.applyTransform([Z,0],ee),le=_.Util.applyTransform([Z,ae],ee),se=Math.min(H[0],q[0],ne[0],le[0]),J=Math.min(H[1],q[1],ne[1],le[1]),re=Math.max(H[0],q[0],ne[0],le[0]),oe=Math.max(H[1],q[1],ne[1],le[1]);this.ctx.fillRect(se,J,re-se,oe-J)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(F,D){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(F)&&F.length===6&&this.transform(...F),this.baseTransform=(0,C.getCurrentTransform)(this.ctx),D)){const Q=D[2]-D[0],ee=D[3]-D[1];this.ctx.rect(D[0],D[1],Q,ee),this.current.updateRectMinMax((0,C.getCurrentTransform)(this.ctx),D),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(F){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const D=this.ctx;F.isolated||(0,_.info)("TODO: Support non-isolated groups."),F.knockout&&(0,_.warn)("Knockout groups not supported.");const Q=(0,C.getCurrentTransform)(D);if(F.matrix&&D.transform(...F.matrix),!F.bbox)throw new Error("Bounding box is required.");let ee=_.Util.getAxialAlignedBoundingBox(F.bbox,(0,C.getCurrentTransform)(D));const V=[0,0,D.canvas.width,D.canvas.height];ee=_.Util.intersect(ee,V)||[0,0,0,0];const Z=Math.floor(ee[0]),ae=Math.floor(ee[1]);let H=Math.max(Math.ceil(ee[2])-Z,1),q=Math.max(Math.ceil(ee[3])-ae,1),ne=1,le=1;H>e&&(ne=H/e,H=e),q>e&&(le=q/e,q=e),this.current.startNewPathAndClipBox([0,0,H,q]);let se="groupAt"+this.groupLevel;F.smask&&(se+="_smask_"+this.smaskCounter++%2);const J=this.cachedCanvases.getCanvas(se,H,q),re=J.context;re.scale(1/ne,1/le),re.translate(-Z,-ae),re.transform(...Q),F.smask?this.smaskStack.push({canvas:J.canvas,context:re,offsetX:Z,offsetY:ae,scaleX:ne,scaleY:le,subtype:F.smask.subtype,backdrop:F.smask.backdrop,transferMap:F.smask.transferMap||null,startTransformInverse:null}):(D.setTransform(1,0,0,1,0,0),D.translate(Z,ae),D.scale(ne,le),D.save()),M(D,re),this.ctx=re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(D),this.groupLevel++}endGroup(F){if(!this.contentVisible)return;this.groupLevel--;const D=this.ctx,Q=this.groupStack.pop();if(this.ctx=Q,this.ctx.imageSmoothingEnabled=!1,F.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ee=(0,C.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ee);const V=_.Util.getAxialAlignedBoundingBox([0,0,D.canvas.width,D.canvas.height],ee);this.ctx.drawImage(D.canvas,0,0),this.ctx.restore(),this.compose(V)}}beginAnnotation(F,D,Q,ee,V){if(i(this,N,ie).call(this),O(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(D)&&D.length===4){const Z=D[2]-D[0],ae=D[3]-D[1];if(V&&this.annotationCanvasMap){Q=Q.slice(),Q[4]-=D[0],Q[5]-=D[1],D=D.slice(),D[0]=D[1]=0,D[2]=Z,D[3]=ae;const[H,q]=_.Util.singularValueDecompose2dScale((0,C.getCurrentTransform)(this.ctx)),{viewportScale:ne}=this,le=Math.ceil(Z*this.outputScaleX*ne),se=Math.ceil(ae*this.outputScaleY*ne);this.annotationCanvas=this.canvasFactory.create(le,se);const{canvas:J,context:re}=this.annotationCanvas;this.annotationCanvasMap.set(F,J),this.annotationCanvas.savedCtx=this.ctx,this.ctx=re,this.ctx.setTransform(H,0,0,-q,0,ae*q),O(this.ctx,this.foregroundColor)}else O(this.ctx,this.foregroundColor),this.ctx.rect(D[0],D[1],Z,ae),this.ctx.clip(),this.endPath()}this.current=new T(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Q),this.transform(...ee)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(F){if(!this.contentVisible)return;const D=F.count;F=this.getObject(F.data,F),F.count=D;const Q=this.ctx,ee=this.processingType3;if(ee&&(ee.compiled===void 0&&(ee.compiled=S(F)),ee.compiled)){ee.compiled(Q);return}const V=this._createMaskCanvas(F),Z=V.canvas;Q.save(),Q.setTransform(1,0,0,1,0,0),Q.drawImage(Z,V.offsetX,V.offsetY),Q.restore(),this.compose()}paintImageMaskXObjectRepeat(F,D){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,V=arguments.length>4?arguments[4]:void 0,Z=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;F=this.getObject(F.data,F);const ae=this.ctx;ae.save();const H=(0,C.getCurrentTransform)(ae);ae.transform(D,Q,ee,V,0,0);const q=this._createMaskCanvas(F);ae.setTransform(1,0,0,1,0,0);for(let ne=0,le=Z.length;ne<le;ne+=2){const se=_.Util.transform(H,[D,Q,ee,V,Z[ne],Z[ne+1]]),[J,re]=_.Util.applyTransform([0,0],se);ae.drawImage(q.canvas,J,re)}ae.restore(),this.compose()}paintImageMaskXObjectGroup(F){if(!this.contentVisible)return;const D=this.ctx,Q=this.current.fillColor,ee=this.current.patternFill;for(const V of F){const{data:Z,width:ae,height:H,transform:q}=V,ne=this.cachedCanvases.getCanvas("maskCanvas",ae,H),le=ne.context;le.save();const se=this.getObject(Z,V);k(le,se),le.globalCompositeOperation="source-in",le.fillStyle=ee?Q.getPattern(le,this,(0,C.getCurrentTransformInverse)(D),K.PathType.FILL):Q,le.fillRect(0,0,ae,H),le.restore(),D.save(),D.transform(...q),D.scale(1,-1),o(D,ne.canvas,0,0,ae,H,0,-1,1,1),D.restore()}this.compose()}paintImageXObject(F){if(!this.contentVisible)return;const D=this.getObject(F);if(!D){(0,_.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(D)}paintImageXObjectRepeat(F,D,Q,ee){if(!this.contentVisible)return;const V=this.getObject(F);if(!V){(0,_.warn)("Dependent image isn't ready yet");return}const Z=V.width,ae=V.height,H=[];for(let q=0,ne=ee.length;q<ne;q+=2)H.push({transform:[D,0,0,Q,ee[q],ee[q+1]],x:0,y:0,w:Z,h:ae});this.paintInlineImageXObjectGroup(V,H)}paintInlineImageXObject(F){if(!this.contentVisible)return;const D=F.width,Q=F.height,ee=this.ctx;this.save(),ee.scale(1/D,-1/Q);let V;if(typeof HTMLElement=="function"&&F instanceof HTMLElement||!F.data)V=F;else{const q=this.cachedCanvases.getCanvas("inlineImage",D,Q),ne=q.context;E(ne,F,this.current.transferMaps),V=q.canvas}const Z=this._scaleImage(V,(0,C.getCurrentTransformInverse)(ee));ee.imageSmoothingEnabled=I((0,C.getCurrentTransform)(ee),F.interpolate);const[ae,H]=o(ee,Z.img,0,0,Z.paintWidth,Z.paintHeight,0,-Q,D,Q);if(this.imageLayer){const[q,ne]=_.Util.applyTransform([0,-Q],(0,C.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:F,left:q,top:ne,width:ae,height:H})}this.compose(),this.restore()}paintInlineImageXObjectGroup(F,D){if(!this.contentVisible)return;const Q=this.ctx,ee=F.width,V=F.height,Z=this.cachedCanvases.getCanvas("inlineImage",ee,V),ae=Z.context;E(ae,F,this.current.transferMaps);for(const H of D){if(Q.save(),Q.transform(...H.transform),Q.scale(1,-1),o(Q,Z.canvas,H.x,H.y,H.w,H.h,0,-1,1,1),this.imageLayer){const[q,ne]=_.Util.applyTransform([H.x,H.y],(0,C.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:F,left:q,top:ne,width:ee,height:V})}Q.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(F){}markPointProps(F,D){}beginMarkedContent(F){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(F,D){F==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(D)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(F){const D=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(F);const Q=this.ctx;this.pendingClip&&(D||(this.pendingClip===z?Q.clip("evenodd"):Q.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Q.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const F=(0,C.getCurrentTransform)(this.ctx);if(F[1]===0&&F[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(F[0]),Math.abs(F[3]));else{const D=Math.abs(F[0]*F[3]-F[2]*F[1]),Q=Math.hypot(F[0],F[2]),ee=Math.hypot(F[1],F[3]);this._cachedGetSinglePixelWidth=Math.max(Q,ee)/D}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:F}=this.current,D=(0,C.getCurrentTransform)(this.ctx);let Q,ee;if(D[1]===0&&D[2]===0){const V=Math.abs(D[0]),Z=Math.abs(D[3]);if(F===0)Q=1/V,ee=1/Z;else{const ae=V*F,H=Z*F;Q=ae<1?1/ae:1,ee=H<1?1/H:1}}else{const V=Math.abs(D[0]*D[3]-D[2]*D[1]),Z=Math.hypot(D[0],D[1]),ae=Math.hypot(D[2],D[3]);if(F===0)Q=ae/V,ee=Z/V;else{const H=F*V;Q=ae>H?ae/H:1,ee=Z>H?Z/H:1}}this._cachedScaleForStroking=[Q,ee]}return this._cachedScaleForStroking}rescaleAndStroke(F){const{ctx:D}=this,{lineWidth:Q}=this.current,[ee,V]=this.getScaleForStroking();if(D.lineWidth=Q||1,ee===1&&V===1){D.stroke();return}let Z,ae,H;F&&(Z=(0,C.getCurrentTransform)(D),ae=D.getLineDash().slice(),H=D.lineDashOffset),D.scale(ee,V);const q=Math.max(ee,V);D.setLineDash(D.getLineDash().map(ne=>ne/q)),D.lineDashOffset/=q,D.stroke(),F&&(D.setTransform(...Z),D.setLineDash(ae),D.lineDashOffset=H)}isContentVisible(){for(let F=this.markedContentStack.length-1;F>=0;F--)if(!this.markedContentStack[F].visible)return!1;return!0}}n.CanvasGraphics=W;function ie(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const Y in _.OPS)W.prototype[Y]!==void 0&&(W.prototype[_.OPS[Y]]=W.prototype[Y])},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=u;var C=x(1),_=x(133),K=x(3);const $={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=$;function l(y,b){if(!b||K.isNodeJS)return;const v=b[2]-b[0],o=b[3]-b[1],S=new Path2D;S.rect(b[0],b[1],v,o),y.clip(S)}class a{constructor(){this.constructor===a&&(0,C.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,C.unreachable)("Abstract method `getPattern` called.")}}class t extends a{constructor(b){super(),this._type=b[1],this._bbox=b[2],this._colorStops=b[3],this._p0=b[4],this._p1=b[5],this._r0=b[6],this._r1=b[7],this.matrix=null}_createGradient(b){let v;this._type==="axial"?v=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(v=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const o of this._colorStops)v.addColorStop(o[0],o[1]);return v}getPattern(b,v,o,S){let T;if(S===$.STROKE||S===$.FILL){const E=v.current.getClippedPathBoundingBox(S,(0,_.getCurrentTransform)(b))||[0,0,0,0],k=Math.ceil(E[2]-E[0])||1,M=Math.ceil(E[3]-E[1])||1,O=v.cachedCanvases.getCanvas("pattern",k,M,!0),L=O.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-E[0],-E[1]),o=C.Util.transform(o,[1,0,0,1,E[0],E[1]]),L.transform(...v.baseTransform),this.matrix&&L.transform(...this.matrix),l(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),T=b.createPattern(O.canvas,"no-repeat");const te=new DOMMatrix(o);try{T.setTransform(te)}catch(B){(0,C.warn)(`RadialAxialShadingPattern.getPattern: "${B==null?void 0:B.message}".`)}}else l(b,this._bbox),T=this._createGradient(b);return T}}function i(y,b,v,o,S,T,E,k){const M=b.coords,O=b.colors,L=y.data,te=y.width*4;let B;M[v+1]>M[o+1]&&(B=v,v=o,o=B,B=T,T=E,E=B),M[o+1]>M[S+1]&&(B=o,o=S,S=B,B=E,E=k,k=B),M[v+1]>M[o+1]&&(B=v,v=o,o=B,B=T,T=E,E=B);const G=(M[v]+b.offsetX)*b.scaleX,R=(M[v+1]+b.offsetY)*b.scaleY,I=(M[o]+b.offsetX)*b.scaleX,U=(M[o+1]+b.offsetY)*b.scaleY,P=(M[S]+b.offsetX)*b.scaleX,A=(M[S+1]+b.offsetY)*b.scaleY;if(R>=A)return;const z=O[T],N=O[T+1],W=O[T+2],ie=O[E],Y=O[E+1],F=O[E+2],D=O[k],Q=O[k+1],ee=O[k+2],V=Math.round(R),Z=Math.round(A);let ae,H,q,ne,le,se,J,re;for(let oe=V;oe<=Z;oe++){if(oe<U){let fe;oe<R?fe=0:fe=(R-oe)/(R-U),ae=G-(G-I)*fe,H=z-(z-ie)*fe,q=N-(N-Y)*fe,ne=W-(W-F)*fe}else{let fe;oe>A?fe=1:U===A?fe=0:fe=(U-oe)/(U-A),ae=I-(I-P)*fe,H=ie-(ie-D)*fe,q=Y-(Y-Q)*fe,ne=F-(F-ee)*fe}let ue;oe<R?ue=0:oe>A?ue=1:ue=(R-oe)/(R-A),le=G-(G-P)*ue,se=z-(z-D)*ue,J=N-(N-Q)*ue,re=W-(W-ee)*ue;const he=Math.round(Math.min(ae,le)),de=Math.round(Math.max(ae,le));let pe=te*oe+he*4;for(let fe=he;fe<=de;fe++)ue=(ae-fe)/(ae-le),ue<0?ue=0:ue>1&&(ue=1),L[pe++]=H-(H-se)*ue|0,L[pe++]=q-(q-J)*ue|0,L[pe++]=ne-(ne-re)*ue|0,L[pe++]=255}}function c(y,b,v){const o=b.coords,S=b.colors;let T,E;switch(b.type){case"lattice":const k=b.verticesPerRow,M=Math.floor(o.length/k)-1,O=k-1;for(T=0;T<M;T++){let L=T*k;for(let te=0;te<O;te++,L++)i(y,v,o[L],o[L+1],o[L+k],S[L],S[L+1],S[L+k]),i(y,v,o[L+k+1],o[L+1],o[L+k],S[L+k+1],S[L+1],S[L+k])}break;case"triangles":for(T=0,E=o.length;T<E;T+=3)i(y,v,o[T],o[T+1],o[T+2],S[T],S[T+1],S[T+2]);break;default:throw new Error("illegal figure")}}class s extends a{constructor(b){super(),this._coords=b[2],this._colors=b[3],this._figures=b[4],this._bounds=b[5],this._bbox=b[7],this._background=b[8],this.matrix=null}_createMeshCanvas(b,v,o){const k=Math.floor(this._bounds[0]),M=Math.floor(this._bounds[1]),O=Math.ceil(this._bounds[2])-k,L=Math.ceil(this._bounds[3])-M,te=Math.min(Math.ceil(Math.abs(O*b[0]*1.1)),3e3),B=Math.min(Math.ceil(Math.abs(L*b[1]*1.1)),3e3),G=O/te,R=L/B,I={coords:this._coords,colors:this._colors,offsetX:-k,offsetY:-M,scaleX:1/G,scaleY:1/R},U=te+2*2,P=B+2*2,A=o.getCanvas("mesh",U,P,!1),z=A.context,N=z.createImageData(te,B);if(v){const ie=N.data;for(let Y=0,F=ie.length;Y<F;Y+=4)ie[Y]=v[0],ie[Y+1]=v[1],ie[Y+2]=v[2],ie[Y+3]=255}for(const ie of this._figures)c(N,ie,I);return z.putImageData(N,2,2),{canvas:A.canvas,offsetX:k-2*G,offsetY:M-2*R,scaleX:G,scaleY:R}}getPattern(b,v,o,S){l(b,this._bbox);let T;if(S===$.SHADING)T=C.Util.singularValueDecompose2dScale((0,_.getCurrentTransform)(b));else if(T=C.Util.singularValueDecompose2dScale(v.baseTransform),this.matrix){const k=C.Util.singularValueDecompose2dScale(this.matrix);T=[T[0]*k[0],T[1]*k[1]]}const E=this._createMeshCanvas(T,S===$.SHADING?null:this._background,v.cachedCanvases);return S!==$.SHADING&&(b.setTransform(...v.baseTransform),this.matrix&&b.transform(...this.matrix)),b.translate(E.offsetX,E.offsetY),b.scale(E.scaleX,E.scaleY),b.createPattern(E.canvas,"no-repeat")}}class e extends a{getPattern(){return"hotpink"}}function u(y){switch(y[0]){case"RadialAxial":return new t(y);case"Mesh":return new s(y);case"Dummy":return new e}throw new Error(`Unknown IR type: ${y[0]}`)}const m={COLORED:1,UNCOLORED:2};class g{static get MAX_PATTERN_SIZE(){return(0,C.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(b,v,o,S,T){this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=v,this.ctx=o,this.canvasGraphicsFactory=S,this.baseTransform=T}createPatternCanvas(b){const v=this.operatorList,o=this.bbox,S=this.xstep,T=this.ystep,E=this.paintType,k=this.tilingType,M=this.color,O=this.canvasGraphicsFactory;(0,C.info)("TilingType: "+k);const L=o[0],te=o[1],B=o[2],G=o[3],R=C.Util.singularValueDecompose2dScale(this.matrix),I=C.Util.singularValueDecompose2dScale(this.baseTransform),U=[R[0]*I[0],R[1]*I[1]],P=this.getSizeAndScale(S,this.ctx.canvas.width,U[0]),A=this.getSizeAndScale(T,this.ctx.canvas.height,U[1]),z=b.cachedCanvases.getCanvas("pattern",P.size,A.size,!0),N=z.context,W=O.createCanvasGraphics(N);W.groupLevel=b.groupLevel,this.setFillAndStrokeStyleToContext(W,E,M);let ie=L,Y=te,F=B,D=G;return L<0&&(ie=0,F+=Math.abs(L)),te<0&&(Y=0,D+=Math.abs(te)),N.translate(-(P.scale*ie),-(A.scale*Y)),W.transform(P.scale,0,0,A.scale,0,0),N.save(),this.clipBbox(W,ie,Y,F,D),W.baseTransform=(0,_.getCurrentTransform)(W.ctx),W.executeOperatorList(v),W.endDrawing(),{canvas:z.canvas,scaleX:P.scale,scaleY:A.scale,offsetX:ie,offsetY:Y}}getSizeAndScale(b,v,o){b=Math.abs(b);const S=Math.max(g.MAX_PATTERN_SIZE,v);let T=Math.ceil(b*o);return T>=S?T=S:o=T/b,{scale:o,size:T}}clipBbox(b,v,o,S,T){const E=S-v,k=T-o;b.ctx.rect(v,o,E,k),b.current.updateRectMinMax((0,_.getCurrentTransform)(b.ctx),[v,o,S,T]),b.clip(),b.endPath()}setFillAndStrokeStyleToContext(b,v,o){const S=b.ctx,T=b.current;switch(v){case m.COLORED:const E=this.ctx;S.fillStyle=E.fillStyle,S.strokeStyle=E.strokeStyle,T.fillColor=E.fillStyle,T.strokeColor=E.strokeStyle;break;case m.UNCOLORED:const k=C.Util.makeHexColor(o[0],o[1],o[2]);S.fillStyle=k,S.strokeStyle=k,T.fillColor=k,T.strokeColor=k;break;default:throw new C.FormatError(`Unsupported paint type: ${v}`)}}getPattern(b,v,o,S){let T=o;S!==$.SHADING&&(T=C.Util.transform(T,v.baseTransform),this.matrix&&(T=C.Util.transform(T,this.matrix)));const E=this.createPatternCanvas(v);let k=new DOMMatrix(T);k=k.translate(E.offsetX,E.offsetY),k=k.scale(1/E.scaleX,1/E.scaleY);const M=b.createPattern(E.canvas,"repeat");try{M.setTransform(k)}catch(O){(0,C.warn)(`TilingPattern.getPattern: "${O==null?void 0:O.message}".`)}return M}}n.TilingPattern=g},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.applyMaskImageData=_;var C=x(1);function _(K){let{src:$,srcPos:l=0,dest:a,destPos:t=0,width:i,height:c,inverseDecode:s=!1}=K;const e=C.FeatureTest.isLittleEndian?4278190080:255,[u,m]=s?[0,e]:[e,0],g=i>>3,y=i&7,b=$.length;a=new Uint32Array(a.buffer);for(let v=0;v<c;v++){for(const S=l+g;l<S;l++){const T=l<b?$[l]:255;a[t++]=T&128?m:u,a[t++]=T&64?m:u,a[t++]=T&32?m:u,a[t++]=T&16?m:u,a[t++]=T&8?m:u,a[t++]=T&4?m:u,a[t++]=T&2?m:u,a[t++]=T&1?m:u}if(y===0)continue;const o=l<b?$[l++]:255;for(let S=0;S<y;S++)a[t++]=o&1<<7-S?m:u}return{srcPos:l,destPos:t}}},(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const x=Object.create(null);n.GlobalWorkerOptions=x,x.workerPort=x.workerPort===void 0?null:x.workerPort,x.workerSrc=x.workerSrc===void 0?"":x.workerSrc},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var C=x(1);const _={UNKNOWN:0,DATA:1,ERROR:2},K={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $(a){switch(a instanceof Error||typeof a=="object"&&a!==null||(0,C.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new C.AbortException(a.message);case"MissingPDFException":return new C.MissingPDFException(a.message);case"PasswordException":return new C.PasswordException(a.message,a.code);case"UnexpectedResponseException":return new C.UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new C.UnknownErrorException(a.message,a.details);default:return new C.UnknownErrorException(a.message,a.toString())}}class l{constructor(t,i,c){this.sourceName=t,this.targetName=i,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const e=s.data;if(e.targetName!==this.sourceName)return;if(e.stream){this._processStreamMessage(e);return}if(e.callback){const m=e.callbackId,g=this.callbackCapabilities[m];if(!g)throw new Error(`Cannot resolve callback ${m}`);if(delete this.callbackCapabilities[m],e.callback===_.DATA)g.resolve(e.data);else if(e.callback===_.ERROR)g.reject($(e.reason));else throw new Error("Unexpected callback case");return}const u=this.actionHandler[e.action];if(!u)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const m=this.sourceName,g=e.sourceName;new Promise(function(y){y(u(e.data))}).then(function(y){c.postMessage({sourceName:m,targetName:g,callback:_.DATA,callbackId:e.callbackId,data:y})},function(y){c.postMessage({sourceName:m,targetName:g,callback:_.ERROR,callbackId:e.callbackId,reason:$(y)})});return}if(e.streamId){this._createStreamSink(e);return}u(e.data)},c.addEventListener("message",this._onComObjOnMessage)}on(t,i){const c=this.actionHandler;if(c[t])throw new Error(`There is already an actionName called "${t}"`);c[t]=i}send(t,i,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:i},c)}sendWithPromise(t,i,c){const s=this.callbackId++,e=(0,C.createPromiseCapability)();this.callbackCapabilities[s]=e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:i},c)}catch(u){e.reject(u)}return e.promise}sendWithStream(t,i,c,s){const e=this.streamId++,u=this.sourceName,m=this.targetName,g=this.comObj;return new ReadableStream({start:y=>{const b=(0,C.createPromiseCapability)();return this.streamControllers[e]={controller:y,startCall:b,pullCall:null,cancelCall:null,isClosed:!1},g.postMessage({sourceName:u,targetName:m,action:t,streamId:e,data:i,desiredSize:y.desiredSize},s),b.promise},pull:y=>{const b=(0,C.createPromiseCapability)();return this.streamControllers[e].pullCall=b,g.postMessage({sourceName:u,targetName:m,stream:K.PULL,streamId:e,desiredSize:y.desiredSize}),b.promise},cancel:y=>{(0,C.assert)(y instanceof Error,"cancel must have a valid reason");const b=(0,C.createPromiseCapability)();return this.streamControllers[e].cancelCall=b,this.streamControllers[e].isClosed=!0,g.postMessage({sourceName:u,targetName:m,stream:K.CANCEL,streamId:e,reason:$(y)}),b.promise}},c)}_createStreamSink(t){const i=t.streamId,c=this.sourceName,s=t.sourceName,e=this.comObj,u=this,m=this.actionHandler[t.action],g={enqueue(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,v=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=b,o>0&&this.desiredSize<=0&&(this.sinkCapability=(0,C.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e.postMessage({sourceName:c,targetName:s,stream:K.ENQUEUE,streamId:i,chunk:y},v)},close(){this.isCancelled||(this.isCancelled=!0,e.postMessage({sourceName:c,targetName:s,stream:K.CLOSE,streamId:i}),delete u.streamSinks[i])},error(y){(0,C.assert)(y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,e.postMessage({sourceName:c,targetName:s,stream:K.ERROR,streamId:i,reason:$(y)}))},sinkCapability:(0,C.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};g.sinkCapability.resolve(),g.ready=g.sinkCapability.promise,this.streamSinks[i]=g,new Promise(function(y){y(m(t.data,g))}).then(function(){e.postMessage({sourceName:c,targetName:s,stream:K.START_COMPLETE,streamId:i,success:!0})},function(y){e.postMessage({sourceName:c,targetName:s,stream:K.START_COMPLETE,streamId:i,reason:$(y)})})}_processStreamMessage(t){const i=t.streamId,c=this.sourceName,s=t.sourceName,e=this.comObj,u=this.streamControllers[i],m=this.streamSinks[i];switch(t.stream){case K.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject($(t.reason));break;case K.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject($(t.reason));break;case K.PULL:if(!m){e.postMessage({sourceName:c,targetName:s,stream:K.PULL_COMPLETE,streamId:i,success:!0});break}m.desiredSize<=0&&t.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=t.desiredSize,new Promise(function(g){g(m.onPull&&m.onPull())}).then(function(){e.postMessage({sourceName:c,targetName:s,stream:K.PULL_COMPLETE,streamId:i,success:!0})},function(g){e.postMessage({sourceName:c,targetName:s,stream:K.PULL_COMPLETE,streamId:i,reason:$(g)})});break;case K.ENQUEUE:if((0,C.assert)(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case K.CLOSE:if((0,C.assert)(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this._deleteStreamController(u,i);break;case K.ERROR:(0,C.assert)(u,"error should have stream controller"),u.controller.error($(t.reason)),this._deleteStreamController(u,i);break;case K.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject($(t.reason)),this._deleteStreamController(u,i);break;case K.CANCEL:if(!m)break;new Promise(function(g){g(m.onCancel&&m.onCancel($(t.reason)))}).then(function(){e.postMessage({sourceName:c,targetName:s,stream:K.CANCEL_COMPLETE,streamId:i,success:!0})},function(g){e.postMessage({sourceName:c,targetName:s,stream:K.CANCEL_COMPLETE,streamId:i,reason:$(g)})}),m.sinkCapability.reject($(t.reason)),m.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,i){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[i]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}n.MessageHandler=l},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var C=x(1);function _(u,m,g){K(u,m),m.set(u,g)}function K(u,m){if(m.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $(u,m){var g=t(u,m,"get");return l(u,g)}function l(u,m){return m.get?m.get.call(u):m.value}function a(u,m,g){var y=t(u,m,"set");return i(u,y,g),g}function t(u,m,g){if(!m.has(u))throw new TypeError("attempted to "+g+" private field on non-instance");return m.get(u)}function i(u,m,g){if(m.set)m.set.call(u,g);else{if(!m.writable)throw new TypeError("attempted to set read only private field");m.value=g}}var c=new WeakMap,s=new WeakMap;class e{constructor(m){let{parsedData:g,rawData:y}=m;_(this,c,{writable:!0,value:void 0}),_(this,s,{writable:!0,value:void 0}),a(this,c,g),a(this,s,y)}getRaw(){return $(this,s)}get(m){var g;return(g=$(this,c).get(m))!==null&&g!==void 0?g:null}getAll(){return(0,C.objectFromMap)($(this,c))}has(m){return $(this,c).has(m)}}n.Metadata=e},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var C=x(1);function _(E,k){l(E,k),k.add(E)}function K(E,k,M){if(!k.has(E))throw new TypeError("attempted to get private field on non-instance");return M}function $(E,k,M){l(E,k),k.set(E,M)}function l(E,k){if(k.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(E,k,M){var O=c(E,k,"set");return t(E,O,M),M}function t(E,k,M){if(k.set)k.set.call(E,M);else{if(!k.writable)throw new TypeError("attempted to set read only private field");k.value=M}}function i(E,k){var M=c(E,k,"get");return s(E,M)}function c(E,k,M){if(!k.has(E))throw new TypeError("attempted to "+M+" private field on non-instance");return k.get(E)}function s(E,k){return k.get?k.get.call(E):k.value}const e=Symbol("INTERNAL");var u=new WeakMap;class m{constructor(k,M){$(this,u,{writable:!0,value:!0}),this.name=k,this.intent=M}get visible(){return i(this,u)}_setVisible(k,M){k!==e&&(0,C.unreachable)("Internal method `_setVisible` called."),a(this,u,M)}}var g=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,o=new WeakSet;class S{constructor(k){if(_(this,o),$(this,g,{writable:!0,value:!0}),$(this,y,{writable:!0,value:new Map}),$(this,b,{writable:!0,value:null}),$(this,v,{writable:!0,value:null}),this.name=null,this.creator=null,k!==null){this.name=k.name,this.creator=k.creator,a(this,v,k.order);for(const M of k.groups)i(this,y).set(M.id,new m(M.name,M.intent));if(k.baseState==="OFF")for(const M of i(this,y).values())M._setVisible(e,!1);for(const M of k.on)i(this,y).get(M)._setVisible(e,!0);for(const M of k.off)i(this,y).get(M)._setVisible(e,!1);a(this,b,new Map);for(const[M,O]of i(this,y))i(this,b).set(M,O.visible)}}isVisible(k){if(i(this,y).size===0)return!0;if(!k)return(0,C.warn)("Optional content group not defined."),!0;if(k.type==="OCG")return i(this,y).has(k.id)?i(this,y).get(k.id).visible:((0,C.warn)(`Optional content group not found: ${k.id}`),!0);if(k.type==="OCMD"){if(k.expression)return K(this,o,T).call(this,k.expression);if(!k.policy||k.policy==="AnyOn"){for(const M of k.ids){if(!i(this,y).has(M))return(0,C.warn)(`Optional content group not found: ${M}`),!0;if(i(this,y).get(M).visible)return!0}return!1}else if(k.policy==="AllOn"){for(const M of k.ids){if(!i(this,y).has(M))return(0,C.warn)(`Optional content group not found: ${M}`),!0;if(!i(this,y).get(M).visible)return!1}return!0}else if(k.policy==="AnyOff"){for(const M of k.ids){if(!i(this,y).has(M))return(0,C.warn)(`Optional content group not found: ${M}`),!0;if(!i(this,y).get(M).visible)return!0}return!1}else if(k.policy==="AllOff"){for(const M of k.ids){if(!i(this,y).has(M))return(0,C.warn)(`Optional content group not found: ${M}`),!0;if(i(this,y).get(M).visible)return!1}return!0}return(0,C.warn)(`Unknown optional content policy ${k.policy}.`),!0}return(0,C.warn)(`Unknown group type ${k.type}.`),!0}setVisibility(k){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!i(this,y).has(k)){(0,C.warn)(`Optional content group not found: ${k}`);return}i(this,y).get(k)._setVisible(e,!!M),a(this,g,null)}get hasInitialVisibility(){if(i(this,g)!==null)return i(this,g);for(const[k,M]of i(this,y)){const O=i(this,b).get(k);if(M.visible!==O)return a(this,g,!1)}return a(this,g,!0)}getOrder(){return i(this,y).size?i(this,v)?i(this,v).slice():[...i(this,y).keys()]:null}getGroups(){return i(this,y).size>0?(0,C.objectFromMap)(i(this,y)):null}getGroup(k){return i(this,y).get(k)||null}}n.OptionalContentConfig=S;function T(E){const k=E.length;if(k<2)return!0;const M=E[0];for(let O=1;O<k;O++){const L=E[O];let te;if(Array.isArray(L))te=K(this,o,T).call(this,L);else if(i(this,y).has(L))te=i(this,y).get(L).visible;else return(0,C.warn)(`Optional content group not found: ${L}`),!0;switch(M){case"And":if(!te)return!1;break;case"Or":if(te)return!0;break;case"Not":return!te;default:return!0}}return M==="And"}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0;var C=x(1),_=x(133);class K{constructor(t,i){(0,C.assert)(i,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const c=t.initialData;if((c==null?void 0:c.length)>0){const s=new Uint8Array(c).buffer;this._queuedChunks.push(s)}this._pdfDataRangeTransport=i,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((s,e)=>{this._onReceiveData({begin:s,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((s,e)=>{this._onProgress({loaded:s,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(s=>{this._onReceiveData({chunk:s})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const i=new Uint8Array(t.chunk).buffer;if(t.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const c=this._rangeReaders.some(function(s){return s._begin!==t.begin?!1:(s._enqueue(i),!0)});(0,C.assert)(c,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,i;return(t=(i=this._fullRequestReader)===null||i===void 0?void 0:i._loaded)!==null&&t!==void 0?t:0}_onProgress(t){if(t.total===void 0){const i=this._rangeReaders[0];i!=null&&i.onProgress&&i.onProgress({loaded:t.loaded})}else{const i=this._fullRequestReader;i!=null&&i.onProgress&&i.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const i=this._rangeReaders.indexOf(t);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){(0,C.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new $(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,i){if(i<=this._progressiveDataLength)return null;const c=new l(this,t,i);return this._pdfDataRangeTransport.requestDataRange(t,i),this._rangeReaders.push(c),c}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=K;class ${constructor(t,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=t,this._done=c||!1,this._filename=(0,_.isPdfFile)(s)?s:null,this._queuedChunks=i||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,C.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class l{constructor(t,i,c){this._stream=t,this._begin=i,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,C.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0;class x{static textContent(_){const K=[],$={items:K,styles:Object.create(null)};function l(a){var t;if(!a)return;let i=null;const c=a.name;if(c==="#text")i=a.value;else if(x.shouldBuildText(c))a!=null&&(t=a.attributes)!==null&&t!==void 0&&t.textContent?i=a.attributes.textContent:a.value&&(i=a.value);else return;if(i!==null&&K.push({str:i}),!!a.children)for(const s of a.children)l(s)}return l(_),$}static shouldBuildText(_){return!(_==="textarea"||_==="input"||_==="option"||_==="select")}}n.XfaText=x},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0;var C=x(134);const _=function(a){return new Promise((t,i)=>{require$$5.readFile(a,(s,e)=>{if(s||!e){i(new Error(s));return}t(new Uint8Array(e))})})};class K extends C.BaseCanvasFactory{_createCanvas(t,i){return require$$5.createCanvas(t,i)}}n.NodeCanvasFactory=K;class $ extends C.BaseCMapReaderFactory{_fetchData(t,i){return _(t).then(c=>({cMapData:c,compressionType:i}))}}n.NodeCMapReaderFactory=$;class l extends C.BaseStandardFontDataFactory{_fetchData(t){return _(t)}}n.NodeStandardFontDataFactory=l},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0;var C=x(132),_=x(1),K=x(148),$=x(149);function l(P,A){i(P,A),A.add(P)}function a(P,A,z){return A in P?Object.defineProperty(P,A,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[A]=z,P}function t(P,A,z){i(P,A),A.set(P,z)}function i(P,A){if(A.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(P,A,z){if(!A.has(P))throw new TypeError("attempted to get private field on non-instance");return z}function s(P,A){var z=m(P,A,"get");return e(P,z)}function e(P,A){return A.get?A.get.call(P):A.value}function u(P,A,z){var N=m(P,A,"set");return g(P,N,z),z}function m(P,A,z){if(!A.has(P))throw new TypeError("attempted to "+z+" private field on non-instance");return A.get(P)}function g(P,A,z){if(A.set)A.set.call(P,z);else{if(!A.writable)throw new TypeError("attempted to set read only private field");A.value=z}}var y=new WeakMap,b=new WeakMap,v=new WeakMap,o=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,M=new WeakSet,O=new WeakSet,L=new WeakSet,te=new WeakSet;class B{constructor(A){l(this,te),l(this,L),l(this,O),l(this,M),t(this,y,{writable:!0,value:void 0}),t(this,b,{writable:!0,value:!1}),t(this,v,{writable:!0,value:this.pointerup.bind(this)}),t(this,o,{writable:!0,value:this.pointerdown.bind(this)}),t(this,S,{writable:!0,value:new Map}),t(this,T,{writable:!0,value:!1}),t(this,E,{writable:!0,value:!1}),t(this,k,{writable:!0,value:void 0}),B._initialized||(B._initialized=!0,K.FreeTextEditor.initialize(A.l10n),$.InkEditor.initialize(A.l10n),A.uiManager.registerEditorTypes([K.FreeTextEditor,$.InkEditor])),u(this,k,A.uiManager),this.annotationStorage=A.annotationStorage,this.pageIndex=A.pageIndex,this.div=A.div,u(this,y,A.accessibilityManager),s(this,k).addLayer(this)}updateToolbar(A){s(this,k).updateToolbar(A)}updateMode(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(this,k).getMode();c(this,te,U).call(this),A===_.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),s(this,k).unselectAll()}addInkEditorIfNeeded(A){if(!A&&s(this,k).getMode()!==_.AnnotationEditorType.INK)return;if(!A){for(const N of s(this,S).values())if(N.isEmpty()){N.setInBackground();return}}c(this,L,I).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(A){s(this,k).setEditingState(A)}addCommands(A){s(this,k).addCommands(A)}enable(){this.div.style.pointerEvents="auto";for(const A of s(this,S).values())A.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const A of s(this,S).values())A.disableEditing()}setActiveEditor(A){s(this,k).getActive()!==A&&s(this,k).setActiveEditor(A)}enableClick(){this.div.addEventListener("pointerdown",s(this,o)),this.div.addEventListener("pointerup",s(this,v))}disableClick(){this.div.removeEventListener("pointerdown",s(this,o)),this.div.removeEventListener("pointerup",s(this,v))}attach(A){s(this,S).set(A.id,A)}detach(A){var z;s(this,S).delete(A.id),(z=s(this,y))===null||z===void 0||z.removePointerInTextLayer(A.contentDiv)}remove(A){s(this,k).removeEditor(A),this.detach(A),this.annotationStorage.remove(A.id),A.div.style.display="none",setTimeout(()=>{A.div.style.display="",A.div.remove(),A.isAttachedToDOM=!1,document.activeElement===document.body&&s(this,k).focusMainContainer()},0),s(this,E)||this.addInkEditorIfNeeded(!1)}add(A){if(c(this,M,G).call(this,A),s(this,k).addEditor(A),this.attach(A),!A.isAttachedToDOM){const z=A.render();this.div.append(z),A.isAttachedToDOM=!0}this.moveEditorInDOM(A),A.onceAdded(),this.addToAnnotationStorage(A)}moveEditorInDOM(A){var z;(z=s(this,y))===null||z===void 0||z.moveElementInDOM(this.div,A.div,A.contentDiv,!0)}addToAnnotationStorage(A){!A.isEmpty()&&!this.annotationStorage.has(A.id)&&this.annotationStorage.setValue(A.id,A)}addOrRebuild(A){A.needsToBeRebuilt()?A.rebuild():this.add(A)}addANewEditor(A){const z=()=>{this.addOrRebuild(A)},N=()=>{A.remove()};this.addCommands({cmd:z,undo:N,mustExec:!0})}addUndoableEditor(A){const z=()=>{this.addOrRebuild(A)},N=()=>{A.remove()};this.addCommands({cmd:z,undo:N,mustExec:!1})}getNextId(){return s(this,k).getId()}deserialize(A){switch(A.annotationType){case _.AnnotationEditorType.FREETEXT:return K.FreeTextEditor.deserialize(A,this);case _.AnnotationEditorType.INK:return $.InkEditor.deserialize(A,this)}return null}setSelected(A){s(this,k).setSelected(A)}toggleSelected(A){s(this,k).toggleSelected(A)}isSelected(A){return s(this,k).isSelected(A)}unselect(A){s(this,k).unselect(A)}pointerup(A){const z=C.KeyboardManager.platform.isMac;if(!(A.button!==0||A.ctrlKey&&z)&&A.target===this.div&&s(this,T)){if(u(this,T,!1),!s(this,b)){u(this,b,!0);return}c(this,L,I).call(this,A)}}pointerdown(A){const z=C.KeyboardManager.platform.isMac;if(A.button!==0||A.ctrlKey&&z||A.target!==this.div)return;u(this,T,!0);const N=s(this,k).getActive();u(this,b,!N||N.isEmpty())}drop(A){const z=A.dataTransfer.getData("text/plain"),N=s(this,k).getEditor(z);if(!N)return;A.preventDefault(),A.dataTransfer.dropEffect="move",c(this,M,G).call(this,N);const W=this.div.getBoundingClientRect(),ie=A.clientX-W.x,Y=A.clientY-W.y;N.translate(ie-N.startX,Y-N.startY),this.moveEditorInDOM(N),N.div.focus()}dragover(A){A.preventDefault()}destroy(){var A;((A=s(this,k).getActive())===null||A===void 0?void 0:A.parent)===this&&s(this,k).setActiveEditor(null);for(const N of s(this,S).values()){var z;(z=s(this,y))===null||z===void 0||z.removePointerInTextLayer(N.contentDiv),N.isAttachedToDOM=!1,N.div.remove(),N.parent=null}this.div=null,s(this,S).clear(),s(this,k).removeLayer(this)}render(A){this.viewport=A.viewport,(0,C.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const z of s(this,k).getEditors(this.pageIndex))this.add(z);this.updateMode()}update(A){this.viewport=A.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[A,z,N,W]=this.viewport.viewBox,ie=N-A,Y=W-z;return[ie,Y]}get viewportBaseDimensions(){const{width:A,height:z,rotation:N}=this.viewport;return N%180===0?[A,z]:[z,A]}setDimensions(){const{width:A,height:z,rotation:N}=this.viewport,W=N%180!==0,ie=Math.floor(A)+"px",Y=Math.floor(z)+"px";this.div.style.width=W?Y:ie,this.div.style.height=W?ie:Y,this.div.setAttribute("data-main-rotation",N)}}n.AnnotationEditorLayer=B;function G(P){var A;P.parent!==this&&(this.attach(P),P.pageIndex=this.pageIndex,(A=P.parent)===null||A===void 0||A.detach(P),P.parent=this,P.div&&P.isAttachedToDOM&&(P.div.remove(),this.div.append(P.div)))}function R(P){switch(s(this,k).getMode()){case _.AnnotationEditorType.FREETEXT:return new K.FreeTextEditor(P);case _.AnnotationEditorType.INK:return new $.InkEditor(P)}return null}function I(P){const A=this.getNextId(),z=c(this,O,R).call(this,{parent:this,id:A,x:P.offsetX,y:P.offsetY});return z&&this.add(z),z}function U(){u(this,E,!0);for(const P of s(this,S).values())P.isEmpty()&&P.remove();u(this,E,!1)}a(B,"_initialized",!1)},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0;var C=x(1),_=x(132),K=x(131);function $(I,U){t(I,U),U.add(I)}function l(I,U,P){return U in I?Object.defineProperty(I,U,{value:P,enumerable:!0,configurable:!0,writable:!0}):I[U]=P,I}function a(I,U,P){t(I,U),U.set(I,P)}function t(I,U){if(U.has(I))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(I,U){var P=u(I,U,"get");return c(I,P)}function c(I,U){return U.get?U.get.call(I):U.value}function s(I,U,P){if(!U.has(I))throw new TypeError("attempted to get private field on non-instance");return P}function e(I,U,P){var A=u(I,U,"set");return m(I,A,P),P}function u(I,U,P){if(!U.has(I))throw new TypeError("attempted to "+P+" private field on non-instance");return U.get(I)}function m(I,U,P){if(U.set)U.set.call(I,P);else{if(!U.writable)throw new TypeError("attempted to set read only private field");U.value=P}}var g=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,o=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakSet,k=new WeakSet,M=new WeakSet,O=new WeakSet;class L extends K.AnnotationEditor{constructor(U){super({...U,name:"freeTextEditor"}),$(this,O),$(this,M),$(this,k),$(this,E),a(this,g,{writable:!0,value:this.editorDivBlur.bind(this)}),a(this,y,{writable:!0,value:this.editorDivFocus.bind(this)}),a(this,b,{writable:!0,value:this.editorDivKeydown.bind(this)}),a(this,v,{writable:!0,value:void 0}),a(this,o,{writable:!0,value:""}),a(this,S,{writable:!0,value:!1}),a(this,T,{writable:!0,value:void 0}),e(this,v,U.color||L._defaultColor||K.AnnotationEditor._defaultLineColor),e(this,T,U.fontSize||L._defaultFontSize)}static initialize(U){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(A=>[A,U.get(A)]));const P=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(P.getPropertyValue("--freetext-padding"))}static updateDefaultParams(U,P){switch(U){case C.AnnotationEditorParamsType.FREETEXT_SIZE:L._defaultFontSize=P;break;case C.AnnotationEditorParamsType.FREETEXT_COLOR:L._defaultColor=P;break}}updateParams(U,P){switch(U){case C.AnnotationEditorParamsType.FREETEXT_SIZE:s(this,E,te).call(this,P);break;case C.AnnotationEditorParamsType.FREETEXT_COLOR:s(this,k,B).call(this,P);break}}static get defaultPropertiesToUpdate(){return[[C.AnnotationEditorParamsType.FREETEXT_SIZE,L._defaultFontSize],[C.AnnotationEditorParamsType.FREETEXT_COLOR,L._defaultColor||K.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[C.AnnotationEditorParamsType.FREETEXT_SIZE,i(this,T)],[C.AnnotationEditorParamsType.FREETEXT_COLOR,i(this,v)]]}getInitialTranslation(){return[-L._internalPadding*this.parent.scaleFactor,-(L._internalPadding+i(this,T))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(C.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",i(this,b)),this.editorDiv.addEventListener("focus",i(this,y)),this.editorDiv.addEventListener("blur",i(this,g)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",i(this,b)),this.editorDiv.removeEventListener("focus",i(this,y)),this.editorDiv.removeEventListener("blur",i(this,g)),this.div.focus(),this.isEditing=!1)}focusin(U){super.focusin(U),U.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),i(this,S)||(e(this,S,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),e(this,o,s(this,M,G).call(this).trimEnd()),s(this,O,R).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(U){this.enableEditMode(),this.editorDiv.focus()}keydown(U){U.target===this.div&&U.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(U){L._keyboardManager.exec(this,U)}editorDivFocus(U){this.isEditing=!0}editorDivBlur(U){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let U,P;this.width&&(U=this.x,P=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),L._l10nPromise.get("editor_free_text_aria_label").then(z=>{var N;return(N=this.editorDiv)===null||N===void 0?void 0:N.setAttribute("aria-label",z)}),L._l10nPromise.get("free_text_default_content").then(z=>{var N;return(N=this.editorDiv)===null||N===void 0?void 0:N.setAttribute("default-content",z)}),this.editorDiv.contentEditable=!0;const{style:A}=this.editorDiv;if(A.fontSize=`calc(${i(this,T)}px * var(--scale-factor))`,A.color=i(this,v),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[z,N]=this.parent.viewportBaseDimensions;this.setAt(U*z,P*N,this.width*z,this.height*N);for(const W of i(this,o).split(`
`)){const ie=document.createElement("div");ie.append(W?document.createTextNode(W):document.createElement("br")),this.editorDiv.append(ie)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(U,P){const A=super.deserialize(U,P);return e(A,T,U.fontSize),e(A,v,C.Util.makeHexColor(...U.color)),e(A,o,U.value),A}serialize(){if(this.isEmpty())return null;const U=L._internalPadding*this.parent.scaleFactor,P=this.getRect(U,U),A=K.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:C.AnnotationEditorType.FREETEXT,color:A,fontSize:i(this,T),value:i(this,o),pageIndex:this.parent.pageIndex,rect:P,rotation:this.rotation}}}n.FreeTextEditor=L;function te(I){const U=A=>{this.editorDiv.style.fontSize=`calc(${A}px * var(--scale-factor))`,this.translate(0,-(A-i(this,T))*this.parent.scaleFactor),e(this,T,A),s(this,O,R).call(this)},P=i(this,T);this.parent.addCommands({cmd:()=>{U(I)},undo:()=>{U(P)},mustExec:!0,type:C.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function B(I){const U=i(this,v);this.parent.addCommands({cmd:()=>{e(this,v,I),this.editorDiv.style.color=I},undo:()=>{e(this,v,U),this.editorDiv.style.color=U},mustExec:!0,type:C.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function G(){const I=this.editorDiv.getElementsByTagName("div");if(I.length===0)return this.editorDiv.innerText;const U=[];for(let P=0,A=I.length;P<A;P++){const N=I[P].firstChild;(N==null?void 0:N.nodeName)==="#text"?U.push(N.data):U.push("")}return U.join(`
`)}function R(){const[I,U]=this.parent.viewportBaseDimensions,P=this.div.getBoundingClientRect();this.width=P.width/I,this.height=P.height/U}l(L,"_freeTextDefaultContent",""),l(L,"_l10nPromise",void 0),l(L,"_internalPadding",0),l(L,"_defaultColor",null),l(L,"_defaultFontSize",10),l(L,"_keyboardManager",new _.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],L.prototype.commitOrRemove]])),l(L,"_type","freetext")},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0,Object.defineProperty(n,"fitCurve",{enumerable:!0,get:function(){return K.fitCurve}});var C=x(1),_=x(131),K=x(150),$=x(132);function l(Te,Ae){i(Te,Ae),Ae.add(Te)}function a(Te,Ae,Ee){return Ae in Te?Object.defineProperty(Te,Ae,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):Te[Ae]=Ee,Te}function t(Te,Ae,Ee){i(Te,Ae),Ae.set(Te,Ee)}function i(Te,Ae){if(Ae.has(Te))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(Te,Ae,Ee){return s(Te,Ae),Ee}function s(Te,Ae){if(Te!==Ae)throw new TypeError("Private static access of wrong provenance")}function e(Te,Ae,Ee){var Be=g(Te,Ae,"set");return u(Te,Be,Ee),Ee}function u(Te,Ae,Ee){if(Ae.set)Ae.set.call(Te,Ee);else{if(!Ae.writable)throw new TypeError("attempted to set read only private field");Ae.value=Ee}}function m(Te,Ae){var Ee=g(Te,Ae,"get");return y(Te,Ee)}function g(Te,Ae,Ee){if(!Ae.has(Te))throw new TypeError("attempted to "+Ee+" private field on non-instance");return Ae.get(Te)}function y(Te,Ae){return Ae.get?Ae.get.call(Te):Ae.value}function b(Te,Ae,Ee){if(!Ae.has(Te))throw new TypeError("attempted to get private field on non-instance");return Ee}const v=16;var o=new WeakMap,S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,M=new WeakMap,O=new WeakMap,L=new WeakMap,te=new WeakMap,B=new WeakMap,G=new WeakMap,R=new WeakMap,I=new WeakMap,U=new WeakMap,P=new WeakSet,A=new WeakSet,z=new WeakSet,N=new WeakSet,W=new WeakSet,ie=new WeakSet,Y=new WeakSet,F=new WeakSet,D=new WeakSet,Q=new WeakSet,ee=new WeakSet,V=new WeakSet,Z=new WeakSet,ae=new WeakSet,H=new WeakSet,q=new WeakSet,ne=new WeakSet,le=new WeakSet,se=new WeakSet,J=new WeakSet,re=new WeakSet,oe=new WeakSet;class ue extends _.AnnotationEditor{constructor(Ae){super({...Ae,name:"inkEditor"}),l(this,oe),l(this,re),l(this,J),l(this,se),l(this,le),l(this,ne),l(this,q),l(this,H),l(this,ae),l(this,Z),l(this,V),l(this,ee),l(this,Q),l(this,D),l(this,F),l(this,Y),l(this,ie),l(this,W),l(this,N),l(this,z),l(this,A),l(this,P),t(this,o,{writable:!0,value:0}),t(this,S,{writable:!0,value:0}),t(this,T,{writable:!0,value:0}),t(this,E,{writable:!0,value:this.canvasPointermove.bind(this)}),t(this,k,{writable:!0,value:this.canvasPointerleave.bind(this)}),t(this,M,{writable:!0,value:this.canvasPointerup.bind(this)}),t(this,O,{writable:!0,value:this.canvasPointerdown.bind(this)}),t(this,L,{writable:!0,value:!1}),t(this,te,{writable:!0,value:!1}),t(this,B,{writable:!0,value:null}),t(this,G,{writable:!0,value:null}),t(this,R,{writable:!0,value:0}),t(this,I,{writable:!0,value:0}),t(this,U,{writable:!0,value:null}),this.color=Ae.color||null,this.thickness=Ae.thickness||null,this.opacity=Ae.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Ae){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Ee=>[Ee,Ae.get(Ee)]))}static updateDefaultParams(Ae,Ee){switch(Ae){case C.AnnotationEditorParamsType.INK_THICKNESS:ue._defaultThickness=Ee;break;case C.AnnotationEditorParamsType.INK_COLOR:ue._defaultColor=Ee;break;case C.AnnotationEditorParamsType.INK_OPACITY:ue._defaultOpacity=Ee/100;break}}updateParams(Ae,Ee){switch(Ae){case C.AnnotationEditorParamsType.INK_THICKNESS:b(this,P,he).call(this,Ee);break;case C.AnnotationEditorParamsType.INK_COLOR:b(this,A,de).call(this,Ee);break;case C.AnnotationEditorParamsType.INK_OPACITY:b(this,z,pe).call(this,Ee);break}}static get defaultPropertiesToUpdate(){return[[C.AnnotationEditorParamsType.INK_THICKNESS,ue._defaultThickness],[C.AnnotationEditorParamsType.INK_COLOR,ue._defaultColor||_.AnnotationEditor._defaultLineColor],[C.AnnotationEditorParamsType.INK_OPACITY,Math.round(ue._defaultOpacity*100)]]}get propertiesToUpdate(){var Ae;return[[C.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ue._defaultThickness],[C.AnnotationEditorParamsType.INK_COLOR,this.color||ue._defaultColor||_.AnnotationEditor._defaultLineColor],[C.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((Ae=this.opacity)!==null&&Ae!==void 0?Ae:ue._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(b(this,ee,Ce).call(this),b(this,V,ye).call(this)),this.isAttachedToDOM||(this.parent.add(this),b(this,Z,ke).call(this)),b(this,re,$e).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,m(this,G).disconnect(),e(this,G,null),super.remove())}enableEditMode(){m(this,L)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",m(this,O)),this.canvas.addEventListener("pointerup",m(this,M)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",m(this,O)),this.canvas.removeEventListener("pointerup",m(this,M)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){m(this,L)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),e(this,L,!0),this.div.classList.add("disabled"),b(this,re,$e).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Ae){super.focusin(Ae),this.enableEditMode()}canvasPointerdown(Ae){Ae.button!==0||!this.isInEditMode()||m(this,L)||(this.setInForeground(),Ae.type!=="mouse"&&this.div.focus(),Ae.stopPropagation(),this.canvas.addEventListener("pointerleave",m(this,k)),this.canvas.addEventListener("pointermove",m(this,E)),b(this,ie,ge).call(this,Ae.offsetX,Ae.offsetY))}canvasPointermove(Ae){Ae.stopPropagation(),b(this,Y,Se).call(this,Ae.offsetX,Ae.offsetY)}canvasPointerup(Ae){Ae.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Ae.stopPropagation(),b(this,Q,Fe).call(this,Ae),this.setInBackground())}canvasPointerleave(Ae){b(this,Q,Fe).call(this,Ae),this.setInBackground()}render(){if(this.div)return this.div;let Ae,Ee;this.width&&(Ae=this.x,Ee=this.y),super.render(),ue._l10nPromise.get("editor_ink_aria_label").then(Ze=>{var Xe;return(Xe=this.div)===null||Xe===void 0?void 0:Xe.setAttribute("aria-label",Ze)});const[Be,ze,We,tt]=b(this,N,fe).call(this);if(this.setAt(Be,ze,0,0),this.setDims(We,tt),b(this,ee,Ce).call(this),this.width){const[Ze,Xe]=this.parent.viewportBaseDimensions;this.setAt(Ae*Ze,Ee*Xe,this.width*Ze,this.height*Xe),e(this,te,!0),b(this,Z,ke).call(this),this.setDims(this.width*Ze,this.height*Xe),b(this,D,we).call(this),b(this,oe,je).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return b(this,V,ye).call(this),this.div}setDimensions(Ae,Ee){const Be=Math.round(Ae),ze=Math.round(Ee);if(m(this,R)===Be&&m(this,I)===ze)return;e(this,R,Be),e(this,I,ze),this.canvas.style.visibility="hidden",m(this,o)&&Math.abs(m(this,o)-Ae/Ee)>.01&&(Ee=Math.ceil(Ae/m(this,o)),this.setDims(Ae,Ee));const[We,tt]=this.parent.viewportBaseDimensions;this.width=Ae/We,this.height=Ee/tt,m(this,L)&&b(this,ae,De).call(this,Ae,Ee),b(this,Z,ke).call(this),b(this,D,we).call(this),this.canvas.style.visibility="visible"}static deserialize(Ae,Ee){const Be=super.deserialize(Ae,Ee);Be.thickness=Ae.thickness,Be.color=C.Util.makeHexColor(...Ae.color),Be.opacity=Ae.opacity;const[ze,We]=Ee.pageDimensions,tt=Be.width*ze,Ze=Be.height*We,Xe=Ee.scaleFactor,st=Ae.thickness/2;e(Be,o,tt/Ze),e(Be,L,!0),e(Be,R,Math.round(tt)),e(Be,I,Math.round(Ze));for(const{bezier:Ge}of Ae.paths){const ht=[];Be.paths.push(ht);let ct=Xe*(Ge[0]-st),pt=Xe*(Ze-Ge[1]-st);for(let kt=2,mt=Ge.length;kt<mt;kt+=6){const Wt=Xe*(Ge[kt]-st),et=Xe*(Ze-Ge[kt+1]-st),qe=Xe*(Ge[kt+2]-st),it=Xe*(Ze-Ge[kt+3]-st),rt=Xe*(Ge[kt+4]-st),ft=Xe*(Ze-Ge[kt+5]-st);ht.push([[ct,pt],[Wt,et],[qe,it],[rt,ft]]),ct=rt,pt=ft}const Ct=c(this,ue,Me).call(this,ht);Be.bezierPath2D.push(Ct)}const gt=b(Be,se,Le).call(Be);return e(Be,T,Math.max(v,gt[2]-gt[0])),e(Be,S,Math.max(v,gt[3]-gt[1])),b(Be,ae,De).call(Be,tt,Ze),Be}serialize(){if(this.isEmpty())return null;const Ae=this.getRect(0,0),Ee=this.rotation%180===0?Ae[3]-Ae[1]:Ae[2]-Ae[0],Be=_.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:C.AnnotationEditorType.INK,color:Be,thickness:this.thickness,opacity:this.opacity,paths:b(this,q,Ne).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Ee),pageIndex:this.parent.pageIndex,rect:Ae,rotation:this.rotation}}}n.InkEditor=ue;function he(Te){const Ae=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Te,b(this,re,$e).call(this)},undo:()=>{this.thickness=Ae,b(this,re,$e).call(this)},mustExec:!0,type:C.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function de(Te){const Ae=this.color;this.parent.addCommands({cmd:()=>{this.color=Te,b(this,D,we).call(this)},undo:()=>{this.color=Ae,b(this,D,we).call(this)},mustExec:!0,type:C.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function pe(Te){Te/=100;const Ae=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Te,b(this,D,we).call(this)},undo:()=>{this.opacity=Ae,b(this,D,we).call(this)},mustExec:!0,type:C.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function fe(){const{width:Te,height:Ae,rotation:Ee}=this.parent.viewport;switch(Ee){case 90:return[0,Te,Te,Ae];case 180:return[Te,Ae,Te,Ae];case 270:return[Ae,0,Te,Ae];default:return[0,0,Te,Ae]}}function be(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,$.opacityToHex)(this.opacity)}`}function ge(Te,Ae){if(this.isEditing=!0,!m(this,te)){var Ee;e(this,te,!0),b(this,Z,ke).call(this),this.thickness||(this.thickness=ue._defaultThickness),this.color||(this.color=ue._defaultColor||_.AnnotationEditor._defaultLineColor),(Ee=this.opacity)!==null&&Ee!==void 0||(this.opacity=ue._defaultOpacity)}this.currentPath.push([Te,Ae]),e(this,B,null),b(this,W,be).call(this),this.ctx.beginPath(),this.ctx.moveTo(Te,Ae),e(this,U,()=>{m(this,U)&&(m(this,B)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):b(this,D,we).call(this),this.ctx.lineTo(...m(this,B)),e(this,B,null),this.ctx.stroke()),window.requestAnimationFrame(m(this,U)))}),window.requestAnimationFrame(m(this,U))}function Se(Te,Ae){const[Ee,Be]=this.currentPath.at(-1);Te===Ee&&Ae===Be||(this.currentPath.push([Te,Ae]),e(this,B,[Te,Ae]))}function ve(Te,Ae){this.ctx.closePath(),e(this,U,null),Te=Math.min(Math.max(Te,0),this.canvas.width),Ae=Math.min(Math.max(Ae,0),this.canvas.height);const[Ee,Be]=this.currentPath.at(-1);(Te!==Ee||Ae!==Be)&&this.currentPath.push([Te,Ae]);let ze;if(this.currentPath.length!==1)ze=(0,K.fitCurve)(this.currentPath,30,null);else{const Xe=[Te,Ae];ze=[[Xe,Xe.slice(),Xe.slice(),Xe]]}const We=c(ue,ue,Me).call(ue,ze);this.currentPath.length=0;const tt=()=>{this.paths.push(ze),this.bezierPath2D.push(We),this.rebuild()},Ze=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(b(this,ee,Ce).call(this),b(this,V,ye).call(this)),b(this,re,$e).call(this))};this.parent.addCommands({cmd:tt,undo:Ze,mustExec:!0})}function we(){if(this.isEmpty()){b(this,H,Ie).call(this);return}b(this,W,be).call(this);const{canvas:Te,ctx:Ae}=this;Ae.setTransform(1,0,0,1,0,0),Ae.clearRect(0,0,Te.width,Te.height),b(this,H,Ie).call(this);for(const Ee of this.bezierPath2D)Ae.stroke(Ee)}function Fe(Te){b(this,F,ve).call(this,Te.offsetX,Te.offsetY),this.canvas.removeEventListener("pointerleave",m(this,k)),this.canvas.removeEventListener("pointermove",m(this,E)),this.parent.addToAnnotationStorage(this)}function Ce(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ue._l10nPromise.get("editor_ink_canvas_aria_label").then(Te=>{var Ae;return(Ae=this.canvas)===null||Ae===void 0?void 0:Ae.setAttribute("aria-label",Te)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function ye(){e(this,G,new ResizeObserver(Te=>{const Ae=Te[0].contentRect;Ae.width&&Ae.height&&this.setDimensions(Ae.width,Ae.height)})),m(this,G).observe(this.div)}function ke(){if(!m(this,te))return;const[Te,Ae]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Te),this.canvas.height=Math.ceil(this.height*Ae),b(this,H,Ie).call(this)}function De(Te,Ae){const Ee=b(this,J,Pe).call(this),Be=(Te-Ee)/m(this,T),ze=(Ae-Ee)/m(this,S);this.scaleFactor=Math.min(Be,ze)}function Ie(){const Te=b(this,J,Pe).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Te,this.translationY*this.scaleFactor+Te)}function Me(Te){const Ae=new Path2D;for(let Ee=0,Be=Te.length;Ee<Be;Ee++){const[ze,We,tt,Ze]=Te[Ee];Ee===0&&Ae.moveTo(...ze),Ae.bezierCurveTo(We[0],We[1],tt[0],tt[1],Ze[0],Ze[1])}return Ae}function Ne(Te,Ae,Ee,Be){const We=[],tt=this.thickness/2;let Ze,Xe;for(const st of this.paths){Ze=[],Xe=[];for(let gt=0,Ge=st.length;gt<Ge;gt++){const[ht,ct,pt,Ct]=st[gt],kt=Te*(ht[0]+Ae)+tt,mt=Be-Te*(ht[1]+Ee)-tt,Wt=Te*(ct[0]+Ae)+tt,et=Be-Te*(ct[1]+Ee)-tt,qe=Te*(pt[0]+Ae)+tt,it=Be-Te*(pt[1]+Ee)-tt,rt=Te*(Ct[0]+Ae)+tt,ft=Be-Te*(Ct[1]+Ee)-tt;gt===0&&(Ze.push(kt,mt),Xe.push(kt,mt)),Ze.push(Wt,et,qe,it,rt,ft),b(this,ne,Re).call(this,kt,mt,Wt,et,qe,it,rt,ft,4,Xe)}We.push({bezier:Ze,points:Xe})}return We}function Re(Te,Ae,Ee,Be,ze,We,tt,Ze,Xe,st){if(b(this,le,Oe).call(this,Te,Ae,Ee,Be,ze,We,tt,Ze)){st.push(tt,Ze);return}for(let gt=1;gt<Xe-1;gt++){const Ge=gt/Xe,ht=1-Ge;let ct=Ge*Te+ht*Ee,pt=Ge*Ae+ht*Be,Ct=Ge*Ee+ht*ze,kt=Ge*Be+ht*We;const mt=Ge*ze+ht*tt,Wt=Ge*We+ht*Ze;ct=Ge*ct+ht*Ct,pt=Ge*pt+ht*kt,Ct=Ge*Ct+ht*mt,kt=Ge*kt+ht*Wt,ct=Ge*ct+ht*Ct,pt=Ge*pt+ht*kt,st.push(ct,pt)}st.push(tt,Ze)}function Oe(Te,Ae,Ee,Be,ze,We,tt,Ze){const st=(3*Ee-2*Te-tt)**2,gt=(3*Be-2*Ae-Ze)**2,Ge=(3*ze-Te-2*tt)**2,ht=(3*We-Ae-2*Ze)**2;return Math.max(st,Ge)+Math.max(gt,ht)<=10}function Le(){let Te=1/0,Ae=-1/0,Ee=1/0,Be=-1/0;for(const ze of this.paths)for(const[We,tt,Ze,Xe]of ze){const st=C.Util.bezierBoundingBox(...We,...tt,...Ze,...Xe);Te=Math.min(Te,st[0]),Ee=Math.min(Ee,st[1]),Ae=Math.max(Ae,st[2]),Be=Math.max(Be,st[3])}return[Te,Ee,Ae,Be]}function Pe(){return m(this,L)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function $e(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!m(this,L)){b(this,D,we).call(this);return}const Ae=b(this,se,Le).call(this),Ee=b(this,J,Pe).call(this);e(this,T,Math.max(v,Ae[2]-Ae[0])),e(this,S,Math.max(v,Ae[3]-Ae[1]));const Be=Math.ceil(Ee+m(this,T)*this.scaleFactor),ze=Math.ceil(Ee+m(this,S)*this.scaleFactor),[We,tt]=this.parent.viewportBaseDimensions;this.width=Be/We,this.height=ze/tt,e(this,o,Be/ze),b(this,oe,je).call(this);const Ze=this.translationX,Xe=this.translationY;this.translationX=-Ae[0],this.translationY=-Ae[1],b(this,Z,ke).call(this),b(this,D,we).call(this),e(this,R,Be),e(this,I,ze),this.setDims(Be,ze);const st=Te?Ee/this.scaleFactor/2:0;this.translate(Ze-this.translationX-st,Xe-this.translationY-st)}function je(){const{style:Te}=this.div;m(this,o)>=1?(Te.minHeight=`${v}px`,Te.minWidth=`${Math.round(m(this,o)*v)}px`):(Te.minWidth=`${v}px`,Te.minHeight=`${Math.round(v/m(this,o))}px`)}a(ue,"_defaultColor",null),a(ue,"_defaultOpacity",1),a(ue,"_defaultThickness",1),a(ue,"_l10nPromise",void 0),a(ue,"_type","ink")},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.fitCurve=void 0;const C=x(151);n.fitCurve=C},r=>{function n(u,m,g){if(!Array.isArray(u))throw new TypeError("First argument should be an array");if(u.forEach(o=>{if(!Array.isArray(o)||o.some(S=>typeof S!="number")||o.length!==u[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),u=u.filter((o,S)=>S===0||!o.every((T,E)=>T===u[S-1][E])),u.length<2)return[];const y=u.length,b=c(u[1],u[0]),v=c(u[y-2],u[y-1]);return x(u,b,v,m,g)}function x(u,m,g,y,b){var o,S,T,E,k,M,O,L,te,B,G,R,I;if(u.length===2)return R=s.vectorLen(s.subtract(u[0],u[1]))/3,o=[u[0],s.addArrays(u[0],s.mulItems(m,R)),s.addArrays(u[1],s.mulItems(g,R)),u[1]],[o];if(S=l(u),[o,E,M]=C(u,S,S,m,g,b),E===0||E<y)return[o];if(E<y*y)for(T=S,k=E,O=M,I=0;I<20;I++){if(T=K(o,u,T),[o,E,M]=C(u,S,T,m,g,b),E<y)return[o];if(M===O){let U=E/k;if(U>.9999&&U<1.0001)break}k=E,O=M}return G=[],L=s.subtract(u[M-1],u[M+1]),L.every(U=>U===0)&&(L=s.subtract(u[M-1],u[M]),[L[0],L[1]]=[-L[1],L[0]]),te=s.normalize(L),B=s.mulItems(te,-1),G=G.concat(x(u.slice(0,M+1),m,te,y,b)),G=G.concat(x(u.slice(M),B,g,y,b)),G}function C(u,m,g,y,b,v){var o,S,T;return o=_(u,g,y,b),[S,T]=a(u,o,m),v&&v({bez:o,points:u,params:m,maxErr:S,maxPoint:T}),[o,S,T]}function _(u,m,g,y){var b,v,o,S,T,E,k,M,O,L,te,B,G,R,I,U,P,A=u[0],z=u[u.length-1];for(b=[A,null,null,z],v=s.zeros_Xx2x2(m.length),G=0,R=m.length;G<R;G++)U=m[G],P=1-U,o=v[G],o[0]=s.mulItems(g,3*U*(P*P)),o[1]=s.mulItems(y,3*P*(U*U));for(S=[[0,0],[0,0]],T=[0,0],G=0,R=u.length;G<R;G++)U=m[G],o=v[G],S[0][0]+=s.dot(o[0],o[0]),S[0][1]+=s.dot(o[0],o[1]),S[1][0]+=s.dot(o[0],o[1]),S[1][1]+=s.dot(o[1],o[1]),I=s.subtract(u[G],e.q([A,A,z,z],U)),T[0]+=s.dot(o[0],I),T[1]+=s.dot(o[1],I);return E=S[0][0]*S[1][1]-S[1][0]*S[0][1],k=S[0][0]*T[1]-S[1][0]*T[0],M=T[0]*S[1][1]-T[1]*S[0][1],O=E===0?0:M/E,L=E===0?0:k/E,B=s.vectorLen(s.subtract(A,z)),te=1e-6*B,O<te||L<te?(b[1]=s.addArrays(A,s.mulItems(g,B/3)),b[2]=s.addArrays(z,s.mulItems(y,B/3))):(b[1]=s.addArrays(A,s.mulItems(g,O)),b[2]=s.addArrays(z,s.mulItems(y,L))),b}function K(u,m,g){return g.map((y,b)=>$(u,m[b],y))}function $(u,m,g){var y=s.subtract(e.q(u,g),m),b=e.qprime(u,g),v=s.mulMatrix(y,b),o=s.sum(s.squareItems(b))+2*s.mulMatrix(y,e.qprimeprime(u,g));return o===0?g:g-v/o}function l(u){var m=[],g,y,b;return u.forEach((v,o)=>{g=o?y+s.vectorLen(s.subtract(v,b)):0,m.push(g),y=g,b=v}),m=m.map(v=>v/y),m}function a(u,m,g){var y,b,v,o,S,T,E,k;b=0,v=Math.floor(u.length/2);const M=t(m,10);for(S=0,T=u.length;S<T;S++)E=u[S],k=i(m,g[S],M,10),o=s.subtract(e.q(m,k),E),y=o[0]*o[0]+o[1]*o[1],y>b&&(b=y,v=S);return[b,v]}var t=function(u,m){for(var g,y=[0],b=u[0],v=0,o=1;o<=m;o++)g=e.q(u,o/m),v+=s.vectorLen(s.subtract(g,b)),y.push(v),b=g;return y=y.map(S=>S/v),y};function i(u,m,g,y){if(m<0)return 0;if(m>1)return 1;for(var b,v,o,S,T,E=1;E<=y;E++)if(m<=g[E]){S=(E-1)/y,o=E/y,v=g[E-1],b=g[E],T=(m-v)/(b-v)*(o-S)+S;break}return T}function c(u,m){return s.normalize(s.subtract(u,m))}class s{static zeros_Xx2x2(m){for(var g=[];m--;)g.push([0,0]);return g}static mulItems(m,g){return m.map(y=>y*g)}static mulMatrix(m,g){return m.reduce((y,b,v)=>y+b*g[v],0)}static subtract(m,g){return m.map((y,b)=>y-g[b])}static addArrays(m,g){return m.map((y,b)=>y+g[b])}static addItems(m,g){return m.map(y=>y+g)}static sum(m){return m.reduce((g,y)=>g+y)}static dot(m,g){return s.mulMatrix(m,g)}static vectorLen(m){return Math.hypot(...m)}static divItems(m,g){return m.map(y=>y/g)}static squareItems(m){return m.map(g=>g*g)}static normalize(m){return this.divItems(m,this.vectorLen(m))}}class e{static q(m,g){var y=1-g,b=s.mulItems(m[0],y*y*y),v=s.mulItems(m[1],3*y*y*g),o=s.mulItems(m[2],3*y*g*g),S=s.mulItems(m[3],g*g*g);return s.addArrays(s.addArrays(b,v),s.addArrays(o,S))}static qprime(m,g){var y=1-g,b=s.mulItems(s.subtract(m[1],m[0]),3*y*y),v=s.mulItems(s.subtract(m[2],m[1]),6*y*g),o=s.mulItems(s.subtract(m[3],m[2]),3*g*g);return s.addArrays(s.addArrays(b,v),o)}static qprimeprime(m,g){return s.addArrays(s.mulItems(s.addArrays(s.subtract(m[2],s.mulItems(m[1],2)),m[0]),6*(1-g)),s.mulItems(s.addArrays(s.subtract(m[3],s.mulItems(m[2],2)),m[1]),6*g))}}r.exports=n,r.exports.fitCubic=x,r.exports.createTangent=c},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationLayer=void 0;var C=x(1),_=x(133),K=x(130),$=x(153),l=x(154);function a(ee,V,Z){return t(ee,V),Z}function t(ee,V){if(ee!==V)throw new TypeError("Private static access of wrong provenance")}const i=1e3,c=9,s=new WeakSet;function e(ee){return{width:ee[2]-ee[0],height:ee[3]-ee[1]}}class u{static create(V){switch(V.data.annotationType){case C.AnnotationType.LINK:return new g(V);case C.AnnotationType.TEXT:return new y(V);case C.AnnotationType.WIDGET:switch(V.data.fieldType){case"Tx":return new v(V);case"Btn":return V.data.radioButton?new S(V):V.data.checkBox?new o(V):new T(V);case"Ch":return new E(V)}return new b(V);case C.AnnotationType.POPUP:return new k(V);case C.AnnotationType.FREETEXT:return new O(V);case C.AnnotationType.LINE:return new L(V);case C.AnnotationType.SQUARE:return new te(V);case C.AnnotationType.CIRCLE:return new B(V);case C.AnnotationType.POLYLINE:return new G(V);case C.AnnotationType.CARET:return new I(V);case C.AnnotationType.INK:return new U(V);case C.AnnotationType.POLYGON:return new R(V);case C.AnnotationType.HIGHLIGHT:return new P(V);case C.AnnotationType.UNDERLINE:return new A(V);case C.AnnotationType.SQUIGGLY:return new z(V);case C.AnnotationType.STRIKEOUT:return new N(V);case C.AnnotationType.STAMP:return new W(V);case C.AnnotationType.FILEATTACHMENT:return new ie(V);default:return new m(V)}}}class m{constructor(V){let{isRenderable:Z=!1,ignoreBorder:ae=!1,createQuadrilaterals:H=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=Z,this.data=V.data,this.layer=V.layer,this.page=V.page,this.viewport=V.viewport,this.linkService=V.linkService,this.downloadManager=V.downloadManager,this.imageResourcesPath=V.imageResourcesPath,this.renderForms=V.renderForms,this.svgFactory=V.svgFactory,this.annotationStorage=V.annotationStorage,this.enableScripting=V.enableScripting,this.hasJSActions=V.hasJSActions,this._fieldObjects=V.fieldObjects,this._mouseState=V.mouseState,Z&&(this.container=this._createContainer(ae)),H&&(this.quadrilaterals=this._createQuadrilaterals(ae))}_createContainer(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Z=this.data,ae=this.page,H=this.viewport,q=document.createElement("section"),{width:ne,height:le}=e(Z.rect),[se,J,re,oe]=H.viewBox,ue=re-se,he=oe-J;q.setAttribute("data-annotation-id",Z.id);const de=C.Util.normalizeRect([Z.rect[0],ae.view[3]-Z.rect[1]+ae.view[1],Z.rect[2],ae.view[3]-Z.rect[3]+ae.view[1]]);if(!V&&Z.borderStyle.width>0){q.style.borderWidth=`${Z.borderStyle.width}px`;const fe=Z.borderStyle.horizontalCornerRadius,be=Z.borderStyle.verticalCornerRadius;if(fe>0||be>0){const Se=`calc(${fe}px * var(--scale-factor)) / calc(${be}px * var(--scale-factor))`;q.style.borderRadius=Se}else if(this instanceof S){const Se=`calc(${ne}px * var(--scale-factor)) / calc(${le}px * var(--scale-factor))`;q.style.borderRadius=Se}switch(Z.borderStyle.style){case C.AnnotationBorderStyleType.SOLID:q.style.borderStyle="solid";break;case C.AnnotationBorderStyleType.DASHED:q.style.borderStyle="dashed";break;case C.AnnotationBorderStyleType.BEVELED:(0,C.warn)("Unimplemented border style: beveled");break;case C.AnnotationBorderStyleType.INSET:(0,C.warn)("Unimplemented border style: inset");break;case C.AnnotationBorderStyleType.UNDERLINE:q.style.borderBottomStyle="solid";break}const ge=Z.borderColor||null;ge?q.style.borderColor=C.Util.makeHexColor(ge[0]|0,ge[1]|0,ge[2]|0):q.style.borderWidth=0}q.style.left=`${100*(de[0]-se)/ue}%`,q.style.top=`${100*(de[1]-J)/he}%`;const{rotation:pe}=Z;return Z.hasOwnCanvas||pe===0?(q.style.width=`${100*ne/ue}%`,q.style.height=`${100*le/he}%`):this.setRotation(pe,q),q}setRotation(V){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[ae,H,q,ne]=this.viewport.viewBox,le=q-ae,se=ne-H,{width:J,height:re}=e(this.data.rect);let oe,ue;V%180===0?(oe=100*J/le,ue=100*re/se):(oe=100*re/le,ue=100*J/se),Z.style.width=`${oe}%`,Z.style.height=`${ue}%`,Z.setAttribute("data-main-rotation",(360-V)%360)}get _commonActions(){const V=(Z,ae,H)=>{const q=H.detail[Z];H.target.style[ae]=$.ColorConverters[`${q[0]}_HTML`](q.slice(1))};return(0,C.shadow)(this,"_commonActions",{display:Z=>{const ae=Z.detail.display%2===1;this.container.style.visibility=ae?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ae,print:Z.detail.display===0||Z.detail.display===3})},print:Z=>{this.annotationStorage.setValue(this.data.id,{print:Z.detail.print})},hidden:Z=>{this.container.style.visibility=Z.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Z.detail.hidden})},focus:Z=>{setTimeout(()=>Z.target.focus({preventScroll:!1}),0)},userName:Z=>{Z.target.title=Z.detail.userName},readonly:Z=>{Z.detail.readonly?Z.target.setAttribute("readonly",""):Z.target.removeAttribute("readonly")},required:Z=>{this._setRequired(Z.target,Z.detail.required)},bgColor:Z=>{V("bgColor","backgroundColor",Z)},fillColor:Z=>{V("fillColor","backgroundColor",Z)},fgColor:Z=>{V("fgColor","color",Z)},textColor:Z=>{V("textColor","color",Z)},borderColor:Z=>{V("borderColor","borderColor",Z)},strokeColor:Z=>{V("strokeColor","borderColor",Z)},rotation:Z=>{const ae=Z.detail.rotation;this.setRotation(ae),this.annotationStorage.setValue(this.data.id,{rotation:ae})}})}_dispatchEventFromSandbox(V,Z){const ae=this._commonActions;for(const H of Object.keys(Z.detail)){const q=V[H]||ae[H];q&&q(Z)}}_setDefaultPropertiesFromJS(V){if(!this.enableScripting)return;const Z=this.annotationStorage.getRawValue(this.data.id);if(!Z)return;const ae=this._commonActions;for(const[H,q]of Object.entries(Z)){const ne=ae[H];if(ne){const le={detail:{[H]:q},target:V};ne(le),delete Z[H]}}}_createQuadrilaterals(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const Z=[],ae=this.data.rect;for(const H of this.data.quadPoints)this.data.rect=[H[2].x,H[2].y,H[1].x,H[1].y],Z.push(this._createContainer(V));return this.data.rect=ae,Z}_createPopup(V,Z){let ae=this.container;this.quadrilaterals&&(V=V||this.quadrilaterals,ae=this.quadrilaterals[0]),V||(V=document.createElement("div"),V.className="popupTriggerArea",ae.append(V));const q=new M({container:ae,trigger:V,color:Z.color,titleObj:Z.titleObj,modificationDate:Z.modificationDate,contentsObj:Z.contentsObj,richText:Z.richText,hideWrapper:!0}).render();q.style.left="100%",ae.append(q)}_renderQuadrilaterals(V){for(const Z of this.quadrilaterals)Z.className=V;return this.quadrilaterals}render(){(0,C.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(V){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const ae=[];if(this._fieldObjects){const H=this._fieldObjects[V];if(H)for(const{page:q,id:ne,exportValues:le}of H){if(q===-1||ne===Z)continue;const se=typeof le=="string"?le:null,J=document.querySelector(`[data-element-id="${ne}"]`);if(J&&!s.has(J)){(0,C.warn)(`_getElementsByName - element not allowed: ${ne}`);continue}ae.push({id:ne,exportValue:se,domElement:J})}return ae}for(const H of document.getElementsByName(V)){const{id:q,exportValue:ne}=H;q!==Z&&s.has(H)&&ae.push({id:q,exportValue:ne,domElement:H})}return ae}static get platform(){const V=typeof navigator<"u"?navigator.platform:"";return(0,C.shadow)(this,"platform",{isWin:V.includes("Win"),isMac:V.includes("Mac")})}}class g extends m{constructor(V){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(V,{isRenderable:!0,ignoreBorder:!!(Z!=null&&Z.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=V.data.isTooltipOnly}render(){const{data:V,linkService:Z}=this,ae=document.createElement("a");ae.setAttribute("data-element-id",V.id);let H=!1;return V.url?(Z.addLinkAttributes(ae,V.url,V.newWindow),H=!0):V.action?(this._bindNamedAction(ae,V.action),H=!0):V.dest?(this._bindLink(ae,V.dest),H=!0):(V.actions&&(V.actions.Action||V.actions["Mouse Up"]||V.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ae,V),H=!0),V.resetForm?(this._bindResetFormAction(ae,V.resetForm),H=!0):this.isTooltipOnly&&!H&&(this._bindLink(ae,""),H=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((q,ne)=>{const le=ne===0?ae:ae.cloneNode();return q.append(le),q}):(this.container.className="linkAnnotation",H&&this.container.append(ae),this.container)}_bindLink(V,Z){V.href=this.linkService.getDestinationHash(Z),V.onclick=()=>(Z&&this.linkService.goToDestination(Z),!1),(Z||Z==="")&&(V.className="internalLink")}_bindNamedAction(V,Z){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeNamedAction(Z),!1),V.className="internalLink"}_bindJSAction(V,Z){V.href=this.linkService.getAnchorUrl("");const ae=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const H of Object.keys(Z.actions)){const q=ae.get(H);q&&(V[q]=()=>{var ne;return(ne=this.linkService.eventBus)===null||ne===void 0||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z.id,name:H}}),!1})}V.onclick||(V.onclick=()=>!1),V.className="internalLink"}_bindResetFormAction(V,Z){const ae=V.onclick;if(ae||(V.href=this.linkService.getAnchorUrl("")),V.className="internalLink",!this._fieldObjects){(0,C.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ae||(V.onclick=()=>!1);return}V.onclick=()=>{ae&&ae();const{fields:H,refs:q,include:ne}=Z,le=[];if(H.length!==0||q.length!==0){const oe=new Set(q);for(const ue of H){const he=this._fieldObjects[ue]||[];for(const{id:de}of he)oe.add(de)}for(const ue of Object.values(this._fieldObjects))for(const he of ue)oe.has(he.id)===ne&&le.push(he)}else for(const oe of Object.values(this._fieldObjects))le.push(...oe);const se=this.annotationStorage,J=[];for(const oe of le){const{id:ue}=oe;switch(J.push(ue),oe.type){case"text":{const de=oe.defaultValue||"";se.setValue(ue,{value:de});break}case"checkbox":case"radiobutton":{const de=oe.defaultValue===oe.exportValues;se.setValue(ue,{value:de});break}case"combobox":case"listbox":{const de=oe.defaultValue||"";se.setValue(ue,{value:de});break}default:continue}const he=document.querySelector(`[data-element-id="${ue}"]`);if(he){if(!s.has(he)){(0,C.warn)(`_bindResetFormAction - element not allowed: ${ue}`);continue}}else continue;he.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var re;(re=this.linkService.eventBus)===null||re===void 0||re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:J,name:"ResetForm"}})}return!1}}}class y extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q})}render(){this.container.className="textAnnotation";const V=document.createElement("img");return V.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",V.alt="[{{type}} Annotation]",V.dataset.l10nId="text_annotation_type",V.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(V,this.data),this.container.append(V),this.container}}class b extends m{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(V){const{isWin:Z,isMac:ae}=m.platform;return Z&&V.ctrlKey||ae&&V.metaKey}_setEventListener(V,Z,ae,H){Z.includes("mouse")?V.addEventListener(Z,q=>{var ne;(ne=this.linkService.eventBus)===null||ne===void 0||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ae,value:H(q),shift:q.shiftKey,modifier:this._getKeyModifier(q)}})}):V.addEventListener(Z,q=>{var ne;(ne=this.linkService.eventBus)===null||ne===void 0||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ae,value:H(q)}})})}_setEventListeners(V,Z,ae){for(const[q,ne]of Z){var H;(ne==="Action"||(H=this.data.actions)!==null&&H!==void 0&&H[ne])&&this._setEventListener(V,q,ne,ae)}}_setBackgroundColor(V){const Z=this.data.backgroundColor||null;V.style.backgroundColor=Z===null?"transparent":C.Util.makeHexColor(Z[0],Z[1],Z[2])}_setTextStyle(V){const Z=["left","center","right"],{fontColor:ae}=this.data.defaultAppearanceData,H=this.data.defaultAppearanceData.fontSize||c,q=V.style;let ne;if(this.data.multiLine){const le=Math.abs(this.data.rect[3]-this.data.rect[1]),se=Math.round(le/(C.LINE_FACTOR*H))||1,J=le/se;ne=Math.min(H,Math.round(J/C.LINE_FACTOR))}else{const le=Math.abs(this.data.rect[3]-this.data.rect[1]);ne=Math.min(H,Math.round(le/C.LINE_FACTOR))}q.fontSize=`calc(${ne}px * var(--scale-factor))`,q.color=C.Util.makeHexColor(ae[0],ae[1],ae[2]),this.data.textAlignment!==null&&(q.textAlign=Z[this.data.textAlignment])}_setRequired(V,Z){Z?V.setAttribute("required",!0):V.removeAttribute("required"),V.setAttribute("aria-required",Z)}}class v extends b{constructor(V){const Z=V.renderForms||!V.data.hasAppearance&&!!V.data.fieldValue;super(V,{isRenderable:Z})}setPropertyOnSiblings(V,Z,ae,H){const q=this.annotationStorage;for(const ne of this._getElementsByName(V.name,V.id))ne.domElement&&(ne.domElement[Z]=ae),q.setValue(ne.id,{[H]:ae})}render(){const V=this.annotationStorage,Z=this.data.id;this.container.className="textWidgetAnnotation";let ae=null;if(this.renderForms){const q=V.getValue(Z,{value:this.data.fieldValue});let ne=q.formattedValue||q.value||"";const le=V.getValue(Z,{charLimit:this.data.maxLen}).charLimit;le&&ne.length>le&&(ne=ne.slice(0,le));const se={userValue:ne,formattedValue:null,valueOnFocus:""};this.data.multiLine?(ae=document.createElement("textarea"),ae.textContent=ne,this.data.doNotScroll&&(ae.style.overflowY="hidden")):(ae=document.createElement("input"),ae.type="text",ae.setAttribute("value",ne),this.data.doNotScroll&&(ae.style.overflowX="hidden")),s.add(ae),ae.setAttribute("data-element-id",Z),ae.disabled=this.data.readOnly,ae.name=this.data.fieldName,ae.tabIndex=i,this._setRequired(ae,this.data.required),le&&(ae.maxLength=le),ae.addEventListener("input",re=>{V.setValue(Z,{value:re.target.value}),this.setPropertyOnSiblings(ae,"value",re.target.value,"value")}),ae.addEventListener("resetform",re=>{var oe;const ue=(oe=this.data.defaultFieldValue)!==null&&oe!==void 0?oe:"";ae.value=se.userValue=ue,se.formattedValue=null});let J=re=>{const{formattedValue:oe}=se;oe!=null&&(re.target.value=oe),re.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var H;ae.addEventListener("focus",oe=>{se.userValue&&(oe.target.value=se.userValue),se.valueOnFocus=oe.target.value}),ae.addEventListener("updatefromsandbox",oe=>{const ue={value(he){var de;se.userValue=(de=he.detail.value)!==null&&de!==void 0?de:"",V.setValue(Z,{value:se.userValue.toString()}),he.target.value=se.userValue},formattedValue(he){const{formattedValue:de}=he.detail;se.formattedValue=de,de!=null&&he.target!==document.activeElement&&(he.target.value=de),V.setValue(Z,{formattedValue:de})},selRange(he){he.target.setSelectionRange(...he.detail.selRange)},charLimit:he=>{var de;const{charLimit:pe}=he.detail,{target:fe}=he;if(pe===0){fe.removeAttribute("maxLength");return}fe.setAttribute("maxLength",pe);let be=se.userValue;!be||be.length<=pe||(be=be.slice(0,pe),fe.value=se.userValue=be,V.setValue(Z,{value:be}),(de=this.linkService.eventBus)===null||de===void 0||de.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:be,willCommit:!0,commitKey:1,selStart:fe.selectionStart,selEnd:fe.selectionEnd}}))}};this._dispatchEventFromSandbox(ue,oe)}),ae.addEventListener("keydown",oe=>{var ue;let he=-1;if(oe.key==="Escape"?he=0:oe.key==="Enter"?he=2:oe.key==="Tab"&&(he=3),he===-1)return;const{value:de}=oe.target;se.valueOnFocus!==de&&(se.userValue=de,(ue=this.linkService.eventBus)===null||ue===void 0||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:de,willCommit:!0,commitKey:he,selStart:oe.target.selectionStart,selEnd:oe.target.selectionEnd}}))});const re=J;J=null,ae.addEventListener("blur",oe=>{const{value:ue}=oe.target;if(se.userValue=ue,this._mouseState.isDown&&se.valueOnFocus!==ue){var he;(he=this.linkService.eventBus)===null||he===void 0||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:ue,willCommit:!0,commitKey:1,selStart:oe.target.selectionStart,selEnd:oe.target.selectionEnd}})}re(oe)}),(H=this.data.actions)!==null&&H!==void 0&&H.Keystroke&&ae.addEventListener("beforeinput",oe=>{var ue;const{data:he,target:de}=oe,{value:pe,selectionStart:fe,selectionEnd:be}=de;let ge=fe,Se=be;switch(oe.inputType){case"deleteWordBackward":{const ve=pe.substring(0,fe).match(/\w*[^\w]*$/);ve&&(ge-=ve[0].length);break}case"deleteWordForward":{const ve=pe.substring(fe).match(/^[^\w]*\w*/);ve&&(Se+=ve[0].length);break}case"deleteContentBackward":fe===be&&(ge-=1);break;case"deleteContentForward":fe===be&&(Se+=1);break}oe.preventDefault(),(ue=this.linkService.eventBus)===null||ue===void 0||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:pe,change:he||"",willCommit:!1,selStart:ge,selEnd:Se}})}),this._setEventListeners(ae,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],oe=>oe.target.value)}if(J&&ae.addEventListener("blur",J),this.data.comb){const oe=(this.data.rect[2]-this.data.rect[0])/le;ae.classList.add("comb"),ae.style.letterSpacing=`calc(${oe}px * var(--scale-factor) - 1ch)`}}else ae=document.createElement("div"),ae.textContent=this.data.fieldValue,ae.style.verticalAlign="middle",ae.style.display="table-cell";return this._setTextStyle(ae),this._setBackgroundColor(ae),this._setDefaultPropertiesFromJS(ae),this.container.append(ae),this.container}}class o extends b{constructor(V){super(V,{isRenderable:V.renderForms})}render(){const V=this.annotationStorage,Z=this.data,ae=Z.id;let H=V.getValue(ae,{value:Z.exportValue===Z.fieldValue}).value;typeof H=="string"&&(H=H!=="Off",V.setValue(ae,{value:H})),this.container.className="buttonWidgetAnnotation checkBox";const q=document.createElement("input");return s.add(q),q.setAttribute("data-element-id",ae),q.disabled=Z.readOnly,this._setRequired(q,this.data.required),q.type="checkbox",q.name=Z.fieldName,H&&q.setAttribute("checked",!0),q.setAttribute("exportValue",Z.exportValue),q.tabIndex=i,q.addEventListener("change",ne=>{const{name:le,checked:se}=ne.target;for(const J of this._getElementsByName(le,ae)){const re=se&&J.exportValue===Z.exportValue;J.domElement&&(J.domElement.checked=re),V.setValue(J.id,{value:re})}V.setValue(ae,{value:se})}),q.addEventListener("resetform",ne=>{const le=Z.defaultFieldValue||"Off";ne.target.checked=le===Z.exportValue}),this.enableScripting&&this.hasJSActions&&(q.addEventListener("updatefromsandbox",ne=>{const le={value(se){se.target.checked=se.detail.value!=="Off",V.setValue(ae,{value:se.target.checked})}};this._dispatchEventFromSandbox(le,ne)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ne=>ne.target.checked)),this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class S extends b{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const V=this.annotationStorage,Z=this.data,ae=Z.id;let H=V.getValue(ae,{value:Z.fieldValue===Z.buttonValue}).value;typeof H=="string"&&(H=H!==Z.buttonValue,V.setValue(ae,{value:H}));const q=document.createElement("input");if(s.add(q),q.setAttribute("data-element-id",ae),q.disabled=Z.readOnly,this._setRequired(q,this.data.required),q.type="radio",q.name=Z.fieldName,H&&q.setAttribute("checked",!0),q.tabIndex=i,q.addEventListener("change",ne=>{const{name:le,checked:se}=ne.target;for(const J of this._getElementsByName(le,ae))V.setValue(J.id,{value:!1});V.setValue(ae,{value:se})}),q.addEventListener("resetform",ne=>{const le=Z.defaultFieldValue;ne.target.checked=le!=null&&le===Z.buttonValue}),this.enableScripting&&this.hasJSActions){const ne=Z.buttonValue;q.addEventListener("updatefromsandbox",le=>{const se={value:J=>{const re=ne===J.detail.value;for(const oe of this._getElementsByName(J.target.name)){const ue=re&&oe.id===ae;oe.domElement&&(oe.domElement.checked=ue),V.setValue(oe.id,{value:ue})}}};this._dispatchEventFromSandbox(se,le)}),this._setEventListeners(q,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.checked)}return this._setBackgroundColor(q),this._setDefaultPropertiesFromJS(q),this.container.append(q),this.container}}class T extends g{constructor(V){super(V,{ignoreBorder:V.data.hasAppearance})}render(){const V=super.render();V.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(V.title=this.data.alternativeText);const Z=V.lastChild;return this.enableScripting&&this.hasJSActions&&Z&&(this._setDefaultPropertiesFromJS(Z),Z.addEventListener("updatefromsandbox",ae=>{this._dispatchEventFromSandbox({},ae)})),V}}class E extends b{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const V=this.annotationStorage,Z=this.data.id,ae=V.getValue(Z,{value:this.data.fieldValue}),H=document.createElement("select");s.add(H),H.setAttribute("data-element-id",Z),H.disabled=this.data.readOnly,this._setRequired(H,this.data.required),H.name=this.data.fieldName,H.tabIndex=i;let q=this.data.combo&&this.data.options.length>0;this.data.combo||(H.size=this.data.options.length,this.data.multiSelect&&(H.multiple=!0)),H.addEventListener("resetform",J=>{const re=this.data.defaultFieldValue;for(const oe of H.options)oe.selected=oe.value===re});for(const J of this.data.options){const re=document.createElement("option");re.textContent=J.displayValue,re.value=J.exportValue,ae.value.includes(J.exportValue)&&(re.setAttribute("selected",!0),q=!1),H.append(re)}let ne=null;if(q){const J=document.createElement("option");J.value=" ",J.setAttribute("hidden",!0),J.setAttribute("selected",!0),H.prepend(J),ne=()=>{J.remove(),H.removeEventListener("input",ne),ne=null},H.addEventListener("input",ne)}const le=(J,re)=>{const oe=re?"value":"textContent",ue=J.target.options;return J.target.multiple?Array.prototype.filter.call(ue,he=>he.selected).map(he=>he[oe]):ue.selectedIndex===-1?null:ue[ue.selectedIndex][oe]},se=J=>{const re=J.target.options;return Array.prototype.map.call(re,oe=>({displayValue:oe.textContent,exportValue:oe.value}))};return this.enableScripting&&this.hasJSActions?(H.addEventListener("updatefromsandbox",J=>{const re={value(oe){var ue;(ue=ne)===null||ue===void 0||ue();const he=oe.detail.value,de=new Set(Array.isArray(he)?he:[he]);for(const pe of H.options)pe.selected=de.has(pe.value);V.setValue(Z,{value:le(oe,!0)})},multipleSelection(oe){H.multiple=!0},remove(oe){const ue=H.options,he=oe.detail.remove;ue[he].selected=!1,H.remove(he),ue.length>0&&Array.prototype.findIndex.call(ue,pe=>pe.selected)===-1&&(ue[0].selected=!0),V.setValue(Z,{value:le(oe,!0),items:se(oe)})},clear(oe){for(;H.length!==0;)H.remove(0);V.setValue(Z,{value:null,items:[]})},insert(oe){const{index:ue,displayValue:he,exportValue:de}=oe.detail.insert,pe=H.children[ue],fe=document.createElement("option");fe.textContent=he,fe.value=de,pe?pe.before(fe):H.append(fe),V.setValue(Z,{value:le(oe,!0),items:se(oe)})},items(oe){const{items:ue}=oe.detail;for(;H.length!==0;)H.remove(0);for(const he of ue){const{displayValue:de,exportValue:pe}=he,fe=document.createElement("option");fe.textContent=de,fe.value=pe,H.append(fe)}H.options.length>0&&(H.options[0].selected=!0),V.setValue(Z,{value:le(oe,!0),items:se(oe)})},indices(oe){const ue=new Set(oe.detail.indices);for(const he of oe.target.options)he.selected=ue.has(he.index);V.setValue(Z,{value:le(oe,!0)})},editable(oe){oe.target.disabled=!oe.detail.editable}};this._dispatchEventFromSandbox(re,J)}),H.addEventListener("input",J=>{var re;const oe=le(J,!0),ue=le(J,!1);V.setValue(Z,{value:oe}),(re=this.linkService.eventBus)===null||re===void 0||re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Z,name:"Keystroke",value:ue,changeEx:oe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(H,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],J=>J.target.checked)):H.addEventListener("input",function(J){V.setValue(Z,{value:le(J,!0)})}),this.data.combo&&this._setTextStyle(H),this._setBackgroundColor(H),this._setDefaultPropertiesFromJS(H),this.container.append(H),this.container}}class k extends m{constructor(V){var Z,ae,H;const q=!!((Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q})}render(){const V=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",V.includes(this.data.parentType))return this.container;const Z=`[data-annotation-id="${this.data.parentId}"]`,ae=this.layer.querySelectorAll(Z);if(ae.length===0)return this.container;const H=new M({container:this.container,trigger:Array.from(ae),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),q=this.page,ne=C.Util.normalizeRect([this.data.parentRect[0],q.view[3]-this.data.parentRect[1]+q.view[1],this.data.parentRect[2],q.view[3]-this.data.parentRect[3]+q.view[1]]),le=ne[0]+this.data.parentRect[2]-this.data.parentRect[0],se=ne[1],[J,re,oe,ue]=this.viewport.viewBox,he=oe-J,de=ue-re;return this.container.style.left=`${100*(le-J)/he}%`,this.container.style.top=`${100*(se-re)/de}%`,this.container.append(H.render()),this.container}}class M{constructor(V){this.container=V.container,this.trigger=V.trigger,this.color=V.color,this.titleObj=V.titleObj,this.modificationDate=V.modificationDate,this.contentsObj=V.contentsObj,this.richText=V.richText,this.hideWrapper=V.hideWrapper||!1,this.pinned=!1}render(){var V,Z;const H=document.createElement("div");H.className="popupWrapper",this.hideElement=this.hideWrapper?H:this.container,this.hideElement.hidden=!0;const q=document.createElement("div");q.className="popup";const ne=this.color;if(ne){const J=.7*(255-ne[0])+ne[0],re=.7*(255-ne[1])+ne[1],oe=.7*(255-ne[2])+ne[2];q.style.backgroundColor=C.Util.makeHexColor(J|0,re|0,oe|0)}const le=document.createElement("h1");le.dir=this.titleObj.dir,le.textContent=this.titleObj.str,q.append(le);const se=_.PDFDateString.toDateObject(this.modificationDate);if(se){const J=document.createElement("span");J.className="popupDate",J.textContent="{{date}}, {{time}}",J.dataset.l10nId="annotation_date_string",J.dataset.l10nArgs=JSON.stringify({date:se.toLocaleDateString(),time:se.toLocaleTimeString()}),q.append(J)}if((V=this.richText)!==null&&V!==void 0&&V.str&&(!((Z=this.contentsObj)!==null&&Z!==void 0&&Z.str)||this.contentsObj.str===this.richText.str))l.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:q}),q.lastChild.className="richText popupContent";else{const J=this._formatContents(this.contentsObj);q.append(J)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const J of this.trigger)J.addEventListener("click",this._toggle.bind(this)),J.addEventListener("mouseover",this._show.bind(this,!1)),J.addEventListener("mouseout",this._hide.bind(this,!1));return q.addEventListener("click",this._hide.bind(this,!0)),H.append(q),H}_formatContents(V){let{str:Z,dir:ae}=V;const H=document.createElement("p");H.className="popupContent",H.dir=ae;const q=Z.split(/(?:\r\n?|\n)/);for(let ne=0,le=q.length;ne<le;++ne){const se=q[ne];H.append(document.createTextNode(se)),ne<le-1&&H.append(document.createElement("br"))}return H}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class O extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0}),this.textContent=V.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const V=document.createElement("div");V.className="annotationTextContent",V.setAttribute("role","comment");for(const Z of this.textContent){const ae=document.createElement("span");ae.textContent=Z,V.append(ae)}this.container.append(V)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const V=this.data,{width:Z,height:ae}=e(V.rect),H=this.svgFactory.create(Z,ae,!0),q=this.svgFactory.createElement("svg:line");return q.setAttribute("x1",V.rect[2]-V.lineCoordinates[0]),q.setAttribute("y1",V.rect[3]-V.lineCoordinates[1]),q.setAttribute("x2",V.rect[2]-V.lineCoordinates[2]),q.setAttribute("y2",V.rect[3]-V.lineCoordinates[3]),q.setAttribute("stroke-width",V.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),H.append(q),this.container.append(H),this._createPopup(q,V),this.container}}class te extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const V=this.data,{width:Z,height:ae}=e(V.rect),H=this.svgFactory.create(Z,ae,!0),q=V.borderStyle.width,ne=this.svgFactory.createElement("svg:rect");return ne.setAttribute("x",q/2),ne.setAttribute("y",q/2),ne.setAttribute("width",Z-q),ne.setAttribute("height",ae-q),ne.setAttribute("stroke-width",q||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),H.append(ne),this.container.append(H),this._createPopup(ne,V),this.container}}class B extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const V=this.data,{width:Z,height:ae}=e(V.rect),H=this.svgFactory.create(Z,ae,!0),q=V.borderStyle.width,ne=this.svgFactory.createElement("svg:ellipse");return ne.setAttribute("cx",Z/2),ne.setAttribute("cy",ae/2),ne.setAttribute("rx",Z/2-q/2),ne.setAttribute("ry",ae/2-q/2),ne.setAttribute("stroke-width",q||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),H.append(ne),this.container.append(H),this._createPopup(ne,V),this.container}}class G extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const V=this.data,{width:Z,height:ae}=e(V.rect),H=this.svgFactory.create(Z,ae,!0);let q=[];for(const le of V.vertices){const se=le.x-V.rect[0],J=V.rect[3]-le.y;q.push(se+","+J)}q=q.join(" ");const ne=this.svgFactory.createElement(this.svgElementName);return ne.setAttribute("points",q),ne.setAttribute("stroke-width",V.borderStyle.width||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),H.append(ne),this.container.append(H),this._createPopup(ne,V),this.container}}class R extends G{constructor(V){super(V),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class U extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const V=this.data,{width:Z,height:ae}=e(V.rect),H=this.svgFactory.create(Z,ae,!0);for(const q of V.inkLists){let ne=[];for(const se of q){const J=se.x-V.rect[0],re=V.rect[3]-se.y;ne.push(`${J},${re}`)}ne=ne.join(" ");const le=this.svgFactory.createElement(this.svgElementName);le.setAttribute("points",ne),le.setAttribute("stroke-width",V.borderStyle.width||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),this._createPopup(le,V),H.append(le)}return this.container.append(H),this.container}}class P extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class A extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class z extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class N extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class W extends m{constructor(V){var Z,ae,H;const q=!!(V.data.hasPopup||(Z=V.data.titleObj)!==null&&Z!==void 0&&Z.str||(ae=V.data.contentsObj)!==null&&ae!==void 0&&ae.str||(H=V.data.richText)!==null&&H!==void 0&&H.str);super(V,{isRenderable:q,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ie extends m{constructor(V){var Z;super(V,{isRenderable:!0});const{filename:ae,content:H}=this.data.file;this.filename=(0,_.getFilenameFromUrl)(ae),this.content=H,(Z=this.linkService.eventBus)===null||Z===void 0||Z.dispatch("fileattachmentannotation",{source:this,filename:ae,content:H})}render(){var V,Z;this.container.className="fileAttachmentAnnotation";const ae=document.createElement("div");return ae.className="popupTriggerArea",ae.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((V=this.data.titleObj)!==null&&V!==void 0&&V.str||(Z=this.data.contentsObj)!==null&&Z!==void 0&&Z.str||this.data.richText)&&this._createPopup(ae,this.data),this.container.append(ae),this.container}_download(){var V;(V=this.downloadManager)===null||V===void 0||V.openOrDownloadData(this.container,this.content,this.filename)}}class Y{static render(V){const{annotations:Z,div:ae,viewport:H,accessibilityManager:q}=V;a(this,Y,D).call(this,ae,H);let ne=0;for(const le of Z){if(le.annotationType!==C.AnnotationType.POPUP){const{width:J,height:re}=e(le.rect);if(J<=0||re<=0)continue}const se=u.create({data:le,layer:ae,page:V.page,viewport:H,linkService:V.linkService,downloadManager:V.downloadManager,imageResourcesPath:V.imageResourcesPath||"",renderForms:V.renderForms!==!1,svgFactory:new _.DOMSVGFactory,annotationStorage:V.annotationStorage||new K.AnnotationStorage,enableScripting:V.enableScripting,hasJSActions:V.hasJSActions,fieldObjects:V.fieldObjects,mouseState:V.mouseState||{isDown:!1}});if(se.isRenderable){const J=se.render();if(le.hidden&&(J.style.visibility="hidden"),Array.isArray(J))for(const re of J)re.style.zIndex=ne++,a(Y,Y,F).call(Y,re,le.id,ae,q);else J.style.zIndex=ne++,se instanceof k?ae.prepend(J):a(Y,Y,F).call(Y,J,le.id,ae,q)}}a(this,Y,Q).call(this,ae,V.annotationCanvasMap)}static update(V){const{annotationCanvasMap:Z,div:ae,viewport:H}=V;a(this,Y,D).call(this,ae,H),a(this,Y,Q).call(this,ae,Z),ae.hidden=!1}}n.AnnotationLayer=Y;function F(ee,V,Z,ae){const H=ee.firstChild||ee;H.id=`${_.AnnotationPrefix}${V}`,Z.append(ee),ae==null||ae.moveElementInDOM(Z,ee,H,!1)}function D(ee,V){let{width:Z,height:ae,rotation:H}=V;const{style:q}=ee,ne=H%180!==0,le=Math.floor(Z)+"px",se=Math.floor(ae)+"px";q.width=ne?se:le,q.height=ne?le:se,ee.setAttribute("data-main-rotation",H)}function Q(ee,V){if(V){for(const[Z,ae]of V){const H=ee.querySelector(`[data-annotation-id="${Z}"]`);if(!H)continue;const{firstChild:q}=H;q?q.nodeName==="CANVAS"?q.replaceWith(ae):q.before(ae):H.append(ae)}V.clear()}}},(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function x(_){return Math.floor(Math.max(0,Math.min(1,_))*255).toString(16).padStart(2,"0")}class C{static CMYK_G(K){let[$,l,a,t]=K;return["G",1-Math.min(1,.3*$+.59*a+.11*l+t)]}static G_CMYK(K){let[$]=K;return["CMYK",0,0,0,1-$]}static G_RGB(K){let[$]=K;return["RGB",$,$,$]}static G_HTML(K){let[$]=K;const l=x($);return`#${l}${l}${l}`}static RGB_G(K){let[$,l,a]=K;return["G",.3*$+.59*l+.11*a]}static RGB_HTML(K){let[$,l,a]=K;const t=x($),i=x(l),c=x(a);return`#${t}${i}${c}`}static T_HTML(){return"#00000000"}static CMYK_RGB(K){let[$,l,a,t]=K;return["RGB",1-Math.min(1,$+t),1-Math.min(1,a+t),1-Math.min(1,l+t)]}static CMYK_HTML(K){const $=this.CMYK_RGB(K).slice(1);return this.RGB_HTML($)}static RGB_CMYK(K){let[$,l,a]=K;const t=1-$,i=1-l,c=1-a,s=Math.min(t,i,c);return["CMYK",t,i,c,s]}}n.ColorConverters=C},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0;var C=x(145);class _{static setupStorage($,l,a,t,i){const c=t.getValue(l,{value:null});switch(a.name){case"textarea":if(c.value!==null&&($.textContent=c.value),i==="print")break;$.addEventListener("input",s=>{t.setValue(l,{value:s.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(c.value===a.attributes.xfaOn?$.setAttribute("checked",!0):c.value===a.attributes.xfaOff&&$.removeAttribute("checked"),i==="print")break;$.addEventListener("change",s=>{t.setValue(l,{value:s.target.checked?s.target.getAttribute("xfaOn"):s.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&$.setAttribute("value",c.value),i==="print")break;$.addEventListener("input",s=>{t.setValue(l,{value:s.target.value})})}break;case"select":if(c.value!==null)for(const s of a.children)s.attributes.value===c.value&&(s.attributes.selected=!0);$.addEventListener("input",s=>{const e=s.target.options,u=e.selectedIndex===-1?"":e[e.selectedIndex].value;t.setValue(l,{value:u})});break}}static setAttributes($){let{html:l,element:a,storage:t=null,intent:i,linkService:c}=$;const{attributes:s}=a,e=l instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[u,m]of Object.entries(s))if(m!=null)switch(u){case"class":m.length&&l.setAttribute(u,m.join(" "));break;case"dataId":break;case"id":l.setAttribute("data-element-id",m);break;case"style":Object.assign(l.style,m);break;case"textContent":l.textContent=m;break;default:(!e||u!=="href"&&u!=="newWindow")&&l.setAttribute(u,m)}e&&c.addLinkAttributes(l,s.href,s.newWindow),t&&s.dataId&&this.setupStorage(l,s.dataId,a,t)}static render($){const l=$.annotationStorage,a=$.linkService,t=$.xfaHtml,i=$.intent||"display",c=document.createElement(t.name);t.attributes&&this.setAttributes({html:c,element:t,intent:i,linkService:a});const s=[[t,-1,c]],e=$.div;if(e.append(c),$.viewport){const g=`matrix(${$.viewport.transform.join(",")})`;e.style.transform=g}i!=="richText"&&e.setAttribute("class","xfaLayer xfaFont");const u=[];for(;s.length>0;){var m;const[g,y,b]=s.at(-1);if(y+1===g.children.length){s.pop();continue}const v=g.children[++s.at(-1)[1]];if(v===null)continue;const{name:o}=v;if(o==="#text"){const T=document.createTextNode(v.value);u.push(T),b.append(T);continue}let S;if(v!=null&&(m=v.attributes)!==null&&m!==void 0&&m.xmlns?S=document.createElementNS(v.attributes.xmlns,o):S=document.createElement(o),b.append(S),v.attributes&&this.setAttributes({html:S,element:v,storage:l,intent:i,linkService:a}),v.children&&v.children.length>0)s.push([v,-1,S]);else if(v.value){const T=document.createTextNode(v.value);C.XfaText.shouldBuildText(o)&&u.push(T),S.append(T)}}for(const g of e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:u}}static update($){const l=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=l,$.div.hidden=!1}}n.XfaLayer=_},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=b;var C=x(1),_=x(133);const K=1e5,$=30,l=.8,a=new Map,t=/^\s+$/g;function i(v,o){const S=a.get(v);if(S)return S;o.save(),o.font=`${$}px ${v}`;const T=o.measureText("");let E=T.fontBoundingBoxAscent,k=Math.abs(T.fontBoundingBoxDescent);if(E){o.restore();const O=E/(E+k);return a.set(v,O),O}o.strokeStyle="red",o.clearRect(0,0,$,$),o.strokeText("g",0,0);let M=o.getImageData(0,0,$,$).data;k=0;for(let O=M.length-1-3;O>=0;O-=4)if(M[O]>0){k=Math.ceil(O/4/$);break}o.clearRect(0,0,$,$),o.strokeText("A",0,$),M=o.getImageData(0,0,$,$).data,E=0;for(let O=0,L=M.length;O<L;O+=4)if(M[O]>0){E=$-Math.floor(O/4/$);break}if(o.restore(),E){const O=E/(E+k);return a.set(v,O),O}return a.set(v,l),l}function c(v,o,S,T){const E=document.createElement("span"),k=v._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:o.str!=="",hasEOL:o.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:o.str!=="",hasEOL:o.hasEOL,fontSize:0};v._textDivs.push(E);const M=C.Util.transform(v._viewport.transform,o.transform);let O=Math.atan2(M[1],M[0]);const L=S[o.fontName];L.vertical&&(O+=Math.PI/2);const te=Math.hypot(M[2],M[3]),B=te*i(L.fontFamily,T);let G,R;O===0?(G=M[4],R=M[5]-B):(G=M[4]+B*Math.sin(O),R=M[5]-B*Math.cos(O)),E.style.left=`${G}px`,E.style.top=`${R}px`,E.style.fontSize=`${te}px`,E.style.fontFamily=L.fontFamily,k.fontSize=te,E.setAttribute("role","presentation"),E.textContent=o.str,E.dir=o.dir,v._fontInspectorEnabled&&(E.dataset.fontName=o.fontName),O!==0&&(k.angle=O*(180/Math.PI));let I=!1;if(o.str.length>1||v._enhanceTextSelection&&t.test(o.str))I=!0;else if(o.str!==" "&&o.transform[0]!==o.transform[3]){const U=Math.abs(o.transform[0]),P=Math.abs(o.transform[3]);U!==P&&Math.max(U,P)/Math.min(U,P)>1.5&&(I=!0)}if(I&&(L.vertical?k.canvasWidth=o.height*v._viewport.scale:k.canvasWidth=o.width*v._viewport.scale),v._textDivProperties.set(E,k),v._textContentStream&&v._layoutText(E),v._enhanceTextSelection&&k.hasText){let U=1,P=0;O!==0&&(U=Math.cos(O),P=Math.sin(O));const A=(L.vertical?o.height:o.width)*v._viewport.scale,z=te;let N,W;O!==0?(N=[U,P,-P,U,G,R],W=C.Util.getAxialAlignedBoundingBox([0,0,A,z],N)):W=[G,R,G+A,R+z],v._bounds.push({left:W[0],top:W[1],right:W[2],bottom:W[3],div:E,size:[A,z],m:N})}}function s(v){if(v._canceled)return;const o=v._textDivs,S=v._capability,T=o.length;if(T>K){v._renderingDone=!0,S.resolve();return}if(!v._textContentStream)for(let E=0;E<T;E++)v._layoutText(o[E]);v._renderingDone=!0,S.resolve()}function e(v,o,S){let T=0;for(let E=0;E<S;E++){const k=v[o++];k>0&&(T=T?Math.min(k,T):k)}return T}function u(v){const o=v._bounds,S=v._viewport,T=m(S.width,S.height,o);for(let E=0;E<T.length;E++){const k=o[E].div,M=v._textDivProperties.get(k);if(M.angle===0){M.paddingLeft=o[E].left-T[E].left,M.paddingTop=o[E].top-T[E].top,M.paddingRight=T[E].right-o[E].right,M.paddingBottom=T[E].bottom-o[E].bottom,v._textDivProperties.set(k,M);continue}const O=T[E],L=o[E],te=L.m,B=te[0],G=te[1],R=[[0,0],[0,L.size[1]],[L.size[0],0],L.size],I=new Float64Array(64);for(let P=0,A=R.length;P<A;P++){const z=C.Util.applyTransform(R[P],te);I[P+0]=B&&(O.left-z[0])/B,I[P+4]=G&&(O.top-z[1])/G,I[P+8]=B&&(O.right-z[0])/B,I[P+12]=G&&(O.bottom-z[1])/G,I[P+16]=G&&(O.left-z[0])/-G,I[P+20]=B&&(O.top-z[1])/B,I[P+24]=G&&(O.right-z[0])/-G,I[P+28]=B&&(O.bottom-z[1])/B,I[P+32]=B&&(O.left-z[0])/-B,I[P+36]=G&&(O.top-z[1])/-G,I[P+40]=B&&(O.right-z[0])/-B,I[P+44]=G&&(O.bottom-z[1])/-G,I[P+48]=G&&(O.left-z[0])/G,I[P+52]=B&&(O.top-z[1])/-B,I[P+56]=G&&(O.right-z[0])/G,I[P+60]=B&&(O.bottom-z[1])/-B}const U=1+Math.min(Math.abs(B),Math.abs(G));M.paddingLeft=e(I,32,16)/U,M.paddingTop=e(I,48,16)/U,M.paddingRight=e(I,0,16)/U,M.paddingBottom=e(I,16,16)/U,v._textDivProperties.set(k,M)}}function m(v,o,S){const T=S.map(function(k,M){return{x1:k.left,y1:k.top,x2:k.right,y2:k.bottom,index:M,x1New:void 0,x2New:void 0}});g(v,T);const E=new Array(S.length);for(const k of T){const M=k.index;E[M]={left:k.x1New,top:0,right:k.x2New,bottom:0}}S.map(function(k,M){const O=E[M],L=T[M];L.x1=k.top,L.y1=v-O.right,L.x2=k.bottom,L.y2=v-O.left,L.index=M,L.x1New=void 0,L.x2New=void 0}),g(o,T);for(const k of T){const M=k.index;E[M].top=k.x1New,E[M].bottom=k.x2New}return E}function g(v,o){o.sort(function(E,k){return E.x1-k.x1||E.index-k.index});const T=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const E of o){let k=0;for(;k<T.length&&T[k].end<=E.y1;)k++;let M=T.length-1;for(;M>=0&&T[M].start>=E.y2;)M--;let O,L,te,B,G=-1/0;for(te=k;te<=M;te++){O=T[te],L=O.boundary;let U;L.x2>E.x1?U=L.index>E.index?L.x1New:E.x1:L.x2New===void 0?U=(L.x2+E.x1)/2:U=L.x2New,U>G&&(G=U)}for(E.x1New=G,te=k;te<=M;te++)O=T[te],L=O.boundary,L.x2New===void 0?L.x2>E.x1?L.index>E.index&&(L.x2New=L.x2):L.x2New=G:L.x2New>G&&(L.x2New=Math.max(G,L.x2));const R=[];let I=null;for(te=k;te<=M;te++){O=T[te],L=O.boundary;const U=L.x2>E.x2?L:E;I===U?R.at(-1).end=O.end:(R.push({start:O.start,end:O.end,boundary:U}),I=U)}for(T[k].start<E.y1&&(R[0].start=E.y1,R.unshift({start:T[k].start,end:E.y1,boundary:T[k].boundary})),E.y2<T[M].end&&(R.at(-1).end=E.y2,R.push({start:E.y2,end:T[M].end,boundary:T[M].boundary})),te=k;te<=M;te++){if(O=T[te],L=O.boundary,L.x2New!==void 0)continue;let U=!1;for(B=k-1;!U&&B>=0&&T[B].start>=L.y1;B--)U=T[B].boundary===L;for(B=M+1;!U&&B<T.length&&T[B].end<=L.y2;B++)U=T[B].boundary===L;for(B=0;!U&&B<R.length;B++)U=R[B].boundary===L;U||(L.x2New=G)}Array.prototype.splice.apply(T,[k,M-k+1,...R])}for(const E of T){const k=E.boundary;k.x2New===void 0&&(k.x2New=Math.max(v,k.x2))}}class y{constructor(o){var S;let{textContent:T,textContentStream:E,container:k,viewport:M,textDivs:O,textContentItemsStr:L,enhanceTextSelection:te}=o;te&&(0,_.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=T,this._textContentStream=E,this._container=k,this._document=k.ownerDocument,this._viewport=M,this._textDivs=O||[],this._textContentItemsStr=L||[],this._enhanceTextSelection=!!te,this._fontInspectorEnabled=!!((S=globalThis.FontInspector)!==null&&S!==void 0&&S.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,C.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new C.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(o,S){for(let T=0,E=o.length;T<E;T++){if(o[T].str===void 0){if(o[T].type==="beginMarkedContentProps"||o[T].type==="beginMarkedContent"){const k=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),o[T].id!==null&&this._container.setAttribute("id",`${o[T].id}`),k.append(this._container)}else o[T].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(o[T].str),c(this,o[T],S,this._layoutTextCtx)}}_layoutText(o){const S=this._textDivProperties.get(o);let T="";if(S.canvasWidth!==0&&S.hasText){const{fontFamily:E}=o.style,{fontSize:k}=S;(k!==this._layoutTextLastFontSize||E!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${k*this._devicePixelRatio}px ${E}`,this._layoutTextLastFontSize=k,this._layoutTextLastFontFamily=E);const{width:M}=this._layoutTextCtx.measureText(o.textContent);if(M>0){const O=this._devicePixelRatio*S.canvasWidth/M;this._enhanceTextSelection&&(S.scale=O),T=`scaleX(${O})`}}if(S.angle!==0&&(T=`rotate(${S.angle}deg) ${T}`),T.length>0&&(this._enhanceTextSelection&&(S.originalTransform=T),o.style.transform=T),S.hasText&&this._container.append(o),S.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this._container.append(E)}}_render(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const S=(0,C.createPromiseCapability)();let T=Object.create(null);const E=this._document.createElement("canvas");if(E.height=E.width=$,this._layoutTextCtx=E.getContext("2d",{alpha:!1}),this._textContent){const k=this._textContent.items,M=this._textContent.styles;this._processItems(k,M),S.resolve()}else if(this._textContentStream){const k=()=>{this._reader.read().then(M=>{let{value:O,done:L}=M;if(L){S.resolve();return}Object.assign(T,O.styles),this._processItems(O.items,T),k()},S.reject)};this._reader=this._textContentStream.getReader(),k()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');S.promise.then(()=>{T=null,o?this._renderTimer=setTimeout(()=>{s(this),this._renderTimer=null},o):s(this)},this._capability.reject)}expandTextDivs(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(u(this),this._bounds=null);const S=[],T=[];for(let E=0,k=this._textDivs.length;E<k;E++){const M=this._textDivs[E],O=this._textDivProperties.get(M);O.hasText&&(o?(S.length=0,T.length=0,O.originalTransform&&S.push(O.originalTransform),O.paddingTop>0?(T.push(`${O.paddingTop}px`),S.push(`translateY(${-O.paddingTop}px)`)):T.push(0),O.paddingRight>0?T.push(`${O.paddingRight/O.scale}px`):T.push(0),O.paddingBottom>0?T.push(`${O.paddingBottom}px`):T.push(0),O.paddingLeft>0?(T.push(`${O.paddingLeft/O.scale}px`),S.push(`translateX(${-O.paddingLeft/O.scale}px)`)):T.push(0),M.style.padding=T.join(" "),S.length&&(M.style.transform=S.join(" "))):(M.style.padding=null,M.style.transform=O.originalTransform))}}}n.TextLayerRenderTask=y;function b(v){const o=new y({textContent:v.textContent,textContentStream:v.textContentStream,container:v.container,viewport:v.viewport,textDivs:v.textDivs,textContentItemsStr:v.textContentItemsStr,enhanceTextSelection:v.enhanceTextSelection});return o._render(v.timeout),o}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0;var C=x(133),_=x(1),K=x(3);let $=class{constructor(){(0,_.unreachable)("Not implemented: SVGGraphics")}};n.SVGGraphics=$;{let m=function(S){let T=[];const E=[];for(const k of S){if(k.fn==="save"){T.push({fnId:92,fn:"group",items:[]}),E.push(T),T=T.at(-1).items;continue}k.fn==="restore"?T=E.pop():T.push(k)}return T},g=function(S){if(Number.isInteger(S))return S.toString();const T=S.toFixed(10);let E=T.length-1;if(T[E]!=="0")return T;do E--;while(T[E]==="0");return T.substring(0,T[E]==="."?E:E+1)},y=function(S){if(S[4]===0&&S[5]===0){if(S[1]===0&&S[2]===0)return S[0]===1&&S[3]===1?"":`scale(${g(S[0])} ${g(S[3])})`;if(S[0]===S[3]&&S[1]===-S[2]){const T=Math.acos(S[0])*180/Math.PI;return`rotate(${g(T)})`}}else if(S[0]===1&&S[1]===0&&S[2]===0&&S[3]===1)return`translate(${g(S[4])} ${g(S[5])})`;return`matrix(${g(S[0])} ${g(S[1])} ${g(S[2])} ${g(S[3])} ${g(S[4])} ${g(S[5])})`};const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},a="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/1999/xlink",i=["butt","round","square"],c=["miter","round","bevel"],s=function(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!E)return URL.createObjectURL(new Blob([S],{type:T}));const k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let M=`data:${T};base64,`;for(let O=0,L=S.length;O<L;O+=3){const te=S[O]&255,B=S[O+1]&255,G=S[O+2]&255,R=te>>2,I=(te&3)<<4|B>>4,U=O+1<L?(B&15)<<2|G>>6:64,P=O+2<L?G&63:64;M+=k[R]+k[I]+k[U]+k[P]}return M},e=function(){const S=new Uint8Array([137,80,78,71,13,10,26,10]),T=12,E=new Int32Array(256);for(let G=0;G<256;G++){let R=G;for(let I=0;I<8;I++)R&1?R=3988292384^R>>1&2147483647:R=R>>1&2147483647;E[G]=R}function k(G,R,I){let U=-1;for(let P=R;P<I;P++){const A=(U^G[P])&255,z=E[A];U=U>>>8^z}return U^-1}function M(G,R,I,U){let P=U;const A=R.length;I[P]=A>>24&255,I[P+1]=A>>16&255,I[P+2]=A>>8&255,I[P+3]=A&255,P+=4,I[P]=G.charCodeAt(0)&255,I[P+1]=G.charCodeAt(1)&255,I[P+2]=G.charCodeAt(2)&255,I[P+3]=G.charCodeAt(3)&255,P+=4,I.set(R,P),P+=R.length;const z=k(I,U+4,P);I[P]=z>>24&255,I[P+1]=z>>16&255,I[P+2]=z>>8&255,I[P+3]=z&255}function O(G,R,I){let U=1,P=0;for(let A=R;A<I;++A)U=(U+(G[A]&255))%65521,P=(P+U)%65521;return P<<16|U}function L(G){if(!K.isNodeJS)return te(G);try{let R;parseInt(process.versions.node)>=8?R=G:R=Buffer.from(G);const I=require$$5.deflateSync(R,{level:9});return I instanceof Uint8Array?I:new Uint8Array(I)}catch(R){(0,_.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+R)}return te(G)}function te(G){let R=G.length;const I=65535,U=Math.ceil(R/I),P=new Uint8Array(2+R+U*5+4);let A=0;P[A++]=120,P[A++]=156;let z=0;for(;R>I;)P[A++]=0,P[A++]=255,P[A++]=255,P[A++]=0,P[A++]=0,P.set(G.subarray(z,z+I),A),A+=I,z+=I,R-=I;P[A++]=1,P[A++]=R&255,P[A++]=R>>8&255,P[A++]=~R&65535&255,P[A++]=(~R&65535)>>8&255,P.set(G.subarray(z),A),A+=G.length-z;const N=O(G,0,G.length);return P[A++]=N>>24&255,P[A++]=N>>16&255,P[A++]=N>>8&255,P[A++]=N&255,P}function B(G,R,I,U){const P=G.width,A=G.height;let z,N,W;const ie=G.data;switch(R){case _.ImageKind.GRAYSCALE_1BPP:N=0,z=1,W=P+7>>3;break;case _.ImageKind.RGB_24BPP:N=2,z=8,W=P*3;break;case _.ImageKind.RGBA_32BPP:N=6,z=8,W=P*4;break;default:throw new Error("invalid format")}const Y=new Uint8Array((1+W)*A);let F=0,D=0;for(let H=0;H<A;++H)Y[F++]=0,Y.set(ie.subarray(D,D+W),F),D+=W,F+=W;if(R===_.ImageKind.GRAYSCALE_1BPP&&U){F=0;for(let H=0;H<A;H++){F++;for(let q=0;q<W;q++)Y[F++]^=255}}const Q=new Uint8Array([P>>24&255,P>>16&255,P>>8&255,P&255,A>>24&255,A>>16&255,A>>8&255,A&255,z,N,0,0,0]),ee=L(Y),V=S.length+T*3+Q.length+ee.length,Z=new Uint8Array(V);let ae=0;return Z.set(S,ae),ae+=S.length,M("IHDR",Q,Z,ae),ae+=T+Q.length,M("IDATA",ee,Z,ae),ae+=T+ee.length,M("IEND",new Uint8Array(0),Z,ae),s(Z,"image/png",I)}return function(R,I,U){const P=R.kind===void 0?_.ImageKind.GRAYSCALE_1BPP:R.kind;return B(R,P,I,U)}}();class u{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=_.IDENTITY_MATRIX,this.fontMatrix=_.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(T,E){this.x=T,this.y=E}}let b=0,v=0,o=0;n.SVGGraphics=$=class{constructor(S,T){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,C.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new C.DOMSVGFactory,this.current=new u,this.transformMatrix=_.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=S,this.objs=T,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!E,this._operatorIdMapping=[];for(const k in _.OPS)this._operatorIdMapping[_.OPS[k]]=k}save(){this.transformStack.push(this.transformMatrix);const S=this.current;this.extraStack.push(S),this.current=S.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(S){this.save(),this.executeOpTree(S),this.restore()}loadDependencies(S){const T=S.fnArray,E=S.argsArray;for(let k=0,M=T.length;k<M;k++)if(T[k]===_.OPS.dependency)for(const O of E[k]){const L=O.startsWith("g_")?this.commonObjs:this.objs,te=new Promise(B=>{L.get(O,B)});this.current.dependencies.push(te)}return Promise.all(this.current.dependencies)}transform(S,T,E,k,M,O){const L=[S,T,E,k,M,O];this.transformMatrix=_.Util.transform(this.transformMatrix,L),this.tgrp=null}getSVG(S,T){this.viewport=T;const E=this._initialize(T);return this.loadDependencies(S).then(()=>(this.transformMatrix=_.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(S)),E))}convertOpList(S){const T=this._operatorIdMapping,E=S.argsArray,k=S.fnArray,M=[];for(let O=0,L=k.length;O<L;O++){const te=k[O];M.push({fnId:te,fn:T[te],args:E[O]})}return m(M)}executeOpTree(S){for(const T of S){const E=T.fn,k=T.fnId,M=T.args;switch(k|0){case _.OPS.beginText:this.beginText();break;case _.OPS.dependency:break;case _.OPS.setLeading:this.setLeading(M);break;case _.OPS.setLeadingMoveText:this.setLeadingMoveText(M[0],M[1]);break;case _.OPS.setFont:this.setFont(M);break;case _.OPS.showText:this.showText(M[0]);break;case _.OPS.showSpacedText:this.showText(M[0]);break;case _.OPS.endText:this.endText();break;case _.OPS.moveText:this.moveText(M[0],M[1]);break;case _.OPS.setCharSpacing:this.setCharSpacing(M[0]);break;case _.OPS.setWordSpacing:this.setWordSpacing(M[0]);break;case _.OPS.setHScale:this.setHScale(M[0]);break;case _.OPS.setTextMatrix:this.setTextMatrix(M[0],M[1],M[2],M[3],M[4],M[5]);break;case _.OPS.setTextRise:this.setTextRise(M[0]);break;case _.OPS.setTextRenderingMode:this.setTextRenderingMode(M[0]);break;case _.OPS.setLineWidth:this.setLineWidth(M[0]);break;case _.OPS.setLineJoin:this.setLineJoin(M[0]);break;case _.OPS.setLineCap:this.setLineCap(M[0]);break;case _.OPS.setMiterLimit:this.setMiterLimit(M[0]);break;case _.OPS.setFillRGBColor:this.setFillRGBColor(M[0],M[1],M[2]);break;case _.OPS.setStrokeRGBColor:this.setStrokeRGBColor(M[0],M[1],M[2]);break;case _.OPS.setStrokeColorN:this.setStrokeColorN(M);break;case _.OPS.setFillColorN:this.setFillColorN(M);break;case _.OPS.shadingFill:this.shadingFill(M[0]);break;case _.OPS.setDash:this.setDash(M[0],M[1]);break;case _.OPS.setRenderingIntent:this.setRenderingIntent(M[0]);break;case _.OPS.setFlatness:this.setFlatness(M[0]);break;case _.OPS.setGState:this.setGState(M[0]);break;case _.OPS.fill:this.fill();break;case _.OPS.eoFill:this.eoFill();break;case _.OPS.stroke:this.stroke();break;case _.OPS.fillStroke:this.fillStroke();break;case _.OPS.eoFillStroke:this.eoFillStroke();break;case _.OPS.clip:this.clip("nonzero");break;case _.OPS.eoClip:this.clip("evenodd");break;case _.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _.OPS.paintImageXObject:this.paintImageXObject(M[0]);break;case _.OPS.paintInlineImageXObject:this.paintInlineImageXObject(M[0]);break;case _.OPS.paintImageMaskXObject:this.paintImageMaskXObject(M[0]);break;case _.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(M[0],M[1]);break;case _.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _.OPS.closePath:this.closePath();break;case _.OPS.closeStroke:this.closeStroke();break;case _.OPS.closeFillStroke:this.closeFillStroke();break;case _.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _.OPS.nextLine:this.nextLine();break;case _.OPS.transform:this.transform(M[0],M[1],M[2],M[3],M[4],M[5]);break;case _.OPS.constructPath:this.constructPath(M[0],M[1]);break;case _.OPS.endPath:this.endPath();break;case 92:this.group(T.items);break;default:(0,_.warn)(`Unimplemented operator ${E}`);break}}}setWordSpacing(S){this.current.wordSpacing=S}setCharSpacing(S){this.current.charSpacing=S}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(S,T,E,k,M,O){const L=this.current;L.textMatrix=L.lineMatrix=[S,T,E,k,M,O],L.textMatrixScale=Math.hypot(S,T),L.x=L.lineX=0,L.y=L.lineY=0,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${g(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",g(-L.y)),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtElement.append(L.tspan)}beginText(){const S=this.current;S.x=S.lineX=0,S.y=S.lineY=0,S.textMatrix=_.IDENTITY_MATRIX,S.lineMatrix=_.IDENTITY_MATRIX,S.textMatrixScale=1,S.tspan=this.svgFactory.createElement("svg:tspan"),S.txtElement=this.svgFactory.createElement("svg:text"),S.txtgrp=this.svgFactory.createElement("svg:g"),S.xcoords=[],S.ycoords=[]}moveText(S,T){const E=this.current;E.x=E.lineX+=S,E.y=E.lineY+=T,E.xcoords=[],E.ycoords=[],E.tspan=this.svgFactory.createElement("svg:tspan"),E.tspan.setAttributeNS(null,"font-family",E.fontFamily),E.tspan.setAttributeNS(null,"font-size",`${g(E.fontSize)}px`),E.tspan.setAttributeNS(null,"y",g(-E.y))}showText(S){const T=this.current,E=T.font,k=T.fontSize;if(k===0)return;const M=T.fontSizeScale,O=T.charSpacing,L=T.wordSpacing,te=T.fontDirection,B=T.textHScale*te,G=E.vertical,R=G?1:-1,I=E.defaultVMetrics,U=k*T.fontMatrix[0];let P=0;for(const N of S){if(N===null){P+=te*L;continue}else if(typeof N=="number"){P+=R*N*k/1e3;continue}const W=(N.isSpace?L:0)+O,ie=N.fontChar;let Y,F,D=N.width;if(G){let ee;const V=N.vmetric||I;ee=N.vmetric?V[1]:D*.5,ee=-ee*U;const Z=V[2]*U;D=V?-V[0]:D,Y=ee/M,F=(P+Z)/M}else Y=P/M,F=0;(N.isInFont||E.missingFile)&&(T.xcoords.push(T.x+Y),G&&T.ycoords.push(-T.y+F),T.tspan.textContent+=ie);let Q;G?Q=D*U-W*te:Q=D*U+W*te,P+=Q}T.tspan.setAttributeNS(null,"x",T.xcoords.map(g).join(" ")),G?T.tspan.setAttributeNS(null,"y",T.ycoords.map(g).join(" ")):T.tspan.setAttributeNS(null,"y",g(-T.y)),G?T.y-=P:T.x+=P*B,T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${g(T.fontSize)}px`),T.fontStyle!==l.fontStyle&&T.tspan.setAttributeNS(null,"font-style",T.fontStyle),T.fontWeight!==l.fontWeight&&T.tspan.setAttributeNS(null,"font-weight",T.fontWeight);const A=T.textRenderingMode&_.TextRenderingMode.FILL_STROKE_MASK;if(A===_.TextRenderingMode.FILL||A===_.TextRenderingMode.FILL_STROKE?(T.fillColor!==l.fillColor&&T.tspan.setAttributeNS(null,"fill",T.fillColor),T.fillAlpha<1&&T.tspan.setAttributeNS(null,"fill-opacity",T.fillAlpha)):T.textRenderingMode===_.TextRenderingMode.ADD_TO_PATH?T.tspan.setAttributeNS(null,"fill","transparent"):T.tspan.setAttributeNS(null,"fill","none"),A===_.TextRenderingMode.STROKE||A===_.TextRenderingMode.FILL_STROKE){const N=1/(T.textMatrixScale||1);this._setStrokeAttributes(T.tspan,N)}let z=T.textMatrix;T.textRise!==0&&(z=z.slice(),z[5]+=T.textRise),T.txtElement.setAttributeNS(null,"transform",`${y(z)} scale(${g(B)}, -1)`),T.txtElement.setAttributeNS(a,"xml:space","preserve"),T.txtElement.append(T.tspan),T.txtgrp.append(T.txtElement),this._ensureTransformGroup().append(T.txtElement)}setLeadingMoveText(S,T){this.setLeading(-T),this.moveText(S,T)}addFontStyle(S){if(!S.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const T=s(S.data,S.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${S.loadedName}"; src: url(${T}); }
`}setFont(S){const T=this.current,E=this.commonObjs.get(S[0]);let k=S[1];T.font=E,this.embedFonts&&!E.missingFile&&!this.embeddedFonts[E.loadedName]&&(this.addFontStyle(E),this.embeddedFonts[E.loadedName]=E),T.fontMatrix=E.fontMatrix||_.FONT_IDENTITY_MATRIX;let M="normal";E.black?M="900":E.bold&&(M="bold");const O=E.italic?"italic":"normal";k<0?(k=-k,T.fontDirection=-1):T.fontDirection=1,T.fontSize=k,T.fontFamily=E.loadedName,T.fontWeight=M,T.fontStyle=O,T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"y",g(-T.y)),T.xcoords=[],T.ycoords=[]}endText(){var S;const T=this.current;T.textRenderingMode&_.TextRenderingMode.ADD_TO_PATH_FLAG&&(S=T.txtElement)!==null&&S!==void 0&&S.hasChildNodes()&&(T.element=T.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(S){S>0&&(this.current.lineWidth=S)}setLineCap(S){this.current.lineCap=i[S]}setLineJoin(S){this.current.lineJoin=c[S]}setMiterLimit(S){this.current.miterLimit=S}setStrokeAlpha(S){this.current.strokeAlpha=S}setStrokeRGBColor(S,T,E){this.current.strokeColor=_.Util.makeHexColor(S,T,E)}setFillAlpha(S){this.current.fillAlpha=S}setFillRGBColor(S,T,E){this.current.fillColor=_.Util.makeHexColor(S,T,E),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(S){this.current.strokeColor=this._makeColorN_Pattern(S)}setFillColorN(S){this.current.fillColor=this._makeColorN_Pattern(S)}shadingFill(S){const T=this.viewport.width,E=this.viewport.height,k=_.Util.inverseTransform(this.transformMatrix),M=_.Util.applyTransform([0,0],k),O=_.Util.applyTransform([0,E],k),L=_.Util.applyTransform([T,0],k),te=_.Util.applyTransform([T,E],k),B=Math.min(M[0],O[0],L[0],te[0]),G=Math.min(M[1],O[1],L[1],te[1]),R=Math.max(M[0],O[0],L[0],te[0]),I=Math.max(M[1],O[1],L[1],te[1]),U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",B),U.setAttributeNS(null,"y",G),U.setAttributeNS(null,"width",R-B),U.setAttributeNS(null,"height",I-G),U.setAttributeNS(null,"fill",this._makeShadingPattern(S)),this.current.fillAlpha<1&&U.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(U)}_makeColorN_Pattern(S){return S[0]==="TilingPattern"?this._makeTilingPattern(S):this._makeShadingPattern(S)}_makeTilingPattern(S){const T=S[1],E=S[2],k=S[3]||_.IDENTITY_MATRIX,[M,O,L,te]=S[4],B=S[5],G=S[6],R=S[7],I=`shading${o++}`,[U,P,A,z]=_.Util.normalizeRect([..._.Util.applyTransform([M,O],k),..._.Util.applyTransform([L,te],k)]),[N,W]=_.Util.singularValueDecompose2dScale(k),ie=B*N,Y=G*W,F=this.svgFactory.createElement("svg:pattern");F.setAttributeNS(null,"id",I),F.setAttributeNS(null,"patternUnits","userSpaceOnUse"),F.setAttributeNS(null,"width",ie),F.setAttributeNS(null,"height",Y),F.setAttributeNS(null,"x",`${U}`),F.setAttributeNS(null,"y",`${P}`);const D=this.svg,Q=this.transformMatrix,ee=this.current.fillColor,V=this.current.strokeColor,Z=this.svgFactory.create(A-U,z-P);if(this.svg=Z,this.transformMatrix=k,R===2){const ae=_.Util.makeHexColor(...T);this.current.fillColor=ae,this.current.strokeColor=ae}return this.executeOpTree(this.convertOpList(E)),this.svg=D,this.transformMatrix=Q,this.current.fillColor=ee,this.current.strokeColor=V,F.append(Z.childNodes[0]),this.defs.append(F),`url(#${I})`}_makeShadingPattern(S){switch(typeof S=="string"&&(S=this.objs.get(S)),S[0]){case"RadialAxial":const T=`shading${o++}`,E=S[3];let k;switch(S[1]){case"axial":const M=S[4],O=S[5];k=this.svgFactory.createElement("svg:linearGradient"),k.setAttributeNS(null,"id",T),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"x1",M[0]),k.setAttributeNS(null,"y1",M[1]),k.setAttributeNS(null,"x2",O[0]),k.setAttributeNS(null,"y2",O[1]);break;case"radial":const L=S[4],te=S[5],B=S[6],G=S[7];k=this.svgFactory.createElement("svg:radialGradient"),k.setAttributeNS(null,"id",T),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"cx",te[0]),k.setAttributeNS(null,"cy",te[1]),k.setAttributeNS(null,"r",G),k.setAttributeNS(null,"fx",L[0]),k.setAttributeNS(null,"fy",L[1]),k.setAttributeNS(null,"fr",B);break;default:throw new Error(`Unknown RadialAxial type: ${S[1]}`)}for(const M of E){const O=this.svgFactory.createElement("svg:stop");O.setAttributeNS(null,"offset",M[0]),O.setAttributeNS(null,"stop-color",M[1]),k.append(O)}return this.defs.append(k),`url(#${T})`;case"Mesh":return(0,_.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${S[0]}`)}}setDash(S,T){this.current.dashArray=S,this.current.dashPhase=T}constructPath(S,T){const E=this.current;let k=E.x,M=E.y,O=[],L=0;for(const te of S)switch(te|0){case _.OPS.rectangle:k=T[L++],M=T[L++];const B=T[L++],G=T[L++],R=k+B,I=M+G;O.push("M",g(k),g(M),"L",g(R),g(M),"L",g(R),g(I),"L",g(k),g(I),"Z");break;case _.OPS.moveTo:k=T[L++],M=T[L++],O.push("M",g(k),g(M));break;case _.OPS.lineTo:k=T[L++],M=T[L++],O.push("L",g(k),g(M));break;case _.OPS.curveTo:k=T[L+4],M=T[L+5],O.push("C",g(T[L]),g(T[L+1]),g(T[L+2]),g(T[L+3]),g(k),g(M)),L+=6;break;case _.OPS.curveTo2:O.push("C",g(k),g(M),g(T[L]),g(T[L+1]),g(T[L+2]),g(T[L+3])),k=T[L+2],M=T[L+3],L+=4;break;case _.OPS.curveTo3:k=T[L+2],M=T[L+3],O.push("C",g(T[L]),g(T[L+1]),g(k),g(M),g(k),g(M)),L+=4;break;case _.OPS.closePath:O.push("Z");break}O=O.join(" "),E.path&&S.length>0&&S[0]!==_.OPS.rectangle&&S[0]!==_.OPS.moveTo?O=E.path.getAttributeNS(null,"d")+O:(E.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(E.path)),E.path.setAttributeNS(null,"d",O),E.path.setAttributeNS(null,"fill","none"),E.element=E.path,E.setCurrentPoint(k,M)}endPath(){const S=this.current;if(S.path=null,!this.pendingClip)return;if(!S.element){this.pendingClip=null;return}const T=`clippath${b++}`,E=this.svgFactory.createElement("svg:clipPath");E.setAttributeNS(null,"id",T),E.setAttributeNS(null,"transform",y(this.transformMatrix));const k=S.element.cloneNode(!0);if(this.pendingClip==="evenodd"?k.setAttributeNS(null,"clip-rule","evenodd"):k.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,E.append(k),this.defs.append(E),S.activeClipUrl){S.clipGroup=null;for(const M of this.extraStack)M.clipGroup=null;E.setAttributeNS(null,"clip-path",S.activeClipUrl)}S.activeClipUrl=`url(#${T})`,this.tgrp=null}clip(S){this.pendingClip=S}closePath(){const S=this.current;if(S.path){const T=`${S.path.getAttributeNS(null,"d")}Z`;S.path.setAttributeNS(null,"d",T)}}setLeading(S){this.current.leading=-S}setTextRise(S){this.current.textRise=S}setTextRenderingMode(S){this.current.textRenderingMode=S}setHScale(S){this.current.textHScale=S/100}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[T,E]of S)switch(T){case"LW":this.setLineWidth(E);break;case"LC":this.setLineCap(E);break;case"LJ":this.setLineJoin(E);break;case"ML":this.setMiterLimit(E);break;case"D":this.setDash(E[0],E[1]);break;case"RI":this.setRenderingIntent(E);break;case"FL":this.setFlatness(E);break;case"Font":this.setFont(E);break;case"CA":this.setStrokeAlpha(E);break;case"ca":this.setFillAlpha(E);break;default:(0,_.warn)(`Unimplemented graphic state operator ${T}`);break}}fill(){const S=this.current;S.element&&(S.element.setAttributeNS(null,"fill",S.fillColor),S.element.setAttributeNS(null,"fill-opacity",S.fillAlpha),this.endPath())}stroke(){const S=this.current;S.element&&(this._setStrokeAttributes(S.element),S.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const E=this.current;let k=E.dashArray;T!==1&&k.length>0&&(k=k.map(function(M){return T*M})),S.setAttributeNS(null,"stroke",E.strokeColor),S.setAttributeNS(null,"stroke-opacity",E.strokeAlpha),S.setAttributeNS(null,"stroke-miterlimit",g(E.miterLimit)),S.setAttributeNS(null,"stroke-linecap",E.lineCap),S.setAttributeNS(null,"stroke-linejoin",E.lineJoin),S.setAttributeNS(null,"stroke-width",g(T*E.lineWidth)+"px"),S.setAttributeNS(null,"stroke-dasharray",k.map(g).join(" ")),S.setAttributeNS(null,"stroke-dashoffset",g(T*E.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y","0"),S.setAttributeNS(null,"width","1px"),S.setAttributeNS(null,"height","1px"),S.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(S)}paintImageXObject(S){const T=S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S);if(!T){(0,_.warn)(`Dependent image with object ID ${S} is not ready yet`);return}this.paintInlineImageXObject(T)}paintInlineImageXObject(S,T){const E=S.width,k=S.height,M=e(S,this.forceDataSchema,!!T),O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",g(E)),O.setAttributeNS(null,"height",g(k)),this.current.element=O,this.clip("nonzero");const L=this.svgFactory.createElement("svg:image");L.setAttributeNS(t,"xlink:href",M),L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y",g(-k)),L.setAttributeNS(null,"width",g(E)+"px"),L.setAttributeNS(null,"height",g(k)+"px"),L.setAttributeNS(null,"transform",`scale(${g(1/E)} ${g(-1/k)})`),T?T.append(L):this._ensureTransformGroup().append(L)}paintImageMaskXObject(S){const T=this.current,E=S.width,k=S.height,M=T.fillColor;T.maskId=`mask${v++}`;const O=this.svgFactory.createElement("svg:mask");O.setAttributeNS(null,"id",T.maskId);const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",g(E)),L.setAttributeNS(null,"height",g(k)),L.setAttributeNS(null,"fill",M),L.setAttributeNS(null,"mask",`url(#${T.maskId})`),this.defs.append(O),this._ensureTransformGroup().append(L),this.paintInlineImageXObject(S,O)}paintFormXObjectBegin(S,T){if(Array.isArray(S)&&S.length===6&&this.transform(S[0],S[1],S[2],S[3],S[4],S[5]),T){const E=T[2]-T[0],k=T[3]-T[1],M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x",T[0]),M.setAttributeNS(null,"y",T[1]),M.setAttributeNS(null,"width",g(E)),M.setAttributeNS(null,"height",g(k)),this.current.element=M,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(S){const T=this.svgFactory.create(S.width,S.height),E=this.svgFactory.createElement("svg:defs");T.append(E),this.defs=E;const k=this.svgFactory.createElement("svg:g");return k.setAttributeNS(null,"transform",y(S.transform)),T.append(k),this.svg=k,T}_ensureClipGroup(){if(!this.current.clipGroup){const S=this.svgFactory.createElement("svg:g");S.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(S),this.current.clipGroup=S}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",y(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0;var C=x(1),_=x(158);const K=require$$5,$=require$$5,l=require$$5,a=require$$5,t=/^file:\/\/\/[a-zA-Z]:\//;function i(v){const o=a.parse(v);return o.protocol==="file:"||o.host?o:/^[a-z]:[/\\]/i.test(v)?a.parse(`file:///${v}`):(o.host||(o.protocol="file:"),o)}class c{constructor(o){this.source=o,this.url=i(o.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&o.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var o,S;return(o=(S=this._fullRequestReader)===null||S===void 0?void 0:S._loaded)!==null&&o!==void 0?o:0}getFullReader(){return(0,C.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new y(this):new m(this),this._fullRequestReader}getRangeReader(o,S){if(S<=this._progressiveDataLength)return null;const T=this.isFsUrl?new b(this,o,S):new g(this,o,S);return this._rangeRequestReaders.push(T),T}cancelAllRequests(o){this._fullRequestReader&&this._fullRequestReader.cancel(o);for(const S of this._rangeRequestReaders.slice(0))S.cancel(o)}}n.PDFNodeStream=c;class s{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null;const S=o.source;this._contentLength=S.length,this._loaded=0,this._filename=null,this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._readableStream=null,this._readCapability=(0,C.createPromiseCapability)(),this._headersCapability=(0,C.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=(0,C.createPromiseCapability)(),this.read()):(this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",S=>{this._error(S)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new C.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class e{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,C.createPromiseCapability)();const S=o.source;this._isStreamingSupported=!S.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=(0,C.createPromiseCapability)(),this.read()):(this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",S=>{this._error(S)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(v,o){return{protocol:v.protocol,auth:v.auth,host:v.hostname,port:v.port,path:v.path,method:"GET",headers:o}}class m extends s{constructor(o){super(o);const S=T=>{if(T.statusCode===404){const O=new C.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=O,this._headersCapability.reject(O);return}this._headersCapability.resolve(),this._setReadableStream(T);const E=O=>this._readableStream.headers[O.toLowerCase()],{allowRangeRequests:k,suggestedLength:M}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:o.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=M||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(E)};this._request=null,this._url.protocol==="http:"?this._request=$.request(u(this._url,o.httpHeaders),S):this._request=l.request(u(this._url,o.httpHeaders),S),this._request.on("error",T=>{this._storedError=T,this._headersCapability.reject(T)}),this._request.end()}}class g extends e{constructor(o,S,T){super(o),this._httpHeaders={};for(const k in o.httpHeaders){const M=o.httpHeaders[k];typeof M>"u"||(this._httpHeaders[k]=M)}this._httpHeaders.Range=`bytes=${S}-${T-1}`;const E=k=>{if(k.statusCode===404){const M=new C.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=M;return}this._setReadableStream(k)};this._request=null,this._url.protocol==="http:"?this._request=$.request(u(this._url,this._httpHeaders),E):this._request=l.request(u(this._url,this._httpHeaders),E),this._request.on("error",k=>{this._storedError=k}),this._request.end()}}class y extends s{constructor(o){super(o);let S=decodeURIComponent(this._url.path);t.test(this._url.href)&&(S=S.replace(/^\//,"")),K.lstat(S,(T,E)=>{if(T){T.code==="ENOENT"&&(T=new C.MissingPDFException(`Missing PDF "${S}".`)),this._storedError=T,this._headersCapability.reject(T);return}this._contentLength=E.size,this._setReadableStream(K.createReadStream(S)),this._headersCapability.resolve()})}}class b extends e{constructor(o,S,T){super(o);let E=decodeURIComponent(this._url.path);t.test(this._url.href)&&(E=E.replace(/^\//,"")),this._setReadableStream(K.createReadStream(E,{start:S,end:T-1}))}}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=a,n.extractFilenameFromHeader=l,n.validateRangeRequestCapabilities=$,n.validateResponseStatus=t;var C=x(1),_=x(159),K=x(133);function $(i){let{getResponseHeader:c,isHttp:s,rangeChunkSize:e,disableRange:u}=i;const m={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(c("Content-Length"),10);return!Number.isInteger(g)||(m.suggestedLength=g,g<=2*e)||u||!s||c("Accept-Ranges")!=="bytes"||(c("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function l(i){const c=i("Content-Disposition");if(c){let s=(0,_.getFilenameFromContentDispositionHeader)(c);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if((0,K.isPdfFile)(s))return s}return null}function a(i,c){return i===404||i===0&&c.startsWith("file:")?new C.MissingPDFException('Missing PDF "'+c+'".'):new C.UnexpectedResponseException(`Unexpected server response (${i}) while retrieving PDF "${c}".`,i)}function t(i){return i===200||i===206}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=_;var C=x(1);function _(K){let $=!0,l=a("filename\\*","i").exec(K);if(l){l=l[1];let m=s(l);return m=unescape(m),m=e(m),m=u(m),i(m)}if(l=c(K),l){const m=u(l);return i(m)}if(l=a("filename","i").exec(K),l){l=l[1];let m=s(l);return m=u(m),i(m)}function a(m,g){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function t(m,g){if(m){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const y=new TextDecoder(m,{fatal:!0}),b=(0,C.stringToBytes)(g);g=y.decode(b),$=!1}catch{}}return g}function i(m){return $&&/[\x80-\xff]/.test(m)&&(m=t("utf-8",m),$&&(m=t("iso-8859-1",m))),m}function c(m){const g=[];let y;const b=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(m))!==null;){let[,o,S,T]=y;if(o=parseInt(o,10),o in g){if(o===0)break;continue}g[o]=[S,T]}const v=[];for(let o=0;o<g.length&&o in g;++o){let[S,T]=g[o];T=s(T),S&&(T=unescape(T),o===0&&(T=e(T))),v.push(T)}return v.join("")}function s(m){if(m.startsWith('"')){const g=m.slice(1).split('\\"');for(let y=0;y<g.length;++y){const b=g[y].indexOf('"');b!==-1&&(g[y]=g[y].slice(0,b),g.length=y+1),g[y]=g[y].replace(/\\(.)/g,"$1")}m=g.join('"')}return m}function e(m){const g=m.indexOf("'");if(g===-1)return m;const y=m.slice(0,g),v=m.slice(g+1).replace(/^[^']*'/,"");return t(y,v)}function u(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,y,b,v){if(b==="q"||b==="Q")return v=v.replace(/_/g," "),v=v.replace(/=([0-9a-fA-F]{2})/g,function(o,S){return String.fromCharCode(parseInt(S,16))}),t(y,v);try{v=atob(v)}catch{}return t(y,v)})}return""}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0;var C=x(1),_=x(158);const K=200,$=206;function l(s){const e=s.response;return typeof e!="string"?e:(0,C.stringToBytes)(e).buffer}class a{constructor(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&u.httpHeaders||Object.create(null),this.withCredentials=u.withCredentials||!1,this.getXhr=u.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,u,m){const g={begin:e,end:u};for(const y in m)g[y]=m[y];return this.request(g)}requestFull(e){return this.request(e)}request(e){const u=this.getXhr(),m=this.currXhrId++,g=this.pendingRequests[m]={xhr:u};u.open("GET",this.url),u.withCredentials=this.withCredentials;for(const y in this.httpHeaders){const b=this.httpHeaders[y];typeof b>"u"||u.setRequestHeader(y,b)}return this.isHttp&&"begin"in e&&"end"in e?(u.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),g.expectedStatus=$):g.expectedStatus=K,u.responseType="arraybuffer",e.onError&&(u.onerror=function(y){e.onError(u.status)}),u.onreadystatechange=this.onStateChange.bind(this,m),u.onprogress=this.onProgress.bind(this,m),g.onHeadersReceived=e.onHeadersReceived,g.onDone=e.onDone,g.onError=e.onError,g.onProgress=e.onProgress,u.send(null),m}onProgress(e,u){var m;const g=this.pendingRequests[e];g&&((m=g.onProgress)===null||m===void 0||m.call(g,u))}onStateChange(e,u){const m=this.pendingRequests[e];if(!m)return;const g=m.xhr;if(g.readyState>=2&&m.onHeadersReceived&&(m.onHeadersReceived(),delete m.onHeadersReceived),g.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],g.status===0&&this.isHttp){var y;(y=m.onError)===null||y===void 0||y.call(m,g.status);return}const b=g.status||K;if(!(b===K&&m.expectedStatus===$)&&b!==m.expectedStatus){var o;(o=m.onError)===null||o===void 0||o.call(m,g.status);return}const S=l(g);if(b===$){const E=g.getResponseHeader("Content-Range"),k=/bytes (\d+)-(\d+)\/(\d+)/.exec(E);m.onDone({begin:parseInt(k[1],10),chunk:S})}else if(S)m.onDone({begin:0,chunk:S});else{var T;(T=m.onError)===null||T===void 0||T.call(m,g.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const u=this.pendingRequests[e].xhr;delete this.pendingRequests[e],u.abort()}}class t{constructor(e){this._source=e,this._manager=new a(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const u=this._rangeRequestReaders.indexOf(e);u>=0&&this._rangeRequestReaders.splice(u,1)}getFullReader(){return(0,C.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new i(this._manager,this._source),this._fullRequestReader}getRangeReader(e,u){const m=new c(this._manager,e,u);return m.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(m),m}cancelAllRequests(e){var u;(u=this._fullRequestReader)===null||u===void 0||u.cancel(e);for(const m of this._rangeRequestReaders.slice(0))m.cancel(e)}}n.PDFNetworkStream=t;class i{constructor(e,u){this._manager=e;const m={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=u.url,this._fullRequestId=e.requestFull(m),this._headersReceivedCapability=(0,C.createPromiseCapability)(),this._disableRange=u.disableRange||!1,this._contentLength=u.length,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,u=this._manager.getRequestXhr(e),m=b=>u.getResponseHeader(b),{allowRangeRequests:g,suggestedLength:y}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});g&&(this._isRangeSupported=!0),this._contentLength=y||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(m),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,_.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const u of this._requests)u.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var u;(u=this.onProgress)===null||u===void 0||u.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,C.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class c{constructor(e,u,m){this._manager=e;const g={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(u,m,g),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)===null||e===void 0||e.call(this,this)}_onDone(e){const u=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:u,done:!1}):this._queuedChunk=u,this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,_.createResponseStatusError)(e,this._url);for(const u of this._requests)u.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){if(!this.isStreamingSupported){var u;(u=this.onProgress)===null||u===void 0||u.call(this,{loaded:e.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,C.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(r,n,x)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0;var C=x(1),_=x(158);function K(i,c,s){return{method:"GET",headers:i,signal:s.signal,mode:"cors",credentials:c?"include":"same-origin",redirect:"follow"}}function $(i){const c=new Headers;for(const s in i){const e=i[s];typeof e>"u"||c.append(s,e)}return c}class l{constructor(c){this.source=c,this.isHttp=/^https?:/i.test(c.url),this.httpHeaders=this.isHttp&&c.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var c,s;return(c=(s=this._fullRequestReader)===null||s===void 0?void 0:s._loaded)!==null&&c!==void 0?c:0}getFullReader(){return(0,C.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}getRangeReader(c,s){if(s<=this._progressiveDataLength)return null;const e=new t(this,c,s);return this._rangeRequestReaders.push(e),e}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const s of this._rangeRequestReaders.slice(0))s.cancel(c)}}n.PDFFetchStream=l;class a{constructor(c){this._stream=c,this._reader=null,this._loaded=0,this._filename=null;const s=c.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,C.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=$(this._stream.httpHeaders);const e=s.url;fetch(e,K(this._headers,this._withCredentials,this._abortController)).then(u=>{if(!(0,_.validateResponseStatus)(u.status))throw(0,_.createResponseStatusError)(u.status,e);this._reader=u.body.getReader(),this._headersCapability.resolve();const m=b=>u.headers.get(b),{allowRangeRequests:g,suggestedLength:y}=(0,_.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=y||this._contentLength,this._filename=(0,_.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new C.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:c,done:s}=await this._reader.read();return s?{value:c,done:s}:(this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(c).buffer,done:!1})}cancel(c){this._reader&&this._reader.cancel(c),this._abortController.abort()}}class t{constructor(c,s,e){this._stream=c,this._reader=null,this._loaded=0;const u=c.source;this._withCredentials=u.withCredentials||!1,this._readCapability=(0,C.createPromiseCapability)(),this._isStreamingSupported=!u.disableStream,this._abortController=new AbortController,this._headers=$(this._stream.httpHeaders),this._headers.append("Range",`bytes=${s}-${e-1}`);const m=u.url;fetch(m,K(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,_.validateResponseStatus)(g.status))throw(0,_.createResponseStatusError)(g.status,m);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:c,done:s}=await this._reader.read();return s?{value:c,done:s}:(this._loaded+=c.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(c).buffer,done:!1})}cancel(c){this._reader&&this._reader.cancel(c),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(r){var n=__webpack_module_cache__[r];if(n!==void 0)return n.exports;var x=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r](x,x.exports,__w_pdfjs_require__),x.exports}var __webpack_exports__={};return(()=>{var r=__webpack_exports__;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _.AnnotationEditorLayer}}),Object.defineProperty(r,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(r,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(r,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return K.AnnotationEditorUIManager}}),Object.defineProperty(r,"AnnotationLayer",{enumerable:!0,get:function(){return $.AnnotationLayer}}),Object.defineProperty(r,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(r,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(r,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(r,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(r,"LoopbackPort",{enumerable:!0,get:function(){return x.LoopbackPort}}),Object.defineProperty(r,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(r,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(r,"PDFDataRangeTransport",{enumerable:!0,get:function(){return x.PDFDataRangeTransport}}),Object.defineProperty(r,"PDFDateString",{enumerable:!0,get:function(){return C.PDFDateString}}),Object.defineProperty(r,"PDFWorker",{enumerable:!0,get:function(){return x.PDFWorker}}),Object.defineProperty(r,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(r,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(r,"PixelsPerInch",{enumerable:!0,get:function(){return C.PixelsPerInch}}),Object.defineProperty(r,"RenderingCancelledException",{enumerable:!0,get:function(){return C.RenderingCancelledException}}),Object.defineProperty(r,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(r,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(r,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(r,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(r,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(r,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(r,"build",{enumerable:!0,get:function(){return x.build}}),Object.defineProperty(r,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(r,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(r,"getDocument",{enumerable:!0,get:function(){return x.getDocument}}),Object.defineProperty(r,"getFilenameFromUrl",{enumerable:!0,get:function(){return C.getFilenameFromUrl}}),Object.defineProperty(r,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return C.getPdfFilenameFromUrl}}),Object.defineProperty(r,"getXfaPageViewport",{enumerable:!0,get:function(){return C.getXfaPageViewport}}),Object.defineProperty(r,"isPdfFile",{enumerable:!0,get:function(){return C.isPdfFile}}),Object.defineProperty(r,"loadScript",{enumerable:!0,get:function(){return C.loadScript}}),Object.defineProperty(r,"renderTextLayer",{enumerable:!0,get:function(){return t.renderTextLayer}}),Object.defineProperty(r,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return x.version}});var n=__w_pdfjs_require__(1),x=__w_pdfjs_require__(129),C=__w_pdfjs_require__(133),_=__w_pdfjs_require__(147),K=__w_pdfjs_require__(132),$=__w_pdfjs_require__(152),l=__w_pdfjs_require__(140),a=__w_pdfjs_require__(3),t=__w_pdfjs_require__(155),i=__w_pdfjs_require__(156),c=__w_pdfjs_require__(154);if(a.isNodeJS){const{PDFNodeStream:s}=__w_pdfjs_require__(157);(0,x.setPDFNetworkStreamFactory)(e=>new s(e))}else{const{PDFNetworkStream:s}=__w_pdfjs_require__(160),{PDFFetchStream:e}=__w_pdfjs_require__(161);(0,x.setPDFNetworkStreamFactory)(u=>(0,C.isValidFetchUrl)(u.url)?new e(u):new s(u))}})(),__webpack_exports__})())}(pdf)),pdfExports$1}var pdfExports=requirePdf(),pdf_worker_entry={},pdf_workerExports={},pdf_worker={get exports(){return pdf_workerExports},set exports(r){pdf_workerExports=r}};(function(r,n){(function(C,_){r.exports=_()})(globalThis,()=>(()=>{var x=[,($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WorkerTask=l.WorkerMessageHandler=void 0;var t=a(2),i=a(130),c=a(131),s=a(133),e=a(196),u=a(190),m=a(4),g=a(227),y=a(228);class b{constructor(T){this.name=T,this.terminated=!1,this._capability=(0,t.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}l.WorkerTask=b;class v{static setup(T,E){let k=!1;T.on("test",function(O){k||(k=!0,T.send("test",O instanceof Uint8Array))}),T.on("configure",function(O){(0,t.setVerbosityLevel)(O.verbosity)}),T.on("GetDocRequest",function(O){return v.createDocumentHandler(O,E)})}static createDocumentHandler(T,E){let k,M=!1,O=null;const L=[],te=(0,t.getVerbosityLevel)(),B=T.apiVersion,G="2.16.105";if(B!==G)throw new Error(`The API version "${B}" does not match the Worker version "${G}".`);const R=[];for(const D in[])R.push(D);if(R.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+R.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const D="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw m.isNodeJS?new Error(D+"please use a `legacy`-build instead."):new Error(D+"please update to a supported browser.")}const I=T.docId,U=T.docBaseUrl,P=T.docId+"_worker";let A=new g.MessageHandler(P,I,E);function z(){if(M)throw new Error("Worker was terminated")}function N(D){L.push(D)}function W(D){D.finish();const Q=L.indexOf(D);L.splice(Q,1)}async function ie(D){await k.ensureDoc("checkHeader"),await k.ensureDoc("parseStartXRef"),await k.ensureDoc("parse",[D]),await k.ensureDoc("checkFirstPage",[D]),await k.ensureDoc("checkLastPage",[D]);const Q=await k.ensureDoc("isPureXfa");if(Q){const ae=new b("loadXfaFonts");N(ae),await Promise.all([k.loadXfaFonts(A,ae).catch(H=>{}).then(()=>W(ae)),k.loadXfaImages()])}const[ee,V]=await Promise.all([k.ensureDoc("numPages"),k.ensureDoc("fingerprints")]),Z=Q?await k.ensureDoc("htmlForXfa"):null;return{numPages:ee,fingerprints:V,htmlForXfa:Z}}function Y(D,Q,ee){const V=(0,t.createPromiseCapability)();let Z;const ae=D.source;if(ae.data){try{Z=new s.LocalPdfManager(I,ae.data,ae.password,A,Q,ee,U),V.resolve(Z)}catch(re){V.reject(re)}return V.promise}let H,q=[];try{H=new y.PDFWorkerStream(A)}catch(re){return V.reject(re),V.promise}const ne=H.getFullReader();ne.headersReady.then(function(){if(!ne.isRangeSupported)return;const re=ae.disableAutoFetch||ne.isStreamingSupported;Z=new s.NetworkPdfManager(I,H,{msgHandler:A,password:ae.password,length:ne.contentLength,disableAutoFetch:re,rangeChunkSize:ae.rangeChunkSize},Q,ee,U);for(const oe of q)Z.sendProgressiveData(oe);q=[],V.resolve(Z),O=null}).catch(function(re){V.reject(re),O=null});let le=0;const se=function(){const re=(0,t.arraysToBytes)(q);ae.length&&re.length!==ae.length&&(0,t.warn)("reported HTTP length is different from actual");try{Z=new s.LocalPdfManager(I,re,ae.password,A,Q,ee,U),V.resolve(Z)}catch(oe){V.reject(oe)}q=[]};return new Promise(function(re,oe){const ue=function(he){let{value:de,done:pe}=he;try{if(z(),pe){Z||se(),O=null;return}le+=(0,t.arrayByteLength)(de),ne.isStreamingSupported||A.send("DocProgress",{loaded:le,total:Math.max(le,ne.contentLength||0)}),Z?Z.sendProgressiveData(de):q.push(de),ne.read().then(ue,oe)}catch(fe){oe(fe)}};ne.read().then(ue,oe)}).catch(function(re){V.reject(re),O=null}),O=function(re){H.cancelAllRequests(re)},V.promise}function F(D){function Q(ae){z(),A.send("GetDoc",{pdfInfo:ae})}function ee(ae){if(z(),ae instanceof t.PasswordException){const H=new b(`PasswordException: response ${ae.code}`);N(H),A.sendWithPromise("PasswordRequest",ae).then(function(q){let{password:ne}=q;W(H),k.updatePassword(ne),V()}).catch(function(){W(H),A.send("DocException",ae)})}else ae instanceof t.InvalidPDFException||ae instanceof t.MissingPDFException||ae instanceof t.UnexpectedResponseException||ae instanceof t.UnknownErrorException?A.send("DocException",ae):A.send("DocException",new t.UnknownErrorException(ae.message,ae.toString()))}function V(){z(),ie(!1).then(Q,function(ae){if(z(),!(ae instanceof c.XRefParseException)){ee(ae);return}k.requestLoadedStream(),k.onLoadedStream().then(function(){z(),ie(!0).then(Q,ee)})})}z();const Z={maxImageSize:D.maxImageSize,disableFontFace:D.disableFontFace,ignoreErrors:D.ignoreErrors,isEvalSupported:D.isEvalSupported,fontExtraProperties:D.fontExtraProperties,useSystemFonts:D.useSystemFonts,cMapUrl:D.cMapUrl,standardFontDataUrl:D.standardFontDataUrl};Y(D,Z,D.enableXfa).then(function(ae){if(M)throw ae.terminate(new t.AbortException("Worker was terminated.")),new Error("Worker was terminated");k=ae,k.onLoadedStream().then(function(H){A.send("DataLoaded",{length:H.bytes.byteLength})})}).then(V,ee)}return A.on("GetPage",function(Q){return k.getPage(Q.pageIndex).then(function(ee){return Promise.all([k.ensure(ee,"rotate"),k.ensure(ee,"ref"),k.ensure(ee,"userUnit"),k.ensure(ee,"view")]).then(function(V){let[Z,ae,H,q]=V;return{rotate:Z,ref:ae,userUnit:H,view:q}})})}),A.on("GetPageIndex",function(Q){const ee=i.Ref.get(Q.num,Q.gen);return k.ensureCatalog("getPageIndex",[ee])}),A.on("GetDestinations",function(Q){return k.ensureCatalog("destinations")}),A.on("GetDestination",function(Q){return k.ensureCatalog("getDestination",[Q.id])}),A.on("GetPageLabels",function(Q){return k.ensureCatalog("pageLabels")}),A.on("GetPageLayout",function(Q){return k.ensureCatalog("pageLayout")}),A.on("GetPageMode",function(Q){return k.ensureCatalog("pageMode")}),A.on("GetViewerPreferences",function(D){return k.ensureCatalog("viewerPreferences")}),A.on("GetOpenAction",function(D){return k.ensureCatalog("openAction")}),A.on("GetAttachments",function(Q){return k.ensureCatalog("attachments")}),A.on("GetJavaScript",function(Q){return k.ensureCatalog("javaScript")}),A.on("GetDocJSActions",function(Q){return k.ensureCatalog("jsActions")}),A.on("GetPageJSActions",function(D){let{pageIndex:Q}=D;return k.getPage(Q).then(function(ee){return k.ensure(ee,"jsActions")})}),A.on("GetOutline",function(Q){return k.ensureCatalog("documentOutline")}),A.on("GetOptionalContentConfig",function(D){return k.ensureCatalog("optionalContentConfig")}),A.on("GetPermissions",function(D){return k.ensureCatalog("permissions")}),A.on("GetMetadata",function(Q){return Promise.all([k.ensureDoc("documentInfo"),k.ensureCatalog("metadata")])}),A.on("GetMarkInfo",function(Q){return k.ensureCatalog("markInfo")}),A.on("GetData",function(Q){return k.requestLoadedStream(),k.onLoadedStream().then(function(ee){return ee.bytes})}),A.on("GetAnnotations",function(D){let{pageIndex:Q,intent:ee}=D;return k.getPage(Q).then(function(V){const Z=new b(`GetAnnotations: page ${Q}`);return N(Z),V.getAnnotationsData(A,Z,ee).then(ae=>(W(Z),ae),ae=>{W(Z)})})}),A.on("GetFieldObjects",function(D){return k.ensureDoc("fieldObjects")}),A.on("HasJSActions",function(D){return k.ensureDoc("hasJSActions")}),A.on("GetCalculationOrderIds",function(D){return k.ensureDoc("calculationOrderIds")}),A.on("SaveDocument",function(D){let{isPureXfa:Q,numPages:ee,annotationStorage:V,filename:Z}=D;k.requestLoadedStream();const ae=Q?null:(0,c.getNewAnnotationsMap)(V),H=[k.onLoadedStream(),k.ensureCatalog("acroForm"),k.ensureCatalog("acroFormRef"),k.ensureDoc("xref"),k.ensureDoc("startXRef")];if(ae)for(const[q,ne]of ae)H.push(k.getPage(q).then(le=>{const se=new b(`Save (editor): page ${q}`);return le.saveNewAnnotations(A,se,ne).finally(function(){W(se)})}));if(Q)H.push(k.serializeXfaData(V));else for(let q=0;q<ee;q++)H.push(k.getPage(q).then(function(ne){const le=new b(`Save: page ${q}`);return ne.save(A,le,V).finally(function(){W(le)})}));return Promise.all(H).then(function(q){let[ne,le,se,J,re,...oe]=q,ue=[],he=null;if(Q){if(he=oe[0],!he)return ne.bytes}else if(ue=oe.flat(2),ue.length===0)return ne.bytes;const de=le instanceof i.Dict&&le.get("XFA")||null;let pe=null,fe=!1;if(Array.isArray(de)){for(let ge=0,Se=de.length;ge<Se;ge+=2)de[ge]==="datasets"&&(pe=de[ge+1],se=null,fe=!0);pe===null&&(pe=J.getNewRef())}else de&&(se=null,(0,t.warn)("Unsupported XFA type."));let be=Object.create(null);if(J.trailer){const ge=Object.create(null),Se=J.trailer.get("Info")||null;Se instanceof i.Dict&&Se.forEach((ve,we)=>{typeof we=="string"&&(ge[ve]=(0,t.stringToPDFString)(we))}),be={rootRef:J.trailer.getRaw("Root")||null,encryptRef:J.trailer.getRaw("Encrypt")||null,newRef:J.getNewRef(),infoRef:J.trailer.getRaw("Info")||null,info:ge,fileIds:J.trailer.get("ID")||null,startXRef:re,filename:Z}}return J.resetNewRef(),(0,u.incrementalUpdate)({originalData:ne.bytes,xrefInfo:be,newRefs:ue,xref:J,hasXfa:!!de,xfaDatasetsRef:pe,hasXfaDatasetsEntry:fe,acroFormRef:se,acroForm:le,xfaData:he})})}),A.on("GetOperatorList",function(Q,ee){const V=Q.pageIndex;k.getPage(V).then(function(Z){const ae=new b(`GetOperatorList: page ${V}`);N(ae);const H=te>=t.VerbosityLevel.INFOS?Date.now():0;Z.getOperatorList({handler:A,sink:ee,task:ae,intent:Q.intent,cacheKey:Q.cacheKey,annotationStorage:Q.annotationStorage}).then(function(q){W(ae),H&&(0,t.info)(`page=${V+1} - getOperatorList: time=${Date.now()-H}ms, len=${q.length}`),ee.close()},function(q){W(ae),!ae.terminated&&(A.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorOperatorList}),ee.error(q))})})}),A.on("GetTextContent",function(Q,ee){const V=Q.pageIndex;k.getPage(V).then(function(Z){const ae=new b("GetTextContent: page "+V);N(ae);const H=te>=t.VerbosityLevel.INFOS?Date.now():0;Z.extractTextContent({handler:A,task:ae,sink:ee,includeMarkedContent:Q.includeMarkedContent,combineTextItems:Q.combineTextItems}).then(function(){W(ae),H&&(0,t.info)(`page=${V+1} - getTextContent: time=${Date.now()-H}ms`),ee.close()},function(q){W(ae),!ae.terminated&&ee.error(q)})})}),A.on("GetStructTree",function(Q){return k.getPage(Q.pageIndex).then(function(ee){return k.ensure(ee,"getStructTree")})}),A.on("FontFallback",function(D){return k.fontFallback(D.id,A)}),A.on("Cleanup",function(Q){return k.cleanup(!0)}),A.on("Terminate",function(Q){M=!0;const ee=[];if(k){k.terminate(new t.AbortException("Worker was terminated."));const V=k.cleanup();ee.push(V),k=null}else(0,e.clearGlobalCaches)();O&&O(new t.AbortException("Worker was terminated."));for(const V of L)ee.push(V.finished),V.terminate();return Promise.all(ee).then(function(){A.destroy(),A=null})}),A.on("Ready",function(Q){F(T),T=null}),P}static initializeFromPort(T){const E=new g.MessageHandler("worker","main",T);v.setup(E,T),E.send("ready",null)}}l.WorkerMessageHandler=v;function o(S){return typeof S.postMessage=="function"&&"onmessage"in S}typeof window>"u"&&!m.isNodeJS&&typeof self<"u"&&o(self)&&v.initializeFromPort(self)},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.VerbosityLevel=l.Util=l.UnknownErrorException=l.UnexpectedResponseException=l.UNSUPPORTED_FEATURES=l.TextRenderingMode=l.StreamType=l.RenderingIntentFlag=l.PermissionFlag=l.PasswordResponses=l.PasswordException=l.PageActionEventType=l.OPS=l.MissingPDFException=l.LINE_FACTOR=l.LINE_DESCENT_FACTOR=l.InvalidPDFException=l.ImageKind=l.IDENTITY_MATRIX=l.FormatError=l.FontType=l.FeatureTest=l.FONT_IDENTITY_MATRIX=l.DocumentActionEventType=l.CMapCompressionType=l.BaseException=l.AnnotationType=l.AnnotationStateModelType=l.AnnotationReviewState=l.AnnotationReplyType=l.AnnotationMode=l.AnnotationMarkedState=l.AnnotationFlag=l.AnnotationFieldFlag=l.AnnotationEditorType=l.AnnotationEditorPrefix=l.AnnotationEditorParamsType=l.AnnotationBorderStyleType=l.AnnotationActionEventType=l.AbortException=void 0,l.arrayByteLength=pe,l.arraysToBytes=fe,l.assert=V,l.bytesToString=he,l.createPromiseCapability=je,l.createValidAbsoluteUrl=ae,l.escapeString=Ie,l.getModificationDate=$e,l.getVerbosityLevel=F,l.info=D,l.isArrayBuffer=Le,l.isArrayEqual=Pe,l.isAscii=Me,l.objectFromMap=Se,l.objectSize=ge,l.setVerbosityLevel=Y,l.shadow=H,l.string32=be,l.stringToBytes=de,l.stringToPDFString=De,l.stringToUTF16BEString=Ne,l.stringToUTF8String=Re,l.unreachable=ee,l.utf8StringToString=Oe,l.warn=Q,a(3);const t=[1,0,0,1,0,0];l.IDENTITY_MATRIX=t;const i=[.001,0,0,.001,0,0];l.FONT_IDENTITY_MATRIX=i;const c=1.35;l.LINE_FACTOR=c;const s=.35;l.LINE_DESCENT_FACTOR=s;const e={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};l.RenderingIntentFlag=e;const u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};l.AnnotationMode=u;const m="pdfjs_internal_editor_";l.AnnotationEditorPrefix=m;const g={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};l.AnnotationEditorType=g;const y={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};l.AnnotationEditorParamsType=y;const b={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};l.PermissionFlag=b;const v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};l.TextRenderingMode=v;const o={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};l.ImageKind=o;const S={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};l.AnnotationType=S;const T={MARKED:"Marked",REVIEW:"Review"};l.AnnotationStateModelType=T;const E={MARKED:"Marked",UNMARKED:"Unmarked"};l.AnnotationMarkedState=E;const k={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};l.AnnotationReviewState=k;const M={GROUP:"Group",REPLY:"R"};l.AnnotationReplyType=M;const O={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};l.AnnotationFlag=O;const L={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};l.AnnotationFieldFlag=L;const te={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};l.AnnotationBorderStyleType=te;const B={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};l.AnnotationActionEventType=B;const G={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};l.DocumentActionEventType=G;const R={O:"PageOpen",C:"PageClose"};l.PageActionEventType=R;const I={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};l.StreamType=I;const U={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};l.FontType=U;const P={ERRORS:0,WARNINGS:1,INFOS:5};l.VerbosityLevel=P;const A={NONE:0,BINARY:1,STREAM:2};l.CMapCompressionType=A;const z={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};l.OPS=z;const N={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};l.UNSUPPORTED_FEATURES=N;const W={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};l.PasswordResponses=W;let ie=P.WARNINGS;function Y(Te){Number.isInteger(Te)&&(ie=Te)}function F(){return ie}function D(Te){ie>=P.INFOS&&console.log(`Info: ${Te}`)}function Q(Te){ie>=P.WARNINGS&&console.log(`Warning: ${Te}`)}function ee(Te){throw new Error(Te)}function V(Te,Ae){Te||ee(Ae)}function Z(Te){if(!Te)return!1;switch(Te.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ae(Te){let Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Te)return null;try{if(Ee&&typeof Te=="string"){if(Ee.addDefaultProtocol&&Te.startsWith("www.")){const ze=Te.match(/\./g);ze&&ze.length>=2&&(Te=`http://${Te}`)}if(Ee.tryConvertEncoding)try{Te=Re(Te)}catch{}}const Be=Ae?new URL(Te,Ae):new URL(Te);if(Z(Be))return Be}catch{}return null}function H(Te,Ae,Ee){return Object.defineProperty(Te,Ae,{value:Ee,enumerable:!0,configurable:!0,writable:!1}),Ee}const q=function(){function Ae(Ee,Be){this.constructor===Ae&&ee("Cannot initialize BaseException."),this.message=Ee,this.name=Be}return Ae.prototype=new Error,Ae.constructor=Ae,Ae}();l.BaseException=q;class ne extends q{constructor(Ae,Ee){super(Ae,"PasswordException"),this.code=Ee}}l.PasswordException=ne;class le extends q{constructor(Ae,Ee){super(Ae,"UnknownErrorException"),this.details=Ee}}l.UnknownErrorException=le;class se extends q{constructor(Ae){super(Ae,"InvalidPDFException")}}l.InvalidPDFException=se;class J extends q{constructor(Ae){super(Ae,"MissingPDFException")}}l.MissingPDFException=J;class re extends q{constructor(Ae,Ee){super(Ae,"UnexpectedResponseException"),this.status=Ee}}l.UnexpectedResponseException=re;class oe extends q{constructor(Ae){super(Ae,"FormatError")}}l.FormatError=oe;class ue extends q{constructor(Ae){super(Ae,"AbortException")}}l.AbortException=ue;function he(Te){(typeof Te!="object"||Te===null||Te.length===void 0)&&ee("Invalid argument for bytesToString");const Ae=Te.length,Ee=8192;if(Ae<Ee)return String.fromCharCode.apply(null,Te);const Be=[];for(let ze=0;ze<Ae;ze+=Ee){const We=Math.min(ze+Ee,Ae),tt=Te.subarray(ze,We);Be.push(String.fromCharCode.apply(null,tt))}return Be.join("")}function de(Te){typeof Te!="string"&&ee("Invalid argument for stringToBytes");const Ae=Te.length,Ee=new Uint8Array(Ae);for(let Be=0;Be<Ae;++Be)Ee[Be]=Te.charCodeAt(Be)&255;return Ee}function pe(Te){if(Te.length!==void 0)return Te.length;if(Te.byteLength!==void 0)return Te.byteLength;ee("Invalid argument for arrayByteLength")}function fe(Te){const Ae=Te.length;if(Ae===1&&Te[0]instanceof Uint8Array)return Te[0];let Ee=0;for(let We=0;We<Ae;We++)Ee+=pe(Te[We]);let Be=0;const ze=new Uint8Array(Ee);for(let We=0;We<Ae;We++){let tt=Te[We];tt instanceof Uint8Array||(typeof tt=="string"?tt=de(tt):tt=new Uint8Array(tt));const Ze=tt.byteLength;ze.set(tt,Be),Be+=Ze}return ze}function be(Te){return String.fromCharCode(Te>>24&255,Te>>16&255,Te>>8&255,Te&255)}function ge(Te){return Object.keys(Te).length}function Se(Te){const Ae=Object.create(null);for(const[Ee,Be]of Te)Ae[Ee]=Be;return Ae}function ve(){const Te=new Uint8Array(4);return Te[0]=1,new Uint32Array(Te.buffer,0,1)[0]===1}function we(){try{return new Function(""),!0}catch{return!1}}class Fe{static get isLittleEndian(){return H(this,"isLittleEndian",ve())}static get isEvalSupported(){return H(this,"isEvalSupported",we())}static get isOffscreenCanvasSupported(){return H(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}l.FeatureTest=Fe;const Ce=[...Array(256).keys()].map(Te=>Te.toString(16).padStart(2,"0"));class ye{static makeHexColor(Ae,Ee,Be){return`#${Ce[Ae]}${Ce[Ee]}${Ce[Be]}`}static scaleMinMax(Ae,Ee){let Be;Ae[0]?(Ae[0]<0&&(Be=Ee[0],Ee[0]=Ee[1],Ee[1]=Be),Ee[0]*=Ae[0],Ee[1]*=Ae[0],Ae[3]<0&&(Be=Ee[2],Ee[2]=Ee[3],Ee[3]=Be),Ee[2]*=Ae[3],Ee[3]*=Ae[3]):(Be=Ee[0],Ee[0]=Ee[2],Ee[2]=Be,Be=Ee[1],Ee[1]=Ee[3],Ee[3]=Be,Ae[1]<0&&(Be=Ee[2],Ee[2]=Ee[3],Ee[3]=Be),Ee[2]*=Ae[1],Ee[3]*=Ae[1],Ae[2]<0&&(Be=Ee[0],Ee[0]=Ee[1],Ee[1]=Be),Ee[0]*=Ae[2],Ee[1]*=Ae[2]),Ee[0]+=Ae[4],Ee[1]+=Ae[4],Ee[2]+=Ae[5],Ee[3]+=Ae[5]}static transform(Ae,Ee){return[Ae[0]*Ee[0]+Ae[2]*Ee[1],Ae[1]*Ee[0]+Ae[3]*Ee[1],Ae[0]*Ee[2]+Ae[2]*Ee[3],Ae[1]*Ee[2]+Ae[3]*Ee[3],Ae[0]*Ee[4]+Ae[2]*Ee[5]+Ae[4],Ae[1]*Ee[4]+Ae[3]*Ee[5]+Ae[5]]}static applyTransform(Ae,Ee){const Be=Ae[0]*Ee[0]+Ae[1]*Ee[2]+Ee[4],ze=Ae[0]*Ee[1]+Ae[1]*Ee[3]+Ee[5];return[Be,ze]}static applyInverseTransform(Ae,Ee){const Be=Ee[0]*Ee[3]-Ee[1]*Ee[2],ze=(Ae[0]*Ee[3]-Ae[1]*Ee[2]+Ee[2]*Ee[5]-Ee[4]*Ee[3])/Be,We=(-Ae[0]*Ee[1]+Ae[1]*Ee[0]+Ee[4]*Ee[1]-Ee[5]*Ee[0])/Be;return[ze,We]}static getAxialAlignedBoundingBox(Ae,Ee){const Be=ye.applyTransform(Ae,Ee),ze=ye.applyTransform(Ae.slice(2,4),Ee),We=ye.applyTransform([Ae[0],Ae[3]],Ee),tt=ye.applyTransform([Ae[2],Ae[1]],Ee);return[Math.min(Be[0],ze[0],We[0],tt[0]),Math.min(Be[1],ze[1],We[1],tt[1]),Math.max(Be[0],ze[0],We[0],tt[0]),Math.max(Be[1],ze[1],We[1],tt[1])]}static inverseTransform(Ae){const Ee=Ae[0]*Ae[3]-Ae[1]*Ae[2];return[Ae[3]/Ee,-Ae[1]/Ee,-Ae[2]/Ee,Ae[0]/Ee,(Ae[2]*Ae[5]-Ae[4]*Ae[3])/Ee,(Ae[4]*Ae[1]-Ae[5]*Ae[0])/Ee]}static apply3dTransform(Ae,Ee){return[Ae[0]*Ee[0]+Ae[1]*Ee[1]+Ae[2]*Ee[2],Ae[3]*Ee[0]+Ae[4]*Ee[1]+Ae[5]*Ee[2],Ae[6]*Ee[0]+Ae[7]*Ee[1]+Ae[8]*Ee[2]]}static singularValueDecompose2dScale(Ae){const Ee=[Ae[0],Ae[2],Ae[1],Ae[3]],Be=Ae[0]*Ee[0]+Ae[1]*Ee[2],ze=Ae[0]*Ee[1]+Ae[1]*Ee[3],We=Ae[2]*Ee[0]+Ae[3]*Ee[2],tt=Ae[2]*Ee[1]+Ae[3]*Ee[3],Ze=(Be+tt)/2,Xe=Math.sqrt((Be+tt)**2-4*(Be*tt-We*ze))/2,st=Ze+Xe||1,gt=Ze-Xe||1;return[Math.sqrt(st),Math.sqrt(gt)]}static normalizeRect(Ae){const Ee=Ae.slice(0);return Ae[0]>Ae[2]&&(Ee[0]=Ae[2],Ee[2]=Ae[0]),Ae[1]>Ae[3]&&(Ee[1]=Ae[3],Ee[3]=Ae[1]),Ee}static intersect(Ae,Ee){const Be=Math.max(Math.min(Ae[0],Ae[2]),Math.min(Ee[0],Ee[2])),ze=Math.min(Math.max(Ae[0],Ae[2]),Math.max(Ee[0],Ee[2]));if(Be>ze)return null;const We=Math.max(Math.min(Ae[1],Ae[3]),Math.min(Ee[1],Ee[3])),tt=Math.min(Math.max(Ae[1],Ae[3]),Math.max(Ee[1],Ee[3]));return We>tt?null:[Be,We,ze,tt]}static bezierBoundingBox(Ae,Ee,Be,ze,We,tt,Ze,Xe){const st=[],gt=[[],[]];let Ge,ht,ct,pt,Ct,kt,mt,Wt;for(let rt=0;rt<2;++rt){if(rt===0?(ht=6*Ae-12*Be+6*We,Ge=-3*Ae+9*Be-9*We+3*Ze,ct=3*Be-3*Ae):(ht=6*Ee-12*ze+6*tt,Ge=-3*Ee+9*ze-9*tt+3*Xe,ct=3*ze-3*Ee),Math.abs(Ge)<1e-12){if(Math.abs(ht)<1e-12)continue;pt=-ct/ht,0<pt&&pt<1&&st.push(pt);continue}mt=ht*ht-4*ct*Ge,Wt=Math.sqrt(mt),!(mt<0)&&(Ct=(-ht+Wt)/(2*Ge),0<Ct&&Ct<1&&st.push(Ct),kt=(-ht-Wt)/(2*Ge),0<kt&&kt<1&&st.push(kt))}let et=st.length,qe;const it=et;for(;et--;)pt=st[et],qe=1-pt,gt[0][et]=qe*qe*qe*Ae+3*qe*qe*pt*Be+3*qe*pt*pt*We+pt*pt*pt*Ze,gt[1][et]=qe*qe*qe*Ee+3*qe*qe*pt*ze+3*qe*pt*pt*tt+pt*pt*pt*Xe;return gt[0][it]=Ae,gt[1][it]=Ee,gt[0][it+1]=Ze,gt[1][it+1]=Xe,gt[0].length=gt[1].length=it+2,[Math.min(...gt[0]),Math.min(...gt[1]),Math.max(...gt[0]),Math.max(...gt[1])]}}l.Util=ye;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function De(Te){if(Te[0]>=""){let Ee;if(Te[0]===""&&Te[1]===""?Ee="utf-16be":Te[0]===""&&Te[1]===""?Ee="utf-16le":Te[0]===""&&Te[1]===""&&Te[2]===""&&(Ee="utf-8"),Ee)try{const Be=new TextDecoder(Ee,{fatal:!0}),ze=de(Te);return Be.decode(ze)}catch(Be){Q(`stringToPDFString: "${Be}".`)}}const Ae=[];for(let Ee=0,Be=Te.length;Ee<Be;Ee++){const ze=ke[Te.charCodeAt(Ee)];Ae.push(ze?String.fromCharCode(ze):Te.charAt(Ee))}return Ae.join("")}function Ie(Te){return Te.replace(/([()\\\n\r])/g,Ae=>Ae===`
`?"\\n":Ae==="\r"?"\\r":`\\${Ae}`)}function Me(Te){return/^[\x00-\x7F]*$/.test(Te)}function Ne(Te){const Ae=[""];for(let Ee=0,Be=Te.length;Ee<Be;Ee++){const ze=Te.charCodeAt(Ee);Ae.push(String.fromCharCode(ze>>8&255),String.fromCharCode(ze&255))}return Ae.join("")}function Re(Te){return decodeURIComponent(escape(Te))}function Oe(Te){return unescape(encodeURIComponent(Te))}function Le(Te){return typeof Te=="object"&&Te!==null&&Te.byteLength!==void 0}function Pe(Te,Ae){if(Te.length!==Ae.length)return!1;for(let Ee=0,Be=Te.length;Ee<Be;Ee++)if(Te[Ee]!==Ae[Ee])return!1;return!0}function $e(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Te.getUTCFullYear().toString(),(Te.getUTCMonth()+1).toString().padStart(2,"0"),Te.getUTCDate().toString().padStart(2,"0"),Te.getUTCHours().toString().padStart(2,"0"),Te.getUTCMinutes().toString().padStart(2,"0"),Te.getUTCSeconds().toString().padStart(2,"0")].join("")}function je(){const Te=Object.create(null);let Ae=!1;return Object.defineProperty(Te,"settled",{get(){return Ae}}),Te.promise=new Promise(function(Ee,Be){Te.resolve=function(ze){Ae=!0,Ee(ze)},Te.reject=function(ze){Ae=!0,Be(ze)}}),Te}},($,l,a)=>{var t=a(4);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!t.isNodeJS||(globalThis.btoa=function(c){return Buffer.from(c,"binary").toString("base64")})}(),function(){globalThis.atob||!t.isNodeJS||(globalThis.atob=function(c){return Buffer.from(c,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!t.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())}(),function(){globalThis.ReadableStream||!t.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||a(5)}(),function(){Uint8Array.prototype.at||a(77)}(),function(){globalThis.structuredClone||a(87)}())},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isNodeJS=void 0;const a=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");l.isNodeJS=a},($,l,a)=>{a(6);var t=a(76);$.exports=t("Array","at")},($,l,a)=>{var t=a(7),i=a(42),c=a(66),s=a(64),e=a(71);t({target:"Array",proto:!0},{at:function(m){var g=i(this),y=c(g),b=s(m),v=b>=0?b:y+b;return v<0||v>=y?void 0:g[v]}}),e("at")},($,l,a)=>{var t=a(8),i=a(9).f,c=a(46),s=a(50),e=a(40),u=a(58),m=a(70);$.exports=function(g,y){var b=g.target,v=g.global,o=g.stat,S,T,E,k,M,O;if(v?T=t:o?T=t[b]||e(b,{}):T=(t[b]||{}).prototype,T)for(E in y){if(M=y[E],g.dontCallGetSet?(O=i(T,E),k=O&&O.value):k=T[E],S=m(v?E:b+(o?".":"#")+E,g.forced),!S&&k!==void 0){if(typeof M==typeof k)continue;u(M,k)}(g.sham||k&&k.sham)&&c(M,"sham",!0),s(T,E,M,g)}}},$=>{var l=function(a){return a&&a.Math==Math&&a};$.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||function(){return this}()||Function("return this")()},($,l,a)=>{var t=a(10),i=a(12),c=a(14),s=a(15),e=a(16),u=a(21),m=a(41),g=a(44),y=Object.getOwnPropertyDescriptor;l.f=t?y:function(v,o){if(v=e(v),o=u(o),g)try{return y(v,o)}catch{}if(m(v,o))return s(!i(c.f,v,o),v[o])}},($,l,a)=>{var t=a(11);$.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},$=>{$.exports=function(l){try{return!!l()}catch{return!0}}},($,l,a)=>{var t=a(13),i=Function.prototype.call;$.exports=t?i.bind(i):function(){return i.apply(i,arguments)}},($,l,a)=>{var t=a(11);$.exports=!t(function(){var i=function(){}.bind();return typeof i!="function"||i.hasOwnProperty("prototype")})},($,l)=>{var a={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,i=t&&!a.call({1:2},1);l.f=i?function(s){var e=t(this,s);return!!e&&e.enumerable}:a},$=>{$.exports=function(l,a){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:a}}},($,l,a)=>{var t=a(17),i=a(20);$.exports=function(c){return t(i(c))}},($,l,a)=>{var t=a(18),i=a(11),c=a(19),s=Object,e=t("".split);$.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(u){return c(u)=="String"?e(u,""):s(u)}:s},($,l,a)=>{var t=a(13),i=Function.prototype,c=i.bind,s=i.call,e=t&&c.bind(s,s);$.exports=t?function(u){return u&&e(u)}:function(u){return u&&function(){return s.apply(u,arguments)}}},($,l,a)=>{var t=a(18),i=t({}.toString),c=t("".slice);$.exports=function(s){return c(i(s),8,-1)}},$=>{var l=TypeError;$.exports=function(a){if(a==null)throw l("Can't call method on "+a);return a}},($,l,a)=>{var t=a(22),i=a(25);$.exports=function(c){var s=t(c,"string");return i(s)?s:s+""}},($,l,a)=>{var t=a(12),i=a(23),c=a(25),s=a(32),e=a(35),u=a(36),m=TypeError,g=u("toPrimitive");$.exports=function(y,b){if(!i(y)||c(y))return y;var v=s(y,g),o;if(v){if(b===void 0&&(b="default"),o=t(v,y,b),!i(o)||c(o))return o;throw m("Can't convert object to primitive value")}return b===void 0&&(b="number"),e(y,b)}},($,l,a)=>{var t=a(24);$.exports=function(i){return typeof i=="object"?i!==null:t(i)}},$=>{$.exports=function(l){return typeof l=="function"}},($,l,a)=>{var t=a(26),i=a(24),c=a(27),s=a(28),e=Object;$.exports=s?function(u){return typeof u=="symbol"}:function(u){var m=t("Symbol");return i(m)&&c(m.prototype,e(u))}},($,l,a)=>{var t=a(8),i=a(24),c=function(s){return i(s)?s:void 0};$.exports=function(s,e){return arguments.length<2?c(t[s]):t[s]&&t[s][e]}},($,l,a)=>{var t=a(18);$.exports=t({}.isPrototypeOf)},($,l,a)=>{var t=a(29);$.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},($,l,a)=>{var t=a(30),i=a(11);$.exports=!!Object.getOwnPropertySymbols&&!i(function(){var c=Symbol();return!String(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&t&&t<41})},($,l,a)=>{var t=a(8),i=a(31),c=t.process,s=t.Deno,e=c&&c.versions||s&&s.version,u=e&&e.v8,m,g;u&&(m=u.split("."),g=m[0]>0&&m[0]<4?1:+(m[0]+m[1])),!g&&i&&(m=i.match(/Edge\/(\d+)/),(!m||m[1]>=74)&&(m=i.match(/Chrome\/(\d+)/),m&&(g=+m[1]))),$.exports=g},($,l,a)=>{var t=a(26);$.exports=t("navigator","userAgent")||""},($,l,a)=>{var t=a(33);$.exports=function(i,c){var s=i[c];return s==null?void 0:t(s)}},($,l,a)=>{var t=a(24),i=a(34),c=TypeError;$.exports=function(s){if(t(s))return s;throw c(i(s)+" is not a function")}},$=>{var l=String;$.exports=function(a){try{return l(a)}catch{return"Object"}}},($,l,a)=>{var t=a(12),i=a(24),c=a(23),s=TypeError;$.exports=function(e,u){var m,g;if(u==="string"&&i(m=e.toString)&&!c(g=t(m,e))||i(m=e.valueOf)&&!c(g=t(m,e))||u!=="string"&&i(m=e.toString)&&!c(g=t(m,e)))return g;throw s("Can't convert object to primitive value")}},($,l,a)=>{var t=a(8),i=a(37),c=a(41),s=a(43),e=a(29),u=a(28),m=i("wks"),g=t.Symbol,y=g&&g.for,b=u?g:g&&g.withoutSetter||s;$.exports=function(v){if(!c(m,v)||!(e||typeof m[v]=="string")){var o="Symbol."+v;e&&c(g,v)?m[v]=g[v]:u&&y?m[v]=y(o):m[v]=b(o)}return m[v]}},($,l,a)=>{var t=a(38),i=a(39);($.exports=function(c,s){return i[c]||(i[c]=s!==void 0?s:{})})("versions",[]).push({version:"3.24.1",mode:t?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},$=>{$.exports=!1},($,l,a)=>{var t=a(8),i=a(40),c="__core-js_shared__",s=t[c]||i(c,{});$.exports=s},($,l,a)=>{var t=a(8),i=Object.defineProperty;$.exports=function(c,s){try{i(t,c,{value:s,configurable:!0,writable:!0})}catch{t[c]=s}return s}},($,l,a)=>{var t=a(18),i=a(42),c=t({}.hasOwnProperty);$.exports=Object.hasOwn||function(e,u){return c(i(e),u)}},($,l,a)=>{var t=a(20),i=Object;$.exports=function(c){return i(t(c))}},($,l,a)=>{var t=a(18),i=0,c=Math.random(),s=t(1 .toString);$.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+s(++i+c,36)}},($,l,a)=>{var t=a(10),i=a(11),c=a(45);$.exports=!t&&!i(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},($,l,a)=>{var t=a(8),i=a(23),c=t.document,s=i(c)&&i(c.createElement);$.exports=function(e){return s?c.createElement(e):{}}},($,l,a)=>{var t=a(10),i=a(47),c=a(15);$.exports=t?function(s,e,u){return i.f(s,e,c(1,u))}:function(s,e,u){return s[e]=u,s}},($,l,a)=>{var t=a(10),i=a(44),c=a(48),s=a(49),e=a(21),u=TypeError,m=Object.defineProperty,g=Object.getOwnPropertyDescriptor,y="enumerable",b="configurable",v="writable";l.f=t?c?function(S,T,E){if(s(S),T=e(T),s(E),typeof S=="function"&&T==="prototype"&&"value"in E&&v in E&&!E[v]){var k=g(S,T);k&&k[v]&&(S[T]=E.value,E={configurable:b in E?E[b]:k[b],enumerable:y in E?E[y]:k[y],writable:!1})}return m(S,T,E)}:m:function(S,T,E){if(s(S),T=e(T),s(E),i)try{return m(S,T,E)}catch{}if("get"in E||"set"in E)throw u("Accessors not supported");return"value"in E&&(S[T]=E.value),S}},($,l,a)=>{var t=a(10),i=a(11);$.exports=t&&i(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},($,l,a)=>{var t=a(23),i=String,c=TypeError;$.exports=function(s){if(t(s))return s;throw c(i(s)+" is not an object")}},($,l,a)=>{var t=a(24),i=a(47),c=a(51),s=a(40);$.exports=function(e,u,m,g){g||(g={});var y=g.enumerable,b=g.name!==void 0?g.name:u;if(t(m)&&c(m,b,g),g.global)y?e[u]=m:s(u,m);else{try{g.unsafe?e[u]&&(y=!0):delete e[u]}catch{}y?e[u]=m:i.f(e,u,{value:m,enumerable:!1,configurable:!g.nonConfigurable,writable:!g.nonWritable})}return e}},($,l,a)=>{var t=a(11),i=a(24),c=a(41),s=a(10),e=a(52).CONFIGURABLE,u=a(53),m=a(54),g=m.enforce,y=m.get,b=Object.defineProperty,v=s&&!t(function(){return b(function(){},"length",{value:8}).length!==8}),o=String(String).split("String"),S=$.exports=function(T,E,k){String(E).slice(0,7)==="Symbol("&&(E="["+String(E).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),k&&k.getter&&(E="get "+E),k&&k.setter&&(E="set "+E),(!c(T,"name")||e&&T.name!==E)&&(s?b(T,"name",{value:E,configurable:!0}):T.name=E),v&&k&&c(k,"arity")&&T.length!==k.arity&&b(T,"length",{value:k.arity});try{k&&c(k,"constructor")&&k.constructor?s&&b(T,"prototype",{writable:!1}):T.prototype&&(T.prototype=void 0)}catch{}var M=g(T);return c(M,"source")||(M.source=o.join(typeof E=="string"?E:"")),T};Function.prototype.toString=S(function(){return i(this)&&y(this).source||u(this)},"toString")},($,l,a)=>{var t=a(10),i=a(41),c=Function.prototype,s=t&&Object.getOwnPropertyDescriptor,e=i(c,"name"),u=e&&function(){}.name==="something",m=e&&(!t||t&&s(c,"name").configurable);$.exports={EXISTS:e,PROPER:u,CONFIGURABLE:m}},($,l,a)=>{var t=a(18),i=a(24),c=a(39),s=t(Function.toString);i(c.inspectSource)||(c.inspectSource=function(e){return s(e)}),$.exports=c.inspectSource},($,l,a)=>{var t=a(55),i=a(8),c=a(18),s=a(23),e=a(46),u=a(41),m=a(39),g=a(56),y=a(57),b="Object already initialized",v=i.TypeError,o=i.WeakMap,S,T,E,k=function(R){return E(R)?T(R):S(R,{})},M=function(R){return function(I){var U;if(!s(I)||(U=T(I)).type!==R)throw v("Incompatible receiver, "+R+" required");return U}};if(t||m.state){var O=m.state||(m.state=new o),L=c(O.get),te=c(O.has),B=c(O.set);S=function(R,I){if(te(O,R))throw new v(b);return I.facade=R,B(O,R,I),I},T=function(R){return L(O,R)||{}},E=function(R){return te(O,R)}}else{var G=g("state");y[G]=!0,S=function(R,I){if(u(R,G))throw new v(b);return I.facade=R,e(R,G,I),I},T=function(R){return u(R,G)?R[G]:{}},E=function(R){return u(R,G)}}$.exports={set:S,get:T,has:E,enforce:k,getterFor:M}},($,l,a)=>{var t=a(8),i=a(24),c=a(53),s=t.WeakMap;$.exports=i(s)&&/native code/.test(c(s))},($,l,a)=>{var t=a(37),i=a(43),c=t("keys");$.exports=function(s){return c[s]||(c[s]=i(s))}},$=>{$.exports={}},($,l,a)=>{var t=a(41),i=a(59),c=a(9),s=a(47);$.exports=function(e,u,m){for(var g=i(u),y=s.f,b=c.f,v=0;v<g.length;v++){var o=g[v];!t(e,o)&&!(m&&t(m,o))&&y(e,o,b(u,o))}}},($,l,a)=>{var t=a(26),i=a(18),c=a(60),s=a(69),e=a(49),u=i([].concat);$.exports=t("Reflect","ownKeys")||function(g){var y=c.f(e(g)),b=s.f;return b?u(y,b(g)):y}},($,l,a)=>{var t=a(61),i=a(68),c=i.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(e){return t(e,c)}},($,l,a)=>{var t=a(18),i=a(41),c=a(16),s=a(62).indexOf,e=a(57),u=t([].push);$.exports=function(m,g){var y=c(m),b=0,v=[],o;for(o in y)!i(e,o)&&i(y,o)&&u(v,o);for(;g.length>b;)i(y,o=g[b++])&&(~s(v,o)||u(v,o));return v}},($,l,a)=>{var t=a(16),i=a(63),c=a(66),s=function(e){return function(u,m,g){var y=t(u),b=c(y),v=i(g,b),o;if(e&&m!=m){for(;b>v;)if(o=y[v++],o!=o)return!0}else for(;b>v;v++)if((e||v in y)&&y[v]===m)return e||v||0;return!e&&-1}};$.exports={includes:s(!0),indexOf:s(!1)}},($,l,a)=>{var t=a(64),i=Math.max,c=Math.min;$.exports=function(s,e){var u=t(s);return u<0?i(u+e,0):c(u,e)}},($,l,a)=>{var t=a(65);$.exports=function(i){var c=+i;return c!==c||c===0?0:t(c)}},$=>{var l=Math.ceil,a=Math.floor;$.exports=Math.trunc||function(i){var c=+i;return(c>0?a:l)(c)}},($,l,a)=>{var t=a(67);$.exports=function(i){return t(i.length)}},($,l,a)=>{var t=a(64),i=Math.min;$.exports=function(c){return c>0?i(t(c),9007199254740991):0}},$=>{$.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},($,l)=>{l.f=Object.getOwnPropertySymbols},($,l,a)=>{var t=a(11),i=a(24),c=/#|\.prototype\./,s=function(y,b){var v=u[e(y)];return v==g?!0:v==m?!1:i(b)?t(b):!!b},e=s.normalize=function(y){return String(y).replace(c,".").toLowerCase()},u=s.data={},m=s.NATIVE="N",g=s.POLYFILL="P";$.exports=s},($,l,a)=>{var t=a(36),i=a(72),c=a(47).f,s=t("unscopables"),e=Array.prototype;e[s]==null&&c(e,s,{configurable:!0,value:i(null)}),$.exports=function(u){e[s][u]=!0}},($,l,a)=>{var t=a(49),i=a(73),c=a(68),s=a(57),e=a(75),u=a(45),m=a(56),g=">",y="<",b="prototype",v="script",o=m("IE_PROTO"),S=function(){},T=function(L){return y+v+g+L+y+"/"+v+g},E=function(L){L.write(T("")),L.close();var te=L.parentWindow.Object;return L=null,te},k=function(){var L=u("iframe"),te="java"+v+":",B;return L.style.display="none",e.appendChild(L),L.src=String(te),B=L.contentWindow.document,B.open(),B.write(T("document.F=Object")),B.close(),B.F},M,O=function(){try{M=new ActiveXObject("htmlfile")}catch{}O=typeof document<"u"?document.domain&&M?E(M):k():E(M);for(var L=c.length;L--;)delete O[b][c[L]];return O()};s[o]=!0,$.exports=Object.create||function(te,B){var G;return te!==null?(S[b]=t(te),G=new S,S[b]=null,G[o]=te):G=O(),B===void 0?G:i.f(G,B)}},($,l,a)=>{var t=a(10),i=a(48),c=a(47),s=a(49),e=a(16),u=a(74);l.f=t&&!i?Object.defineProperties:function(g,y){s(g);for(var b=e(y),v=u(y),o=v.length,S=0,T;o>S;)c.f(g,T=v[S++],b[T]);return g}},($,l,a)=>{var t=a(61),i=a(68);$.exports=Object.keys||function(s){return t(s,i)}},($,l,a)=>{var t=a(26);$.exports=t("document","documentElement")},($,l,a)=>{var t=a(8),i=a(18);$.exports=function(c,s){return i(t[c].prototype[s])}},($,l,a)=>{a(78)},($,l,a)=>{var t=a(79),i=a(66),c=a(64),s=t.aTypedArray,e=t.exportTypedArrayMethod;e("at",function(m){var g=s(this),y=i(g),b=c(m),v=b>=0?b:y+b;return v<0||v>=y?void 0:g[v]})},($,l,a)=>{var t=a(80),i=a(10),c=a(8),s=a(24),e=a(23),u=a(41),m=a(81),g=a(34),y=a(46),b=a(50),v=a(47).f,o=a(27),S=a(83),T=a(85),E=a(36),k=a(43),M=a(54),O=M.enforce,L=M.get,te=c.Int8Array,B=te&&te.prototype,G=c.Uint8ClampedArray,R=G&&G.prototype,I=te&&S(te),U=B&&S(B),P=Object.prototype,A=c.TypeError,z=E("toStringTag"),N=k("TYPED_ARRAY_TAG"),W="TypedArrayConstructor",ie=t&&!!T&&m(c.opera)!=="Opera",Y=!1,F,D,Q,ee={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},Z=function(re){if(!e(re))return!1;var oe=m(re);return oe==="DataView"||u(ee,oe)||u(V,oe)},ae=function(J){var re=S(J);if(e(re)){var oe=L(re);return oe&&u(oe,W)?oe[W]:ae(re)}},H=function(J){if(!e(J))return!1;var re=m(J);return u(ee,re)||u(V,re)},q=function(J){if(H(J))return J;throw A("Target is not a typed array")},ne=function(J){if(s(J)&&(!T||o(I,J)))return J;throw A(g(J)+" is not a typed array constructor")},le=function(J,re,oe,ue){if(i){if(oe)for(var he in ee){var de=c[he];if(de&&u(de.prototype,J))try{delete de.prototype[J]}catch{try{de.prototype[J]=re}catch{}}}(!U[J]||oe)&&b(U,J,oe?re:ie&&B[J]||re,ue)}},se=function(J,re,oe){var ue,he;if(i){if(T){if(oe){for(ue in ee)if(he=c[ue],he&&u(he,J))try{delete he[J]}catch{}}if(!I[J]||oe)try{return b(I,J,oe?re:ie&&I[J]||re)}catch{}else return}for(ue in ee)he=c[ue],he&&(!he[J]||oe)&&b(he,J,re)}};for(F in ee)D=c[F],Q=D&&D.prototype,Q?O(Q)[W]=D:ie=!1;for(F in V)D=c[F],Q=D&&D.prototype,Q&&(O(Q)[W]=D);if((!ie||!s(I)||I===Function.prototype)&&(I=function(){throw A("Incorrect invocation")},ie))for(F in ee)c[F]&&T(c[F],I);if((!ie||!U||U===P)&&(U=I.prototype,ie))for(F in ee)c[F]&&T(c[F].prototype,U);if(ie&&S(R)!==U&&T(R,U),i&&!u(U,z)){Y=!0,v(U,z,{get:function(){return e(this)?this[N]:void 0}});for(F in ee)c[F]&&y(c[F],N,F)}$.exports={NATIVE_ARRAY_BUFFER_VIEWS:ie,TYPED_ARRAY_TAG:Y&&N,aTypedArray:q,aTypedArrayConstructor:ne,exportTypedArrayMethod:le,exportTypedArrayStaticMethod:se,getTypedArrayConstructor:ae,isView:Z,isTypedArray:H,TypedArray:I,TypedArrayPrototype:U}},$=>{$.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},($,l,a)=>{var t=a(82),i=a(24),c=a(19),s=a(36),e=s("toStringTag"),u=Object,m=c(function(){return arguments}())=="Arguments",g=function(y,b){try{return y[b]}catch{}};$.exports=t?c:function(y){var b,v,o;return y===void 0?"Undefined":y===null?"Null":typeof(v=g(b=u(y),e))=="string"?v:m?c(b):(o=c(b))=="Object"&&i(b.callee)?"Arguments":o}},($,l,a)=>{var t=a(36),i=t("toStringTag"),c={};c[i]="z",$.exports=String(c)==="[object z]"},($,l,a)=>{var t=a(41),i=a(24),c=a(42),s=a(56),e=a(84),u=s("IE_PROTO"),m=Object,g=m.prototype;$.exports=e?m.getPrototypeOf:function(y){var b=c(y);if(t(b,u))return b[u];var v=b.constructor;return i(v)&&b instanceof v?v.prototype:b instanceof m?g:null}},($,l,a)=>{var t=a(11);$.exports=!t(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},($,l,a)=>{var t=a(18),i=a(49),c=a(86);$.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,e={},u;try{u=t(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),u(e,[]),s=e instanceof Array}catch{}return function(g,y){return i(g),c(y),s?u(g,y):g.__proto__=y,g}}():void 0)},($,l,a)=>{var t=a(24),i=String,c=TypeError;$.exports=function(s){if(typeof s=="object"||t(s))return s;throw c("Can't set "+i(s)+" as a prototype")}},($,l,a)=>{a(88),a(94),a(96),a(118),a(120);var t=a(129);$.exports=t.structuredClone},($,l,a)=>{var t=a(16),i=a(71),c=a(89),s=a(54),e=a(47).f,u=a(90),m=a(38),g=a(10),y="Array Iterator",b=s.set,v=s.getterFor(y);$.exports=u(Array,"Array",function(S,T){b(this,{type:y,target:t(S),index:0,kind:T})},function(){var S=v(this),T=S.target,E=S.kind,k=S.index++;return!T||k>=T.length?(S.target=void 0,{value:void 0,done:!0}):E=="keys"?{value:k,done:!1}:E=="values"?{value:T[k],done:!1}:{value:[k,T[k]],done:!1}},"values");var o=c.Arguments=c.Array;if(i("keys"),i("values"),i("entries"),!m&&g&&o.name!=="values")try{e(o,"name",{value:"values"})}catch{}},$=>{$.exports={}},($,l,a)=>{var t=a(7),i=a(12),c=a(38),s=a(52),e=a(24),u=a(91),m=a(83),g=a(85),y=a(93),b=a(46),v=a(50),o=a(36),S=a(89),T=a(92),E=s.PROPER,k=s.CONFIGURABLE,M=T.IteratorPrototype,O=T.BUGGY_SAFARI_ITERATORS,L=o("iterator"),te="keys",B="values",G="entries",R=function(){return this};$.exports=function(I,U,P,A,z,N,W){u(P,U,A);var ie=function(q){if(q===z&&ee)return ee;if(!O&&q in D)return D[q];switch(q){case te:return function(){return new P(this,q)};case B:return function(){return new P(this,q)};case G:return function(){return new P(this,q)}}return function(){return new P(this)}},Y=U+" Iterator",F=!1,D=I.prototype,Q=D[L]||D["@@iterator"]||z&&D[z],ee=!O&&Q||ie(z),V=U=="Array"&&D.entries||Q,Z,ae,H;if(V&&(Z=m(V.call(new I)),Z!==Object.prototype&&Z.next&&(!c&&m(Z)!==M&&(g?g(Z,M):e(Z[L])||v(Z,L,R)),y(Z,Y,!0,!0),c&&(S[Y]=R))),E&&z==B&&Q&&Q.name!==B&&(!c&&k?b(D,"name",B):(F=!0,ee=function(){return i(Q,this)})),z)if(ae={values:ie(B),keys:N?ee:ie(te),entries:ie(G)},W)for(H in ae)(O||F||!(H in D))&&v(D,H,ae[H]);else t({target:U,proto:!0,forced:O||F},ae);return(!c||W)&&D[L]!==ee&&v(D,L,ee,{name:z}),S[U]=ee,ae}},($,l,a)=>{var t=a(92).IteratorPrototype,i=a(72),c=a(15),s=a(93),e=a(89),u=function(){return this};$.exports=function(m,g,y,b){var v=g+" Iterator";return m.prototype=i(t,{next:c(+!b,y)}),s(m,v,!1,!0),e[v]=u,m}},($,l,a)=>{var t=a(11),i=a(24),c=a(72),s=a(83),e=a(50),u=a(36),m=a(38),g=u("iterator"),y=!1,b,v,o;[].keys&&(o=[].keys(),"next"in o?(v=s(s(o)),v!==Object.prototype&&(b=v)):y=!0);var S=b==null||t(function(){var T={};return b[g].call(T)!==T});S?b={}:m&&(b=c(b)),i(b[g])||e(b,g,function(){return this}),$.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:y}},($,l,a)=>{var t=a(47).f,i=a(41),c=a(36),s=c("toStringTag");$.exports=function(e,u,m){e&&!m&&(e=e.prototype),e&&!i(e,s)&&t(e,s,{configurable:!0,value:u})}},($,l,a)=>{var t=a(82),i=a(50),c=a(95);t||i(Object.prototype,"toString",c,{unsafe:!0})},($,l,a)=>{var t=a(82),i=a(81);$.exports=t?{}.toString:function(){return"[object "+i(this)+"]"}},($,l,a)=>{a(97)},($,l,a)=>{var t=a(98),i=a(115);t("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},i)},($,l,a)=>{var t=a(7),i=a(8),c=a(18),s=a(70),e=a(50),u=a(99),m=a(106),g=a(112),y=a(24),b=a(23),v=a(11),o=a(113),S=a(93),T=a(114);$.exports=function(E,k,M){var O=E.indexOf("Map")!==-1,L=E.indexOf("Weak")!==-1,te=O?"set":"add",B=i[E],G=B&&B.prototype,R=B,I={},U=function(Y){var F=c(G[Y]);e(G,Y,Y=="add"?function(Q){return F(this,Q===0?0:Q),this}:Y=="delete"?function(D){return L&&!b(D)?!1:F(this,D===0?0:D)}:Y=="get"?function(Q){return L&&!b(Q)?void 0:F(this,Q===0?0:Q)}:Y=="has"?function(Q){return L&&!b(Q)?!1:F(this,Q===0?0:Q)}:function(Q,ee){return F(this,Q===0?0:Q,ee),this})},P=s(E,!y(B)||!(L||G.forEach&&!v(function(){new B().entries().next()})));if(P)R=M.getConstructor(k,E,O,te),u.enable();else if(s(E,!0)){var A=new R,z=A[te](L?{}:-0,1)!=A,N=v(function(){A.has(1)}),W=o(function(Y){new B(Y)}),ie=!L&&v(function(){for(var Y=new B,F=5;F--;)Y[te](F,F);return!Y.has(-0)});W||(R=k(function(Y,F){g(Y,G);var D=T(new B,Y,R);return F!=null&&m(F,D[te],{that:D,AS_ENTRIES:O}),D}),R.prototype=G,G.constructor=R),(N||ie)&&(U("delete"),U("has"),O&&U("get")),(ie||z)&&U(te),L&&G.clear&&delete G.clear}return I[E]=R,t({global:!0,constructor:!0,forced:R!=B},I),S(R,E),L||M.setStrong(R,E,O),R}},($,l,a)=>{var t=a(7),i=a(18),c=a(57),s=a(23),e=a(41),u=a(47).f,m=a(60),g=a(100),y=a(103),b=a(43),v=a(105),o=!1,S=b("meta"),T=0,E=function(B){u(B,S,{value:{objectID:"O"+T++,weakData:{}}})},k=function(B,G){if(!s(B))return typeof B=="symbol"?B:(typeof B=="string"?"S":"P")+B;if(!e(B,S)){if(!y(B))return"F";if(!G)return"E";E(B)}return B[S].objectID},M=function(B,G){if(!e(B,S)){if(!y(B))return!0;if(!G)return!1;E(B)}return B[S].weakData},O=function(B){return v&&o&&y(B)&&!e(B,S)&&E(B),B},L=function(){te.enable=function(){},o=!0;var B=m.f,G=i([].splice),R={};R[S]=1,B(R).length&&(m.f=function(I){for(var U=B(I),P=0,A=U.length;P<A;P++)if(U[P]===S){G(U,P,1);break}return U},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:g.f}))},te=$.exports={enable:L,fastKey:k,getWeakData:M,onFreeze:O};c[S]=!0},($,l,a)=>{var t=a(19),i=a(16),c=a(60).f,s=a(101),e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(m){try{return c(m)}catch{return s(e)}};$.exports.f=function(g){return e&&t(g)=="Window"?u(g):c(i(g))}},($,l,a)=>{var t=a(63),i=a(66),c=a(102),s=Array,e=Math.max;$.exports=function(u,m,g){for(var y=i(u),b=t(m,y),v=t(g===void 0?y:g,y),o=s(e(v-b,0)),S=0;b<v;b++,S++)c(o,S,u[b]);return o.length=S,o}},($,l,a)=>{var t=a(21),i=a(47),c=a(15);$.exports=function(s,e,u){var m=t(e);m in s?i.f(s,m,c(0,u)):s[m]=u}},($,l,a)=>{var t=a(11),i=a(23),c=a(19),s=a(104),e=Object.isExtensible,u=t(function(){});$.exports=u||s?function(g){return!i(g)||s&&c(g)=="ArrayBuffer"?!1:e?e(g):!0}:e},($,l,a)=>{var t=a(11);$.exports=t(function(){if(typeof ArrayBuffer=="function"){var i=new ArrayBuffer(8);Object.isExtensible(i)&&Object.defineProperty(i,"a",{value:8})}})},($,l,a)=>{var t=a(11);$.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},($,l,a)=>{var t=a(107),i=a(12),c=a(49),s=a(34),e=a(108),u=a(66),m=a(27),g=a(109),y=a(110),b=a(111),v=TypeError,o=function(T,E){this.stopped=T,this.result=E},S=o.prototype;$.exports=function(T,E,k){var M=k&&k.that,O=!!(k&&k.AS_ENTRIES),L=!!(k&&k.IS_RECORD),te=!!(k&&k.IS_ITERATOR),B=!!(k&&k.INTERRUPTED),G=t(E,M),R,I,U,P,A,z,N,W=function(Y){return R&&b(R,"normal",Y),new o(!0,Y)},ie=function(Y){return O?(c(Y),B?G(Y[0],Y[1],W):G(Y[0],Y[1])):B?G(Y,W):G(Y)};if(L)R=T.iterator;else if(te)R=T;else{if(I=y(T),!I)throw v(s(T)+" is not iterable");if(e(I)){for(U=0,P=u(T);P>U;U++)if(A=ie(T[U]),A&&m(S,A))return A;return new o(!1)}R=g(T,I)}for(z=L?T.next:R.next;!(N=i(z,R)).done;){try{A=ie(N.value)}catch(Y){b(R,"throw",Y)}if(typeof A=="object"&&A&&m(S,A))return A}return new o(!1)}},($,l,a)=>{var t=a(18),i=a(33),c=a(13),s=t(t.bind);$.exports=function(e,u){return i(e),u===void 0?e:c?s(e,u):function(){return e.apply(u,arguments)}}},($,l,a)=>{var t=a(36),i=a(89),c=t("iterator"),s=Array.prototype;$.exports=function(e){return e!==void 0&&(i.Array===e||s[c]===e)}},($,l,a)=>{var t=a(12),i=a(33),c=a(49),s=a(34),e=a(110),u=TypeError;$.exports=function(m,g){var y=arguments.length<2?e(m):g;if(i(y))return c(t(y,m));throw u(s(m)+" is not iterable")}},($,l,a)=>{var t=a(81),i=a(32),c=a(89),s=a(36),e=s("iterator");$.exports=function(u){if(u!=null)return i(u,e)||i(u,"@@iterator")||c[t(u)]}},($,l,a)=>{var t=a(12),i=a(49),c=a(32);$.exports=function(s,e,u){var m,g;i(s);try{if(m=c(s,"return"),!m){if(e==="throw")throw u;return u}m=t(m,s)}catch(y){g=!0,m=y}if(e==="throw")throw u;if(g)throw m;return i(m),u}},($,l,a)=>{var t=a(27),i=TypeError;$.exports=function(c,s){if(t(s,c))return c;throw i("Incorrect invocation")}},($,l,a)=>{var t=a(36),i=t("iterator"),c=!1;try{var s=0,e={next:function(){return{done:!!s++}},return:function(){c=!0}};e[i]=function(){return this},Array.from(e,function(){throw 2})}catch{}$.exports=function(u,m){if(!m&&!c)return!1;var g=!1;try{var y={};y[i]=function(){return{next:function(){return{done:g=!0}}}},u(y)}catch{}return g}},($,l,a)=>{var t=a(24),i=a(23),c=a(85);$.exports=function(s,e,u){var m,g;return c&&t(m=e.constructor)&&m!==u&&i(g=m.prototype)&&g!==u.prototype&&c(s,g),s}},($,l,a)=>{var t=a(47).f,i=a(72),c=a(116),s=a(107),e=a(112),u=a(106),m=a(90),g=a(117),y=a(10),b=a(99).fastKey,v=a(54),o=v.set,S=v.getterFor;$.exports={getConstructor:function(T,E,k,M){var O=T(function(R,I){e(R,L),o(R,{type:E,index:i(null),first:void 0,last:void 0,size:0}),y||(R.size=0),I!=null&&u(I,R[M],{that:R,AS_ENTRIES:k})}),L=O.prototype,te=S(E),B=function(R,I,U){var P=te(R),A=G(R,I),z,N;return A?A.value=U:(P.last=A={index:N=b(I,!0),key:I,value:U,previous:z=P.last,next:void 0,removed:!1},P.first||(P.first=A),z&&(z.next=A),y?P.size++:R.size++,N!=="F"&&(P.index[N]=A)),R},G=function(R,I){var U=te(R),P=b(I),A;if(P!=="F")return U.index[P];for(A=U.first;A;A=A.next)if(A.key==I)return A};return c(L,{clear:function(){for(var I=this,U=te(I),P=U.index,A=U.first;A;)A.removed=!0,A.previous&&(A.previous=A.previous.next=void 0),delete P[A.index],A=A.next;U.first=U.last=void 0,y?U.size=0:I.size=0},delete:function(R){var I=this,U=te(I),P=G(I,R);if(P){var A=P.next,z=P.previous;delete U.index[P.index],P.removed=!0,z&&(z.next=A),A&&(A.previous=z),U.first==P&&(U.first=A),U.last==P&&(U.last=z),y?U.size--:I.size--}return!!P},forEach:function(I){for(var U=te(this),P=s(I,arguments.length>1?arguments[1]:void 0),A;A=A?A.next:U.first;)for(P(A.value,A.key,this);A&&A.removed;)A=A.previous},has:function(I){return!!G(this,I)}}),c(L,k?{get:function(I){var U=G(this,I);return U&&U.value},set:function(I,U){return B(this,I===0?0:I,U)}}:{add:function(I){return B(this,I=I===0?0:I,I)}}),y&&t(L,"size",{get:function(){return te(this).size}}),O},setStrong:function(T,E,k){var M=E+" Iterator",O=S(E),L=S(M);m(T,E,function(te,B){o(this,{type:M,target:te,state:O(te),kind:B,last:void 0})},function(){for(var te=L(this),B=te.kind,G=te.last;G&&G.removed;)G=G.previous;return!te.target||!(te.last=G=G?G.next:te.state.first)?(te.target=void 0,{value:void 0,done:!0}):B=="keys"?{value:G.key,done:!1}:B=="values"?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}},k?"entries":"values",!k,!0),g(E)}}},($,l,a)=>{var t=a(50);$.exports=function(i,c,s){for(var e in c)t(i,e,c[e],s);return i}},($,l,a)=>{var t=a(26),i=a(47),c=a(36),s=a(10),e=c("species");$.exports=function(u){var m=t(u),g=i.f;s&&m&&!m[e]&&g(m,e,{configurable:!0,get:function(){return this}})}},($,l,a)=>{a(119)},($,l,a)=>{var t=a(98),i=a(115);t("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},i)},($,l,a)=>{var t=a(38),i=a(7),c=a(8),s=a(26),e=a(18),u=a(11),m=a(43),g=a(24),y=a(121),b=a(23),v=a(25),o=a(106),S=a(49),T=a(81),E=a(41),k=a(102),M=a(46),O=a(66),L=a(122),te=a(123),B=a(125),G=a(30),R=a(126),I=a(127),U=a(128),P=c.Object,A=c.Date,z=c.Error,N=c.EvalError,W=c.RangeError,ie=c.ReferenceError,Y=c.SyntaxError,F=c.TypeError,D=c.URIError,Q=c.PerformanceMark,ee=c.WebAssembly,V=ee&&ee.CompileError||z,Z=ee&&ee.LinkError||z,ae=ee&&ee.RuntimeError||z,H=s("DOMException"),q=s("Set"),ne=s("Map"),le=ne.prototype,se=e(le.has),J=e(le.get),re=e(le.set),oe=e(q.prototype.add),ue=s("Object","keys"),he=e([].push),de=e((!0).valueOf),pe=e(1 .valueOf),fe=e("".valueOf),be=e(A.prototype.getTime),ge=m("structuredClone"),Se="DataCloneError",ve="Transferring",we=function(Pe){return!u(function(){var $e=new c.Set([7]),je=Pe($e),Te=Pe(P(7));return je==$e||!je.has(7)||typeof Te!="object"||Te!=7})&&Pe},Fe=function(Pe,$e){return!u(function(){var je=new $e,Te=Pe({a:je,b:je});return!(Te&&Te.a===Te.b&&Te.a instanceof $e&&Te.a.stack===je.stack)})},Ce=function(Pe){return!u(function(){var $e=Pe(new c.AggregateError([1],ge,{cause:3}));return $e.name!="AggregateError"||$e.errors[0]!=1||$e.message!=ge||$e.cause!=3})},ye=c.structuredClone,ke=t||!Fe(ye,z)||!Fe(ye,H)||!Ce(ye),De=!ye&&we(function(Pe){return new Q(ge,{detail:Pe}).detail}),Ie=we(ye)||De,Me=function(Pe){throw new H("Uncloneable type: "+Pe,Se)},Ne=function(Pe,$e){throw new H(($e||"Cloning")+" of "+Pe+" cannot be properly polyfilled in this engine",Se)},Re=function(Pe,$e){if(v(Pe)&&Me("Symbol"),!b(Pe))return Pe;if($e){if(se($e,Pe))return J($e,Pe)}else $e=new ne;var je=T(Pe),Te=!1,Ae,Ee,Be,ze,We,tt,Ze,Xe,st,gt;switch(je){case"Array":Be=[],Te=!0;break;case"Object":Be={},Te=!0;break;case"Map":Be=new ne,Te=!0;break;case"Set":Be=new q,Te=!0;break;case"RegExp":Be=new RegExp(Pe.source,te(Pe));break;case"Error":switch(Ee=Pe.name,Ee){case"AggregateError":Be=s("AggregateError")([]);break;case"EvalError":Be=N();break;case"RangeError":Be=W();break;case"ReferenceError":Be=ie();break;case"SyntaxError":Be=Y();break;case"TypeError":Be=F();break;case"URIError":Be=D();break;case"CompileError":Be=V();break;case"LinkError":Be=Z();break;case"RuntimeError":Be=ae();break;default:Be=z()}Te=!0;break;case"DOMException":Be=new H(Pe.message,Pe.name),Te=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ae=c[je],b(Ae)||Ne(je),Be=new Ae(Re(Pe.buffer,$e),Pe.byteOffset,je==="DataView"?Pe.byteLength:Pe.length);break;case"DOMQuad":try{Be=new DOMQuad(Re(Pe.p1,$e),Re(Pe.p2,$e),Re(Pe.p3,$e),Re(Pe.p4,$e))}catch{Ie?Be=Ie(Pe):Ne(je)}break;case"FileList":if(Ae=c.DataTransfer,y(Ae)){for(ze=new Ae,We=0,tt=O(Pe);We<tt;We++)ze.items.add(Re(Pe[We],$e));Be=ze.files}else Ie?Be=Ie(Pe):Ne(je);break;case"ImageData":try{Be=new ImageData(Re(Pe.data,$e),Pe.width,Pe.height,{colorSpace:Pe.colorSpace})}catch{Ie?Be=Ie(Pe):Ne(je)}break;default:if(Ie)Be=Ie(Pe);else switch(je){case"BigInt":Be=P(Pe.valueOf());break;case"Boolean":Be=P(de(Pe));break;case"Number":Be=P(pe(Pe));break;case"String":Be=P(fe(Pe));break;case"Date":Be=new A(be(Pe));break;case"ArrayBuffer":Ae=c.DataView,!Ae&&typeof Pe.slice!="function"&&Ne(je);try{if(typeof Pe.slice=="function")Be=Pe.slice(0);else for(tt=Pe.byteLength,Be=new ArrayBuffer(tt),st=new Ae(Pe),gt=new Ae(Be),We=0;We<tt;We++)gt.setUint8(We,st.getUint8(We))}catch{throw new H("ArrayBuffer is detached",Se)}break;case"SharedArrayBuffer":Be=Pe;break;case"Blob":try{Be=Pe.slice(0,Pe.size,Pe.type)}catch{Ne(je)}break;case"DOMPoint":case"DOMPointReadOnly":Ae=c[je];try{Be=Ae.fromPoint?Ae.fromPoint(Pe):new Ae(Pe.x,Pe.y,Pe.z,Pe.w)}catch{Ne(je)}break;case"DOMRect":case"DOMRectReadOnly":Ae=c[je];try{Be=Ae.fromRect?Ae.fromRect(Pe):new Ae(Pe.x,Pe.y,Pe.width,Pe.height)}catch{Ne(je)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Ae=c[je];try{Be=Ae.fromMatrix?Ae.fromMatrix(Pe):new Ae(Pe)}catch{Ne(je)}break;case"AudioData":case"VideoFrame":g(Pe.clone)||Ne(je);try{Be=Pe.clone()}catch{Me(je)}break;case"File":try{Be=new File([Pe],Pe.name,Pe)}catch{Ne(je)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Ne(je);default:Me(je)}}if(re($e,Pe,Be),Te)switch(je){case"Array":case"Object":for(Ze=ue(Pe),We=0,tt=O(Ze);We<tt;We++)Xe=Ze[We],k(Be,Xe,Re(Pe[Xe],$e));break;case"Map":Pe.forEach(function(Ge,ht){re(Be,Re(ht,$e),Re(Ge,$e))});break;case"Set":Pe.forEach(function(Ge){oe(Be,Re(Ge,$e))});break;case"Error":M(Be,"message",Re(Pe.message,$e)),E(Pe,"cause")&&M(Be,"cause",Re(Pe.cause,$e)),Ee=="AggregateError"&&(Be.errors=Re(Pe.errors,$e));case"DOMException":B&&M(Be,"stack",Re(Pe.stack,$e))}return Be},Oe=ye&&!u(function(){if(I&&G>92||U&&G>94||R&&G>97)return!1;var Pe=new ArrayBuffer(8),$e=ye(Pe,{transfer:[Pe]});return Pe.byteLength!=0||$e.byteLength!=8}),Le=function(Pe,$e){if(!b(Pe))throw F("Transfer option cannot be converted to a sequence");var je=[];o(Pe,function(st){he(je,S(st))});var Te=0,Ae=O(je),Ee,Be,ze,We,tt,Ze,Xe;if(Oe)for(We=ye(je,{transfer:je});Te<Ae;)re($e,je[Te],We[Te++]);else for(;Te<Ae;){if(Ee=je[Te++],se($e,Ee))throw new H("Duplicate transferable",Se);switch(Be=T(Ee),Be){case"ImageBitmap":ze=c.OffscreenCanvas,y(ze)||Ne(Be,ve);try{Ze=new ze(Ee.width,Ee.height),Xe=Ze.getContext("bitmaprenderer"),Xe.transferFromImageBitmap(Ee),tt=Ze.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!g(Ee.clone)||!g(Ee.close))&&Ne(Be,ve);try{tt=Ee.clone(),Ee.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Ne(Be,ve)}if(tt===void 0)throw new H("This object cannot be transferred: "+Be,Se);re($e,Ee,tt)}};i({global:!0,enumerable:!0,sham:!Oe,forced:ke},{structuredClone:function($e){var je=L(arguments.length,1)>1&&arguments[1]!=null?S(arguments[1]):void 0,Te=je?je.transfer:void 0,Ae;return Te!==void 0&&(Ae=new ne,Le(Te,Ae)),Re($e,Ae)}})},($,l,a)=>{var t=a(18),i=a(11),c=a(24),s=a(81),e=a(26),u=a(53),m=function(){},g=[],y=e("Reflect","construct"),b=/^\s*(?:class|function)\b/,v=t(b.exec),o=!b.exec(m),S=function(k){if(!c(k))return!1;try{return y(m,g,k),!0}catch{return!1}},T=function(k){if(!c(k))return!1;switch(s(k)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return o||!!v(b,u(k))}catch{return!0}};T.sham=!0,$.exports=!y||i(function(){var E;return S(S.call)||!S(Object)||!S(function(){E=!0})||E})?T:S},$=>{var l=TypeError;$.exports=function(a,t){if(a<t)throw l("Not enough arguments");return a}},($,l,a)=>{var t=a(12),i=a(41),c=a(27),s=a(124),e=RegExp.prototype;$.exports=function(u){var m=u.flags;return m===void 0&&!("flags"in e)&&!i(u,"flags")&&c(e,u)?t(s,u):m}},($,l,a)=>{var t=a(49);$.exports=function(){var i=t(this),c="";return i.hasIndices&&(c+="d"),i.global&&(c+="g"),i.ignoreCase&&(c+="i"),i.multiline&&(c+="m"),i.dotAll&&(c+="s"),i.unicode&&(c+="u"),i.unicodeSets&&(c+="v"),i.sticky&&(c+="y"),c}},($,l,a)=>{var t=a(11),i=a(15);$.exports=!t(function(){var c=Error("a");return"stack"in c?(Object.defineProperty(c,"stack",i(1,7)),c.stack!==7):!0})},($,l,a)=>{var t=a(127),i=a(128);$.exports=!t&&!i&&typeof window=="object"&&typeof document=="object"},$=>{$.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},($,l,a)=>{var t=a(19),i=a(8);$.exports=t(i.process)=="process"},($,l,a)=>{var t=a(8);$.exports=t},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RefSetCache=l.RefSet=l.Ref=l.Name=l.EOF=l.Dict=l.Cmd=l.CIRCULAR_REF=void 0,l.clearPrimitiveCaches=E,l.isCmd=o,l.isDict=S,l.isName=v,l.isRefsEqual=T;var t=a(2);const i=Symbol("CIRCULAR_REF");l.CIRCULAR_REF=i;const c=Symbol("EOF");l.EOF=c;const s=function(){let M=Object.create(null);class O{constructor(te){this.name=te}static get(te){return M[te]||(M[te]=new O(te))}static _clearCache(){M=Object.create(null)}}return O}();l.Name=s;const e=function(){let M=Object.create(null);class O{constructor(te){this.cmd=te}static get(te){return M[te]||(M[te]=new O(te))}static _clearCache(){M=Object.create(null)}}return O}();l.Cmd=e;const u=function(){return u};class m{constructor(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._map=Object.create(null),this.xref=M,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=u}assignXref(M){this.xref=M}get size(){return Object.keys(this._map).length}get(M,O,L){let te=this._map[M];return te===void 0&&O!==void 0&&(te=this._map[O],te===void 0&&L!==void 0&&(te=this._map[L])),te instanceof g&&this.xref?this.xref.fetch(te,this.suppressEncryption):te}async getAsync(M,O,L){let te=this._map[M];return te===void 0&&O!==void 0&&(te=this._map[O],te===void 0&&L!==void 0&&(te=this._map[L])),te instanceof g&&this.xref?this.xref.fetchAsync(te,this.suppressEncryption):te}getArray(M,O,L){let te=this._map[M];if(te===void 0&&O!==void 0&&(te=this._map[O],te===void 0&&L!==void 0&&(te=this._map[L])),te instanceof g&&this.xref&&(te=this.xref.fetch(te,this.suppressEncryption)),Array.isArray(te)){te=te.slice();for(let B=0,G=te.length;B<G;B++)te[B]instanceof g&&this.xref&&(te[B]=this.xref.fetch(te[B],this.suppressEncryption))}return te}getRaw(M){return this._map[M]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(M,O){this._map[M]=O}has(M){return this._map[M]!==void 0}forEach(M){for(const O in this._map)M(O,this.get(O))}static get empty(){const M=new m(null);return M.set=(O,L)=>{(0,t.unreachable)("Should not call `set` on the empty dictionary.")},(0,t.shadow)(this,"empty",M)}static merge(M){let{xref:O,dictArray:L,mergeSubDicts:te=!1}=M;const B=new m(O),G=new Map;for(const R of L)if(R instanceof m)for(const[I,U]of Object.entries(R._map)){let P=G.get(I);if(P===void 0)P=[],G.set(I,P);else if(!te||!(U instanceof m))continue;P.push(U)}for(const[R,I]of G){if(I.length===1||!(I[0]instanceof m)){B._map[R]=I[0];continue}const U=new m(O);for(const P of I)for(const[A,z]of Object.entries(P._map))U._map[A]===void 0&&(U._map[A]=z);U.size>0&&(B._map[R]=U)}return G.clear(),B.size>0?B:m.empty}}l.Dict=m;const g=function(){let M=Object.create(null);class O{constructor(te,B){this.num=te,this.gen=B}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(te,B){const G=B===0?`${te}R`:`${te}R${B}`;return M[G]||(M[G]=new O(te,B))}static _clearCache(){M=Object.create(null)}}return O}();l.Ref=g;class y{constructor(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._set=new Set(M&&M._set)}has(M){return this._set.has(M.toString())}put(M){this._set.add(M.toString())}remove(M){this._set.delete(M.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}l.RefSet=y;class b{constructor(){this._map=new Map}get size(){return this._map.size}get(M){return this._map.get(M.toString())}has(M){return this._map.has(M.toString())}put(M,O){this._map.set(M.toString(),O)}putAlias(M,O){this._map.set(M.toString(),this.get(O))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}l.RefSetCache=b;function v(k,M){return k instanceof s&&(M===void 0||k.name===M)}function o(k,M){return k instanceof e&&(M===void 0||k.cmd===M)}function S(k,M){return k instanceof m&&(M===void 0||v(k.get("Type"),M))}function T(k,M){return k.num===M.num&&k.gen===M.gen}function E(){e._clearCache(),s._clearCache(),g._clearCache()}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XRefParseException=l.XRefEntryException=l.ParserEOFException=l.MissingDataException=l.DocStats=void 0,l.collectActions=G,l.encodeToXmlString=I,l.escapePDFName=te,l.getArrayLookupTableFactory=e,l.getInheritableProperty=v,l.getLookupTableFactory=s,l.getNewAnnotationsMap=z,l.isWhiteSpace=O,l.log2=T,l.numberToString=A,l.parseXFAPath=L,l.readInt8=E,l.readUint16=k,l.readUint32=M,l.recoverJsURL=P,l.toRomanNumerals=S,l.validateCSSFont=U;var t=a(2),i=a(130),c=a(132);function s(N){let W;return function(){return N&&(W=Object.create(null),N(W),N=null),W}}function e(N){let W;return function(){if(N){let ie=N();N=null,W=Object.create(null);for(let Y=0,F=ie.length;Y<F;Y+=2)W[ie[Y]]=ie[Y+1];ie=null}return W}}class u extends t.BaseException{constructor(W,ie){super(`Missing data [${W}, ${ie})`,"MissingDataException"),this.begin=W,this.end=ie}}l.MissingDataException=u;class m extends t.BaseException{constructor(W){super(W,"ParserEOFException")}}l.ParserEOFException=m;class g extends t.BaseException{constructor(W){super(W,"XRefEntryException")}}l.XRefEntryException=g;class y extends t.BaseException{constructor(W){super(W,"XRefParseException")}}l.XRefParseException=y;class b{constructor(W){this._handler=W,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const W=Object.create(null),ie=Object.create(null);for(const Y of this._streamTypes)W[Y]=!0;for(const Y of this._fontTypes)ie[Y]=!0;this._handler.send("DocStats",{streamTypes:W,fontTypes:ie})}addStreamType(W){this._streamTypes.has(W)||(this._streamTypes.add(W),this._send())}addFontType(W){this._fontTypes.has(W)||(this._fontTypes.add(W),this._send())}}l.DocStats=b;function v(N){let{dict:W,key:ie,getArray:Y=!1,stopWhenFound:F=!0}=N,D;const Q=new i.RefSet;for(;W instanceof i.Dict&&!(W.objId&&Q.has(W.objId));){W.objId&&Q.put(W.objId);const ee=Y?W.getArray(ie):W.get(ie);if(ee!==void 0){if(F)return ee;D||(D=[]),D.push(ee)}W=W.get("Parent")}return D}const o=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function S(N){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,t.assert)(Number.isInteger(N)&&N>0,"The number should be a positive integer.");const ie=[];let Y;for(;N>=1e3;)N-=1e3,ie.push("M");Y=N/100|0,N%=100,ie.push(o[Y]),Y=N/10|0,N%=10,ie.push(o[10+Y]),ie.push(o[20+N]);const F=ie.join("");return W?F.toLowerCase():F}function T(N){return N<=0?0:Math.ceil(Math.log2(N))}function E(N,W){return N[W]<<24>>24}function k(N,W){return N[W]<<8|N[W+1]}function M(N,W){return(N[W]<<24|N[W+1]<<16|N[W+2]<<8|N[W+3])>>>0}function O(N){return N===32||N===9||N===13||N===10}function L(N){const W=/(.+)\[(\d+)\]$/;return N.split(".").map(ie=>{const Y=ie.match(W);return Y?{name:Y[1],pos:parseInt(Y[2],10)}:{name:ie,pos:0}})}function te(N){const W=[];let ie=0;for(let Y=0,F=N.length;Y<F;Y++){const D=N.charCodeAt(Y);(D<33||D>126||D===35||D===40||D===41||D===60||D===62||D===91||D===93||D===123||D===125||D===47||D===37)&&(ie<Y&&W.push(N.substring(ie,Y)),W.push(`#${D.toString(16)}`),ie=Y+1)}return W.length===0?N:(ie<N.length&&W.push(N.substring(ie,N.length)),W.join(""))}function B(N,W,ie,Y){if(!N)return;let F=null;if(N instanceof i.Ref){if(Y.has(N))return;F=N,Y.put(F),N=W.fetch(N)}if(Array.isArray(N))for(const D of N)B(D,W,ie,Y);else if(N instanceof i.Dict){if((0,i.isName)(N.get("S"),"JavaScript")){const D=N.get("JS");let Q;D instanceof c.BaseStream?Q=D.getString():typeof D=="string"&&(Q=D),Q=Q&&(0,t.stringToPDFString)(Q).replace(/\u0000/g,""),Q&&ie.push(Q)}B(N.getRaw("Next"),W,ie,Y)}F&&Y.remove(F)}function G(N,W,ie){const Y=Object.create(null),F=v({dict:W,key:"AA",stopWhenFound:!1});if(F)for(let D=F.length-1;D>=0;D--){const Q=F[D];if(Q instanceof i.Dict)for(const ee of Q.getKeys()){const V=ie[ee];if(!V)continue;const Z=Q.getRaw(ee),ae=new i.RefSet,H=[];B(Z,N,H,ae),H.length>0&&(Y[V]=H)}}if(W.has("A")){const D=W.get("A"),Q=new i.RefSet,ee=[];B(D,N,ee,Q),ee.length>0&&(Y.Action=ee)}return(0,t.objectSize)(Y)>0?Y:null}const R={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function I(N){const W=[];let ie=0;for(let Y=0,F=N.length;Y<F;Y++){const D=N.codePointAt(Y);if(32<=D&&D<=126){const Q=R[D];Q&&(ie<Y&&W.push(N.substring(ie,Y)),W.push(Q),ie=Y+1)}else ie<Y&&W.push(N.substring(ie,Y)),W.push(`&#x${D.toString(16).toUpperCase()};`),D>55295&&(D<57344||D>65533)&&Y++,ie=Y+1}return W.length===0?N:(ie<N.length&&W.push(N.substring(ie,N.length)),W.join(""))}function U(N){const W="14",ie="400",Y=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:F,fontWeight:D,italicAngle:Q}=N;if(/^".*"$/.test(F)){if(/[^\\]"/.test(F.slice(1,F.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ": ${F}.`),!1}else if(/^'.*'$/.test(F)){if(/[^\\]'/.test(F.slice(1,F.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ': ${F}.`),!1}else for(const Z of F.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(Z)||!/^[\w-\\]+$/.test(Z))return(0,t.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${F}.`),!1;const ee=D?D.toString():"";N.fontWeight=Y.has(ee)?ee:ie;const V=parseFloat(Q);return N.italicAngle=isNaN(V)||V<-90||V>90?W:Q.toString(),!0}function P(N){const W=["app.launchURL","window.open","xfa.host.gotoURL"],Y=new RegExp("^\\s*("+W.join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(N);if(Y&&Y[2]){const F=Y[2];let D=!1;return Y[3]==="true"&&Y[1]==="app.launchURL"&&(D=!0),{url:F,newWindow:D}}return null}function A(N){if(Number.isInteger(N))return N.toString();const W=Math.round(N*100);return W%100===0?(W/100).toString():W%10===0?N.toFixed(1):N.toFixed(2)}function z(N){if(!N)return null;const W=new Map;for(const[ie,Y]of N){if(!ie.startsWith(t.AnnotationEditorPrefix))continue;let F=W.get(Y.pageIndex);F||(F=[],W.set(Y.pageIndex,F)),F.push(Y)}return W.size>0?W:null}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BaseStream=void 0;var t=a(2);class i{constructor(){this.constructor===i&&(0,t.unreachable)("Cannot initialize BaseStream.")}get length(){(0,t.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,t.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,t.shadow)(this,"isDataLoaded",!0)}getByte(){(0,t.unreachable)("Abstract method `getByte` called")}getBytes(s){(0,t.unreachable)("Abstract method `getBytes` called")}peekByte(){const s=this.getByte();return s!==-1&&this.pos--,s}peekBytes(s){const e=this.getBytes(s);return this.pos-=e.length,e}getUint16(){const s=this.getByte(),e=this.getByte();return s===-1||e===-1?-1:(s<<8)+e}getInt32(){const s=this.getByte(),e=this.getByte(),u=this.getByte(),m=this.getByte();return(s<<24)+(e<<16)+(u<<8)+m}getByteRange(s,e){(0,t.unreachable)("Abstract method `getByteRange` called")}getString(s){return(0,t.bytesToString)(this.getBytes(s))}skip(s){this.pos+=s||1}reset(){(0,t.unreachable)("Abstract method `reset` called")}moveStart(){(0,t.unreachable)("Abstract method `moveStart` called")}makeSubStream(s,e){(0,t.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}l.BaseStream=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NetworkPdfManager=l.LocalPdfManager=void 0;var t=a(2),i=a(134),c=a(131),s=a(136),e=a(135);function u(b){if(b){const v=(0,t.createValidAbsoluteUrl)(b);if(v)return v.href;(0,t.warn)(`Invalid absolute docBaseUrl: "${b}".`)}return null}class m{constructor(){this.constructor===m&&(0,t.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const v=this.pdfDocument.catalog;return(0,t.shadow)(this,"docBaseUrl",v.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,t.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(v,o){return this.ensure(this.pdfDocument,v,o)}ensureXRef(v,o){return this.ensure(this.pdfDocument.xref,v,o)}ensureCatalog(v,o){return this.ensure(this.pdfDocument.catalog,v,o)}getPage(v){return this.pdfDocument.getPage(v)}fontFallback(v,o){return this.pdfDocument.fontFallback(v,o)}loadXfaFonts(v,o){return this.pdfDocument.loadXfaFonts(v,o)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(v){return this.pdfDocument.serializeXfaData(v)}cleanup(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pdfDocument.cleanup(v)}async ensure(v,o,S){(0,t.unreachable)("Abstract method `ensure` called")}requestRange(v,o){(0,t.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,t.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(v){(0,t.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(v){this._password=v}terminate(v){(0,t.unreachable)("Abstract method `terminate` called")}}class g extends m{constructor(v,o,S,T,E,k,M){super(),this._docId=v,this._password=S,this._docBaseUrl=u(M),this.msgHandler=T,this.evaluatorOptions=E,this.enableXfa=k;const O=new e.Stream(o);this.pdfDocument=new s.PDFDocument(this,O),this._loadedStreamPromise=Promise.resolve(O)}async ensure(v,o,S){const T=v[o];return typeof T=="function"?T.apply(v,S):T}requestRange(v,o){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(v){}}l.LocalPdfManager=g;class y extends m{constructor(v,o,S,T,E,k){super(),this._docId=v,this._password=S.password,this._docBaseUrl=u(k),this.msgHandler=S.msgHandler,this.evaluatorOptions=T,this.enableXfa=E,this.streamManager=new i.ChunkedStreamManager(o,{msgHandler:S.msgHandler,length:S.length,disableAutoFetch:S.disableAutoFetch,rangeChunkSize:S.rangeChunkSize}),this.pdfDocument=new s.PDFDocument(this,this.streamManager.getStream())}async ensure(v,o,S){try{const T=v[o];return typeof T=="function"?T.apply(v,S):T}catch(T){if(!(T instanceof c.MissingDataException))throw T;return await this.requestRange(T.begin,T.end),this.ensure(v,o,S)}}requestRange(v,o){return this.streamManager.requestRange(v,o)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(v){this.streamManager.onReceiveData({chunk:v})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(v){this.streamManager.abort(v)}}l.NetworkPdfManager=y},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ChunkedStreamManager=l.ChunkedStream=void 0;var t=a(2),i=a(131),c=a(135);class s extends c.Stream{constructor(m,g,y){super(new Uint8Array(m),0,m,null),this.chunkSize=g,this._loadedChunks=new Set,this.numChunks=Math.ceil(m/g),this.manager=y,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const m=[];for(let g=0,y=this.numChunks;g<y;++g)this._loadedChunks.has(g)||m.push(g);return m}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(m,g){const y=this.chunkSize;if(m%y!==0)throw new Error(`Bad begin offset: ${m}`);const b=m+g.byteLength;if(b%y!==0&&b!==this.bytes.length)throw new Error(`Bad end offset: ${b}`);this.bytes.set(new Uint8Array(g),m);const v=Math.floor(m/y),o=Math.floor((b-1)/y)+1;for(let S=v;S<o;++S)this._loadedChunks.add(S)}onReceiveProgressiveData(m){let g=this.progressiveDataLength;const y=Math.floor(g/this.chunkSize);this.bytes.set(new Uint8Array(m),g),g+=m.byteLength,this.progressiveDataLength=g;const b=g>=this.end?this.numChunks:Math.floor(g/this.chunkSize);for(let v=y;v<b;++v)this._loadedChunks.add(v)}ensureByte(m){if(m<this.progressiveDataLength)return;const g=Math.floor(m/this.chunkSize);if(!(g>this.numChunks)&&g!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(g))throw new i.MissingDataException(m,m+1);this.lastSuccessfulEnsureByteChunk=g}}ensureRange(m,g){if(m>=g||g<=this.progressiveDataLength)return;const y=Math.floor(m/this.chunkSize);if(y>this.numChunks)return;const b=Math.min(Math.floor((g-1)/this.chunkSize)+1,this.numChunks);for(let v=y;v<b;++v)if(!this._loadedChunks.has(v))throw new i.MissingDataException(m,g)}nextEmptyChunk(m){const g=this.numChunks;for(let y=0;y<g;++y){const b=(m+y)%g;if(!this._loadedChunks.has(b))return b}return null}hasChunk(m){return this._loadedChunks.has(m)}getByte(){const m=this.pos;return m>=this.end?-1:(m>=this.progressiveDataLength&&this.ensureByte(m),this.bytes[this.pos++])}getBytes(m){const g=this.bytes,y=this.pos,b=this.end;if(!m)return b>this.progressiveDataLength&&this.ensureRange(y,b),g.subarray(y,b);let v=y+m;return v>b&&(v=b),v>this.progressiveDataLength&&this.ensureRange(y,v),this.pos=v,g.subarray(y,v)}getByteRange(m,g){return m<0&&(m=0),g>this.end&&(g=this.end),g>this.progressiveDataLength&&this.ensureRange(m,g),this.bytes.subarray(m,g)}makeSubStream(m,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;g?m+g>this.progressiveDataLength&&this.ensureRange(m,m+g):m>=this.progressiveDataLength&&this.ensureByte(m);function b(){}b.prototype=Object.create(this),b.prototype.getMissingChunks=function(){const o=this.chunkSize,S=Math.floor(this.start/o),T=Math.floor((this.end-1)/o)+1,E=[];for(let k=S;k<T;++k)this._loadedChunks.has(k)||E.push(k);return E},Object.defineProperty(b.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const v=new b;return v.pos=v.start=m,v.end=m+g||this.end,v.dict=y,v}getBaseStreams(){return[this]}}l.ChunkedStream=s;class e{constructor(m,g){this.length=g.length,this.chunkSize=g.rangeChunkSize,this.stream=new s(this.length,this.chunkSize,this),this.pdfNetworkStream=m,this.disableAutoFetch=g.disableAutoFetch,this.msgHandler=g.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,t.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(m,g){const y=this.pdfNetworkStream.getRangeReader(m,g);y.isStreamingSupported||(y.onProgress=this.onProgress.bind(this));let b=[],v=0;return new Promise((o,S)=>{const T=E=>{try{if(!E.done){const M=E.value;b.push(M),v+=(0,t.arrayByteLength)(M),y.isStreamingSupported&&this.onProgress({loaded:v}),y.read().then(T,S);return}const k=(0,t.arraysToBytes)(b);b=null,o(k)}catch(k){S(k)}};y.read().then(T,S)}).then(o=>{this.aborted||this.onReceiveData({chunk:o,begin:m})})}requestAllChunks(){const m=this.stream.getMissingChunks();return this._requestChunks(m),this._loadedStreamCapability.promise}_requestChunks(m){const g=this.currRequestId++,y=new Set;this._chunksNeededByRequest.set(g,y);for(const o of m)this.stream.hasChunk(o)||y.add(o);if(y.size===0)return Promise.resolve();const b=(0,t.createPromiseCapability)();this._promisesByRequest.set(g,b);const v=[];for(const o of y){let S=this._requestsByChunk.get(o);S||(S=[],this._requestsByChunk.set(o,S),v.push(o)),S.push(g)}if(v.length>0){const o=this.groupChunks(v);for(const S of o){const T=S.beginChunk*this.chunkSize,E=Math.min(S.endChunk*this.chunkSize,this.length);this.sendRequest(T,E).catch(b.reject)}}return b.promise.catch(o=>{if(!this.aborted)throw o})}getStream(){return this.stream}requestRange(m,g){g=Math.min(g,this.length);const y=this.getBeginChunk(m),b=this.getEndChunk(g),v=[];for(let o=y;o<b;++o)v.push(o);return this._requestChunks(v)}requestRanges(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const g=[];for(const y of m){const b=this.getBeginChunk(y.begin),v=this.getEndChunk(y.end);for(let o=b;o<v;++o)g.includes(o)||g.push(o)}return g.sort(function(y,b){return y-b}),this._requestChunks(g)}groupChunks(m){const g=[];let y=-1,b=-1;for(let v=0,o=m.length;v<o;++v){const S=m[v];y<0&&(y=S),b>=0&&b+1!==S&&(g.push({beginChunk:y,endChunk:b+1}),y=S),v+1===m.length&&g.push({beginChunk:y,endChunk:S+1}),b=S}return g}onProgress(m){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+m.loaded,total:this.length})}onReceiveData(m){const g=m.chunk,y=m.begin===void 0,b=y?this.progressiveDataLength:m.begin,v=b+g.byteLength,o=Math.floor(b/this.chunkSize),S=v<this.length?Math.floor(v/this.chunkSize):Math.ceil(v/this.chunkSize);y?(this.stream.onReceiveProgressiveData(g),this.progressiveDataLength=v):this.stream.onReceiveData(b,g),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const T=[];for(let E=o;E<S;++E){const k=this._requestsByChunk.get(E);if(k){this._requestsByChunk.delete(E);for(const M of k){const O=this._chunksNeededByRequest.get(M);O.has(E)&&O.delete(E),!(O.size>0)&&T.push(M)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let E;if(this.stream.numChunksLoaded===1){const k=this.stream.numChunks-1;this.stream.hasChunk(k)||(E=k)}else E=this.stream.nextEmptyChunk(S);Number.isInteger(E)&&this._requestChunks([E])}for(const E of T){const k=this._promisesByRequest.get(E);this._promisesByRequest.delete(E),k.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(m){this._loadedStreamCapability.reject(m)}getBeginChunk(m){return Math.floor(m/this.chunkSize)}getEndChunk(m){return Math.floor((m-1)/this.chunkSize)+1}abort(m){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(m);for(const g of this._promisesByRequest.values())g.reject(m)}}l.ChunkedStreamManager=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StringStream=l.Stream=l.NullStream=void 0;var t=a(132),i=a(2);class c extends t.BaseStream{constructor(m,g,y,b){super(),this.bytes=m instanceof Uint8Array?m:new Uint8Array(m),this.start=g||0,this.pos=this.start,this.end=g+y||this.bytes.length,this.dict=b}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(m){const g=this.bytes,y=this.pos,b=this.end;if(!m)return g.subarray(y,b);let v=y+m;return v>b&&(v=b),this.pos=v,g.subarray(y,v)}getByteRange(m,g){return m<0&&(m=0),g>this.end&&(g=this.end),this.bytes.subarray(m,g)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(m,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new c(this.bytes.buffer,m,g,y)}}l.Stream=c;class s extends c{constructor(m){super((0,i.stringToBytes)(m))}}l.StringStream=s;class e extends c{constructor(){super(new Uint8Array(0))}}l.NullStream=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Page=l.PDFDocument=void 0;var t=a(137),i=a(2),c=a(131),s=a(130),e=a(176),u=a(132),m=a(192),g=a(194),y=a(196),b=a(225),v=a(142),o=a(135),S=a(200),T=a(187),E=a(140),k=a(144),M=a(199),O=a(190),L=a(201),te=a(226);const B=1,G=[0,0,612,792];class R{constructor(F){let{pdfManager:D,xref:Q,pageIndex:ee,pageDict:V,ref:Z,globalIdFactory:ae,fontCache:H,builtInCMapCache:q,standardFontDataCache:ne,globalImageCache:le,nonBlendModesSet:se,xfaFactory:J}=F;this.pdfManager=D,this.pageIndex=ee,this.pageDict=V,this.xref=Q,this.ref=Z,this.fontCache=H,this.builtInCMapCache=q,this.standardFontDataCache=ne,this.globalImageCache=le,this.nonBlendModesSet=se,this.evaluatorOptions=D.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=J;const re={obj:0};this._localIdFactory=class extends ae{static createObjId(){return`p${ee}_${++re.obj}`}static getPageObjId(){return`page${Z.toString()}`}}}_getInheritableProperty(F){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Q=(0,c.getInheritableProperty)({dict:this.pageDict,key:F,getArray:D,stopWhenFound:!1});return Array.isArray(Q)?Q.length===1||!(Q[0]instanceof s.Dict)?Q[0]:s.Dict.merge({xref:this.xref,dictArray:Q}):Q}get content(){return this.pageDict.getArray("Contents")}get resources(){const F=this._getInheritableProperty("Resources");return(0,i.shadow)(this,"resources",F instanceof s.Dict?F:s.Dict.empty)}_getBoundingBox(F){if(this.xfaData)return this.xfaData.bbox;const D=this._getInheritableProperty(F,!0);if(Array.isArray(D)&&D.length===4){if(D[2]-D[0]!==0&&D[3]-D[1]!==0)return D;(0,i.warn)(`Empty /${F} entry.`)}return null}get mediaBox(){return(0,i.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||G)}get cropBox(){return(0,i.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let F=this.pageDict.get("UserUnit");return(typeof F!="number"||F<=0)&&(F=B),(0,i.shadow)(this,"userUnit",F)}get view(){const{cropBox:F,mediaBox:D}=this;let Q;if(F===D||(0,i.isArrayEqual)(F,D))Q=D;else{const ee=i.Util.intersect(F,D);ee&&ee[2]-ee[0]!==0&&ee[3]-ee[1]!==0?Q=ee:(0,i.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,i.shadow)(this,"view",Q||D)}get rotate(){let F=this._getInheritableProperty("Rotate")||0;return F%90!==0?F=0:F>=360?F%=360:F<0&&(F=(F%360+360)%360),(0,i.shadow)(this,"rotate",F)}_onSubStreamError(F,D,Q){if(this.evaluatorOptions.ignoreErrors){F.send("UnsupportedFeature",{featureId:i.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,i.warn)(`getContentStream - ignoring sub-stream (${Q}): "${D}".`);return}throw D}getContentStream(F){return this.pdfManager.ensure(this,"content").then(D=>D instanceof u.BaseStream?D:Array.isArray(D)?new k.StreamsSequenceStream(D,this._onSubStreamError.bind(this,F)):new o.NullStream)}get xfaData(){return(0,i.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(F,D,Q){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const ee=new E.PartialEvaluator({xref:this.xref,handler:F,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),V=this.pageDict,Z=this.annotations.slice(),ae=await t.AnnotationFactory.saveNewAnnotations(ee,D,Q);for(const{ref:se}of ae.annotations)Z.push(se);const H=V.get("Annots");V.set("Annots",Z);const q=[];let ne=null;this.xref.encrypt&&(ne=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,O.writeObject)(this.ref,V,q,ne),H&&V.set("Annots",H);const le=ae.dependencies;return le.push({ref:this.ref,data:q.join("")},...ae.annotations),le}save(F,D,Q){const ee=new E.PartialEvaluator({xref:this.xref,handler:F,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(V){const Z=[];for(const ae of V)ae.mustBePrinted(Q)&&Z.push(ae.save(ee,D,Q).catch(function(H){return(0,i.warn)(`save - ignoring annotation data during "${D.name}" task: "${H}".`),null}));return Promise.all(Z).then(function(ae){return ae.filter(H=>!!H)})})}loadResources(F){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new S.ObjectLoader(this.resources,F,this.xref).load())}getOperatorList(F){let{handler:D,sink:Q,task:ee,intent:V,cacheKey:Z,annotationStorage:ae=null}=F;const H=this.getContentStream(D),q=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),ne=new E.PartialEvaluator({xref:this.xref,handler:D,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),le=this.xfaFactory?null:(0,c.getNewAnnotationsMap)(ae);let se=Promise.resolve(null);if(le){const oe=le.get(this.pageIndex);oe&&(se=t.AnnotationFactory.printNewAnnotations(ne,ee,oe))}const re=Promise.all([H,q]).then(oe=>{let[ue]=oe;const he=new T.OperatorList(V,Q);return D.send("StartRenderPage",{transparency:ne.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:Z}),ne.getOperatorList({stream:ue,task:ee,resources:this.resources,operatorList:he}).then(function(){return he})});return Promise.all([re,this._parsedAnnotations,se]).then(function(oe){let[ue,he,de]=oe;if(de&&(he=he.concat(de)),he.length===0||V&i.RenderingIntentFlag.ANNOTATIONS_DISABLE)return ue.flush(!0),{length:ue.totalLength};const pe=!!(V&i.RenderingIntentFlag.ANNOTATIONS_FORMS),fe=!!(V&i.RenderingIntentFlag.ANY),be=!!(V&i.RenderingIntentFlag.DISPLAY),ge=!!(V&i.RenderingIntentFlag.PRINT),Se=[];for(const ve of he)(fe||be&&ve.mustBeViewed(ae)||ge&&ve.mustBePrinted(ae))&&Se.push(ve.getOperatorList(ne,ee,V,pe,ae).catch(function(we){return(0,i.warn)(`getOperatorList - ignoring annotation data during "${ee.name}" task: "${we}".`),null}));return Promise.all(Se).then(function(ve){let we=!1,Fe=!1;for(const{opList:Ce,separateForm:ye,separateCanvas:ke}of ve)ue.addOpList(Ce),ye&&(we=ye),ke&&(Fe=ke);return ue.flush(!0,{form:we,canvas:Fe}),{length:ue.totalLength}})})}extractTextContent(F){let{handler:D,task:Q,includeMarkedContent:ee,sink:V,combineTextItems:Z}=F;const ae=this.getContentStream(D),H=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([ae,H]).then(ne=>{let[le]=ne;return new E.PartialEvaluator({xref:this.xref,handler:D,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:le,task:Q,resources:this.resources,includeMarkedContent:ee,combineTextItems:Z,sink:V,viewBox:this.view})})}async getStructTree(){const F=await this.pdfManager.ensureCatalog("structTreeRoot");return F?(await this.pdfManager.ensure(this,"_parseStructTree",[F])).serializable:null}_parseStructTree(F){const D=new M.StructTreePage(F,this.pageDict);return D.parse(),D}async getAnnotationsData(F,D,Q){const ee=await this._parsedAnnotations;if(ee.length===0)return[];const V=[],Z=[];let ae;const H=!!(Q&i.RenderingIntentFlag.ANY),q=!!(Q&i.RenderingIntentFlag.DISPLAY),ne=!!(Q&i.RenderingIntentFlag.PRINT);for(const le of ee){const se=H||q&&le.viewable;(se||ne&&le.printable)&&Z.push(le.data),le.hasTextContent&&se&&(ae||(ae=new E.PartialEvaluator({xref:this.xref,handler:F,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),V.push(le.extractTextContent(ae,D,this.view).catch(function(J){(0,i.warn)(`getAnnotationsData - ignoring textContent during "${D.name}" task: "${J}".`)})))}return await Promise.all(V),Z}get annotations(){const F=this._getInheritableProperty("Annots");return(0,i.shadow)(this,"annotations",Array.isArray(F)?F:[])}get _parsedAnnotations(){const F=this.pdfManager.ensure(this,"annotations").then(()=>{const D=[];for(const Q of this.annotations)D.push(t.AnnotationFactory.create(this.xref,Q,this.pdfManager,this._localIdFactory,!1).catch(function(ee){return(0,i.warn)(`_parsedAnnotations: "${ee}".`),null}));return Promise.all(D).then(function(Q){if(Q.length===0)return Q;const ee=[];let V;for(const Z of Q)if(Z){if(Z instanceof t.PopupAnnotation){V||(V=[]),V.push(Z);continue}ee.push(Z)}return V&&ee.push(...V),ee})});return(0,i.shadow)(this,"_parsedAnnotations",F)}get jsActions(){const F=(0,c.collectActions)(this.xref,this.pageDict,i.PageActionEventType);return(0,i.shadow)(this,"jsActions",F)}}l.Page=R;const I=new Uint8Array([37,80,68,70,45]),U=new Uint8Array([115,116,97,114,116,120,114,101,102]),P=new Uint8Array([101,110,100,111,98,106]),A=1024,z="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",N=/^[1-9]\.\d$/;function W(Y,F){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1024,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const ee=F.length,V=Y.peekBytes(D),Z=V.length-ee;if(Z<=0)return!1;if(Q){const ae=ee-1;let H=V.length-1;for(;H>=ae;){let q=0;for(;q<ee&&V[H-q]===F[ae-q];)q++;if(q>=ee)return Y.pos+=H-ae,!0;H--}}else{let ae=0;for(;ae<=Z;){let H=0;for(;H<ee&&V[ae+H]===F[H];)H++;if(H>=ee)return Y.pos+=ae,!0;ae++}}return!1}class ie{constructor(F,D){if(D.length<=0)throw new i.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=F,this.stream=D,this.xref=new te.XRef(D,F),this._pagePromises=new Map,this._version=null;const Q={font:0};this._globalIdFactory=class{static getDocId(){return`g_${F.docId}`}static createFontId(){return`f${++Q.font}`}static createObjId(){(0,i.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,i.unreachable)("Abstract method `getPageObjId` called.")}}}parse(F){this.xref.parse(F),this.catalog=new g.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let F=null;try{F=v.Linearization.create(this.stream)}catch(D){if(D instanceof c.MissingDataException)throw D;(0,i.info)(D)}return(0,i.shadow)(this,"linearization",F)}get startXRef(){const F=this.stream;let D=0;if(this.linearization)F.reset(),W(F,P)&&(D=F.pos+6-F.start);else{const ee=U.length;let V=!1,Z=F.end;for(;!V&&Z>0;)Z-=1024-ee,Z<0&&(Z=0),F.pos=Z,V=W(F,U,1024,!0);if(V){F.skip(9);let ae;do ae=F.getByte();while((0,c.isWhiteSpace)(ae));let H="";for(;ae>=32&&ae<=57;)H+=String.fromCharCode(ae),ae=F.getByte();D=parseInt(H,10),isNaN(D)&&(D=0)}}return(0,i.shadow)(this,"startXRef",D)}checkHeader(){const F=this.stream;if(F.reset(),!W(F,I))return;F.moveStart();const D=12;let Q="",ee;for(;(ee=F.getByte())>32&&!(Q.length>=D);)Q+=String.fromCharCode(ee);this._version||(this._version=Q.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let F=0;return this.catalog.hasActualNumPages?F=this.catalog.numPages:this.xfaFactory?F=this.xfaFactory.getNumPages():this.linearization?F=this.linearization.numPages:F=this.catalog.numPages,(0,i.shadow)(this,"numPages",F)}_hasOnlyDocumentSignatures(F){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const Q=10;return Array.isArray(F)?F.every(ee=>{if(ee=this.xref.fetchIfRef(ee),!(ee instanceof s.Dict))return!1;if(ee.has("Kids"))return++D>Q?((0,i.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(ee.get("Kids"),D);const V=(0,s.isName)(ee.get("FT"),"Sig"),Z=ee.get("Rect"),ae=Array.isArray(Z)&&Z.every(H=>H===0);return V&&ae}):!1}get _xfaStreams(){const F=this.catalog.acroForm;if(!F)return null;const D=F.get("XFA"),Q={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(D instanceof u.BaseStream&&!D.isEmpty)return Q["xdp:xdp"]=D,Q;if(!Array.isArray(D)||D.length===0)return null;for(let ee=0,V=D.length;ee<V;ee+=2){let Z;if(ee===0?Z="xdp:xdp":ee===V-2?Z="/xdp:xdp":Z=D[ee],!Q.hasOwnProperty(Z))continue;const ae=this.xref.fetchIfRef(D[ee+1]);!(ae instanceof u.BaseStream)||ae.isEmpty||(Q[Z]=ae)}return Q}get xfaDatasets(){const F=this._xfaStreams;if(!F)return(0,i.shadow)(this,"xfaDatasets",null);for(const D of["datasets","xdp:xdp"]){const Q=F[D];if(Q)try{const ee=(0,i.stringToUTF8String)(Q.getString()),V={[D]:ee};return(0,i.shadow)(this,"xfaDatasets",new b.DatasetReader(V))}catch{(0,i.warn)("XFA - Invalid utf-8 string.");break}}return(0,i.shadow)(this,"xfaDatasets",null)}get xfaData(){const F=this._xfaStreams;if(!F)return null;const D=Object.create(null);for(const[Q,ee]of Object.entries(F))if(ee)try{D[Q]=(0,i.stringToUTF8String)(ee.getString())}catch{return(0,i.warn)("XFA - Invalid utf-8 string."),null}return D}get xfaFactory(){let F;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(F=this.xfaData),(0,i.shadow)(this,"xfaFactory",F?new L.XFAFactory(F):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const F=await this.pdfManager.ensureCatalog("xfaImages");if(!F)return;const D=F.getKeys();await new S.ObjectLoader(F,D,this.xref).load();const ee=new Map;for(const V of D){const Z=F.get(V);Z instanceof u.BaseStream&&ee.set(V,Z.getBytes())}this.xfaFactory.setImages(ee)}async loadXfaFonts(F,D){const Q=await this.pdfManager.ensureCatalog("acroForm");if(!Q)return;const ee=await Q.getAsync("DR");if(!(ee instanceof s.Dict))return;await new S.ObjectLoader(ee,["Font"],this.xref).load();const Z=ee.get("Font");if(!(Z instanceof s.Dict))return;const ae=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);ae.useSystemFonts=!1;const H=new E.PartialEvaluator({xref:this.xref,handler:F,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:ae}),q=new T.OperatorList,ne=[],le={get font(){return ne.at(-1)},set font(ue){ne.push(ue)},clone(){return this}},se=new Map;Z.forEach((ue,he)=>{se.set(ue,he)});const J=[];for(const[ue,he]of se){const de=he.get("FontDescriptor");if(!(de instanceof s.Dict))continue;let pe=de.get("FontFamily");pe=pe.replace(/[ ]+(\d)/g,"$1");const fe=de.get("FontWeight"),be=-de.get("ItalicAngle"),ge={fontFamily:pe,fontWeight:fe,italicAngle:be};(0,c.validateCSSFont)(ge)&&J.push(H.handleSetFont(ee,[s.Name.get(ue),1],null,q,D,le,null,ge).catch(function(Se){return(0,i.warn)(`loadXfaFonts: "${Se}".`),null}))}await Promise.all(J);const re=this.xfaFactory.setFonts(ne);if(!re)return;ae.ignoreErrors=!0,J.length=0,ne.length=0;const oe=new Set;for(const ue of re)(0,e.getXfaFontName)(`${ue}-Regular`)||oe.add(ue);oe.size&&re.push("PdfJS-Fallback");for(const ue of re)if(!oe.has(ue))for(const he of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const de=`${ue}-${he.name}`,pe=(0,e.getXfaFontDict)(de);J.push(H.handleSetFont(ee,[s.Name.get(de),1],null,q,D,le,pe,{fontFamily:ue,fontWeight:he.fontWeight,italicAngle:he.italicAngle}).catch(function(fe){return(0,i.warn)(`loadXfaFonts: "${fe}".`),null}))}await Promise.all(J),this.xfaFactory.appendFonts(ne,oe)}async serializeXfaData(F){return this.xfaFactory?this.xfaFactory.serializeData(F):null}get formInfo(){const F={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},D=this.catalog.acroForm;if(!D)return(0,i.shadow)(this,"formInfo",F);try{const Q=D.get("Fields"),ee=Array.isArray(Q)&&Q.length>0;F.hasFields=ee;const V=D.get("XFA");F.hasXfa=Array.isArray(V)&&V.length>0||V instanceof u.BaseStream&&!V.isEmpty;const ae=!!(D.get("SigFlags")&1),H=ae&&this._hasOnlyDocumentSignatures(Q);F.hasAcroForm=ee&&!H,F.hasSignatures=ae}catch(Q){if(Q instanceof c.MissingDataException)throw Q;(0,i.warn)(`Cannot fetch form information: "${Q}".`)}return(0,i.shadow)(this,"formInfo",F)}get documentInfo(){let F=this._version;(typeof F!="string"||!N.test(F))&&((0,i.warn)(`Invalid PDF header version number: ${F}`),F=null);const D={PDFFormatVersion:F,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let Q;try{Q=this.xref.trailer.get("Info")}catch(ee){if(ee instanceof c.MissingDataException)throw ee;(0,i.info)("The document information dictionary is invalid.")}if(!(Q instanceof s.Dict))return(0,i.shadow)(this,"documentInfo",D);for(const ee of Q.getKeys()){const V=Q.get(ee);switch(ee){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof V=="string"){D[ee]=(0,i.stringToPDFString)(V);continue}break;case"Trapped":if(V instanceof s.Name){D[ee]=V;continue}break;default:let Z;switch(typeof V){case"string":Z=(0,i.stringToPDFString)(V);break;case"number":case"boolean":Z=V;break;default:V instanceof s.Name&&(Z=V);break}if(Z===void 0){(0,i.warn)(`Bad value, for custom key "${ee}", in Info: ${V}.`);continue}D.Custom||(D.Custom=Object.create(null)),D.Custom[ee]=Z;continue}(0,i.warn)(`Bad value, for key "${ee}", in Info: ${V}.`)}return(0,i.shadow)(this,"documentInfo",D)}get fingerprints(){function F(Z){return typeof Z=="string"&&Z.length>0&&Z!==z}function D(Z){const ae=[];for(let H=0,q=Z.length;H<q;H++){const ne=Z[H].toString(16);ae.push(ne.padStart(2,"0"))}return ae.join("")}const Q=this.xref.trailer.get("ID");let ee,V;return Array.isArray(Q)&&F(Q[0])?(ee=(0,i.stringToBytes)(Q[0]),Q[1]!==Q[0]&&F(Q[1])&&(V=(0,i.stringToBytes)(Q[1]))):ee=(0,m.calculateMD5)(this.stream.getByteRange(0,A),0,A),(0,i.shadow)(this,"fingerprints",[D(ee),V?D(V):null])}async _getLinearizationPage(F){const{catalog:D,linearization:Q,xref:ee}=this,V=s.Ref.get(Q.objectNumberFirst,0);try{const Z=await ee.fetchAsync(V);if(Z instanceof s.Dict){let ae=Z.getRaw("Type");if(ae instanceof s.Ref&&(ae=await ee.fetchAsync(ae)),(0,s.isName)(ae,"Page")||!Z.has("Type")&&!Z.has("Kids"))return D.pageKidsCountCache.has(V)||D.pageKidsCountCache.put(V,1),D.pageIndexCache.has(V)||D.pageIndexCache.put(V,0),[Z,V]}throw new i.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Z){return(0,i.warn)(`_getLinearizationPage: "${Z.message}".`),D.getPageDict(F)}}getPage(F){const D=this._pagePromises.get(F);if(D)return D;const{catalog:Q,linearization:ee,xfaFactory:V}=this;let Z;return V?Z=Promise.resolve([s.Dict.empty,null]):ee&&ee.pageFirst===F?Z=this._getLinearizationPage(F):Z=Q.getPageDict(F),Z=Z.then(ae=>{let[H,q]=ae;return new R({pdfManager:this.pdfManager,xref:this.xref,pageIndex:F,pageDict:H,ref:q,globalIdFactory:this._globalIdFactory,fontCache:Q.fontCache,builtInCMapCache:Q.builtInCMapCache,standardFontDataCache:Q.standardFontDataCache,globalImageCache:Q.globalImageCache,nonBlendModesSet:Q.nonBlendModesSet,xfaFactory:V})}),this._pagePromises.set(F,Z),Z}async checkFirstPage(){if(!(arguments.length>0&&arguments[0]!==void 0&&arguments[0]))try{await this.getPage(0)}catch(D){if(D instanceof c.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new c.XRefParseException}}async checkLastPage(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{catalog:D,pdfManager:Q}=this;D.setActualNumPages();let ee;try{if(await Promise.all([Q.ensureDoc("xfaFactory"),Q.ensureDoc("linearization"),Q.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?ee=this.linearization.numPages:ee=D.numPages,Number.isInteger(ee)){if(ee<=1)return}else throw new i.FormatError("Page count is not an integer.");await this.getPage(ee-1)}catch(V){if(this._pagePromises.delete(ee-1),await this.cleanup(),V instanceof c.XRefEntryException&&!F)throw new c.XRefParseException;(0,i.warn)(`checkLastPage - invalid /Pages tree /Count: ${ee}.`);let Z;try{Z=await D.getAllPageDicts(F)}catch(ae){if(ae instanceof c.XRefEntryException&&!F)throw new c.XRefParseException;D.setActualNumPages(1);return}for(const[ae,[H,q]]of Z){let ne;H instanceof Error?(ne=Promise.reject(H),ne.catch(()=>{})):ne=Promise.resolve(new R({pdfManager:Q,xref:this.xref,pageIndex:ae,pageDict:H,ref:q,globalIdFactory:this._globalIdFactory,fontCache:D.fontCache,builtInCMapCache:D.builtInCMapCache,standardFontDataCache:D.standardFontDataCache,globalImageCache:D.globalImageCache,nonBlendModesSet:D.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(ae,ne)}D.setActualNumPages(Z.size)}}fontFallback(F,D){return this.catalog.fontFallback(F,D)}async cleanup(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.catalog?this.catalog.cleanup(F):(0,y.clearGlobalCaches)()}_collectFieldObjects(F,D,Q){const ee=this.xref.fetchIfRef(D);if(ee.has("T")){const V=(0,i.stringToPDFString)(ee.get("T"));F===""?F=V:F=`${F}.${V}`}if(Q.has(F)||Q.set(F,[]),Q.get(F).push(t.AnnotationFactory.create(this.xref,D,this.pdfManager,this._localIdFactory,!0).then(V=>V&&V.getFieldObject()).catch(function(V){return(0,i.warn)(`_collectFieldObjects: "${V}".`),null})),ee.has("Kids")){const V=ee.get("Kids");for(const Z of V)this._collectFieldObjects(F,Z,Q)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,i.shadow)(this,"fieldObjects",Promise.resolve(null));const F=Object.create(null),D=new Map;for(const ee of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",ee,D);const Q=[];for(const[ee,V]of D)Q.push(Promise.all(V).then(Z=>{Z=Z.filter(ae=>!!ae),Z.length>0&&(F[ee]=Z)}));return(0,i.shadow)(this,"fieldObjects",Promise.all(Q).then(()=>F))}get hasJSActions(){const F=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,i.shadow)(this,"hasJSActions",F)}async _parseHasJSActions(){const[F,D]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return F?!0:D?Object.values(D).some(Q=>Q.some(ee=>ee.actions!==null)):!1}get calculationOrderIds(){const F=this.catalog.acroForm;if(!F||!F.has("CO"))return(0,i.shadow)(this,"calculationOrderIds",null);const D=F.get("CO");if(!Array.isArray(D)||D.length===0)return(0,i.shadow)(this,"calculationOrderIds",null);const Q=[];for(const ee of D)ee instanceof s.Ref&&Q.push(ee.toString());return Q.length===0?(0,i.shadow)(this,"calculationOrderIds",null):(0,i.shadow)(this,"calculationOrderIds",Q)}}l.PDFDocument=ie},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PopupAnnotation=l.MarkupAnnotation=l.AnnotationFactory=l.AnnotationBorderStyle=l.Annotation=void 0,l.getQuadPoints=M;var t=a(2),i=a(131),c=a(138),s=a(130),e=a(190),u=a(132),m=a(185),g=a(194),y=a(139),b=a(197),v=a(200),o=a(187),S=a(135),T=a(201);class E{static create(J,re,oe,ue,he){return Promise.all([oe.ensureCatalog("acroForm"),oe.ensureCatalog("baseUrl"),oe.ensureDoc("xfaDatasets"),he?this._getPageIndex(J,re,oe):-1]).then(de=>{let[pe,fe,be,ge]=de;return oe.ensure(this,"_create",[J,re,oe,ue,pe,be,he,ge])})}static _create(J,re,oe,ue,he,de,pe){let fe=arguments.length>7&&arguments[7]!==void 0?arguments[7]:-1;const be=J.fetchIfRef(re);if(!(be instanceof s.Dict))return;const ge=re instanceof s.Ref?re.toString():`annot_${ue.createObjId()}`;let Se=be.get("Subtype");Se=Se instanceof s.Name?Se.name:null;const ve={xref:J,ref:re,dict:be,subtype:Se,id:ge,pdfManager:oe,acroForm:he instanceof s.Dict?he:s.Dict.empty,xfaDatasets:de,collectFields:pe,pageIndex:fe};switch(Se){case"Link":return new z(ve);case"Text":return new A(ve);case"Widget":let we=(0,i.getInheritableProperty)({dict:be,key:"FT"});switch(we=we instanceof s.Name?we.name:null,we){case"Tx":return new R(ve);case"Btn":return new I(ve);case"Ch":return new U(ve);case"Sig":return new P(ve)}return(0,t.warn)(`Unimplemented widget field type "${we}", falling back to base field type.`),new G(ve);case"Popup":return new N(ve);case"FreeText":return new W(ve);case"Line":return new ie(ve);case"Square":return new Y(ve);case"Circle":return new F(ve);case"PolyLine":return new D(ve);case"Polygon":return new Q(ve);case"Caret":return new ee(ve);case"Ink":return new V(ve);case"Highlight":return new Z(ve);case"Underline":return new ae(ve);case"Squiggly":return new H(ve);case"StrikeOut":return new q(ve);case"Stamp":return new ne(ve);case"FileAttachment":return new le(ve);default:return pe||(Se?(0,t.warn)(`Unimplemented annotation type "${Se}", falling back to base annotation.`):(0,t.warn)("Annotation is missing the required /Subtype.")),new L(ve)}}static async _getPageIndex(J,re,oe){try{const ue=await J.fetchIfRefAsync(re);if(!(ue instanceof s.Dict))return-1;const he=ue.getRaw("P");return he instanceof s.Ref?await oe.ensureCatalog("getPageIndex",[he]):-1}catch(ue){return(0,t.warn)(`_getPageIndex: "${ue}".`),-1}}static async saveNewAnnotations(J,re,oe){const ue=J.xref;let he;const de=[],pe=[];for(const fe of oe)switch(fe.annotationType){case t.AnnotationEditorType.FREETEXT:if(!he){const be=new s.Dict(ue);be.set("BaseFont",s.Name.get("Helvetica")),be.set("Type",s.Name.get("Font")),be.set("Subtype",s.Name.get("Type1")),be.set("Encoding",s.Name.get("WinAnsiEncoding"));const ge=[];he=ue.getNewRef(),(0,e.writeObject)(he,be,ge,null),de.push({ref:he,data:ge.join("")})}pe.push(W.createNewAnnotation(ue,fe,de,{evaluator:J,task:re,baseFontRef:he}));break;case t.AnnotationEditorType.INK:pe.push(V.createNewAnnotation(ue,fe,de))}return{annotations:await Promise.all(pe),dependencies:de}}static async printNewAnnotations(J,re,oe){if(!oe)return null;const ue=J.xref,he=[];for(const de of oe)switch(de.annotationType){case t.AnnotationEditorType.FREETEXT:he.push(W.createNewPrintAnnotation(ue,de,{evaluator:J,task:re}));break;case t.AnnotationEditorType.INK:he.push(V.createNewPrintAnnotation(ue,de));break}return Promise.all(he)}}l.AnnotationFactory=E;function k(se){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Uint8ClampedArray(3);if(!Array.isArray(se))return J;const re=J||new Uint8ClampedArray(3);switch(se.length){case 0:return null;case 1:return y.ColorSpace.singletons.gray.getRgbItem(se,0,re,0),re;case 3:return y.ColorSpace.singletons.rgb.getRgbItem(se,0,re,0),re;case 4:return y.ColorSpace.singletons.cmyk.getRgbItem(se,0,re,0),re;default:return J}}function M(se,J){if(!se.has("QuadPoints"))return null;const re=se.getArray("QuadPoints");if(!Array.isArray(re)||re.length===0||re.length%8>0)return null;const oe=[];for(let ue=0,he=re.length/8;ue<he;ue++){oe.push([]);for(let de=ue*8,pe=ue*8+8;de<pe;de+=2){const fe=re[de],be=re[de+1];if(J!==null&&(fe<J[0]||fe>J[2]||be<J[1]||be>J[3]))return null;oe[ue].push({x:fe,y:be})}}return oe.map(ue=>{const[he,de,pe,fe]=ue.reduce((be,ge)=>{let[Se,ve,we,Fe]=be;return[Math.min(Se,ge.x),Math.max(ve,ge.x),Math.min(we,ge.y),Math.max(Fe,ge.y)]},[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:he,y:fe},{x:de,y:fe},{x:he,y:pe},{x:de,y:pe}]})}function O(se,J,re){const[oe,ue,he,de]=t.Util.getAxialAlignedBoundingBox(J,re);if(oe===he||ue===de)return[1,0,0,1,se[0],se[1]];const pe=(se[2]-se[0])/(he-oe),fe=(se[3]-se[1])/(de-ue);return[pe,0,0,fe,se[0]-oe*pe,se[1]-ue*fe]}class L{constructor(J){const re=J.dict;this.setTitle(re.get("T")),this.setContents(re.get("Contents")),this.setModificationDate(re.get("M")),this.setFlags(re.get("F")),this.setRectangle(re.getArray("Rect")),this.setColor(re.getArray("C")),this.setBorderStyle(re),this.setAppearance(re),this.setOptionalContent(re);const oe=re.get("MK");if(this.setBorderAndBackgroundColors(oe),this.setRotation(oe),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:J.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:J.subtype,hasOwnCanvas:!1},J.collectFields){const ue=re.get("Kids");if(Array.isArray(ue)){const he=[];for(const de of ue)de instanceof s.Ref&&he.push(de.toString());he.length!==0&&(this.data.kidIds=he)}this.data.actions=(0,i.collectActions)(J.xref,re,t.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(re),this.data.pageIndex=J.pageIndex}this._fallbackFontDict=null}_hasFlag(J,re){return!!(J&re)}_isViewable(J){return!this._hasFlag(J,t.AnnotationFlag.INVISIBLE)&&!this._hasFlag(J,t.AnnotationFlag.NOVIEW)}_isPrintable(J){return this._hasFlag(J,t.AnnotationFlag.PRINT)&&!this._hasFlag(J,t.AnnotationFlag.INVISIBLE)}mustBeViewed(J){const re=J&&J.get(this.data.id);return re&&re.hidden!==void 0?!re.hidden:this.viewable&&!this._hasFlag(this.flags,t.AnnotationFlag.HIDDEN)}mustBePrinted(J){const re=J&&J.get(this.data.id);return re&&re.print!==void 0?re.print:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(J){const re=typeof J=="string"?(0,t.stringToPDFString)(J):"",oe=re&&(0,m.bidi)(re).dir==="rtl"?"rtl":"ltr";return{str:re,dir:oe}}setTitle(J){this._title=this._parseStringHelper(J)}setContents(J){this._contents=this._parseStringHelper(J)}setModificationDate(J){this.modificationDate=typeof J=="string"?J:null}setFlags(J){this.flags=Number.isInteger(J)&&J>0?J:0}hasFlag(J){return this._hasFlag(this.flags,J)}setRectangle(J){Array.isArray(J)&&J.length===4?this.rectangle=t.Util.normalizeRect(J):this.rectangle=[0,0,0,0]}setColor(J){this.color=k(J)}setLineEndings(J){if(this.lineEndings=["None","None"],Array.isArray(J)&&J.length===2)for(let re=0;re<2;re++){const oe=J[re];if(oe instanceof s.Name)switch(oe.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[re]=oe.name;continue}(0,t.warn)(`Ignoring invalid lineEnding: ${oe}`)}}setRotation(J){if(this.rotation=0,J instanceof s.Dict){let re=J.get("R")||0;Number.isInteger(re)&&re!==0&&(re%=360,re<0&&(re+=360),re%90===0&&(this.rotation=re))}}setBorderAndBackgroundColors(J){J instanceof s.Dict?(this.borderColor=k(J.getArray("BC"),null),this.backgroundColor=k(J.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(J){if(this.borderStyle=new te,J instanceof s.Dict)if(J.has("BS")){const re=J.get("BS"),oe=re.get("Type");(!oe||(0,s.isName)(oe,"Border"))&&(this.borderStyle.setWidth(re.get("W"),this.rectangle),this.borderStyle.setStyle(re.get("S")),this.borderStyle.setDashArray(re.getArray("D")))}else if(J.has("Border")){const re=J.getArray("Border");Array.isArray(re)&&re.length>=3&&(this.borderStyle.setHorizontalCornerRadius(re[0]),this.borderStyle.setVerticalCornerRadius(re[1]),this.borderStyle.setWidth(re[2],this.rectangle),re.length===4&&this.borderStyle.setDashArray(re[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(J){this.appearance=null;const re=J.get("AP");if(!(re instanceof s.Dict))return;const oe=re.get("N");if(oe instanceof u.BaseStream){this.appearance=oe;return}if(!(oe instanceof s.Dict))return;const ue=J.get("AS");!(ue instanceof s.Name)||!oe.has(ue.name)||(this.appearance=oe.get(ue.name))}setOptionalContent(J){this.oc=null;const re=J.get("OC");re instanceof s.Name?(0,t.warn)("setOptionalContent: Support for /Name-entry is not implemented."):re instanceof s.Dict&&(this.oc=re)}loadResources(J,re){return re.dict.getAsync("Resources").then(oe=>oe?new v.ObjectLoader(oe,J,oe.xref).load().then(function(){return oe}):void 0)}async getOperatorList(J,re,oe,ue,he){const de=this.data;let pe=this.appearance;const fe=!!(this.data.hasOwnCanvas&&oe&t.RenderingIntentFlag.DISPLAY);if(!pe){if(!fe)return{opList:new o.OperatorList,separateForm:!1,separateCanvas:!1};pe=new S.StringStream(""),pe.dict=new s.Dict}const be=pe.dict,ge=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],pe),Se=be.getArray("BBox")||[0,0,1,1],ve=be.getArray("Matrix")||[1,0,0,1,0,0],we=O(de.rect,Se,ve),Fe=new o.OperatorList;let Ce;return this.oc&&(Ce=await J.parseMarkedContentProps(this.oc,null)),Ce!==void 0&&Fe.addOp(t.OPS.beginMarkedContentProps,["OC",Ce]),Fe.addOp(t.OPS.beginAnnotation,[de.id,de.rect,we,ve,fe]),await J.getOperatorList({stream:pe,task:re,resources:ge,operatorList:Fe,fallbackFontDict:this._fallbackFontDict}),Fe.addOp(t.OPS.endAnnotation,[]),Ce!==void 0&&Fe.addOp(t.OPS.endMarkedContent,[]),this.reset(),{opList:Fe,separateForm:!1,separateCanvas:fe}}async save(J,re,oe){return null}get hasTextContent(){return!1}async extractTextContent(J,re,oe){if(!this.appearance)return;const ue=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),he=[],de=[],pe={desiredSize:Math.Infinity,ready:!0,enqueue(fe,be){for(const ge of fe.items)de.push(ge.str),ge.hasEOL&&(he.push(de.join("")),de.length=0)}};await J.getTextContent({stream:this.appearance,task:re,resources:ue,includeMarkedContent:!0,combineTextItems:!0,sink:pe,viewBox:oe}),this.reset(),de.length&&he.push(de.join("")),he.length>0&&(this.data.textContent=he)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const J of this._streams)J.reset()}_constructFieldName(J){if(!J.has("T")&&!J.has("Parent"))return(0,t.warn)("Unknown field name, falling back to empty field name."),"";if(!J.has("Parent"))return(0,t.stringToPDFString)(J.get("T"));const re=[];J.has("T")&&re.unshift((0,t.stringToPDFString)(J.get("T")));let oe=J;const ue=new s.RefSet;for(J.objId&&ue.put(J.objId);oe.has("Parent")&&(oe=oe.get("Parent"),!(!(oe instanceof s.Dict)||oe.objId&&ue.has(oe.objId)));)oe.objId&&ue.put(oe.objId),oe.has("T")&&re.unshift((0,t.stringToPDFString)(oe.get("T")));return re.join(".")}}l.Annotation=L;class te{constructor(){this.width=1,this.style=t.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(J){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0,0];if(J instanceof s.Name){this.width=0;return}if(typeof J=="number"){if(J>0){const oe=(re[2]-re[0])/2,ue=(re[3]-re[1])/2;oe>0&&ue>0&&(J>oe||J>ue)&&((0,t.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${J}`),J=1)}this.width=J}}setStyle(J){if(J instanceof s.Name)switch(J.name){case"S":this.style=t.AnnotationBorderStyleType.SOLID;break;case"D":this.style=t.AnnotationBorderStyleType.DASHED;break;case"B":this.style=t.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=t.AnnotationBorderStyleType.INSET;break;case"U":this.style=t.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(J){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Array.isArray(J)&&J.length>0){let oe=!0,ue=!0;for(const he of J)if(+he>=0)he>0&&(ue=!1);else{oe=!1;break}oe&&!ue?(this.dashArray=J,re&&this.setStyle(s.Name.get("D"))):this.width=0}else J&&(this.width=0)}setHorizontalCornerRadius(J){Number.isInteger(J)&&(this.horizontalCornerRadius=J)}setVerticalCornerRadius(J){Number.isInteger(J)&&(this.verticalCornerRadius=J)}}l.AnnotationBorderStyle=te;class B extends L{constructor(J){super(J);const re=J.dict;if(re.has("IRT")){const oe=re.getRaw("IRT");this.data.inReplyTo=oe instanceof s.Ref?oe.toString():null;const ue=re.get("RT");this.data.replyType=ue instanceof s.Name?ue.name:t.AnnotationReplyType.REPLY}if(this.data.replyType===t.AnnotationReplyType.GROUP){const oe=re.get("IRT");this.setTitle(oe.get("T")),this.data.titleObj=this._title,this.setContents(oe.get("Contents")),this.data.contentsObj=this._contents,oe.has("CreationDate")?(this.setCreationDate(oe.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,oe.has("M")?(this.setModificationDate(oe.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=oe.has("Popup"),oe.has("C")?(this.setColor(oe.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(re.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=re.has("Popup"),re.has("C")||(this.data.color=null);re.has("RC")&&(this.data.richText=T.XFAFactory.getRichTextAsHtml(re.get("RC")))}setCreationDate(J){this.creationDate=typeof J=="string"?J:null}_setDefaultAppearance(J){let{xref:re,extra:oe,strokeColor:ue,fillColor:he,blendMode:de,strokeAlpha:pe,fillAlpha:fe,pointsCallback:be}=J,ge=Number.MAX_VALUE,Se=Number.MAX_VALUE,ve=Number.MIN_VALUE,we=Number.MIN_VALUE;const Fe=["q"];oe&&Fe.push(oe),ue&&Fe.push(`${ue[0]} ${ue[1]} ${ue[2]} RG`),he&&Fe.push(`${he[0]} ${he[1]} ${he[2]} rg`);let Ce=this.data.quadPoints;Ce||(Ce=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Le of Ce){const[Pe,$e,je,Te]=be(Fe,Le);ge=Math.min(ge,Pe),ve=Math.max(ve,$e),Se=Math.min(Se,je),we=Math.max(we,Te)}Fe.push("Q");const ye=new s.Dict(re),ke=new s.Dict(re);ke.set("Subtype",s.Name.get("Form"));const De=new S.StringStream(Fe.join(" "));De.dict=ke,ye.set("Fm0",De);const Ie=new s.Dict(re);de&&Ie.set("BM",s.Name.get(de)),typeof pe=="number"&&Ie.set("CA",pe),typeof fe=="number"&&Ie.set("ca",fe);const Me=new s.Dict(re);Me.set("GS0",Ie);const Ne=new s.Dict(re);Ne.set("ExtGState",Me),Ne.set("XObject",ye);const Re=new s.Dict(re);Re.set("Resources",Ne);const Oe=this.data.rect=[ge,Se,ve,we];Re.set("BBox",Oe),this.appearance=new S.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Re,this._streams.push(this.appearance,De)}static async createNewAnnotation(J,re,oe,ue){const he=J.getNewRef(),de=J.getNewRef(),pe=this.createNewDict(re,J,{apRef:de}),fe=await this.createNewAppearanceStream(re,J,ue),be=[];let ge=J.encrypt?J.encrypt.createCipherTransform(de.num,de.gen):null;return(0,e.writeObject)(de,fe,be,ge),oe.push({ref:de,data:be.join("")}),be.length=0,ge=J.encrypt?J.encrypt.createCipherTransform(he.num,he.gen):null,(0,e.writeObject)(he,pe,be,ge),{ref:he,data:be.join("")}}static async createNewPrintAnnotation(J,re,oe){const ue=await this.createNewAppearanceStream(re,J,oe),he=this.createNewDict(re,J,{ap:ue});return new this.prototype.constructor({dict:he,xref:J})}}l.MarkupAnnotation=B;class G extends L{constructor(J){super(J);const re=J.dict,oe=this.data;this.ref=J.ref,oe.annotationType=t.AnnotationType.WIDGET,oe.fieldName===void 0&&(oe.fieldName=this._constructFieldName(re)),oe.actions===void 0&&(oe.actions=(0,i.collectActions)(J.xref,re,t.AnnotationActionEventType));let ue=(0,i.getInheritableProperty)({dict:re,key:"V",getArray:!0});oe.fieldValue=this._decodeFormValue(ue);const he=(0,i.getInheritableProperty)({dict:re,key:"DV",getArray:!0});if(oe.defaultFieldValue=this._decodeFormValue(he),ue===void 0&&J.xfaDatasets){const Se=this._title.str;Se&&(this._hasValueFromXFA=!0,oe.fieldValue=ue=J.xfaDatasets.getValue(Se))}ue===void 0&&oe.defaultFieldValue!==null&&(oe.fieldValue=oe.defaultFieldValue),oe.alternativeText=(0,t.stringToPDFString)(re.get("TU")||"");const de=(0,i.getInheritableProperty)({dict:re,key:"DA"})||J.acroForm.get("DA");this._defaultAppearance=typeof de=="string"?de:"",oe.defaultAppearanceData=(0,c.parseDefaultAppearance)(this._defaultAppearance);const pe=(0,i.getInheritableProperty)({dict:re,key:"FT"});oe.fieldType=pe instanceof s.Name?pe.name:null;const fe=(0,i.getInheritableProperty)({dict:re,key:"DR"}),be=J.acroForm.get("DR"),ge=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:fe,acroFormResources:be,appearanceResources:ge,mergedResources:s.Dict.merge({xref:J.xref,dictArray:[fe,ge,be],mergeSubDicts:!0})},oe.fieldFlags=(0,i.getInheritableProperty)({dict:re,key:"Ff"}),(!Number.isInteger(oe.fieldFlags)||oe.fieldFlags<0)&&(oe.fieldFlags=0),oe.readOnly=this.hasFieldFlag(t.AnnotationFieldFlag.READONLY),oe.required=this.hasFieldFlag(t.AnnotationFieldFlag.REQUIRED),oe.hidden=this._hasFlag(oe.annotationFlags,t.AnnotationFlag.HIDDEN)}_decodeFormValue(J){return Array.isArray(J)?J.filter(re=>typeof re=="string").map(re=>(0,t.stringToPDFString)(re)):J instanceof s.Name?(0,t.stringToPDFString)(J.name):typeof J=="string"?(0,t.stringToPDFString)(J):null}hasFieldFlag(J){return!!(this.data.fieldFlags&J)}static _getRotationMatrix(J,re,oe){switch(J){case 90:return[0,1,-1,0,re,0];case 180:return[-1,0,0,-1,re,oe];case 270:return[0,-1,1,0,0,oe];default:throw new Error("Invalid rotation")}}getRotationMatrix(J){const re=J?J.get(this.data.id):void 0;let oe=re&&re.rotation;if(oe===void 0&&(oe=this.rotation),oe===0)return t.IDENTITY_MATRIX;const ue=this.data.rect[2]-this.data.rect[0],he=this.data.rect[3]-this.data.rect[1];return G._getRotationMatrix(oe,ue,he)}getBorderAndBackgroundAppearances(J){const re=J?J.get(this.data.id):void 0;let oe=re&&re.rotation;if(oe===void 0&&(oe=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const ue=this.data.rect[2]-this.data.rect[0],he=this.data.rect[3]-this.data.rect[1],de=oe===0||oe===180?`0 0 ${ue} ${he} re`:`0 0 ${he} ${ue} re`;let pe="";if(this.backgroundColor&&(pe=`${(0,c.getPdfColor)(this.backgroundColor,!0)} ${de} f `),this.borderColor){const fe=this.borderStyle.width||1;pe+=`${fe} w ${(0,c.getPdfColor)(this.borderColor,!1)} ${de} S `}return pe}async getOperatorList(J,re,oe,ue,he){if(ue&&!(this instanceof P))return{opList:new o.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(J,re,oe,ue,he);const de=await this._getAppearance(J,re,he);if(this.appearance&&de===null)return super.getOperatorList(J,re,oe,ue,he);const pe=new o.OperatorList;if(!this._defaultAppearance||de===null)return{opList:pe,separateForm:!1,separateCanvas:!1};const fe=[1,0,0,1,0,0],be=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],ge=O(this.data.rect,be,fe);let Se;this.oc&&(Se=await J.parseMarkedContentProps(this.oc,null)),Se!==void 0&&pe.addOp(t.OPS.beginMarkedContentProps,["OC",Se]),pe.addOp(t.OPS.beginAnnotation,[this.data.id,this.data.rect,ge,this.getRotationMatrix(he),!1]);const ve=new S.StringStream(de);return await J.getOperatorList({stream:ve,task:re,resources:this._fieldResources.mergedResources,operatorList:pe}),pe.addOp(t.OPS.endAnnotation,[]),Se!==void 0&&pe.addOp(t.OPS.endMarkedContent,[]),{opList:pe,separateForm:!1,separateCanvas:!1}}_getMKDict(J){const re=new s.Dict(null);return J&&re.set("R",J),this.borderColor&&re.set("BC",Array.from(this.borderColor).map(oe=>oe/255)),this.backgroundColor&&re.set("BG",Array.from(this.backgroundColor).map(oe=>oe/255)),re.size>0?re:null}async save(J,re,oe){const ue=oe?oe.get(this.data.id):void 0;let he=ue&&ue.value,de=ue&&ue.rotation;if(he===this.data.fieldValue||he===void 0){if(!this._hasValueFromXFA&&de===void 0)return null;he=he||this.data.fieldValue}if(de===void 0&&!this._hasValueFromXFA&&Array.isArray(he)&&Array.isArray(this.data.fieldValue)&&he.length===this.data.fieldValue.length&&he.every((Oe,Le)=>Oe===this.data.fieldValue[Le]))return null;de===void 0&&(de=this.rotation);let pe=await this._getAppearance(J,re,oe);if(pe===null)return null;const{xref:fe}=J,be=fe.fetchIfRef(this.ref);if(!(be instanceof s.Dict))return null;const ge=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Se={path:(0,t.stringToPDFString)(be.get("T")||""),value:he},ve=fe.getNewRef(),we=new s.Dict(fe);we.set("N",ve);const Fe=fe.encrypt;let Ce=null,ye=null;Fe&&(Ce=Fe.createCipherTransform(this.ref.num,this.ref.gen),ye=Fe.createCipherTransform(ve.num,ve.gen),pe=ye.encryptString(pe));const ke=Oe=>(0,t.isAscii)(Oe)?Oe:(0,t.stringToUTF16BEString)(Oe);be.set("V",Array.isArray(he)?he.map(ke):ke(he)),be.set("AP",we),be.set("M",`D:${(0,t.getModificationDate)()}`);const De=this._getMKDict(de);De&&be.set("MK",De);const Ie=new s.Dict(fe);Ie.set("Length",pe.length),Ie.set("Subtype",s.Name.get("Form")),Ie.set("Resources",this._getSaveFieldResources(fe)),Ie.set("BBox",ge);const Me=this.getRotationMatrix(oe);Me!==t.IDENTITY_MATRIX&&Ie.set("Matrix",Me);const Ne=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(be,Ne,Ce),Ne.push(`
endobj
`);const Re=[`${ve.num} ${ve.gen} obj
`];return(0,e.writeDict)(Ie,Re,ye),Re.push(` stream
`,pe,`
endstream
endobj
`),[{ref:this.ref,data:Ne.join(""),xfa:Se},{ref:ve,data:Re.join(""),xfa:null}]}async _getAppearance(J,re,oe){if(this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD))return null;const he=oe?oe.get(this.data.id):void 0;let de,pe;if(he&&(de=he.formattedValue||he.value,pe=he.rotation),pe===void 0&&de===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(de===void 0&&(de=this.data.fieldValue,!de)||(Array.isArray(de)&&de.length===1&&(de=de[0]),(0,t.assert)(typeof de=="string","Expected `value` to be a string."),de=de.trim(),de===""))return"";pe===void 0&&(pe=this.rotation);let fe=-1;this.data.multiLine&&(fe=de.split(/\r\n|\r|\n/).length);const be=2,ge=be;let Se=this.data.rect[3]-this.data.rect[1],ve=this.data.rect[2]-this.data.rect[0];(pe===90||pe===270)&&([ve,Se]=[Se,ve]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,c.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const we=await G._getFontData(J,re,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[Fe,Ce]=this._computeFontSize(Se-be,ve-2*ge,de,we,fe);let ye=we.descent;isNaN(ye)&&(ye=0);const De=Math.min(Math.floor((Se-Ce)/2),be)+Math.abs(ye)*Ce,Ie=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(Fe,de,we,Ce,ve,Se,Ie,ge,De,oe);const Me=we.encodeString(de).join("");if(this.data.comb)return this._getCombAppearance(Fe,we,Me,ve,ge,De,oe);const Ne=this.getBorderAndBackgroundAppearances(oe);if(Ie===0||Ie>2)return`/Tx BMC q ${Ne}BT `+Fe+` 1 0 0 1 ${ge} ${De} Tm (${(0,t.escapeString)(Me)}) Tj ET Q EMC`;const Re=this._renderText(Me,we,Ce,ve,Ie,ge,De);return`/Tx BMC q ${Ne}BT `+Fe+` 1 0 0 1 0 0 Tm ${Re} ET Q EMC`}static async _getFontData(J,re,oe,ue){const he=new o.OperatorList,de={font:null,clone(){return this}},{fontName:pe,fontSize:fe}=oe;return await J.handleSetFont(ue,[pe&&s.Name.get(pe),fe],null,he,re,de,null),de.font}_getTextWidth(J,re){return re.charsToGlyphs(J).reduce((oe,ue)=>oe+ue.width,0)/1e3}_computeFontSize(J,re,oe,ue,he){let{fontSize:de}=this.data.defaultAppearanceData;if(!de){const pe=ge=>Math.floor(ge*100)/100;if(he===-1){const ge=this._getTextWidth(oe,ue);de=pe(Math.min(J/t.LINE_FACTOR,re/ge))}else{const ge=oe.split(/\r\n?|\n/),Se=[];for(const Ce of ge){const ye=ue.encodeString(Ce).join(""),ke=ue.charsToGlyphs(ye),De=ue.getCharPositions(ye);Se.push({line:ye,glyphs:ke,positions:De})}const ve=Ce=>{let ye=0;for(const ke of Se){const De=this._splitLine(null,ue,Ce,re,ke);if(ye+=De.length*Ce,ye>J)return!0}return!1};de=12;let we=de*t.LINE_FACTOR,Fe=Math.round(J/we);for(Fe=Math.max(Fe,he);;){if(we=J/Fe,de=pe(we/t.LINE_FACTOR),ve(de)){Fe++;continue}break}}const{fontName:fe,fontColor:be}=this.data.defaultAppearanceData;this._defaultAppearance=(0,c.createDefaultAppearance)({fontSize:de,fontName:fe,fontColor:be})}return[this._defaultAppearance,de]}_renderText(J,re,oe,ue,he,de,pe){let fe;if(he===1){const be=this._getTextWidth(J,re)*oe;fe=(ue-be)/2}else if(he===2){const be=this._getTextWidth(J,re)*oe;fe=ue-be-de}else fe=de;return fe=(0,i.numberToString)(fe),pe=(0,i.numberToString)(pe),`${fe} ${pe} Td (${(0,t.escapeString)(J)}) Tj`}_getSaveFieldResources(J){const{localResources:re,appearanceResources:oe,acroFormResources:ue}=this._fieldResources,he=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!he)return re||s.Dict.empty;for(const de of[re,oe])if(de instanceof s.Dict){const pe=de.get("Font");if(pe instanceof s.Dict&&pe.has(he))return de}if(ue instanceof s.Dict){const de=ue.get("Font");if(de instanceof s.Dict&&de.has(he)){const pe=new s.Dict(J);pe.set(he,de.getRaw(he));const fe=new s.Dict(J);return fe.set("Font",pe),s.Dict.merge({xref:J,dictArray:[fe,re],mergeSubDicts:!0})}}return re||s.Dict.empty}getFieldObject(){return null}}class R extends G{constructor(J){super(J),this._hasText=!0;const re=J.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let oe=(0,i.getInheritableProperty)({dict:re,key:"Q"});(!Number.isInteger(oe)||oe<0||oe>2)&&(oe=null),this.data.textAlignment=oe;let ue=(0,i.getInheritableProperty)({dict:re,key:"MaxLen"});(!Number.isInteger(ue)||ue<0)&&(ue=0),this.data.maxLen=ue,this.data.multiLine=this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(t.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(t.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(t.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(J,re,oe,ue,he,de,pe){const fe=(0,i.numberToString)(ue/this.data.maxLen),be=[],ge=re.getCharPositions(oe);for(const[we,Fe]of ge)be.push(`(${(0,t.escapeString)(oe.substring(we,Fe))}) Tj`);const Se=this.getBorderAndBackgroundAppearances(pe),ve=be.join(` ${fe} 0 Td `);return`/Tx BMC q ${Se}BT `+J+` 1 0 0 1 ${he} ${de} Tm ${ve} ET Q EMC`}_getMultilineAppearance(J,re,oe,ue,he,de,pe,fe,be,ge){const Se=re.split(/\r\n?|\n/),ve=[],we=he-2*fe;for(const ye of Se){const ke=this._splitLine(ye,oe,ue,we);for(const De of ke){const Ie=ve.length===0?fe:0;ve.push(this._renderText(De,oe,ue,he,pe,Ie,-ue))}}const Fe=ve.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(ge)}BT `+J+` 1 0 0 1 0 ${de} Tm ${Fe} ET Q EMC`}_splitLine(J,re,oe,ue){let he=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};J=he.line||re.encodeString(J).join("");const de=he.glyphs||re.charsToGlyphs(J);if(de.length<=1)return[J];const pe=he.positions||re.getCharPositions(J),fe=oe/1e3,be=[];let ge=-1,Se=-1,ve=-1,we=0,Fe=0;for(let Ce=0,ye=de.length;Ce<ye;Ce++){const[ke,De]=pe[Ce],Ie=de[Ce],Me=Ie.width*fe;Ie.unicode===" "?Fe+Me>ue?(be.push(J.substring(we,ke)),we=ke,Fe=Me,ge=-1,ve=-1):(Fe+=Me,ge=ke,Se=De,ve=Ce):Fe+Me>ue?ge!==-1?(be.push(J.substring(we,Se)),we=Se,Ce=ve+1,ge=-1,Fe=0):(be.push(J.substring(we,ke)),we=ke,Fe=Me):Fe+=Me}return we<J.length&&be.push(J.substring(we,J.length)),be}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class I extends G{constructor(J){super(J),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(J):this.data.radioButton?this._processRadioButton(J):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(J)):(0,t.warn)("Invalid field flags for button widget annotation")}async getOperatorList(J,re,oe,ue,he){if(this.data.pushButton)return super.getOperatorList(J,re,oe,!1,he);let de=null,pe=null;if(he){const be=he.get(this.data.id);de=be?be.value:null,pe=be?be.rotation:null}if(de===null&&this.appearance)return super.getOperatorList(J,re,oe,ue,he);de==null&&(this.data.checkBox?de=this.data.fieldValue===this.data.exportValue:de=this.data.fieldValue===this.data.buttonValue);const fe=de?this.checkedAppearance:this.uncheckedAppearance;if(fe){const be=this.appearance,ge=fe.dict.getArray("Matrix")||t.IDENTITY_MATRIX;pe&&fe.dict.set("Matrix",this.getRotationMatrix(he)),this.appearance=fe;const Se=super.getOperatorList(J,re,oe,ue,he);return this.appearance=be,fe.dict.set("Matrix",ge),Se}return{opList:new o.OperatorList,separateForm:!1,separateCanvas:!1}}async save(J,re,oe){return this.data.checkBox?this._saveCheckbox(J,re,oe):this.data.radioButton?this._saveRadioButton(J,re,oe):null}async _saveCheckbox(J,re,oe){if(!oe)return null;const ue=oe.get(this.data.id);let he=ue&&ue.rotation,de=ue&&ue.value;if(he===void 0&&(de===void 0||this.data.fieldValue===this.data.exportValue===de))return null;const pe=J.xref.fetchIfRef(this.ref);if(!(pe instanceof s.Dict))return null;he===void 0&&(he=this.rotation),de===void 0&&(de=this.data.fieldValue===this.data.exportValue);const fe={path:(0,t.stringToPDFString)(pe.get("T")||""),value:de?this.data.exportValue:""},be=s.Name.get(de?this.data.exportValue:"Off");pe.set("V",be),pe.set("AS",be),pe.set("M",`D:${(0,t.getModificationDate)()}`);const ge=this._getMKDict(he);ge&&pe.set("MK",ge);const Se=J.xref.encrypt;let ve=null;Se&&(ve=Se.createCipherTransform(this.ref.num,this.ref.gen));const we=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,e.writeDict)(pe,we,ve),we.push(`
endobj
`),[{ref:this.ref,data:we.join(""),xfa:fe}]}async _saveRadioButton(J,re,oe){if(!oe)return null;const ue=oe.get(this.data.id);let he=ue&&ue.rotation,de=ue&&ue.value;if(he===void 0&&(de===void 0||this.data.fieldValue===this.data.buttonValue===de))return null;const pe=J.xref.fetchIfRef(this.ref);if(!(pe instanceof s.Dict))return null;de===void 0&&(de=this.data.fieldValue===this.data.buttonValue),he===void 0&&(he=this.rotation);const fe={path:(0,t.stringToPDFString)(pe.get("T")||""),value:de?this.data.buttonValue:""},be=s.Name.get(de?this.data.buttonValue:"Off");let ge=null;const Se=J.xref.encrypt;if(de)if(this.parent instanceof s.Ref){const ye=J.xref.fetch(this.parent);let ke=null;Se&&(ke=Se.createCipherTransform(this.parent.num,this.parent.gen)),ye.set("V",be),ge=[`${this.parent.num} ${this.parent.gen} obj
`],(0,e.writeDict)(ye,ge,ke),ge.push(`
endobj
`)}else this.parent instanceof s.Dict&&this.parent.set("V",be);pe.set("AS",be),pe.set("M",`D:${(0,t.getModificationDate)()}`);const ve=this._getMKDict(he);ve&&pe.set("MK",ve);let we=null;Se&&(we=Se.createCipherTransform(this.ref.num,this.ref.gen));const Fe=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(pe,Fe,we),Fe.push(`
endobj
`);const Ce=[{ref:this.ref,data:Fe.join(""),xfa:fe}];return ge!==null&&Ce.push({ref:this.parent,data:ge.join(""),xfa:null}),Ce}_getDefaultCheckedAppearance(J,re){const oe=this.data.rect[2]-this.data.rect[0],ue=this.data.rect[3]-this.data.rect[1],he=[0,0,oe,ue],de=.8,pe=Math.min(oe,ue)*de;let fe,be;re==="check"?(fe={width:.755*pe,height:.705*pe},be="3"):re==="disc"?(fe={width:.791*pe,height:.705*pe},be="l"):(0,t.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${re}`);const ge=(0,i.numberToString)((oe-fe.width)/2),Se=(0,i.numberToString)((ue-fe.height)/2),ve=`q BT /PdfJsZaDb ${pe} Tf 0 g ${ge} ${Se} Td (${be}) Tj ET Q`,we=new s.Dict(J.xref);we.set("FormType",1),we.set("Subtype",s.Name.get("Form")),we.set("Type",s.Name.get("XObject")),we.set("BBox",he),we.set("Matrix",[1,0,0,1,0,0]),we.set("Length",ve.length);const Fe=new s.Dict(J.xref),Ce=new s.Dict(J.xref);Ce.set("PdfJsZaDb",this.fallbackFontDict),Fe.set("Font",Ce),we.set("Resources",Fe),this.checkedAppearance=new S.StringStream(ve),this.checkedAppearance.dict=we,this._streams.push(this.checkedAppearance)}_processCheckBox(J){const re=J.dict.get("AP");if(!(re instanceof s.Dict))return;const oe=re.get("N");if(!(oe instanceof s.Dict))return;const ue=this._decodeFormValue(J.dict.get("AS"));typeof ue=="string"&&(this.data.fieldValue=ue);const he=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",de=oe.getKeys();if(de.length===0)de.push("Off",he);else if(de.length===1)de[0]==="Off"?de.push(he):de.unshift("Off");else if(de.includes(he))de.length=0,de.push("Off",he);else{const pe=de.find(fe=>fe!=="Off");de.length=0,de.push("Off",pe)}de.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=de[1],this.checkedAppearance=oe.get(this.data.exportValue)||null,this.uncheckedAppearance=oe.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(J,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(J){this.data.fieldValue=this.data.buttonValue=null;const re=J.dict.get("Parent");if(re instanceof s.Dict){this.parent=J.dict.getRaw("Parent");const he=re.get("V");he instanceof s.Name&&(this.data.fieldValue=this._decodeFormValue(he))}const oe=J.dict.get("AP");if(!(oe instanceof s.Dict))return;const ue=oe.get("N");if(ue instanceof s.Dict){for(const he of ue.getKeys())if(he!=="Off"){this.data.buttonValue=this._decodeFormValue(he);break}this.checkedAppearance=ue.get(this.data.buttonValue)||null,this.uncheckedAppearance=ue.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(J,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(J){if(!J.dict.has("A")&&!J.dict.has("AA")&&!this.data.alternativeText){(0,t.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!J.dict.has("A")&&!J.dict.has("AA"),g.Catalog.parseDestDictionary({destDict:J.dict,resultObj:this.data,docBaseUrl:J.pdfManager.docBaseUrl})}getFieldObject(){let J="button",re;return this.data.checkBox?(J="checkbox",re=this.data.exportValue):this.data.radioButton&&(J="radiobutton",re=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:re,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:J}}get fallbackFontDict(){const J=new s.Dict;return J.set("BaseFont",s.Name.get("ZapfDingbats")),J.set("Type",s.Name.get("FallbackType")),J.set("Subtype",s.Name.get("FallbackType")),J.set("Encoding",s.Name.get("ZapfDingbatsEncoding")),(0,t.shadow)(this,"fallbackFontDict",J)}}class U extends G{constructor(J){super(J),this.data.options=[];const re=(0,i.getInheritableProperty)({dict:J.dict,key:"Opt"});if(Array.isArray(re)){const oe=J.xref;for(let ue=0,he=re.length;ue<he;ue++){const de=oe.fetchIfRef(re[ue]),pe=Array.isArray(de);this.data.options[ue]={exportValue:this._decodeFormValue(pe?oe.fetchIfRef(de[0]):de),displayValue:this._decodeFormValue(pe?oe.fetchIfRef(de[1]):de)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(t.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(t.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const J=this.data.combo?"combobox":"listbox",re=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:re,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:J}}async _getAppearance(J,re,oe){if(this.data.combo)return super._getAppearance(J,re,oe);if(!oe)return null;const ue=oe.get(this.data.id);if(!ue)return null;const he=ue.rotation;let de=ue.value;if(he===void 0&&de===void 0)return null;de===void 0?de=this.data.fieldValue:Array.isArray(de)||(de=[de]);const pe=2,fe=pe;let be=this.data.rect[3]-this.data.rect[1],ge=this.data.rect[2]-this.data.rect[0];(he===90||he===270)&&([ge,be]=[be,ge]);const Se=this.data.options.length,ve=[];for(let Re=0;Re<Se;Re++){const{exportValue:Oe}=this.data.options[Re];de.includes(Oe)&&ve.push(Re)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,c.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const we=await G._getFontData(J,re,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let Fe,{fontSize:Ce}=this.data.defaultAppearanceData;if(Ce)Fe=this._defaultAppearance;else{const Re=(be-pe)/Se;let Oe=-1,Le;for(const{displayValue:Pe}of this.data.options){const $e=this._getTextWidth(Pe,we);$e>Oe&&(Oe=$e,Le=Pe)}[Fe,Ce]=this._computeFontSize(Re,ge-2*fe,Le,we,-1)}const ye=Ce*t.LINE_FACTOR,ke=(ye-Ce)/2,De=Math.floor(be/ye);let Ie;if(ve.length===1){const Re=ve[0],Oe=Re%De;Ie=Re-Oe}else Ie=ve.length?ve[0]:0;const Me=Math.min(Ie+De+1,Se),Ne=["/Tx BMC q",`1 1 ${ge} ${be} re W n`];if(ve.length){Ne.push("0.600006 0.756866 0.854904 rg");for(const Re of ve)Ie<=Re&&Re<Me&&Ne.push(`1 ${be-(Re-Ie+1)*ye} ${ge} ${ye} re f`)}Ne.push("BT",Fe,`1 0 0 1 0 ${be} Tm`);for(let Re=Ie;Re<Me;Re++){const{displayValue:Oe}=this.data.options[Re],Le=Re===Ie?fe:0,Pe=Re===Ie?ke:0;Ne.push(this._renderText(Oe,we,Ce,ge,0,Le,-ye+Pe))}return Ne.push("ET Q EMC"),Ne.join(`
`)}}class P extends G{constructor(J){super(J),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class A extends B{constructor(J){super(J);const oe=J.dict;this.data.annotationType=t.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=oe.has("Name")?oe.get("Name").name:"Note"),oe.has("State")?(this.data.state=oe.get("State")||null,this.data.stateModel=oe.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class z extends L{constructor(J){super(J),this.data.annotationType=t.AnnotationType.LINK;const re=M(J.dict,this.rectangle);re&&(this.data.quadPoints=re),this.data.borderColor=this.data.borderColor||this.data.color,g.Catalog.parseDestDictionary({destDict:J.dict,resultObj:this.data,docBaseUrl:J.pdfManager.docBaseUrl})}}class N extends L{constructor(J){super(J),this.data.annotationType=t.AnnotationType.POPUP;let re=J.dict.get("Parent");if(!re){(0,t.warn)("Popup annotation has a missing or invalid parent annotation.");return}const oe=re.get("Subtype");this.data.parentType=oe instanceof s.Name?oe.name:null;const ue=J.dict.getRaw("Parent");this.data.parentId=ue instanceof s.Ref?ue.toString():null;const he=re.getArray("Rect");Array.isArray(he)&&he.length===4?this.data.parentRect=t.Util.normalizeRect(he):this.data.parentRect=[0,0,0,0];const de=re.get("RT");if((0,s.isName)(de,t.AnnotationReplyType.GROUP)&&(re=re.get("IRT")),re.has("M")?(this.setModificationDate(re.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,re.has("C")?(this.setColor(re.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const pe=re.get("F");this._isViewable(pe)&&this.setFlags(pe)}this.setTitle(re.get("T")),this.data.titleObj=this._title,this.setContents(re.get("Contents")),this.data.contentsObj=this._contents,re.has("RC")&&(this.data.richText=T.XFAFactory.getRichTextAsHtml(re.get("RC")))}}l.PopupAnnotation=N;class W extends B{constructor(J){super(J),this.data.annotationType=t.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(J,re,oe){let{apRef:ue,ap:he}=oe;const{color:de,fontSize:pe,rect:fe,rotation:be,user:ge,value:Se}=J,ve=new s.Dict(re);ve.set("Type",s.Name.get("Annot")),ve.set("Subtype",s.Name.get("FreeText")),ve.set("CreationDate",`D:${(0,t.getModificationDate)()}`),ve.set("Rect",fe);const we=`/Helv ${pe} Tf ${(0,c.getPdfColor)(de,!0)}`;ve.set("DA",we),ve.set("Contents",Se),ve.set("F",4),ve.set("Border",[0,0,0]),ve.set("Rotate",be),ge&&ve.set("T",(0,t.stringToUTF8String)(ge));const Fe=new s.Dict(re);return ve.set("AP",Fe),ue?Fe.set("N",ue):Fe.set("N",he),ve}static async createNewAppearanceStream(J,re,oe){const{baseFontRef:ue,evaluator:he,task:de}=oe,{color:pe,fontSize:fe,rect:be,rotation:ge,value:Se}=J,ve=new s.Dict(re),we=new s.Dict(re);if(ue)we.set("Helv",ue);else{const st=new s.Dict(re);st.set("BaseFont",s.Name.get("Helvetica")),st.set("Type",s.Name.get("Font")),st.set("Subtype",s.Name.get("Type1")),st.set("Encoding",s.Name.get("WinAnsiEncoding")),we.set("Helv",st)}ve.set("Font",we);const Fe=await G._getFontData(he,de,{fontName:"Helvetica",fontSize:fe},ve),[Ce,ye,ke,De]=be;let Ie=ke-Ce,Me=De-ye;ge%180!==0&&([Ie,Me]=[Me,Ie]);const Ne=Se.split(`
`),Re=fe/1e3;let Oe=-1/0;const Le=[];for(let st of Ne){st=Fe.encodeString(st).join(""),Le.push(st);let gt=0;const Ge=Fe.charsToGlyphs(st);for(const ht of Ge)gt+=ht.width*Re;Oe=Math.max(Oe,gt)}let Pe=1;Oe>Ie&&(Pe=Ie/Oe);let $e=1;const je=t.LINE_FACTOR*fe,Te=t.LINE_DESCENT_FACTOR*fe,Ae=je*Ne.length;Ae>Me&&($e=Me/Ae);const Ee=Math.min(Pe,$e),Be=fe*Ee,ze=["q",`0 0 ${(0,i.numberToString)(Ie)} ${(0,i.numberToString)(Me)} re W n`,"BT",`1 0 0 1 0 ${(0,i.numberToString)(Me+Te)} Tm 0 Tc ${(0,c.getPdfColor)(pe,!0)}`,`/Helv ${(0,i.numberToString)(Be)} Tf`],We=(0,i.numberToString)(je);for(const st of Le)ze.push(`0 -${We} Td (${(0,t.escapeString)(st)}) Tj`);ze.push("ET","Q");const tt=ze.join(`
`),Ze=new s.Dict(re);if(Ze.set("FormType",1),Ze.set("Subtype",s.Name.get("Form")),Ze.set("Type",s.Name.get("XObject")),Ze.set("BBox",[0,0,Ie,Me]),Ze.set("Length",tt.length),Ze.set("Resources",ve),ge){const st=G._getRotationMatrix(ge,Ie,Me);Ze.set("Matrix",st)}const Xe=new S.StringStream(tt);return Xe.dict=Ze,Xe}}class ie extends B{constructor(J){super(J);const{dict:re}=J;this.data.annotationType=t.AnnotationType.LINE;const oe=re.getArray("L");if(this.data.lineCoordinates=t.Util.normalizeRect(oe),this.setLineEndings(re.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const ue=this.color?Array.from(this.color).map(ve=>ve/255):[0,0,0],he=re.get("CA");let de=null,pe=re.getArray("IC");pe&&(pe=k(pe,null),de=pe?Array.from(pe).map(ve=>ve/255):null);const fe=de?he:null,be=this.borderStyle.width||1,ge=2*be,Se=[this.data.lineCoordinates[0]-ge,this.data.lineCoordinates[1]-ge,this.data.lineCoordinates[2]+ge,this.data.lineCoordinates[3]+ge];t.Util.intersect(this.rectangle,Se)||(this.rectangle=Se),this._setDefaultAppearance({xref:J.xref,extra:`${be} w`,strokeColor:ue,fillColor:de,strokeAlpha:he,fillAlpha:fe,pointsCallback:(ve,we)=>(ve.push(`${oe[0]} ${oe[1]} m`,`${oe[2]} ${oe[3]} l`,"S"),[we[0].x-be,we[1].x+be,we[3].y-be,we[1].y+be])})}}}class Y extends B{constructor(J){if(super(J),this.data.annotationType=t.AnnotationType.SQUARE,!this.appearance){const re=this.color?Array.from(this.color).map(pe=>pe/255):[0,0,0],oe=J.dict.get("CA");let ue=null,he=J.dict.getArray("IC");he&&(he=k(he,null),ue=he?Array.from(he).map(pe=>pe/255):null);const de=ue?oe:null;if(this.borderStyle.width===0&&!ue)return;this._setDefaultAppearance({xref:J.xref,extra:`${this.borderStyle.width} w`,strokeColor:re,fillColor:ue,strokeAlpha:oe,fillAlpha:de,pointsCallback:(pe,fe)=>{const be=fe[2].x+this.borderStyle.width/2,ge=fe[2].y+this.borderStyle.width/2,Se=fe[3].x-fe[2].x-this.borderStyle.width,ve=fe[1].y-fe[3].y-this.borderStyle.width;return pe.push(`${be} ${ge} ${Se} ${ve} re`),ue?pe.push("B"):pe.push("S"),[fe[0].x,fe[1].x,fe[3].y,fe[1].y]}})}}}class F extends B{constructor(J){if(super(J),this.data.annotationType=t.AnnotationType.CIRCLE,!this.appearance){const re=this.color?Array.from(this.color).map(fe=>fe/255):[0,0,0],oe=J.dict.get("CA");let ue=null,he=J.dict.getArray("IC");he&&(he=k(he,null),ue=he?Array.from(he).map(fe=>fe/255):null);const de=ue?oe:null;if(this.borderStyle.width===0&&!ue)return;const pe=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:J.xref,extra:`${this.borderStyle.width} w`,strokeColor:re,fillColor:ue,strokeAlpha:oe,fillAlpha:de,pointsCallback:(fe,be)=>{const ge=be[0].x+this.borderStyle.width/2,Se=be[0].y-this.borderStyle.width/2,ve=be[3].x-this.borderStyle.width/2,we=be[3].y+this.borderStyle.width/2,Fe=ge+(ve-ge)/2,Ce=Se+(we-Se)/2,ye=(ve-ge)/2*pe,ke=(we-Se)/2*pe;return fe.push(`${Fe} ${we} m`,`${Fe+ye} ${we} ${ve} ${Ce+ke} ${ve} ${Ce} c`,`${ve} ${Ce-ke} ${Fe+ye} ${Se} ${Fe} ${Se} c`,`${Fe-ye} ${Se} ${ge} ${Ce-ke} ${ge} ${Ce} c`,`${ge} ${Ce+ke} ${Fe-ye} ${we} ${Fe} ${we} c`,"h"),ue?fe.push("B"):fe.push("S"),[be[0].x,be[1].x,be[3].y,be[1].y]}})}}}class D extends B{constructor(J){super(J);const{dict:re}=J;this.data.annotationType=t.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof Q||(this.setLineEndings(re.getArray("LE")),this.data.lineEndings=this.lineEndings);const oe=re.getArray("Vertices");if(Array.isArray(oe)){for(let ue=0,he=oe.length;ue<he;ue+=2)this.data.vertices.push({x:oe[ue],y:oe[ue+1]});if(!this.appearance){const ue=this.color?Array.from(this.color).map(be=>be/255):[0,0,0],he=re.get("CA"),de=this.borderStyle.width||1,pe=2*de,fe=[1/0,1/0,-1/0,-1/0];for(const be of this.data.vertices)fe[0]=Math.min(fe[0],be.x-pe),fe[1]=Math.min(fe[1],be.y-pe),fe[2]=Math.max(fe[2],be.x+pe),fe[3]=Math.max(fe[3],be.y+pe);t.Util.intersect(this.rectangle,fe)||(this.rectangle=fe),this._setDefaultAppearance({xref:J.xref,extra:`${de} w`,strokeColor:ue,strokeAlpha:he,pointsCallback:(be,ge)=>{const Se=this.data.vertices;for(let ve=0,we=Se.length;ve<we;ve++)be.push(`${Se[ve].x} ${Se[ve].y} ${ve===0?"m":"l"}`);return be.push("S"),[ge[0].x,ge[1].x,ge[3].y,ge[1].y]}})}}}}class Q extends D{constructor(J){super(J),this.data.annotationType=t.AnnotationType.POLYGON}}class ee extends B{constructor(J){super(J),this.data.annotationType=t.AnnotationType.CARET}}class V extends B{constructor(J){super(J),this.data.annotationType=t.AnnotationType.INK,this.data.inkLists=[];const re=J.dict.getArray("InkList");if(!Array.isArray(re))return;const oe=J.xref;for(let ue=0,he=re.length;ue<he;++ue){this.data.inkLists.push([]);for(let de=0,pe=re[ue].length;de<pe;de+=2)this.data.inkLists[ue].push({x:oe.fetchIfRef(re[ue][de]),y:oe.fetchIfRef(re[ue][de+1])})}if(!this.appearance){const ue=this.color?Array.from(this.color).map(be=>be/255):[0,0,0],he=J.dict.get("CA"),de=this.borderStyle.width||1,pe=2*de,fe=[1/0,1/0,-1/0,-1/0];for(const be of this.data.inkLists)for(const ge of be)fe[0]=Math.min(fe[0],ge.x-pe),fe[1]=Math.min(fe[1],ge.y-pe),fe[2]=Math.max(fe[2],ge.x+pe),fe[3]=Math.max(fe[3],ge.y+pe);t.Util.intersect(this.rectangle,fe)||(this.rectangle=fe),this._setDefaultAppearance({xref:J.xref,extra:`${de} w`,strokeColor:ue,strokeAlpha:he,pointsCallback:(be,ge)=>{for(const Se of this.data.inkLists){for(let ve=0,we=Se.length;ve<we;ve++)be.push(`${Se[ve].x} ${Se[ve].y} ${ve===0?"m":"l"}`);be.push("S")}return[ge[0].x,ge[1].x,ge[3].y,ge[1].y]}})}}static createNewDict(J,re,oe){let{apRef:ue,ap:he}=oe;const{paths:de,rect:pe,rotation:fe}=J,be=new s.Dict(re);be.set("Type",s.Name.get("Annot")),be.set("Subtype",s.Name.get("Ink")),be.set("CreationDate",`D:${(0,t.getModificationDate)()}`),be.set("Rect",pe),be.set("InkList",de.map(Se=>Se.points)),be.set("F",4),be.set("Border",[0,0,0]),be.set("Rotate",fe);const ge=new s.Dict(re);return be.set("AP",ge),ue?ge.set("N",ue):ge.set("N",he),be}static async createNewAppearanceStream(J,re,oe){const{color:ue,rect:he,rotation:de,paths:pe,thickness:fe,opacity:be}=J,[ge,Se,ve,we]=he;let Fe=ve-ge,Ce=we-Se;de%180!==0&&([Fe,Ce]=[Ce,Fe]);const ye=[`${fe} w 1 J 1 j`,`${(0,c.getPdfColor)(ue,!1)}`];be!==1&&ye.push("/R0 gs");const ke=[];for(const{bezier:Ne}of pe){ke.length=0,ke.push(`${(0,i.numberToString)(Ne[0])} ${(0,i.numberToString)(Ne[1])} m`);for(let Re=2,Oe=Ne.length;Re<Oe;Re+=6){const Le=Ne.slice(Re,Re+6).map(i.numberToString).join(" ");ke.push(`${Le} c`)}ke.push("S"),ye.push(ke.join(`
`))}const De=ye.join(`
`),Ie=new s.Dict(re);if(Ie.set("FormType",1),Ie.set("Subtype",s.Name.get("Form")),Ie.set("Type",s.Name.get("XObject")),Ie.set("BBox",[0,0,Fe,Ce]),Ie.set("Length",De.length),de){const Ne=G._getRotationMatrix(de,Fe,Ce);Ie.set("Matrix",Ne)}if(be!==1){const Ne=new s.Dict(re),Re=new s.Dict(re),Oe=new s.Dict(re);Oe.set("CA",be),Oe.set("Type",s.Name.get("ExtGState")),Re.set("R0",Oe),Ne.set("ExtGState",Re),Ie.set("Resources",Ne)}const Me=new S.StringStream(De);return Me.dict=Ie,Me}}class Z extends B{constructor(J){if(super(J),this.data.annotationType=t.AnnotationType.HIGHLIGHT,this.data.quadPoints=M(J.dict,null)){const oe=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!(oe&&oe.has("ExtGState"))){this.appearance&&(0,t.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const ue=this.color?Array.from(this.color).map(de=>de/255):[1,1,0],he=J.dict.get("CA");this._setDefaultAppearance({xref:J.xref,fillColor:ue,blendMode:"Multiply",fillAlpha:he,pointsCallback:(de,pe)=>(de.push(`${pe[0].x} ${pe[0].y} m`,`${pe[1].x} ${pe[1].y} l`,`${pe[3].x} ${pe[3].y} l`,`${pe[2].x} ${pe[2].y} l`,"f"),[pe[0].x,pe[1].x,pe[3].y,pe[1].y])})}}else this.data.hasPopup=!1}}class ae extends B{constructor(J){if(super(J),this.data.annotationType=t.AnnotationType.UNDERLINE,this.data.quadPoints=M(J.dict,null)){if(!this.appearance){const oe=this.color?Array.from(this.color).map(he=>he/255):[0,0,0],ue=J.dict.get("CA");this._setDefaultAppearance({xref:J.xref,extra:"[] 0 d 1 w",strokeColor:oe,strokeAlpha:ue,pointsCallback:(he,de)=>(he.push(`${de[2].x} ${de[2].y} m`,`${de[3].x} ${de[3].y} l`,"S"),[de[0].x,de[1].x,de[3].y,de[1].y])})}}else this.data.hasPopup=!1}}class H extends B{constructor(J){if(super(J),this.data.annotationType=t.AnnotationType.SQUIGGLY,this.data.quadPoints=M(J.dict,null)){if(!this.appearance){const oe=this.color?Array.from(this.color).map(he=>he/255):[0,0,0],ue=J.dict.get("CA");this._setDefaultAppearance({xref:J.xref,extra:"[] 0 d 1 w",strokeColor:oe,strokeAlpha:ue,pointsCallback:(he,de)=>{const pe=(de[0].y-de[2].y)/6;let fe=pe,be=de[2].x;const ge=de[2].y,Se=de[3].x;he.push(`${be} ${ge+fe} m`);do be+=2,fe=fe===0?pe:0,he.push(`${be} ${ge+fe} l`);while(be<Se);return he.push("S"),[de[2].x,Se,ge-2*pe,ge+2*pe]}})}}else this.data.hasPopup=!1}}class q extends B{constructor(J){if(super(J),this.data.annotationType=t.AnnotationType.STRIKEOUT,this.data.quadPoints=M(J.dict,null)){if(!this.appearance){const oe=this.color?Array.from(this.color).map(he=>he/255):[0,0,0],ue=J.dict.get("CA");this._setDefaultAppearance({xref:J.xref,extra:"[] 0 d 1 w",strokeColor:oe,strokeAlpha:ue,pointsCallback:(he,de)=>(he.push(`${(de[0].x+de[2].x)/2} ${(de[0].y+de[2].y)/2} m`,`${(de[1].x+de[3].x)/2} ${(de[1].y+de[3].y)/2} l`,"S"),[de[0].x,de[1].x,de[3].y,de[1].y])})}}else this.data.hasPopup=!1}}class ne extends B{constructor(J){super(J),this.data.annotationType=t.AnnotationType.STAMP}}class le extends B{constructor(J){super(J);const re=new b.FileSpec(J.dict.get("FS"),J.xref);this.data.annotationType=t.AnnotationType.FILEATTACHMENT,this.data.file=re.serializable}}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDefaultAppearance=b,l.getPdfColor=y,l.parseDefaultAppearance=g;var t=a(131),i=a(2),c=a(139),s=a(140),e=a(130),u=a(135);class m extends s.EvaluatorPreprocessor{constructor(o){super(new u.StringStream(o))}parse(){const o={fn:0,args:[]},S={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;o.args.length=0,!!this.read(o);){if(this.savedStatesDepth!==0)continue;const{fn:T,args:E}=o;switch(T|0){case i.OPS.setFont:const[k,M]=E;k instanceof e.Name&&(S.fontName=k.name),typeof M=="number"&&M>0&&(S.fontSize=M);break;case i.OPS.setFillRGBColor:c.ColorSpace.singletons.rgb.getRgbItem(E,0,S.fontColor,0);break;case i.OPS.setFillGray:c.ColorSpace.singletons.gray.getRgbItem(E,0,S.fontColor,0);break;case i.OPS.setFillColorSpace:c.ColorSpace.singletons.cmyk.getRgbItem(E,0,S.fontColor,0);break}}}catch(T){(0,i.warn)(`parseDefaultAppearance - ignoring errors: "${T}".`)}return S}}function g(v){return new m(v).parse()}function y(v,o){if(v[0]===v[1]&&v[1]===v[2]){const S=v[0]/255;return`${(0,t.numberToString)(S)} ${o?"g":"G"}`}return Array.from(v).map(S=>(0,t.numberToString)(S/255)).join(" ")+` ${o?"rg":"RG"}`}function b(v){let{fontSize:o,fontName:S,fontColor:T}=v;return`/${(0,t.escapePDFName)(S)} ${o} Tf ${y(T,!0)}`}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorSpace=void 0;var t=a(2),i=a(130),c=a(132),s=a(131);function e(k,M,O,L,te,B,G){G=G!==1?0:G;const I=O/te,U=L/B;let P=0,A;const z=new Uint16Array(te),N=O*3;for(let W=0;W<te;W++)z[W]=Math.floor(W*I)*3;for(let W=0;W<B;W++){const ie=Math.floor(W*U)*N;for(let Y=0;Y<te;Y++)A=ie+z[Y],M[P++]=k[A++],M[P++]=k[A++],M[P++]=k[A++],P+=G}}class u{constructor(M,O){this.constructor===u&&(0,t.unreachable)("Cannot initialize ColorSpace."),this.name=M,this.numComps=O}getRgb(M,O){const L=new Uint8ClampedArray(3);return this.getRgbItem(M,O,L,0),L}getRgbItem(M,O,L,te){(0,t.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(M,O,L,te,B,G,R){(0,t.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(M,O){(0,t.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(M){return!1}isDefaultDecode(M,O){return u.isDefaultDecode(M,this.numComps)}fillRgb(M,O,L,te,B,G,R,I,U){const P=O*L;let A=null;const z=1<<R,N=L!==B||O!==te;if(this.isPassthrough(R))A=I;else if(this.numComps===1&&P>z&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const W=R<=8?new Uint8Array(z):new Uint16Array(z);for(let Y=0;Y<z;Y++)W[Y]=Y;const ie=new Uint8ClampedArray(z*3);if(this.getRgbBuffer(W,0,z,ie,0,R,0),N){A=new Uint8Array(P*3);let Y=0;for(let F=0;F<P;++F){const D=I[F]*3;A[Y++]=ie[D],A[Y++]=ie[D+1],A[Y++]=ie[D+2]}}else{let Y=0;for(let F=0;F<P;++F){const D=I[F]*3;M[Y++]=ie[D],M[Y++]=ie[D+1],M[Y++]=ie[D+2],Y+=U}}}else N?(A=new Uint8ClampedArray(P*3),this.getRgbBuffer(I,0,P,A,0,R,0)):this.getRgbBuffer(I,0,te*G,M,0,R,U);if(A)if(N)e(A,M,O,L,te,B,U);else{let W=0,ie=0;for(let Y=0,F=te*G;Y<F;Y++)M[W++]=A[ie++],M[W++]=A[ie++],M[W++]=A[ie++],W+=U}}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!0)}static _cache(M,O,L,te){if(!L)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!te)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let B,G;M instanceof i.Ref&&(G=M,M=O.fetch(M)),M instanceof i.Name&&(B=M.name),(B||G)&&L.set(B,G,te)}static getCached(M,O,L){if(!L)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(M instanceof i.Ref){const te=L.getByRef(M);if(te)return te;try{M=O.fetch(M)}catch(B){if(B instanceof s.MissingDataException)throw B}}if(M instanceof i.Name){const te=L.getByName(M.name);if(te)return te}return null}static async parseAsync(M){let{cs:O,xref:L,resources:te=null,pdfFunctionFactory:B,localColorSpaceCache:G}=M;const R=this._parse(O,L,te,B);return this._cache(O,L,G,R),R}static parse(M){let{cs:O,xref:L,resources:te=null,pdfFunctionFactory:B,localColorSpaceCache:G}=M;const R=this.getCached(O,L,G);if(R)return R;const I=this._parse(O,L,te,B);return this._cache(O,L,G,I),I}static _parse(M,O){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,te=arguments.length>3?arguments[3]:void 0;if(M=O.fetchIfRef(M),M instanceof i.Name)switch(M.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new g(null);default:if(L instanceof i.Dict){const B=L.get("ColorSpace");if(B instanceof i.Dict){const G=B.get(M.name);if(G){if(G instanceof i.Name)return this._parse(G,O,L,te);M=G;break}}}throw new t.FormatError(`Unrecognized ColorSpace: ${M.name}`)}if(Array.isArray(M)){const B=O.fetchIfRef(M[0]).name;let G,R,I,U,P,A;switch(B){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return G=O.fetchIfRef(M[1]),U=G.getArray("WhitePoint"),P=G.getArray("BlackPoint"),A=G.get("Gamma"),new S(U,P,A);case"CalRGB":G=O.fetchIfRef(M[1]),U=G.getArray("WhitePoint"),P=G.getArray("BlackPoint"),A=G.getArray("Gamma");const z=G.getArray("Matrix");return new T(U,P,A,z);case"ICCBased":const W=O.fetchIfRef(M[1]).dict;R=W.get("N");const ie=W.get("Alternate");if(ie){const V=this._parse(ie,O,L,te);if(V.numComps===R)return V;(0,t.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(R===1)return this.singletons.gray;if(R===3)return this.singletons.rgb;if(R===4)return this.singletons.cmyk;break;case"Pattern":return I=M[1]||null,I&&(I=this._parse(I,O,L,te)),new g(I);case"I":case"Indexed":I=this._parse(M[1],O,L,te);const Y=O.fetchIfRef(M[2])+1,F=O.fetchIfRef(M[3]);return new y(I,Y,F);case"Separation":case"DeviceN":const D=O.fetchIfRef(M[1]);R=Array.isArray(D)?D.length:1,I=this._parse(M[2],O,L,te);const Q=te.create(M[3]);return new m(R,I,Q);case"Lab":G=O.fetchIfRef(M[1]),U=G.getArray("WhitePoint"),P=G.getArray("BlackPoint");const ee=G.getArray("Range");return new E(U,P,ee);default:throw new t.FormatError(`Unimplemented ColorSpace object: ${B}`)}}throw new t.FormatError(`Unrecognized ColorSpace object: ${M}`)}static isDefaultDecode(M,O){if(!Array.isArray(M))return!0;if(O*2!==M.length)return(0,t.warn)("The decode map is not the correct length"),!0;for(let L=0,te=M.length;L<te;L+=2)if(M[L]!==0||M[L+1]!==1)return!1;return!0}static get singletons(){return(0,t.shadow)(this,"singletons",{get gray(){return(0,t.shadow)(this,"gray",new b)},get rgb(){return(0,t.shadow)(this,"rgb",new v)},get cmyk(){return(0,t.shadow)(this,"cmyk",new o)}})}}l.ColorSpace=u;class m extends u{constructor(M,O,L){super("Alternate",M),this.base=O,this.tintFn=L,this.tmpBuf=new Float32Array(O.numComps)}getRgbItem(M,O,L,te){const B=this.tmpBuf;this.tintFn(M,O,B,0),this.base.getRgbItem(B,0,L,te)}getRgbBuffer(M,O,L,te,B,G,R){const I=this.tintFn,U=this.base,P=1/((1<<G)-1),A=U.numComps,z=U.usesZeroToOneRange,N=(U.isPassthrough(8)||!z)&&R===0;let W=N?B:0;const ie=N?te:new Uint8ClampedArray(A*L),Y=this.numComps,F=new Float32Array(Y),D=new Float32Array(A);let Q,ee;for(Q=0;Q<L;Q++){for(ee=0;ee<Y;ee++)F[ee]=M[O++]*P;if(I(F,0,D,0),z)for(ee=0;ee<A;ee++)ie[W++]=D[ee]*255;else U.getRgbItem(D,0,ie,W),W+=A}N||U.getRgbBuffer(ie,0,L,te,B,8,R)}getOutputLength(M,O){return this.base.getOutputLength(M*this.base.numComps/this.numComps,O)}}class g extends u{constructor(M){super("Pattern",null),this.base=M}isDefaultDecode(M,O){(0,t.unreachable)("Should not call PatternCS.isDefaultDecode")}}class y extends u{constructor(M,O,L){super("Indexed",1),this.base=M,this.highVal=O;const te=M.numComps*O;if(this.lookup=new Uint8Array(te),L instanceof c.BaseStream){const B=L.getBytes(te);this.lookup.set(B)}else if(typeof L=="string")for(let B=0;B<te;++B)this.lookup[B]=L.charCodeAt(B)&255;else throw new t.FormatError(`IndexedCS - unrecognized lookup table: ${L}`)}getRgbItem(M,O,L,te){const B=this.base.numComps,G=M[O]*B;this.base.getRgbBuffer(this.lookup,G,1,L,te,8,0)}getRgbBuffer(M,O,L,te,B,G,R){const I=this.base,U=I.numComps,P=I.getOutputLength(U,R),A=this.lookup;for(let z=0;z<L;++z){const N=M[O++]*U;I.getRgbBuffer(A,N,1,te,B,8,R),B+=P}}getOutputLength(M,O){return this.base.getOutputLength(M*this.base.numComps,O)}isDefaultDecode(M,O){return Array.isArray(M)?M.length!==2?((0,t.warn)("Decode map length is not correct"),!0):!Number.isInteger(O)||O<1?((0,t.warn)("Bits per component is not correct"),!0):M[0]===0&&M[1]===(1<<O)-1:!0}}class b extends u{constructor(){super("DeviceGray",1)}getRgbItem(M,O,L,te){const B=M[O]*255;L[te]=L[te+1]=L[te+2]=B}getRgbBuffer(M,O,L,te,B,G,R){const I=255/((1<<G)-1);let U=O,P=B;for(let A=0;A<L;++A){const z=I*M[U++];te[P++]=z,te[P++]=z,te[P++]=z,P+=R}}getOutputLength(M,O){return M*(3+O)}}class v extends u{constructor(){super("DeviceRGB",3)}getRgbItem(M,O,L,te){L[te]=M[O]*255,L[te+1]=M[O+1]*255,L[te+2]=M[O+2]*255}getRgbBuffer(M,O,L,te,B,G,R){if(G===8&&R===0){te.set(M.subarray(O,O+L*3),B);return}const I=255/((1<<G)-1);let U=O,P=B;for(let A=0;A<L;++A)te[P++]=I*M[U++],te[P++]=I*M[U++],te[P++]=I*M[U++],P+=R}getOutputLength(M,O){return M*(3+O)/3|0}isPassthrough(M){return M===8}}const o=function(){function M(L,te,B,G,R){const I=L[te]*B,U=L[te+1]*B,P=L[te+2]*B,A=L[te+3]*B;G[R]=255+I*(-4.387332384609988*I+54.48615194189176*U+18.82290502165302*P+212.25662451639585*A+-285.2331026137004)+U*(1.7149763477362134*U-5.6096736904047315*P+-17.873870861415444*A-5.497006427196366)+P*(-2.5217340131683033*P-21.248923337353073*A+17.5119270841813)+A*(-21.86122147463605*A-189.48180835922747),G[R+1]=255+I*(8.841041422036149*I+60.118027045597366*U+6.871425592049007*P+31.159100130055922*A+-79.2970844816548)+U*(-15.310361306967817*U+17.575251261109482*P+131.35250912493976*A-190.9453302588951)+P*(4.444339102852739*P+9.8632861493405*A-24.86741582555878)+A*(-20.737325471181034*A-187.80453709719578),G[R+2]=255+I*(.8842522430003296*I+8.078677503112928*U+30.89978309703729*P-.23883238689178934*A+-14.183576799673286)+U*(10.49593273432072*U+63.02378494754052*P+50.606957656360734*A-112.23884253719248)+P*(.03296041114873217*P+115.60384449646641*A+-193.58209356861505)+A*(-22.33816807309886*A-180.12613974708367)}class O extends u{constructor(){super("DeviceCMYK",4)}getRgbItem(te,B,G,R){M(te,B,1,G,R)}getRgbBuffer(te,B,G,R,I,U,P){const A=1/((1<<U)-1);for(let z=0;z<G;z++)M(te,B,A,R,I),B+=4,I+=3+P}getOutputLength(te,B){return te/4*(3+B)|0}}return O}(),S=function(){function M(L,te,B,G,R,I){const P=(te[B]*I)**L.G,A=L.YW*P,z=Math.max(295.8*A**.3333333333333333-40.8,0);G[R]=z,G[R+1]=z,G[R+2]=z}class O extends u{constructor(te,B,G){if(super("CalGray",1),!te)throw new t.FormatError("WhitePoint missing - required for color space CalGray");if(B=B||[0,0,0],G=G||1,this.XW=te[0],this.YW=te[1],this.ZW=te[2],this.XB=B[0],this.YB=B[1],this.ZB=B[2],this.G=G,this.XW<0||this.ZW<0||this.YW!==1)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,t.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,t.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(te,B,G,R){M(this,te,B,G,R,1)}getRgbBuffer(te,B,G,R,I,U,P){const A=1/((1<<U)-1);for(let z=0;z<G;++z)M(this,te,B,R,I,A),B+=1,I+=3+P}getOutputLength(te,B){return te*(3+B)}}return O}(),T=function(){const M=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),O=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),L=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),te=new Float32Array([1,1,1]),B=new Float32Array(3),G=new Float32Array(3),R=new Float32Array(3),I=((8+16)/116)**3/8;function U(ee,V,Z){Z[0]=ee[0]*V[0]+ee[1]*V[1]+ee[2]*V[2],Z[1]=ee[3]*V[0]+ee[4]*V[1]+ee[5]*V[2],Z[2]=ee[6]*V[0]+ee[7]*V[1]+ee[8]*V[2]}function P(ee,V,Z){Z[0]=V[0]*1/ee[0],Z[1]=V[1]*1/ee[1],Z[2]=V[2]*1/ee[2]}function A(ee,V,Z){Z[0]=V[0]*.95047/ee[0],Z[1]=V[1]*1/ee[1],Z[2]=V[2]*1.08883/ee[2]}function z(ee){return ee<=.0031308?N(0,1,12.92*ee):ee>=.99554525?1:N(0,1,(1+.055)*ee**(1/2.4)-.055)}function N(ee,V,Z){return Math.max(ee,Math.min(V,Z))}function W(ee){return ee<0?-W(-ee):ee>8?((ee+16)/116)**3:ee*I}function ie(ee,V,Z){if(ee[0]===0&&ee[1]===0&&ee[2]===0){Z[0]=V[0],Z[1]=V[1],Z[2]=V[2];return}const ae=W(0),H=ae,q=W(ee[0]),ne=ae,le=W(ee[1]),se=ae,J=W(ee[2]),re=(1-H)/(1-q),oe=1-re,ue=(1-ne)/(1-le),he=1-ue,de=(1-se)/(1-J),pe=1-de;Z[0]=V[0]*re+oe,Z[1]=V[1]*ue+he,Z[2]=V[2]*de+pe}function Y(ee,V,Z){if(ee[0]===1&&ee[2]===1){Z[0]=V[0],Z[1]=V[1],Z[2]=V[2];return}const ae=Z;U(M,V,ae);const H=B;P(ee,ae,H),U(O,H,Z)}function F(ee,V,Z){const ae=Z;U(M,V,ae);const H=B;A(ee,ae,H),U(O,H,Z)}function D(ee,V,Z,ae,H,q){const ne=N(0,1,V[Z]*q),le=N(0,1,V[Z+1]*q),se=N(0,1,V[Z+2]*q),J=ne===1?1:ne**ee.GR,re=le===1?1:le**ee.GG,oe=se===1?1:se**ee.GB,ue=ee.MXA*J+ee.MXB*re+ee.MXC*oe,he=ee.MYA*J+ee.MYB*re+ee.MYC*oe,de=ee.MZA*J+ee.MZB*re+ee.MZC*oe,pe=G;pe[0]=ue,pe[1]=he,pe[2]=de;const fe=R;Y(ee.whitePoint,pe,fe);const be=G;ie(ee.blackPoint,fe,be);const ge=R;F(te,be,ge);const Se=G;U(L,ge,Se),ae[H]=z(Se[0])*255,ae[H+1]=z(Se[1])*255,ae[H+2]=z(Se[2])*255}class Q extends u{constructor(V,Z,ae,H){if(super("CalRGB",3),!V)throw new t.FormatError("WhitePoint missing - required for color space CalRGB");Z=Z||new Float32Array(3),ae=ae||new Float32Array([1,1,1]),H=H||new Float32Array([1,0,0,0,1,0,0,0,1]);const q=V[0],ne=V[1],le=V[2];this.whitePoint=V;const se=Z[0],J=Z[1],re=Z[2];if(this.blackPoint=Z,this.GR=ae[0],this.GG=ae[1],this.GB=ae[2],this.MXA=H[0],this.MYA=H[1],this.MZA=H[2],this.MXB=H[3],this.MYB=H[4],this.MZB=H[5],this.MXC=H[6],this.MYC=H[7],this.MZC=H[8],q<0||le<0||ne!==1)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(se<0||J<0||re<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name} [${se}, ${J}, ${re}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,t.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(V,Z,ae,H){D(this,V,Z,ae,H,1)}getRgbBuffer(V,Z,ae,H,q,ne,le){const se=1/((1<<ne)-1);for(let J=0;J<ae;++J)D(this,V,Z,H,q,se),Z+=3,q+=3+le}getOutputLength(V,Z){return V*(3+Z)/3|0}}return Q}(),E=function(){function M(B){let G;return B>=6/29?G=B**3:G=108/841*(B-4/29),G}function O(B,G,R,I){return R+B*(I-R)/G}function L(B,G,R,I,U,P){let A=G[R],z=G[R+1],N=G[R+2];I!==!1&&(A=O(A,I,0,100),z=O(z,I,B.amin,B.amax),N=O(N,I,B.bmin,B.bmax)),z>B.amax?z=B.amax:z<B.amin&&(z=B.amin),N>B.bmax?N=B.bmax:N<B.bmin&&(N=B.bmin);const W=(A+16)/116,ie=W+z/500,Y=W-N/200,F=B.XW*M(ie),D=B.YW*M(W),Q=B.ZW*M(Y);let ee,V,Z;B.ZW<1?(ee=F*3.1339+D*-1.617+Q*-.4906,V=F*-.9785+D*1.916+Q*.0333,Z=F*.072+D*-.229+Q*1.4057):(ee=F*3.2406+D*-1.5372+Q*-.4986,V=F*-.9689+D*1.8758+Q*.0415,Z=F*.0557+D*-.204+Q*1.057),U[P]=Math.sqrt(ee)*255,U[P+1]=Math.sqrt(V)*255,U[P+2]=Math.sqrt(Z)*255}class te extends u{constructor(G,R,I){if(super("Lab",3),!G)throw new t.FormatError("WhitePoint missing - required for color space Lab");if(R=R||[0,0,0],I=I||[-100,100,-100,100],this.XW=G[0],this.YW=G[1],this.ZW=G[2],this.amin=I[0],this.amax=I[1],this.bmin=I[2],this.bmax=I[3],this.XB=R[0],this.YB=R[1],this.ZB=R[2],this.XW<0||this.ZW<0||this.YW!==1)throw new t.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,t.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(G,R,I,U){L(this,G,R,!1,I,U)}getRgbBuffer(G,R,I,U,P,A,z){const N=(1<<A)-1;for(let W=0;W<I;W++)L(this,G,R,N,U,P),R+=3,P+=3+z}getOutputLength(G,R){return G*(3+R)/3|0}isDefaultDecode(G,R){return!0}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!1)}}return te}()},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PartialEvaluator=l.EvaluatorPreprocessor=void 0;var t=a(2),i=a(141),c=a(130),s=a(159),e=a(163),u=a(162),m=a(166),g=a(165),y=a(175),b=a(176),v=a(167),o=a(182),S=a(142),T=a(184),E=a(135),k=a(132),M=a(185),O=a(139),L=a(144),te=a(164),B=a(131),G=a(170),R=a(186),I=a(187),U=a(188);const P=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),A={TILING:1,SHADING:2},z=10,N=Promise.resolve();function W(ae){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Array.isArray(ae)){for(let q=0,ne=ae.length;q<ne;q++){const le=W(ae[q],!0);if(le)return le}return(0,t.warn)(`Unsupported blend mode Array: ${ae}`),"source-over"}if(!(ae instanceof c.Name))return H?null:"source-over";switch(ae.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return H?null:((0,t.warn)(`Unsupported blend mode: ${ae.name}`),"source-over")}function ie(ae){ae.fn===t.OPS.paintImageMaskXObject&&ae.args[0]&&ae.args[0].count>0&&ae.args[0].count++}class Y{static get TIME_SLOT_DURATION_MS(){return(0,t.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,t.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<Y.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+Y.TIME_SLOT_DURATION_MS,this.checked=0}}class F{constructor(H){let{xref:q,handler:ne,pageIndex:le,idFactory:se,fontCache:J,builtInCMapCache:re,standardFontDataCache:oe,globalImageCache:ue,options:he=null}=H;this.xref=q,this.handler=ne,this.pageIndex=le,this.idFactory=se,this.fontCache=J,this.builtInCMapCache=re,this.standardFontDataCache=oe,this.globalImageCache=ue,this.options=he||P,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const H=new o.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,t.shadow)(this,"_pdfFunctionFactory",H)}clone(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const q=Object.create(this);return q.options=Object.assign(Object.create(null),this.options,H),q}hasBlendModes(H,q){if(!(H instanceof c.Dict)||H.objId&&q.has(H.objId))return!1;const ne=new c.RefSet(q);H.objId&&ne.put(H.objId);const le=[H],se=this.xref;for(;le.length;){const J=le.shift(),re=J.get("ExtGState");if(re instanceof c.Dict)for(let ue of re.getRawValues()){if(ue instanceof c.Ref){if(ne.has(ue))continue;try{ue=se.fetch(ue)}catch(de){ne.put(ue),(0,t.info)(`hasBlendModes - ignoring ExtGState: "${de}".`);continue}}if(!(ue instanceof c.Dict))continue;ue.objId&&ne.put(ue.objId);const he=ue.get("BM");if(he instanceof c.Name){if(he.name!=="Normal")return!0;continue}if(he!==void 0&&Array.isArray(he)){for(const de of he)if(de instanceof c.Name&&de.name!=="Normal")return!0}}const oe=J.get("XObject");if(oe instanceof c.Dict)for(let ue of oe.getRawValues()){if(ue instanceof c.Ref){if(ne.has(ue))continue;try{ue=se.fetch(ue)}catch(de){ne.put(ue),(0,t.info)(`hasBlendModes - ignoring XObject: "${de}".`);continue}}if(!(ue instanceof k.BaseStream))continue;ue.dict.objId&&ne.put(ue.dict.objId);const he=ue.dict.get("Resources");he instanceof c.Dict&&(he.objId&&ne.has(he.objId)||(le.push(he),he.objId&&ne.put(he.objId)))}}for(const J of ne)q.put(J);return!1}async fetchBuiltInCMap(H){const q=this.builtInCMapCache.get(H);if(q)return q;let ne;if(this.options.cMapUrl!==null){const le=`${this.options.cMapUrl}${H}.bcmap`,se=await fetch(le);if(!se.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${le}" with "${se.statusText}".`);ne={cMapData:new Uint8Array(await se.arrayBuffer()),compressionType:t.CMapCompressionType.BINARY}}else ne=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:H});return ne.compressionType!==t.CMapCompressionType.NONE&&this.builtInCMapCache.set(H,ne),ne}async fetchStandardFontData(H){const q=this.standardFontDataCache.get(H);if(q)return new E.Stream(q);if(this.options.useSystemFonts&&H!=="Symbol"&&H!=="ZapfDingbats")return null;const ne=(0,m.getFontNameToFileMap)(),le=ne[H];let se;if(this.options.standardFontDataUrl!==null){const J=`${this.options.standardFontDataUrl}${le}`,re=await fetch(J);re.ok?se=await re.arrayBuffer():(0,t.warn)(`fetchStandardFontData: failed to fetch file "${J}" with "${re.statusText}".`)}else try{se=await this.handler.sendWithPromise("FetchStandardFontData",{filename:le})}catch(J){(0,t.warn)(`fetchStandardFontData: failed to fetch file "${le}" with "${J}".`)}return se?(this.standardFontDataCache.set(H,se),new E.Stream(se)):null}async buildFormXObject(H,q,ne,le,se,J,re){const oe=q.dict,ue=oe.getArray("Matrix");let he=oe.getArray("BBox");Array.isArray(he)&&he.length===4?he=t.Util.normalizeRect(he):he=null;let de,pe;oe.has("OC")&&(de=await this.parseMarkedContentProps(oe.get("OC"),H)),de!==void 0&&le.addOp(t.OPS.beginMarkedContentProps,["OC",de]);const fe=oe.get("Group");if(fe){pe={matrix:ue,bbox:he,smask:ne,isolated:!1,knockout:!1};const ge=fe.get("S");let Se=null;if((0,c.isName)(ge,"Transparency")&&(pe.isolated=fe.get("I")||!1,pe.knockout=fe.get("K")||!1,fe.has("CS"))){const ve=fe.getRaw("CS"),we=O.ColorSpace.getCached(ve,this.xref,re);we?Se=we:Se=await this.parseColorSpace({cs:ve,resources:H,localColorSpaceCache:re})}ne&&ne.backdrop&&(Se=Se||O.ColorSpace.singletons.rgb,ne.backdrop=Se.getRgb(ne.backdrop,0)),le.addOp(t.OPS.beginGroup,[pe])}const be=fe?[ue,null]:[ue,he];return le.addOp(t.OPS.paintFormXObjectBegin,be),this.getOperatorList({stream:q,task:se,resources:oe.get("Resources")||H,operatorList:le,initialState:J}).then(function(){le.addOp(t.OPS.paintFormXObjectEnd,[]),fe&&le.addOp(t.OPS.endGroup,[pe]),de!==void 0&&le.addOp(t.OPS.endMarkedContent,[])})}_sendImgData(H,q){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const le=q?[q.bitmap||q.data.buffer]:null;return this.parsingType3Font||ne?this.handler.send("commonobj",[H,"Image",q],le):this.handler.send("obj",[H,this.pageIndex,"Image",q],le)}async buildPaintImageXObject(H){let{resources:q,image:ne,isInline:le=!1,operatorList:se,cacheKey:J,localImageCache:re,localColorSpaceCache:oe}=H;const ue=ne.dict,he=ue.objId,de=ue.get("W","Width"),pe=ue.get("H","Height");if(!(de&&typeof de=="number")||!(pe&&typeof pe=="number")){(0,t.warn)("Image dimensions are missing, or not numbers.");return}const fe=this.options.maxImageSize;if(fe!==-1&&de*pe>fe){const De="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,t.warn)(De);return}throw new Error(De)}let be;ue.has("OC")&&(be=await this.parseMarkedContentProps(ue.get("OC"),q));const ge=ue.get("IM","ImageMask")||!1;let Se,ve;if(ge){const De=ue.get("I","Interpolate"),Ie=de+7>>3,Me=ne.getBytes(Ie*pe),Ne=ue.getArray("D","Decode");if(this.parsingType3Font){Se=U.PDFImage.createRawMask({imgArray:Me,width:de,height:pe,imageIsFromDecodeStream:ne instanceof L.DecodeStream,inverseDecode:!!Ne&&Ne[0]>0,interpolate:De}),Se.cached=!!J,ve=[Se],se.addImageOps(t.OPS.paintImageMaskXObject,ve,be),J&&re.set(J,he,{fn:t.OPS.paintImageMaskXObject,args:ve,optionalContent:be});return}if(Se=U.PDFImage.createMask({imgArray:Me,width:de,height:pe,imageIsFromDecodeStream:ne instanceof L.DecodeStream,inverseDecode:!!Ne&&Ne[0]>0,interpolate:De}),Se.isSingleOpaquePixel){se.addImageOps(t.OPS.paintSolidColorImageMask,[],be),J&&re.set(J,he,{fn:t.OPS.paintSolidColorImageMask,args:[],optionalContent:be});return}const Re=`mask_${this.idFactory.createObjId()}`;se.addDependency(Re),this._sendImgData(Re,Se),ve=[{data:Re,width:Se.width,height:Se.height,interpolate:Se.interpolate,count:1}],se.addImageOps(t.OPS.paintImageMaskXObject,ve,be),J&&re.set(J,he,{fn:t.OPS.paintImageMaskXObject,args:ve,optionalContent:be});return}const we=ue.get("SM","SMask")||!1,Fe=ue.get("Mask")||!1,Ce=200;if(le&&!we&&!Fe&&de+pe<Ce){Se=new U.PDFImage({xref:this.xref,res:q,image:ne,isInline:le,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:oe}).createImageData(!0),se.addImageOps(t.OPS.paintInlineImageXObject,[Se],be);return}let ye=`img_${this.idFactory.createObjId()}`,ke=!1;this.parsingType3Font?ye=`${this.idFactory.getDocId()}_type3_${ye}`:he&&(ke=this.globalImageCache.shouldCache(he,this.pageIndex),ke&&(ye=`${this.idFactory.getDocId()}_${ye}`)),se.addDependency(ye),ve=[ye,de,pe],U.PDFImage.buildImage({xref:this.xref,res:q,image:ne,isInline:le,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:oe}).then(De=>(Se=De.createImageData(!1),J&&he&&ke&&this.globalImageCache.addByteSize(he,Se.data.length),this._sendImgData(ye,Se,ke))).catch(De=>((0,t.warn)(`Unable to decode image "${ye}": "${De}".`),this._sendImgData(ye,null,ke))),se.addImageOps(t.OPS.paintImageXObject,ve,be),J&&(re.set(J,he,{fn:t.OPS.paintImageXObject,args:ve,optionalContent:be}),he&&((0,t.assert)(!le,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(he,this.pageIndex),ke&&this.globalImageCache.setData(he,{objId:ye,fn:t.OPS.paintImageXObject,args:ve,optionalContent:be,byteSize:0})))}handleSMask(H,q,ne,le,se,J){const re=H.get("G"),oe={subtype:H.get("S").name,backdrop:H.get("BC")},ue=H.get("TR");if((0,o.isPDFFunction)(ue)){const he=this._pdfFunctionFactory.create(ue),de=new Uint8Array(256),pe=new Float32Array(1);for(let fe=0;fe<256;fe++)pe[0]=fe/255,he(pe,0,pe,0),de[fe]=pe[0]*255|0;oe.transferMap=de}return this.buildFormXObject(q,re,oe,ne,le,se.state.clone(),J)}handleTransferFunction(H){let q;if(Array.isArray(H))q=H;else if((0,o.isPDFFunction)(H))q=[H];else return null;const ne=[];let le=0,se=0;for(const J of q){const re=this.xref.fetchIfRef(J);if(le++,(0,c.isName)(re,"Identity")){ne.push(null);continue}else if(!(0,o.isPDFFunction)(re))return null;const oe=this._pdfFunctionFactory.create(re),ue=new Uint8Array(256),he=new Float32Array(1);for(let de=0;de<256;de++)he[0]=de/255,oe(he,0,he,0),ue[de]=he[0]*255|0;ne.push(ue),se++}return!(le===1||le===4)||se===0?null:ne}handleTilingType(H,q,ne,le,se,J,re,oe){const ue=new I.OperatorList,he=c.Dict.merge({xref:this.xref,dictArray:[se.get("Resources"),ne]});return this.getOperatorList({stream:le,task:re,resources:he,operatorList:ue}).then(function(){const de=ue.getIR(),pe=(0,y.getTilingPatternIR)(de,se,q);J.addDependencies(ue.dependencies),J.addOp(H,pe),se.objId&&oe.set(null,se.objId,{operatorListIR:de,dict:se})}).catch(de=>{if(!(de instanceof t.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,t.warn)(`handleTilingType - ignoring pattern: "${de}".`);return}throw de}})}handleSetFont(H,q,ne,le,se,J){let re=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,oe=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;const ue=q&&q[0]instanceof c.Name?q[0].name:null;return this.loadFont(ue,ne,H,re,oe).then(he=>he.font.isType3Font?he.loadType3Data(this,H,se).then(function(){return le.addDependencies(he.type3Dependencies),he}).catch(de=>(this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontLoadType3}),new D({loadedName:"g_font_error",font:new s.ErrorFont(`Type3 font load error: ${de}`),dict:he.font,evaluatorOptions:this.options}))):he).then(he=>(J.font=he.font,he.send(this.handler),he.loadedName))}handleText(H,q){const ne=q.font,le=ne.charsToGlyphs(H);return ne.data&&(q.textRenderingMode&t.TextRenderingMode.ADD_TO_PATH_FLAG||q.fillColorSpace.name==="Pattern"||ne.disableFontFace||this.options.disableFontFace)&&F.buildFontPaths(ne,le,this.handler,this.options),le}ensureStateFont(H){if(H.font)return;const q=new t.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontState}),(0,t.warn)(`ensureStateFont: "${q}".`);return}throw q}async setGState(H){let{resources:q,gState:ne,operatorList:le,cacheKey:se,task:J,stateManager:re,localGStateCache:oe,localColorSpaceCache:ue}=H;const he=ne.objId;let de=!0;const pe=[],fe=ne.getKeys();let be=Promise.resolve();for(let ge=0,Se=fe.length;ge<Se;ge++){const ve=fe[ge],we=ne.get(ve);switch(ve){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":pe.push([ve,we]);break;case"Font":de=!1,be=be.then(()=>this.handleSetFont(q,null,we[0],le,J,re.state).then(function(Ce){le.addDependency(Ce),pe.push([ve,[Ce,we[1]]])}));break;case"BM":pe.push([ve,W(we)]);break;case"SMask":if((0,c.isName)(we,"None")){pe.push([ve,!1]);break}we instanceof c.Dict?(de=!1,be=be.then(()=>this.handleSMask(we,q,le,J,re,ue)),pe.push([ve,!0])):(0,t.warn)("Unsupported SMask type");break;case"TR":const Fe=this.handleTransferFunction(we);pe.push([ve,Fe]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,t.info)("graphic state operator "+ve);break;default:(0,t.info)("Unknown graphic state operator "+ve);break}}return be.then(function(){pe.length>0&&le.addOp(t.OPS.setGState,[pe]),de&&oe.set(se,he,pe)})}loadFont(H,q,ne){let le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,se=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;const J=async()=>new D({loadedName:"g_font_error",font:new s.ErrorFont(`Font "${H}" is not available.`),dict:q,evaluatorOptions:this.options}),re=this.xref;let oe;if(q)q instanceof c.Ref&&(oe=q);else{const ge=ne.get("Font");ge&&(oe=ge.getRaw(H))}if(!oe){const ge=`Font "${H||q&&q.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,t.warn)(`${ge}.`),J();this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontMissing}),(0,t.warn)(`${ge} -- attempting to fallback to a default font.`),le?oe=le:oe=F.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(oe))return J();if(this.fontCache.has(oe))return this.fontCache.get(oe);if(q=re.fetchIfRef(oe),!(q instanceof c.Dict))return J();if(q.cacheKey&&this.fontCache.has(q.cacheKey))return this.fontCache.get(q.cacheKey);const ue=(0,t.createPromiseCapability)();let he;try{he=this.preEvaluateFont(q),he.cssFontInfo=se}catch(ge){return(0,t.warn)(`loadFont - preEvaluateFont failed: "${ge}".`),J()}const{descriptor:de,hash:pe}=he,fe=oe instanceof c.Ref;let be;if(fe&&(be=`f${oe.toString()}`),pe&&de instanceof c.Dict){de.fontAliases||(de.fontAliases=Object.create(null));const ge=de.fontAliases;if(ge[pe]){const Se=ge[pe].aliasRef;if(fe&&Se&&this.fontCache.has(Se))return this.fontCache.putAlias(oe,Se),this.fontCache.get(oe)}else ge[pe]={fontID:this.idFactory.createFontId()};fe&&(ge[pe].aliasRef=oe),be=ge[pe].fontID}return fe?this.fontCache.put(oe,ue.promise):(be||(be=this.idFactory.createFontId()),q.cacheKey=`cacheKey_${be}`,this.fontCache.put(q.cacheKey,ue.promise)),(0,t.assert)(be&&be.startsWith("f"),'The "fontID" must be (correctly) defined.'),q.loadedName=`${this.idFactory.getDocId()}_${be}`,this.translateFont(he).then(ge=>{ge.fontType!==void 0&&re.stats.addFontType(ge.fontType),ue.resolve(new D({loadedName:q.loadedName,font:ge,dict:q,evaluatorOptions:this.options}))}).catch(ge=>{this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,t.warn)(`loadFont - translateFont failed: "${ge}".`);try{const Se=de&&de.get("FontFile3"),ve=Se&&Se.get("Subtype"),we=(0,e.getFontType)(he.type,ve&&ve.name);we!==void 0&&re.stats.addFontType(we)}catch{}ue.resolve(new D({loadedName:q.loadedName,font:new s.ErrorFont(ge instanceof Error?ge.message:ge),dict:q,evaluatorOptions:this.options}))}),ue.promise}buildPath(H,q,ne){let le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const se=H.length-1;ne||(ne=[]);let J;if(se<0||H.fnArray[se]!==t.OPS.constructPath)le&&((0,t.warn)(`Encountered path operator "${q}" inside of a text object.`),H.addOp(t.OPS.save,null)),J=[1/0,-1/0,1/0,-1/0],H.addOp(t.OPS.constructPath,[[q],ne,J]),le&&H.addOp(t.OPS.restore,null);else{const re=H.argsArray[se];re[0].push(q),Array.prototype.push.apply(re[1],ne),J=re[2]}switch(q){case t.OPS.rectangle:J[0]=Math.min(J[0],ne[0],ne[0]+ne[2]),J[1]=Math.max(J[1],ne[0],ne[0]+ne[2]),J[2]=Math.min(J[2],ne[1],ne[1]+ne[3]),J[3]=Math.max(J[3],ne[1],ne[1]+ne[3]);break;case t.OPS.moveTo:case t.OPS.lineTo:J[0]=Math.min(J[0],ne[0]),J[1]=Math.max(J[1],ne[0]),J[2]=Math.min(J[2],ne[1]),J[3]=Math.max(J[3],ne[1]);break}}parseColorSpace(H){let{cs:q,resources:ne,localColorSpaceCache:le}=H;return O.ColorSpace.parseAsync({cs:q,xref:this.xref,resources:ne,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:le}).catch(se=>{if(se instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorColorSpace}),(0,t.warn)(`parseColorSpace - ignoring ColorSpace: "${se}".`),null;throw se})}parseShading(H){let{shading:q,resources:ne,localColorSpaceCache:le,localShadingPatternCache:se}=H,J=se.get(q);if(!J){var re=y.Pattern.parseShading(q,this.xref,ne,this.handler,this._pdfFunctionFactory,le);const oe=re.getIR();J=`pattern_${this.idFactory.createObjId()}`,se.set(q,J),this.handler.send("obj",[J,this.pageIndex,"Pattern",oe])}return J}handleColorN(H,q,ne,le,se,J,re,oe,ue,he){const de=ne.pop();if(de instanceof c.Name){const pe=se.getRaw(de.name),fe=pe instanceof c.Ref&&ue.getByRef(pe);if(fe)try{const ge=le.base?le.base.getRgb(ne,0):null,Se=(0,y.getTilingPatternIR)(fe.operatorListIR,fe.dict,ge);H.addOp(q,Se);return}catch{}const be=this.xref.fetchIfRef(pe);if(be){const ge=be instanceof k.BaseStream?be.dict:be,Se=ge.get("PatternType");if(Se===A.TILING){const ve=le.base?le.base.getRgb(ne,0):null;return this.handleTilingType(q,ve,J,be,ge,H,re,ue)}else if(Se===A.SHADING){const ve=ge.get("Shading"),we=ge.getArray("Matrix"),Fe=this.parseShading({shading:ve,resources:J,localColorSpaceCache:oe,localShadingPatternCache:he});H.addOp(q,["Shading",Fe,we]);return}throw new t.FormatError(`Unknown PatternType: ${Se}`)}}throw new t.FormatError(`Unknown PatternName: ${de}`)}_parseVisibilityExpression(H,q,ne){if(++q>10){(0,t.warn)("Visibility expression is too deeply nested");return}const se=H.length,J=this.xref.fetchIfRef(H[0]);if(se<2||!(J instanceof c.Name)){(0,t.warn)("Invalid visibility expression");return}switch(J.name){case"And":case"Or":case"Not":ne.push(J.name);break;default:(0,t.warn)(`Invalid operator ${J.name} in visibility expression`);return}for(let re=1;re<se;re++){const oe=H[re],ue=this.xref.fetchIfRef(oe);if(Array.isArray(ue)){const he=[];ne.push(he),this._parseVisibilityExpression(ue,q,he)}else oe instanceof c.Ref&&ne.push(oe.toString())}}async parseMarkedContentProps(H,q){let ne;if(H instanceof c.Name)ne=q.get("Properties").get(H.name);else if(H instanceof c.Dict)ne=H;else throw new t.FormatError("Optional content properties malformed.");const le=ne.get("Type").name;if(le==="OCG")return{type:le,id:ne.objId};if(le==="OCMD"){const se=ne.get("VE");if(Array.isArray(se)){const re=[];if(this._parseVisibilityExpression(se,0,re),re.length>0)return{type:"OCMD",expression:re}}const J=ne.get("OCGs");if(Array.isArray(J)||J instanceof c.Dict){const re=[];if(Array.isArray(J))for(const oe of J)re.push(oe.toString());else re.push(J.objId);return{type:le,ids:re,policy:ne.get("P")instanceof c.Name?ne.get("P").name:null,expression:null}}else if(J instanceof c.Ref)return{type:le,id:J.toString()}}return null}getOperatorList(H){let{stream:q,task:ne,resources:le,operatorList:se,initialState:J=null,fallbackFontDict:re=null}=H;if(le=le||c.Dict.empty,J=J||new V,!se)throw new Error('getOperatorList: missing "operatorList" parameter');const oe=this,ue=this.xref;let he=!1;const de=new T.LocalImageCache,pe=new T.LocalColorSpaceCache,fe=new T.LocalGStateCache,be=new T.LocalTilingPatternCache,ge=new Map,Se=le.get("XObject")||c.Dict.empty,ve=le.get("Pattern")||c.Dict.empty,we=new Q(J),Fe=new Z(q,ue,we),Ce=new Y;function ye(ke){for(let De=0,Ie=Fe.savedStatesDepth;De<Ie;De++)se.addOp(t.OPS.restore,[])}return new Promise(function ke(De,Ie){const Me=function(Xe){Promise.all([Xe,se.ready]).then(function(){try{ke(De,Ie)}catch(st){Ie(st)}},Ie)};ne.ensureNotTerminated(),Ce.reset();const Ne={};let Re,Oe,Le,Pe,$e,je;for(;!(Re=Ce.check())&&(Ne.args=null,!!Fe.read(Ne));){let Xe=Ne.args,st=Ne.fn;switch(st|0){case t.OPS.paintXObject:if(je=Xe[0]instanceof c.Name,$e=Xe[0].name,je){const Ge=de.getByName($e);if(Ge){se.addImageOps(Ge.fn,Ge.args,Ge.optionalContent),ie(Ge),Xe=null;continue}}Me(new Promise(function(Ge,ht){if(!je)throw new t.FormatError("XObject must be referred to by name.");let ct=Se.getRaw($e);if(ct instanceof c.Ref){const Ct=de.getByRef(ct);if(Ct){se.addImageOps(Ct.fn,Ct.args,Ct.optionalContent),ie(Ct),Ge();return}const kt=oe.globalImageCache.getData(ct,oe.pageIndex);if(kt){se.addDependency(kt.objId),se.addImageOps(kt.fn,kt.args,kt.optionalContent),Ge();return}ct=ue.fetch(ct)}if(!(ct instanceof k.BaseStream))throw new t.FormatError("XObject should be a stream");const pt=ct.dict.get("Subtype");if(!(pt instanceof c.Name))throw new t.FormatError("XObject should have a Name subtype");if(pt.name==="Form"){we.save(),oe.buildFormXObject(le,ct,null,se,ne,we.state.clone(),pe).then(function(){we.restore(),Ge()},ht);return}else if(pt.name==="Image"){oe.buildPaintImageXObject({resources:le,image:ct,operatorList:se,cacheKey:$e,localImageCache:de,localColorSpaceCache:pe}).then(Ge,ht);return}else if(pt.name==="PS")(0,t.info)("Ignored XObject subtype PS");else throw new t.FormatError(`Unhandled XObject subtype ${pt.name}`);Ge()}).catch(function(Ge){if(!(Ge instanceof t.AbortException)){if(oe.options.ignoreErrors){oe.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorXObject}),(0,t.warn)(`getOperatorList - ignoring XObject: "${Ge}".`);return}throw Ge}}));return;case t.OPS.setFont:var Te=Xe[1];Me(oe.handleSetFont(le,Xe,null,se,ne,we.state,re).then(function(Ge){se.addDependency(Ge),se.addOp(t.OPS.setFont,[Ge,Te])}));return;case t.OPS.beginText:he=!0;break;case t.OPS.endText:he=!1;break;case t.OPS.endInlineImage:var Ae=Xe[0].cacheKey;if(Ae){const Ge=de.getByName(Ae);if(Ge){se.addImageOps(Ge.fn,Ge.args,Ge.optionalContent),ie(Ge),Xe=null;continue}}Me(oe.buildPaintImageXObject({resources:le,image:Xe[0],isInline:!0,operatorList:se,cacheKey:Ae,localImageCache:de,localColorSpaceCache:pe}));return;case t.OPS.showText:if(!we.state.font){oe.ensureStateFont(we.state);continue}Xe[0]=oe.handleText(Xe[0],we.state);break;case t.OPS.showSpacedText:if(!we.state.font){oe.ensureStateFont(we.state);continue}var Ee=Xe[0],Be=[],ze=Ee.length,We=we.state;for(Oe=0;Oe<ze;++Oe){const Ge=Ee[Oe];typeof Ge=="string"?Array.prototype.push.apply(Be,oe.handleText(Ge,We)):typeof Ge=="number"&&Be.push(Ge)}Xe[0]=Be,st=t.OPS.showText;break;case t.OPS.nextLineShowText:if(!we.state.font){oe.ensureStateFont(we.state);continue}se.addOp(t.OPS.nextLine),Xe[0]=oe.handleText(Xe[0],we.state),st=t.OPS.showText;break;case t.OPS.nextLineSetSpacingShowText:if(!we.state.font){oe.ensureStateFont(we.state);continue}se.addOp(t.OPS.nextLine),se.addOp(t.OPS.setWordSpacing,[Xe.shift()]),se.addOp(t.OPS.setCharSpacing,[Xe.shift()]),Xe[0]=oe.handleText(Xe[0],we.state),st=t.OPS.showText;break;case t.OPS.setTextRenderingMode:we.state.textRenderingMode=Xe[0];break;case t.OPS.setFillColorSpace:{const Ge=O.ColorSpace.getCached(Xe[0],ue,pe);if(Ge){we.state.fillColorSpace=Ge;continue}Me(oe.parseColorSpace({cs:Xe[0],resources:le,localColorSpaceCache:pe}).then(function(ht){ht&&(we.state.fillColorSpace=ht)}));return}case t.OPS.setStrokeColorSpace:{const Ge=O.ColorSpace.getCached(Xe[0],ue,pe);if(Ge){we.state.strokeColorSpace=Ge;continue}Me(oe.parseColorSpace({cs:Xe[0],resources:le,localColorSpaceCache:pe}).then(function(ht){ht&&(we.state.strokeColorSpace=ht)}));return}case t.OPS.setFillColor:Pe=we.state.fillColorSpace,Xe=Pe.getRgb(Xe,0),st=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColor:Pe=we.state.strokeColorSpace,Xe=Pe.getRgb(Xe,0),st=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillGray:we.state.fillColorSpace=O.ColorSpace.singletons.gray,Xe=O.ColorSpace.singletons.gray.getRgb(Xe,0),st=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeGray:we.state.strokeColorSpace=O.ColorSpace.singletons.gray,Xe=O.ColorSpace.singletons.gray.getRgb(Xe,0),st=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillCMYKColor:we.state.fillColorSpace=O.ColorSpace.singletons.cmyk,Xe=O.ColorSpace.singletons.cmyk.getRgb(Xe,0),st=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeCMYKColor:we.state.strokeColorSpace=O.ColorSpace.singletons.cmyk,Xe=O.ColorSpace.singletons.cmyk.getRgb(Xe,0),st=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillRGBColor:we.state.fillColorSpace=O.ColorSpace.singletons.rgb,Xe=O.ColorSpace.singletons.rgb.getRgb(Xe,0);break;case t.OPS.setStrokeRGBColor:we.state.strokeColorSpace=O.ColorSpace.singletons.rgb,Xe=O.ColorSpace.singletons.rgb.getRgb(Xe,0);break;case t.OPS.setFillColorN:if(Pe=we.state.fillColorSpace,Pe.name==="Pattern"){Me(oe.handleColorN(se,t.OPS.setFillColorN,Xe,Pe,ve,le,ne,pe,be,ge));return}Xe=Pe.getRgb(Xe,0),st=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColorN:if(Pe=we.state.strokeColorSpace,Pe.name==="Pattern"){Me(oe.handleColorN(se,t.OPS.setStrokeColorN,Xe,Pe,ve,le,ne,pe,be,ge));return}Xe=Pe.getRgb(Xe,0),st=t.OPS.setStrokeRGBColor;break;case t.OPS.shadingFill:var tt=le.get("Shading");if(!tt)throw new t.FormatError("No shading resource found");var Ze=tt.get(Xe[0].name);if(!Ze)throw new t.FormatError("No shading object found");Xe=[oe.parseShading({shading:Ze,resources:le,localColorSpaceCache:pe,localShadingPatternCache:ge})],st=t.OPS.shadingFill;break;case t.OPS.setGState:if(je=Xe[0]instanceof c.Name,$e=Xe[0].name,je){const Ge=fe.getByName($e);if(Ge){Ge.length>0&&se.addOp(t.OPS.setGState,[Ge]),Xe=null;continue}}Me(new Promise(function(Ge,ht){if(!je)throw new t.FormatError("GState must be referred to by name.");const ct=le.get("ExtGState");if(!(ct instanceof c.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const pt=ct.get($e);if(!(pt instanceof c.Dict))throw new t.FormatError("GState should be a dictionary.");oe.setGState({resources:le,gState:pt,operatorList:se,cacheKey:$e,task:ne,stateManager:we,localGStateCache:fe,localColorSpaceCache:pe}).then(Ge,ht)}).catch(function(Ge){if(!(Ge instanceof t.AbortException)){if(oe.options.ignoreErrors){oe.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorExtGState}),(0,t.warn)(`getOperatorList - ignoring ExtGState: "${Ge}".`);return}throw Ge}}));return;case t.OPS.moveTo:case t.OPS.lineTo:case t.OPS.curveTo:case t.OPS.curveTo2:case t.OPS.curveTo3:case t.OPS.closePath:case t.OPS.rectangle:oe.buildPath(se,st,Xe,he);continue;case t.OPS.markPoint:case t.OPS.markPointProps:case t.OPS.beginCompat:case t.OPS.endCompat:continue;case t.OPS.beginMarkedContentProps:if(!(Xe[0]instanceof c.Name)){(0,t.warn)(`Expected name for beginMarkedContentProps arg0=${Xe[0]}`);continue}if(Xe[0].name==="OC"){Me(oe.parseMarkedContentProps(Xe[1],le).then(Ge=>{se.addOp(t.OPS.beginMarkedContentProps,["OC",Ge])}).catch(Ge=>{if(!(Ge instanceof t.AbortException)){if(oe.options.ignoreErrors){oe.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,t.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Ge}".`);return}throw Ge}}));return}Xe=[Xe[0].name,Xe[1]instanceof c.Dict?Xe[1].get("MCID"):null];break;case t.OPS.beginMarkedContent:case t.OPS.endMarkedContent:default:if(Xe!==null){for(Oe=0,Le=Xe.length;Oe<Le&&!(Xe[Oe]instanceof c.Dict);Oe++);if(Oe<Le){(0,t.warn)("getOperatorList - ignoring operator: "+st);continue}}}se.addOp(st,Xe)}if(Re){Me(N);return}ye(),De()}).catch(ke=>{if(!(ke instanceof t.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorOperatorList}),(0,t.warn)(`getOperatorList - ignoring errors during "${ne.name}" task: "${ke}".`),ye();return}throw ke}})}getTextContent(H){let{stream:q,task:ne,resources:le,stateManager:se=null,combineTextItems:J=!1,includeMarkedContent:re=!1,sink:oe,seenStyles:ue=new Set,viewBox:he}=H;le=le||c.Dict.empty,se=se||new Q(new ee);const de=(0,g.getNormalizedUnicodes)(),pe={items:[],styles:Object.create(null)},fe={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},be=[" "," "];let ge=0;function Se(Ge){const ht=(ge+1)%2,ct=be[ge]!==" "&&be[ht]===" ";return be[ge]=Ge,ge=ht,ct}function ve(){be[0]=be[1]=" ",ge=0}const we=.1,Fe=.03,Ce=-.2,ye=.1,ke=.6,De=this,Ie=this.xref,Me=[];let Ne=null;const Re=new T.LocalImageCache,Oe=new T.LocalGStateCache,Le=new Z(q,Ie,se);let Pe;function $e(){const Ge=Pe.font,ht=[Pe.fontSize*Pe.textHScale,0,0,Pe.fontSize,0,Pe.textRise];if(Ge.isType3Font&&(Pe.fontSize<=1||Ge.isCharBBox)&&!(0,t.isArrayEqual)(Pe.fontMatrix,t.FONT_IDENTITY_MATRIX)){const ct=Ge.bbox[3]-Ge.bbox[1];ct>0&&(ht[3]*=ct*Pe.fontMatrix[3])}return t.Util.transform(Pe.ctm,t.Util.transform(Pe.textMatrix,ht))}function je(){if(fe.initialized)return fe;const Ge=Pe.font,ht=Ge.loadedName;ue.has(ht)||(ue.add(ht),pe.styles[ht]={fontFamily:Ge.fallbackName,ascent:Ge.ascent,descent:Ge.descent,vertical:Ge.vertical}),fe.fontName=ht;const ct=fe.transform=$e();Ge.vertical?(fe.width=fe.totalWidth=Math.hypot(ct[0],ct[1]),fe.height=fe.totalHeight=0,fe.vertical=!0):(fe.width=fe.totalWidth=0,fe.height=fe.totalHeight=Math.hypot(ct[2],ct[3]),fe.vertical=!1);const pt=Math.hypot(Pe.textLineMatrix[0],Pe.textLineMatrix[1]),Ct=Math.hypot(Pe.ctm[0],Pe.ctm[1]);return fe.textAdvanceScale=Ct*pt,fe.trackingSpaceMin=Pe.fontSize*we,fe.notASpace=Pe.fontSize*Fe,fe.negativeSpaceMax=Pe.fontSize*Ce,fe.spaceInFlowMin=Pe.fontSize*ye,fe.spaceInFlowMax=Pe.fontSize*ke,fe.hasEOL=!1,fe.initialized=!0,fe}function Te(){if(!fe.initialized)return;const Ge=Math.hypot(Pe.textLineMatrix[0],Pe.textLineMatrix[1]),ct=Math.hypot(Pe.ctm[0],Pe.ctm[1])*Ge;ct!==fe.textAdvanceScale&&(fe.vertical?(fe.totalHeight+=fe.height*fe.textAdvanceScale,fe.height=0):(fe.totalWidth+=fe.width*fe.textAdvanceScale,fe.width=0),fe.textAdvanceScale=ct)}function Ae(Ge){const ht=Ge.str.join(""),ct=(0,M.bidi)(ht,-1,Ge.vertical);return{str:ct.str,dir:ct.dir,width:Math.abs(Ge.totalWidth),height:Math.abs(Ge.totalHeight),transform:Ge.transform,fontName:Ge.fontName,hasEOL:Ge.hasEOL}}function Ee(Ge,ht){return De.loadFont(Ge,ht,le).then(function(ct){return ct.font.isType3Font?ct.loadType3Data(De,le,ne).catch(function(){}).then(function(){return ct}):ct}).then(function(ct){Pe.font=ct.font,Pe.fontMatrix=ct.font.fontMatrix||t.FONT_IDENTITY_MATRIX})}function Be(Ge,ht,ct){const pt=Math.hypot(ct[0],ct[1]);return[(ct[0]*Ge+ct[1]*ht)/pt,(ct[2]*Ge+ct[3]*ht)/pt]}function ze(){const Ge=$e();let ht=Ge[4],ct=Ge[5];const pt=ht-he[0],Ct=ct-he[1];if(pt<0||pt>he[2]||Ct<0||Ct>he[3])return!1;if(!J||!Pe.font||!fe.prevTransform)return!0;let kt=fe.prevTransform[4],mt=fe.prevTransform[5];if(kt===ht&&mt===ct)return!0;let Wt=-1;switch(Ge[0]&&Ge[1]===0&&Ge[2]===0?Wt=Ge[0]>0?0:180:Ge[1]&&Ge[0]===0&&Ge[3]===0&&(Wt=Ge[1]>0?90:270),Wt){case 0:break;case 90:[ht,ct]=[ct,ht],[kt,mt]=[mt,kt];break;case 180:[ht,ct,kt,mt]=[-ht,-ct,-kt,-mt];break;case 270:[ht,ct]=[-ct,-ht],[kt,mt]=[-mt,-kt];break;default:[ht,ct]=Be(ht,ct,Ge),[kt,mt]=Be(kt,mt,fe.prevTransform)}if(Pe.font.vertical){const rt=(mt-ct)/fe.textAdvanceScale,ft=ht-kt,xt=Math.sign(fe.height);return rt<xt*fe.negativeSpaceMax?Math.abs(ft)>.5*fe.width?(tt(),!0):(ve(),Xe(),!0):Math.abs(ft)>fe.width?(tt(),!0):(rt<=xt*fe.notASpace&&ve(),rt<=xt*fe.trackingSpaceMin?fe.height+=rt:Ze(rt,fe.prevTransform,xt)||(fe.str.length===0?(ve(),pe.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(rt),transform:fe.prevTransform,fontName:fe.fontName,hasEOL:!1})):fe.height+=rt),!0)}const et=(ht-kt)/fe.textAdvanceScale,qe=ct-mt,it=Math.sign(fe.width);return et<it*fe.negativeSpaceMax?Math.abs(qe)>.5*fe.height?(tt(),!0):(ve(),Xe(),!0):Math.abs(qe)>fe.height?(tt(),!0):(et<=it*fe.notASpace&&ve(),et<=it*fe.trackingSpaceMin?fe.width+=et:Ze(et,fe.prevTransform,it)||(fe.str.length===0?(ve(),pe.items.push({str:" ",dir:"ltr",width:Math.abs(et),height:0,transform:fe.prevTransform,fontName:fe.fontName,hasEOL:!1})):fe.width+=et),!0)}function We(Ge){let{chars:ht,extraSpacing:ct}=Ge;const pt=Pe.font;if(!ht){const mt=Pe.charSpacing+ct;mt&&(pt.vertical?Pe.translateTextMatrix(0,-mt):Pe.translateTextMatrix(mt*Pe.textHScale,0));return}const Ct=pt.charsToGlyphs(ht),kt=Pe.fontMatrix[0]*Pe.fontSize;for(let mt=0,Wt=Ct.length;mt<Wt;mt++){const et=Ct[mt];if(et.isInvisibleFormatMark)continue;let qe=Pe.charSpacing+(mt+1===Wt?ct:0),it=et.width;pt.vertical&&(it=et.vmetric?et.vmetric[0]:-it);let rt=it*kt;if(et.isWhitespace){pt.vertical?(qe+=-rt+Pe.wordSpacing,Pe.translateTextMatrix(0,-qe)):(qe+=rt+Pe.wordSpacing,Pe.translateTextMatrix(qe*Pe.textHScale,0)),Se(" ");continue}if(!ze())continue;const ft=je();et.isZeroWidthDiacritic&&(rt=0),pt.vertical?(Pe.translateTextMatrix(0,rt),rt=Math.abs(rt),ft.height+=rt):(rt*=Pe.textHScale,Pe.translateTextMatrix(rt,0),ft.width+=rt),rt&&(ft.prevTransform=$e());let xt=et.unicode;xt=de[xt]||xt,xt=(0,g.reverseIfRtl)(xt),Se(xt)&&ft.str.push(" "),ft.str.push(xt),qe&&(pt.vertical?Pe.translateTextMatrix(0,-qe):Pe.translateTextMatrix(qe*Pe.textHScale,0))}}function tt(){ve(),fe.initialized?(fe.hasEOL=!0,Xe()):pe.items.push({str:"",dir:"ltr",width:0,height:0,transform:$e(),fontName:Pe.font.loadedName,hasEOL:!0})}function Ze(Ge,ht,ct){if(ct*fe.spaceInFlowMin<=Ge&&Ge<=ct*fe.spaceInFlowMax)return fe.initialized&&(ve(),fe.str.push(" ")),!1;const pt=fe.fontName;let Ct=0;return fe.vertical&&(Ct=Ge,Ge=0),Xe(),ve(),pe.items.push({str:" ",dir:"ltr",width:Math.abs(Ge),height:Math.abs(Ct),transform:ht||$e(),fontName:pt,hasEOL:!1}),!0}function Xe(){!fe.initialized||!fe.str||(fe.vertical?fe.totalHeight+=fe.height*fe.textAdvanceScale:fe.totalWidth+=fe.width*fe.textAdvanceScale,pe.items.push(Ae(fe)),fe.initialized=!1,fe.str.length=0)}function st(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const ht=pe.items.length;ht!==0&&(Ge&&ht<z||(oe.enqueue(pe,ht),pe.items=[],pe.styles=Object.create(null)))}const gt=new Y;return new Promise(function Ge(ht,ct){const pt=function(rt){st(!0),Promise.all([rt,oe.ready]).then(function(){try{Ge(ht,ct)}catch(ft){ct(ft)}},ct)};ne.ensureNotTerminated(),gt.reset();const Ct={};let kt,mt=[];for(;!(kt=gt.check())&&(mt.length=0,Ct.args=mt,!!Le.read(Ct));){Pe=se.state;const rt=Ct.fn;switch(mt=Ct.args,rt|0){case t.OPS.setFont:var Wt=mt[0].name,et=mt[1];if(Pe.font&&Wt===Pe.fontName&&et===Pe.fontSize)break;Xe(),Pe.fontName=Wt,Pe.fontSize=et,pt(Ee(Wt,null));return;case t.OPS.setTextRise:Pe.textRise=mt[0];break;case t.OPS.setHScale:Pe.textHScale=mt[0]/100;break;case t.OPS.setLeading:Pe.leading=mt[0];break;case t.OPS.moveText:Pe.translateTextLineMatrix(mt[0],mt[1]),Pe.textMatrix=Pe.textLineMatrix.slice();break;case t.OPS.setLeadingMoveText:Pe.leading=-mt[1],Pe.translateTextLineMatrix(mt[0],mt[1]),Pe.textMatrix=Pe.textLineMatrix.slice();break;case t.OPS.nextLine:Pe.carriageReturn();break;case t.OPS.setTextMatrix:Pe.setTextMatrix(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]),Pe.setTextLineMatrix(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]),Te();break;case t.OPS.setCharSpacing:Pe.charSpacing=mt[0];break;case t.OPS.setWordSpacing:Pe.wordSpacing=mt[0];break;case t.OPS.beginText:Pe.textMatrix=t.IDENTITY_MATRIX.slice(),Pe.textLineMatrix=t.IDENTITY_MATRIX.slice();break;case t.OPS.showSpacedText:if(!se.state.font){De.ensureStateFont(se.state);continue}const ft=(Pe.font.vertical?1:-1)*Pe.fontSize/1e3,xt=mt[0];for(let ot=0,wt=xt.length;ot<wt-1;ot++){const yt=xt[ot];if(typeof yt=="string")Me.push(yt);else if(typeof yt=="number"&&yt!==0){const It=Me.join("");Me.length=0,We({chars:It,extraSpacing:yt*ft})}}const St=xt.at(-1);if(typeof St=="string"&&Me.push(St),Me.length>0){const ot=Me.join("");Me.length=0,We({chars:ot,extraSpacing:0})}break;case t.OPS.showText:if(!se.state.font){De.ensureStateFont(se.state);continue}We({chars:mt[0],extraSpacing:0});break;case t.OPS.nextLineShowText:if(!se.state.font){De.ensureStateFont(se.state);continue}Pe.carriageReturn(),We({chars:mt[0],extraSpacing:0});break;case t.OPS.nextLineSetSpacingShowText:if(!se.state.font){De.ensureStateFont(se.state);continue}Pe.wordSpacing=mt[0],Pe.charSpacing=mt[1],Pe.carriageReturn(),We({chars:mt[2],extraSpacing:0});break;case t.OPS.paintXObject:Xe(),Ne||(Ne=le.get("XObject")||c.Dict.empty);var qe=mt[0]instanceof c.Name,it=mt[0].name;if(qe&&Re.getByName(it))break;pt(new Promise(function(ot,wt){if(!qe)throw new t.FormatError("XObject must be referred to by name.");let yt=Ne.getRaw(it);if(yt instanceof c.Ref){if(Re.getByRef(yt)){ot();return}if(De.globalImageCache.getData(yt,De.pageIndex)){ot();return}yt=Ie.fetch(yt)}if(!(yt instanceof k.BaseStream))throw new t.FormatError("XObject should be a stream");const It=yt.dict.get("Subtype");if(!(It instanceof c.Name))throw new t.FormatError("XObject should have a Name subtype");if(It.name!=="Form"){Re.set(it,yt.dict.objId,!0),ot();return}const Ft=se.state.clone(),At=new Q(Ft),Ue=yt.dict.getArray("Matrix");Array.isArray(Ue)&&Ue.length===6&&At.transform(Ue),st();const Ye={enqueueInvoked:!1,enqueue(at,nt){this.enqueueInvoked=!0,oe.enqueue(at,nt)},get desiredSize(){return oe.desiredSize},get ready(){return oe.ready}};De.getTextContent({stream:yt,task:ne,resources:yt.dict.get("Resources")||le,stateManager:At,combineTextItems:J,includeMarkedContent:re,sink:Ye,seenStyles:ue,viewBox:he}).then(function(){Ye.enqueueInvoked||Re.set(it,yt.dict.objId,!0),ot()},wt)}).catch(function(ot){if(!(ot instanceof t.AbortException)){if(De.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring XObject: "${ot}".`);return}throw ot}}));return;case t.OPS.setGState:if(qe=mt[0]instanceof c.Name,it=mt[0].name,qe&&Oe.getByName(it))break;pt(new Promise(function(ot,wt){if(!qe)throw new t.FormatError("GState must be referred to by name.");const yt=le.get("ExtGState");if(!(yt instanceof c.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const It=yt.get(it);if(!(It instanceof c.Dict))throw new t.FormatError("GState should be a dictionary.");const Ft=It.get("Font");if(!Ft){Oe.set(it,It.objId,!0),ot();return}Xe(),Pe.fontName=null,Pe.fontSize=Ft[1],Ee(null,Ft[0]).then(ot,wt)}).catch(function(ot){if(!(ot instanceof t.AbortException)){if(De.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring ExtGState: "${ot}".`);return}throw ot}}));return;case t.OPS.beginMarkedContent:Xe(),re&&pe.items.push({type:"beginMarkedContent",tag:mt[0]instanceof c.Name?mt[0].name:null});break;case t.OPS.beginMarkedContentProps:if(Xe(),re){let ot=null;mt[1]instanceof c.Dict&&(ot=mt[1].get("MCID")),pe.items.push({type:"beginMarkedContentProps",id:Number.isInteger(ot)?`${De.idFactory.getPageObjId()}_mcid${ot}`:null,tag:mt[0]instanceof c.Name?mt[0].name:null})}break;case t.OPS.endMarkedContent:Xe(),re&&pe.items.push({type:"endMarkedContent"});break}if(pe.items.length>=oe.desiredSize){kt=!0;break}}if(kt){pt(N);return}Xe(),st(),ht()}).catch(Ge=>{if(!(Ge instanceof t.AbortException)){if(this.options.ignoreErrors){(0,t.warn)(`getTextContent - ignoring errors during "${ne.name}" task: "${Ge}".`),Xe(),st();return}throw Ge}})}extractDataStructures(H,q,ne){const le=this.xref;let se;const J=this.readToUnicode(ne.toUnicode||H.get("ToUnicode")||q.get("ToUnicode"));if(ne.composite){const he=H.get("CIDSystemInfo");he instanceof c.Dict&&(ne.cidSystemInfo={registry:(0,t.stringToPDFString)(he.get("Registry")),ordering:(0,t.stringToPDFString)(he.get("Ordering")),supplement:he.get("Supplement")});try{const de=H.get("CIDToGIDMap");de instanceof k.BaseStream&&(se=de.getBytes())}catch(de){if(!this.options.ignoreErrors)throw de;(0,t.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${de}".`)}}const re=[];let oe=null,ue;if(H.has("Encoding")){if(ue=H.get("Encoding"),ue instanceof c.Dict){if(oe=ue.get("BaseEncoding"),oe=oe instanceof c.Name?oe.name:null,ue.has("Differences")){const he=ue.get("Differences");let de=0;for(let pe=0,fe=he.length;pe<fe;pe++){const be=le.fetchIfRef(he[pe]);if(typeof be=="number")de=be;else if(be instanceof c.Name)re[de++]=be.name;else throw new t.FormatError(`Invalid entry in 'Differences' array: ${be}`)}}}else if(ue instanceof c.Name)oe=ue.name;else{const he="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new t.FormatError(he);(0,t.warn)(he)}oe!=="MacRomanEncoding"&&oe!=="MacExpertEncoding"&&oe!=="WinAnsiEncoding"&&(oe=null)}if(oe)ne.defaultEncoding=(0,u.getEncoding)(oe);else{const he=!!(ne.flags&e.FontFlags.Symbolic),de=!!(ne.flags&e.FontFlags.Nonsymbolic);ue=u.StandardEncoding,ne.type==="TrueType"&&!de&&(ue=u.WinAnsiEncoding),he&&(ue=u.MacRomanEncoding,(!ne.file||ne.isInternalFont)&&(/Symbol/i.test(ne.name)?ue=u.SymbolSetEncoding:/Dingbats|Wingdings/i.test(ne.name)&&(ue=u.ZapfDingbatsEncoding))),ne.defaultEncoding=ue}return ne.differences=re,ne.baseEncodingName=oe,ne.hasEncoding=!!oe||re.length>0,ne.dict=H,J.then(he=>(ne.toUnicode=he,this.buildToUnicode(ne))).then(he=>(ne.toUnicode=he,se&&(ne.cidToGidMap=this.readCidToGidMap(se,he)),ne))}_simpleFontToUnicode(H){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,t.assert)(!H.composite,"Must be a simple font.");const ne=[],le=H.defaultEncoding.slice(),se=H.baseEncodingName,J=H.differences;for(const oe in J){const ue=J[oe];ue!==".notdef"&&(le[oe]=ue)}const re=(0,te.getGlyphsUnicode)();for(const oe in le){let ue=le[oe];if(ue!==""){if(re[ue]===void 0){let he=0;switch(ue[0]){case"G":ue.length===3&&(he=parseInt(ue.substring(1),16));break;case"g":ue.length===5&&(he=parseInt(ue.substring(1),16));break;case"C":case"c":if(ue.length>=3&&ue.length<=4){const pe=ue.substring(1);if(q){he=parseInt(pe,16);break}if(he=+pe,Number.isNaN(he)&&Number.isInteger(parseInt(pe,16)))return this._simpleFontToUnicode(H,!0)}break;default:const de=(0,g.getUnicodeForGlyph)(ue,re);de!==-1&&(he=de)}if(he>0&&he<=1114111&&Number.isInteger(he)){if(se&&he===+oe){const de=(0,u.getEncoding)(se);if(de&&(ue=de[oe])){ne[oe]=String.fromCharCode(re[ue]);continue}}ne[oe]=String.fromCodePoint(he)}continue}ne[oe]=String.fromCharCode(re[ue])}}return ne}async buildToUnicode(H){if(H.hasIncludedToUnicodeMap=!!H.toUnicode&&H.toUnicode.length>0,H.hasIncludedToUnicodeMap)return!H.composite&&H.hasEncoding&&(H.fallbackToUnicode=this._simpleFontToUnicode(H)),H.toUnicode;if(!H.composite)return new v.ToUnicodeMap(this._simpleFontToUnicode(H));if(H.composite&&(H.cMap.builtInCMap&&!(H.cMap instanceof i.IdentityCMap)||H.cidSystemInfo.registry==="Adobe"&&(H.cidSystemInfo.ordering==="GB1"||H.cidSystemInfo.ordering==="CNS1"||H.cidSystemInfo.ordering==="Japan1"||H.cidSystemInfo.ordering==="Korea1"))){const{registry:q,ordering:ne}=H.cidSystemInfo,le=c.Name.get(`${q}-${ne}-UCS2`),se=await i.CMapFactory.create({encoding:le,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),J=[];return H.cMap.forEach(function(re,oe){if(oe>65535)throw new t.FormatError("Max size of CID is 65,535");const ue=se.lookup(oe);ue&&(J[re]=String.fromCharCode((ue.charCodeAt(0)<<8)+ue.charCodeAt(1)))}),new v.ToUnicodeMap(J)}return new v.IdentityToUnicodeMap(H.firstChar,H.lastChar)}readToUnicode(H){return H?H instanceof c.Name?i.CMapFactory.create({encoding:H,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(q){return q instanceof i.IdentityCMap?new v.IdentityToUnicodeMap(0,65535):new v.ToUnicodeMap(q.getMap())}):H instanceof k.BaseStream?i.CMapFactory.create({encoding:H,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(q){if(q instanceof i.IdentityCMap)return new v.IdentityToUnicodeMap(0,65535);const ne=new Array(q.length);return q.forEach(function(le,se){if(typeof se=="number"){ne[le]=String.fromCodePoint(se);return}const J=[];for(let re=0;re<se.length;re+=2){const oe=se.charCodeAt(re)<<8|se.charCodeAt(re+1);if((oe&63488)!==55296){J.push(oe);continue}re+=2;const ue=se.charCodeAt(re)<<8|se.charCodeAt(re+1);J.push(((oe&1023)<<10)+(ue&1023)+65536)}ne[le]=String.fromCodePoint(...J)}),new v.ToUnicodeMap(ne)},q=>{if(q instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,t.warn)(`readToUnicode - ignoring ToUnicode data: "${q}".`),null;throw q}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(H,q){const ne=[];for(let le=0,se=H.length;le<se;le++){const J=H[le++]<<8|H[le],re=le>>1;J===0&&!q.has(re)||(ne[re]=J)}return ne}extractWidths(H,q,ne){const le=this.xref;let se=[],J=0;const re=[];let oe,ue,he,de,pe,fe,be,ge;if(ne.composite){if(J=H.has("DW")?H.get("DW"):1e3,ge=H.get("W"),ge)for(ue=0,he=ge.length;ue<he;ue++)if(fe=le.fetchIfRef(ge[ue++]),be=le.fetchIfRef(ge[ue]),Array.isArray(be))for(de=0,pe=be.length;de<pe;de++)se[fe++]=le.fetchIfRef(be[de]);else{const we=le.fetchIfRef(ge[++ue]);for(de=fe;de<=be;de++)se[de]=we}if(ne.vertical){let we=H.getArray("DW2")||[880,-1e3];if(oe=[we[1],J*.5,we[0]],we=H.get("W2"),we)for(ue=0,he=we.length;ue<he;ue++)if(fe=le.fetchIfRef(we[ue++]),be=le.fetchIfRef(we[ue]),Array.isArray(be))for(de=0,pe=be.length;de<pe;de++)re[fe++]=[le.fetchIfRef(be[de++]),le.fetchIfRef(be[de++]),le.fetchIfRef(be[de])];else{const Fe=[le.fetchIfRef(we[++ue]),le.fetchIfRef(we[++ue]),le.fetchIfRef(we[++ue])];for(de=fe;de<=be;de++)re[de]=Fe}}}else{const we=ne.firstChar;if(ge=H.get("Widths"),ge){for(de=we,ue=0,he=ge.length;ue<he;ue++)se[de++]=le.fetchIfRef(ge[ue]);J=parseFloat(q.get("MissingWidth"))||0}else{const Fe=H.get("BaseFont");if(Fe instanceof c.Name){const Ce=this.getBaseFontMetrics(Fe.name);se=this.buildCharCodeToWidth(Ce.widths,ne),J=Ce.defaultWidth}}}let Se=!0,ve=J;for(const we in se){const Fe=se[we];if(Fe){if(!ve){ve=Fe;continue}if(ve!==Fe){Se=!1;break}}}Se&&(ne.flags|=e.FontFlags.FixedPitch),ne.defaultWidth=J,ne.widths=se,ne.defaultVMetrics=oe,ne.vmetrics=re}isSerifFont(H){const q=H.split("-")[0];return q in(0,m.getSerifFonts)()||q.search(/serif/gi)!==-1}getBaseFontMetrics(H){let q=0,ne=Object.create(null),le=!1,J=(0,m.getStdFontMap)()[H]||H;const re=(0,G.getMetrics)();J in re||(this.isSerifFont(H)?J="Times-Roman":J="Helvetica");const oe=re[J];return typeof oe=="number"?(q=oe,le=!0):ne=oe(),{defaultWidth:q,monospace:le,widths:ne}}buildCharCodeToWidth(H,q){const ne=Object.create(null),le=q.differences,se=q.defaultEncoding;for(let J=0;J<256;J++){if(J in le&&H[le[J]]){ne[J]=H[le[J]];continue}if(J in se&&H[se[J]]){ne[J]=H[se[J]];continue}}return ne}preEvaluateFont(H){const q=H;let ne=H.get("Subtype");if(!(ne instanceof c.Name))throw new t.FormatError("invalid font Subtype");let le=!1,se,J;if(ne.name==="Type0"){const he=H.get("DescendantFonts");if(!he)throw new t.FormatError("Descendant fonts are not specified");if(H=Array.isArray(he)?this.xref.fetchIfRef(he[0]):he,!(H instanceof c.Dict))throw new t.FormatError("Descendant font is not a dictionary.");if(ne=H.get("Subtype"),!(ne instanceof c.Name))throw new t.FormatError("invalid font Subtype");le=!0}const re=H.get("FirstChar")||0,oe=H.get("LastChar")||(le?65535:255),ue=H.get("FontDescriptor");if(ue){se=new R.MurmurHash3_64;const he=q.getRaw("Encoding");if(he instanceof c.Name)se.update(he.name);else if(he instanceof c.Ref)se.update(he.toString());else if(he instanceof c.Dict){for(const pe of he.getRawValues())if(pe instanceof c.Name)se.update(pe.name);else if(pe instanceof c.Ref)se.update(pe.toString());else if(Array.isArray(pe)){const fe=pe.length,be=new Array(fe);for(let ge=0;ge<fe;ge++){const Se=pe[ge];Se instanceof c.Name?be[ge]=Se.name:(typeof Se=="number"||Se instanceof c.Ref)&&(be[ge]=Se.toString())}se.update(be.join())}}if(se.update(`${re}-${oe}`),J=H.get("ToUnicode")||q.get("ToUnicode"),J instanceof k.BaseStream){const pe=J.str||J,fe=pe.buffer?new Uint8Array(pe.buffer.buffer,0,pe.bufferLength):new Uint8Array(pe.bytes.buffer,pe.start,pe.end-pe.start);se.update(fe)}else J instanceof c.Name&&se.update(J.name);const de=H.get("Widths")||q.get("Widths");if(Array.isArray(de)){const pe=[];for(const fe of de)(typeof fe=="number"||fe instanceof c.Ref)&&pe.push(fe.toString());se.update(pe.join())}if(le){se.update("compositeFont");const pe=H.get("W")||q.get("W");if(Array.isArray(pe)){const be=[];for(const ge of pe)if(typeof ge=="number"||ge instanceof c.Ref)be.push(ge.toString());else if(Array.isArray(ge)){const Se=[];for(const ve of ge)(typeof ve=="number"||ve instanceof c.Ref)&&Se.push(ve.toString());be.push(`[${Se.join()}]`)}se.update(be.join())}const fe=H.getRaw("CIDToGIDMap")||q.getRaw("CIDToGIDMap");fe instanceof c.Name?se.update(fe.name):fe instanceof c.Ref?se.update(fe.toString()):fe instanceof k.BaseStream&&se.update(fe.peekBytes())}}return{descriptor:ue,dict:H,baseDict:q,composite:le,type:ne.name,firstChar:re,lastChar:oe,toUnicode:J,hash:se?se.hexdigest():""}}async translateFont(H){let{descriptor:q,dict:ne,baseDict:le,composite:se,type:J,firstChar:re,lastChar:oe,toUnicode:ue,cssFontInfo:he}=H;const de=J==="Type3";let pe;if(!q)if(de)q=new c.Dict(null),q.set("FontName",c.Name.get(J)),q.set("FontBBox",ne.getArray("FontBBox")||[0,0,0,0]);else{let De=ne.get("BaseFont");if(!(De instanceof c.Name))throw new t.FormatError("Base font is not specified");De=De.name.replace(/[,_]/g,"-");const Ie=this.getBaseFontMetrics(De),Me=De.split("-")[0],Ne=(this.isSerifFont(Me)?e.FontFlags.Serif:0)|(Ie.monospace?e.FontFlags.FixedPitch:0)|((0,m.getSymbolsFonts)()[Me]?e.FontFlags.Symbolic:e.FontFlags.Nonsymbolic);pe={type:J,name:De,loadedName:le.loadedName,widths:Ie.widths,defaultWidth:Ie.defaultWidth,isSimulatedFlags:!0,flags:Ne,firstChar:re,lastChar:oe,toUnicode:ue,xHeight:0,capHeight:0,italicAngle:0,isType3Font:de};const Re=ne.get("Widths"),Oe=(0,m.getStandardFontName)(De);let Le=null;return Oe&&(pe.isStandardFont=!0,Le=await this.fetchStandardFontData(Oe),pe.isInternalFont=!!Le),this.extractDataStructures(ne,ne,pe).then(Pe=>{if(Re){const $e=[];let je=re;for(let Te=0,Ae=Re.length;Te<Ae;Te++)$e[je++]=this.xref.fetchIfRef(Re[Te]);Pe.widths=$e}else Pe.widths=this.buildCharCodeToWidth(Ie.widths,Pe);return new s.Font(De,Le,Pe)})}let fe=q.get("FontName"),be=ne.get("BaseFont");if(typeof fe=="string"&&(fe=c.Name.get(fe)),typeof be=="string"&&(be=c.Name.get(be)),!de){const De=fe&&fe.name,Ie=be&&be.name;De!==Ie&&((0,t.info)(`The FontDescriptor's FontName is "${De}" but should be the same as the Font's BaseFont "${Ie}".`),De&&Ie&&Ie.startsWith(De)&&(fe=be))}if(fe=fe||be,!(fe instanceof c.Name))throw new t.FormatError("invalid font name");let ge,Se,ve,we,Fe;try{ge=q.get("FontFile","FontFile2","FontFile3")}catch(De){if(!this.options.ignoreErrors)throw De;(0,t.warn)(`translateFont - fetching "${fe.name}" font file: "${De}".`),ge=new E.NullStream}let Ce=!1,ye=!1,ke=null;if(ge){if(ge.dict){const De=ge.dict.get("Subtype");De instanceof c.Name&&(Se=De.name),ve=ge.dict.get("Length1"),we=ge.dict.get("Length2"),Fe=ge.dict.get("Length3")}}else if(he){const De=(0,b.getXfaFontName)(fe.name);De&&(he.fontFamily=`${he.fontFamily}-PdfJS-XFA`,he.metrics=De.metrics||null,ke=De.factors||null,ge=await this.fetchStandardFontData(De.name),ye=!!ge,le=ne=(0,b.getXfaFontDict)(fe.name),se=!0)}else if(!de){const De=(0,m.getStandardFontName)(fe.name);De&&(Ce=!0,ge=await this.fetchStandardFontData(De),ye=!!ge)}if(pe={type:J,name:fe.name,subtype:Se,file:ge,length1:ve,length2:we,length3:Fe,isStandardFont:Ce,isInternalFont:ye,loadedName:le.loadedName,composite:se,fixedPitch:!1,fontMatrix:ne.getArray("FontMatrix")||t.FONT_IDENTITY_MATRIX,firstChar:re,lastChar:oe,toUnicode:ue,bbox:q.getArray("FontBBox")||ne.getArray("FontBBox"),ascent:q.get("Ascent"),descent:q.get("Descent"),xHeight:q.get("XHeight")||0,capHeight:q.get("CapHeight")||0,flags:q.get("Flags"),italicAngle:q.get("ItalicAngle")||0,isType3Font:de,cssFontInfo:he,scaleFactors:ke},se){const De=le.get("Encoding");De instanceof c.Name&&(pe.cidEncoding=De.name);const Ie=await i.CMapFactory.create({encoding:De,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});pe.cMap=Ie,pe.vertical=pe.cMap.vertical}return this.extractDataStructures(ne,le,pe).then(De=>(this.extractWidths(ne,q,De),new s.Font(fe.name,ge,De)))}static buildFontPaths(H,q,ne,le){function se(J){const re=`${H.loadedName}_path_${J}`;try{if(H.renderer.hasBuiltPath(J))return;ne.send("commonobj",[re,"FontPath",H.renderer.getPathJs(J)])}catch(oe){if(le.ignoreErrors){ne.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,t.warn)(`buildFontPaths - ignoring ${re} glyph: "${oe}".`);return}throw oe}}for(const J of q){se(J.fontChar);const re=J.accent;re&&re.fontChar&&se(re.fontChar)}}static get fallbackFontDict(){const H=new c.Dict;return H.set("BaseFont",c.Name.get("PDFJS-FallbackFont")),H.set("Type",c.Name.get("FallbackType")),H.set("Subtype",c.Name.get("FallbackType")),H.set("Encoding",c.Name.get("WinAnsiEncoding")),(0,t.shadow)(this,"fallbackFontDict",H)}}l.PartialEvaluator=F;class D{constructor(H){let{loadedName:q,font:ne,dict:le,evaluatorOptions:se}=H;this.loadedName=q,this.font=ne,this.dict=le,this._evaluatorOptions=se||P,this.type3Loaded=null,this.type3Dependencies=ne.isType3Font?new Set:null,this.sent=!1}send(H){this.sent||(this.sent=!0,H.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(H){this.font.data&&(this.font.disableFontFace=!0,F.buildFontPaths(this.font,this.font.glyphCacheValues,H,this._evaluatorOptions))}loadType3Data(H,q,ne){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const le=H.clone({ignoreErrors:!1});le.parsingType3Font=!0;const se=new c.RefSet(H.type3FontRefs);this.dict.objId&&!se.has(this.dict.objId)&&se.put(this.dict.objId),le.type3FontRefs=se;const J=this.font,re=this.type3Dependencies;let oe=Promise.resolve();const ue=this.dict.get("CharProcs"),he=this.dict.get("Resources")||q,de=Object.create(null),pe=t.Util.normalizeRect(J.bbox||[0,0,0,0]),fe=pe[2]-pe[0],be=pe[3]-pe[1],ge=Math.hypot(fe,be);for(const Se of ue.getKeys())oe=oe.then(()=>{const ve=ue.get(Se),we=new I.OperatorList;return le.getOperatorList({stream:ve,task:ne,resources:he,operatorList:we}).then(()=>{we.fnArray[0]===t.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(we,ge),de[Se]=we.getIR();for(const Fe of we.dependencies)re.add(Fe)}).catch(function(Fe){(0,t.warn)(`Type3 font resource "${Se}" is not available.`);const Ce=new I.OperatorList;de[Se]=Ce.getIR()})});return this.type3Loaded=oe.then(()=>{J.charProcOperatorList=de,this._bbox&&(J.isCharBBox=!0,J.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(H){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;const ne=t.Util.normalizeRect(H.argsArray[0].slice(2)),le=ne[2]-ne[0],se=ne[3]-ne[1],J=Math.hypot(le,se);le===0||se===0?(H.fnArray.splice(0,1),H.argsArray.splice(0,1)):(q===0||Math.round(J/q)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],ne[0]),this._bbox[1]=Math.min(this._bbox[1],ne[1]),this._bbox[2]=Math.max(this._bbox[2],ne[2]),this._bbox[3]=Math.max(this._bbox[3],ne[3]));let re=0,oe=H.length;for(;re<oe;){switch(H.fnArray[re]){case t.OPS.setCharWidthAndBounds:break;case t.OPS.setStrokeColorSpace:case t.OPS.setFillColorSpace:case t.OPS.setStrokeColor:case t.OPS.setStrokeColorN:case t.OPS.setFillColor:case t.OPS.setFillColorN:case t.OPS.setStrokeGray:case t.OPS.setFillGray:case t.OPS.setStrokeRGBColor:case t.OPS.setFillRGBColor:case t.OPS.setStrokeCMYKColor:case t.OPS.setFillCMYKColor:case t.OPS.shadingFill:case t.OPS.setRenderingIntent:H.fnArray.splice(re,1),H.argsArray.splice(re,1),oe--;continue;case t.OPS.setGState:const[ue]=H.argsArray[re];let he=0,de=ue.length;for(;he<de;){const[pe]=ue[he];switch(pe){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":ue.splice(he,1),de--;continue}he++}break}re++}}}class Q{constructor(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new V;this.state=H,this.stateStack=[]}save(){const H=this.state;this.stateStack.push(this.state),this.state=H.clone()}restore(){const H=this.stateStack.pop();H&&(this.state=H)}transform(H){this.state.ctm=t.Util.transform(this.state.ctm,H)}}class ee{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.textMatrix=t.IDENTITY_MATRIX.slice(),this.textLineMatrix=t.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(H,q,ne,le,se,J){const re=this.textMatrix;re[0]=H,re[1]=q,re[2]=ne,re[3]=le,re[4]=se,re[5]=J}setTextLineMatrix(H,q,ne,le,se,J){const re=this.textLineMatrix;re[0]=H,re[1]=q,re[2]=ne,re[3]=le,re[4]=se,re[5]=J}translateTextMatrix(H,q){const ne=this.textMatrix;ne[4]=ne[0]*H+ne[2]*q+ne[4],ne[5]=ne[1]*H+ne[3]*q+ne[5]}translateTextLineMatrix(H,q){const ne=this.textLineMatrix;ne[4]=ne[0]*H+ne[2]*q+ne[4],ne[5]=ne[1]*H+ne[3]*q+ne[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const H=Object.create(this);return H.textMatrix=this.textMatrix.slice(),H.textLineMatrix=this.textLineMatrix.slice(),H.fontMatrix=this.fontMatrix.slice(),H}}class V{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=t.TextRenderingMode.FILL,this.fillColorSpace=O.ColorSpace.singletons.gray,this.strokeColorSpace=O.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class Z{static get opMap(){const H=(0,B.getLookupTableFactory)(function(q){q.w={id:t.OPS.setLineWidth,numArgs:1,variableArgs:!1},q.J={id:t.OPS.setLineCap,numArgs:1,variableArgs:!1},q.j={id:t.OPS.setLineJoin,numArgs:1,variableArgs:!1},q.M={id:t.OPS.setMiterLimit,numArgs:1,variableArgs:!1},q.d={id:t.OPS.setDash,numArgs:2,variableArgs:!1},q.ri={id:t.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},q.i={id:t.OPS.setFlatness,numArgs:1,variableArgs:!1},q.gs={id:t.OPS.setGState,numArgs:1,variableArgs:!1},q.q={id:t.OPS.save,numArgs:0,variableArgs:!1},q.Q={id:t.OPS.restore,numArgs:0,variableArgs:!1},q.cm={id:t.OPS.transform,numArgs:6,variableArgs:!1},q.m={id:t.OPS.moveTo,numArgs:2,variableArgs:!1},q.l={id:t.OPS.lineTo,numArgs:2,variableArgs:!1},q.c={id:t.OPS.curveTo,numArgs:6,variableArgs:!1},q.v={id:t.OPS.curveTo2,numArgs:4,variableArgs:!1},q.y={id:t.OPS.curveTo3,numArgs:4,variableArgs:!1},q.h={id:t.OPS.closePath,numArgs:0,variableArgs:!1},q.re={id:t.OPS.rectangle,numArgs:4,variableArgs:!1},q.S={id:t.OPS.stroke,numArgs:0,variableArgs:!1},q.s={id:t.OPS.closeStroke,numArgs:0,variableArgs:!1},q.f={id:t.OPS.fill,numArgs:0,variableArgs:!1},q.F={id:t.OPS.fill,numArgs:0,variableArgs:!1},q["f*"]={id:t.OPS.eoFill,numArgs:0,variableArgs:!1},q.B={id:t.OPS.fillStroke,numArgs:0,variableArgs:!1},q["B*"]={id:t.OPS.eoFillStroke,numArgs:0,variableArgs:!1},q.b={id:t.OPS.closeFillStroke,numArgs:0,variableArgs:!1},q["b*"]={id:t.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},q.n={id:t.OPS.endPath,numArgs:0,variableArgs:!1},q.W={id:t.OPS.clip,numArgs:0,variableArgs:!1},q["W*"]={id:t.OPS.eoClip,numArgs:0,variableArgs:!1},q.BT={id:t.OPS.beginText,numArgs:0,variableArgs:!1},q.ET={id:t.OPS.endText,numArgs:0,variableArgs:!1},q.Tc={id:t.OPS.setCharSpacing,numArgs:1,variableArgs:!1},q.Tw={id:t.OPS.setWordSpacing,numArgs:1,variableArgs:!1},q.Tz={id:t.OPS.setHScale,numArgs:1,variableArgs:!1},q.TL={id:t.OPS.setLeading,numArgs:1,variableArgs:!1},q.Tf={id:t.OPS.setFont,numArgs:2,variableArgs:!1},q.Tr={id:t.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},q.Ts={id:t.OPS.setTextRise,numArgs:1,variableArgs:!1},q.Td={id:t.OPS.moveText,numArgs:2,variableArgs:!1},q.TD={id:t.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},q.Tm={id:t.OPS.setTextMatrix,numArgs:6,variableArgs:!1},q["T*"]={id:t.OPS.nextLine,numArgs:0,variableArgs:!1},q.Tj={id:t.OPS.showText,numArgs:1,variableArgs:!1},q.TJ={id:t.OPS.showSpacedText,numArgs:1,variableArgs:!1},q["'"]={id:t.OPS.nextLineShowText,numArgs:1,variableArgs:!1},q['"']={id:t.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},q.d0={id:t.OPS.setCharWidth,numArgs:2,variableArgs:!1},q.d1={id:t.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},q.CS={id:t.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},q.cs={id:t.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},q.SC={id:t.OPS.setStrokeColor,numArgs:4,variableArgs:!0},q.SCN={id:t.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},q.sc={id:t.OPS.setFillColor,numArgs:4,variableArgs:!0},q.scn={id:t.OPS.setFillColorN,numArgs:33,variableArgs:!0},q.G={id:t.OPS.setStrokeGray,numArgs:1,variableArgs:!1},q.g={id:t.OPS.setFillGray,numArgs:1,variableArgs:!1},q.RG={id:t.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},q.rg={id:t.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},q.K={id:t.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},q.k={id:t.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},q.sh={id:t.OPS.shadingFill,numArgs:1,variableArgs:!1},q.BI={id:t.OPS.beginInlineImage,numArgs:0,variableArgs:!1},q.ID={id:t.OPS.beginImageData,numArgs:0,variableArgs:!1},q.EI={id:t.OPS.endInlineImage,numArgs:1,variableArgs:!1},q.Do={id:t.OPS.paintXObject,numArgs:1,variableArgs:!1},q.MP={id:t.OPS.markPoint,numArgs:1,variableArgs:!1},q.DP={id:t.OPS.markPointProps,numArgs:2,variableArgs:!1},q.BMC={id:t.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},q.BDC={id:t.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},q.EMC={id:t.OPS.endMarkedContent,numArgs:0,variableArgs:!1},q.BX={id:t.OPS.beginCompat,numArgs:0,variableArgs:!1},q.EX={id:t.OPS.endCompat,numArgs:0,variableArgs:!1},q.BM=null,q.BD=null,q.true=null,q.fa=null,q.fal=null,q.fals=null,q.false=null,q.nu=null,q.nul=null,q.null=null});return(0,t.shadow)(this,"opMap",H())}static get MAX_INVALID_PATH_OPS(){return(0,t.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(H,q){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Q;this.parser=new S.Parser({lexer:new S.Lexer(H,Z.opMap),xref:q}),this.stateManager=ne,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(H){let q=H.args;for(;;){const ne=this.parser.getObj();if(ne instanceof c.Cmd){const le=ne.cmd,se=Z.opMap[le];if(!se){(0,t.warn)(`Unknown command "${le}".`);continue}const J=se.id,re=se.numArgs;let oe=q!==null?q.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=J>=t.OPS.moveTo&&J<=t.OPS.endPath,se.variableArgs)oe>re&&(0,t.info)(`Command ${le}: expected [0, ${re}] args, but received ${oe} args.`);else{if(oe!==re){const ue=this.nonProcessedArgs;for(;oe>re;)ue.push(q.shift()),oe--;for(;oe<re&&ue.length!==0;)q===null&&(q=[]),q.unshift(ue.pop()),oe++}if(oe<re){const ue=`command ${le}: expected ${re} args, but received ${oe} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Z.MAX_INVALID_PATH_OPS)throw new t.FormatError(`Invalid ${ue}`);(0,t.warn)(`Skipping ${ue}`),q!==null&&(q.length=0);continue}}return this.preprocessCommand(J,q),H.fn=J,H.args=q,!0}if(ne===c.EOF)return!1;if(ne!==null&&(q===null&&(q=[]),q.push(ne),q.length>33))throw new t.FormatError("Too many arguments")}}preprocessCommand(H,q){switch(H|0){case t.OPS.save:this.stateManager.save();break;case t.OPS.restore:this.stateManager.restore();break;case t.OPS.transform:this.stateManager.transform(q);break}}}l.EvaluatorPreprocessor=Z},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IdentityCMap=l.CMapFactory=l.CMap=void 0;var t=a(2),i=a(130),c=a(132),s=a(142),e=a(131),u=a(135);const m=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],g=2**24-1;class y{constructor(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=T}addCodespaceRange(T,E,k){this.codespaceRanges[T-1].push(E,k),this.numCodespaceRanges++}mapCidRange(T,E,k){if(E-T>g)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;T<=E;)this._map[T++]=k++}mapBfRange(T,E,k){if(E-T>g)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const M=k.length-1;for(;T<=E;){this._map[T++]=k;const O=k.charCodeAt(M)+1;if(O>255){k=k.substring(0,M-1)+String.fromCharCode(k.charCodeAt(M-1)+1)+"\0";continue}k=k.substring(0,M)+String.fromCharCode(O)}}mapBfRangeToArray(T,E,k){if(E-T>g)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const M=k.length;let O=0;for(;T<=E&&O<M;)this._map[T]=k[O++],++T}mapOne(T,E){this._map[T]=E}lookup(T){return this._map[T]}contains(T){return this._map[T]!==void 0}forEach(T){const E=this._map,k=E.length;if(k<=65536)for(let M=0;M<k;M++)E[M]!==void 0&&T(M,E[M]);else for(const M in E)T(M,E[M])}charCodeOf(T){const E=this._map;if(E.length<=65536)return E.indexOf(T);for(const k in E)if(E[k]===T)return k|0;return-1}getMap(){return this._map}readCharCode(T,E,k){let M=0;const O=this.codespaceRanges;for(let L=0,te=O.length;L<te;L++){M=(M<<8|T.charCodeAt(E+L))>>>0;const B=O[L];for(let G=0,R=B.length;G<R;){const I=B[G++],U=B[G++];if(M>=I&&M<=U){k.charcode=M,k.length=L+1;return}}}k.charcode=0,k.length=1}getCharCodeLength(T){const E=this.codespaceRanges;for(let k=0,M=E.length;k<M;k++){const O=E[k];for(let L=0,te=O.length;L<te;){const B=O[L++],G=O[L++];if(T>=B&&T<=G)return k+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let T=0;T<65536;T++)if(this._map[T]!==T)return!1;return!0}}l.CMap=y;class b extends y{constructor(T,E){super(),this.vertical=T,this.addCodespaceRange(E,0,65535)}mapCidRange(T,E,k){(0,t.unreachable)("should not call mapCidRange")}mapBfRange(T,E,k){(0,t.unreachable)("should not call mapBfRange")}mapBfRangeToArray(T,E,k){(0,t.unreachable)("should not call mapBfRangeToArray")}mapOne(T,E){(0,t.unreachable)("should not call mapCidOne")}lookup(T){return Number.isInteger(T)&&T<=65535?T:void 0}contains(T){return Number.isInteger(T)&&T<=65535}forEach(T){for(let E=0;E<=65535;E++)T(E,E)}charCodeOf(T){return Number.isInteger(T)&&T<=65535?T:-1}getMap(){const T=new Array(65536);for(let E=0;E<=65535;E++)T[E]=E;return T}get length(){return 65536}get isIdentityCMap(){(0,t.unreachable)("should not access .isIdentityCMap")}}l.IdentityCMap=b;const v=function(){function T(G,R){let I=0;for(let U=0;U<=R;U++)I=I<<8|G[U];return I>>>0}function E(G,R){return R===1?String.fromCharCode(G[0],G[1]):R===3?String.fromCharCode(G[0],G[1],G[2],G[3]):String.fromCharCode.apply(null,G.subarray(0,R+1))}function k(G,R,I){let U=0;for(let P=I;P>=0;P--)U+=G[P]+R[P],G[P]=U&255,U>>=8}function M(G,R){let I=1;for(let U=R;U>=0&&I>0;U--)I+=G[U],G[U]=I&255,I>>=8}const O=16,L=19;class te{constructor(R){this.buffer=R,this.pos=0,this.end=R.length,this.tmpBuf=new Uint8Array(L)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let R=0,I;do{const U=this.readByte();if(U<0)throw new t.FormatError("unexpected EOF in bcmap");I=!(U&128),R=R<<7|U&127}while(!I);return R}readSigned(){const R=this.readNumber();return R&1?~(R>>>1):R>>>1}readHex(R,I){R.set(this.buffer.subarray(this.pos,this.pos+I+1)),this.pos+=I+1}readHexNumber(R,I){let U;const P=this.tmpBuf;let A=0;do{const ie=this.readByte();if(ie<0)throw new t.FormatError("unexpected EOF in bcmap");U=!(ie&128),P[A++]=ie&127}while(!U);let z=I,N=0,W=0;for(;z>=0;){for(;W<8&&P.length>0;)N|=P[--A]<<W,W+=7;R[z]=N&255,z--,N>>=8,W-=8}}readHexSigned(R,I){this.readHexNumber(R,I);const U=R[I]&1?255:0;let P=0;for(let A=0;A<=I;A++)P=(P&1)<<8|R[A],R[A]=P>>1^U}readString(){const R=this.readNumber();let I="";for(let U=0;U<R;U++)I+=String.fromCharCode(this.readNumber());return I}}class B{async process(R,I,U){const P=new te(R),A=P.readByte();I.vertical=!!(A&1);let z=null;const N=new Uint8Array(O),W=new Uint8Array(O),ie=new Uint8Array(O),Y=new Uint8Array(O),F=new Uint8Array(O);let D,Q;for(;(Q=P.readByte())>=0;){const ee=Q>>5;if(ee===7){switch(Q&31){case 0:P.readString();break;case 1:z=P.readString();break}continue}const V=!!(Q&16),Z=Q&15;if(Z+1>O)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const ae=1,H=P.readNumber();switch(ee){case 0:P.readHex(N,Z),P.readHexNumber(W,Z),k(W,N,Z),I.addCodespaceRange(Z+1,T(N,Z),T(W,Z));for(let q=1;q<H;q++)M(W,Z),P.readHexNumber(N,Z),k(N,W,Z),P.readHexNumber(W,Z),k(W,N,Z),I.addCodespaceRange(Z+1,T(N,Z),T(W,Z));break;case 1:P.readHex(N,Z),P.readHexNumber(W,Z),k(W,N,Z),P.readNumber();for(let q=1;q<H;q++)M(W,Z),P.readHexNumber(N,Z),k(N,W,Z),P.readHexNumber(W,Z),k(W,N,Z),P.readNumber();break;case 2:P.readHex(ie,Z),D=P.readNumber(),I.mapOne(T(ie,Z),D);for(let q=1;q<H;q++)M(ie,Z),V||(P.readHexNumber(F,Z),k(ie,F,Z)),D=P.readSigned()+(D+1),I.mapOne(T(ie,Z),D);break;case 3:P.readHex(N,Z),P.readHexNumber(W,Z),k(W,N,Z),D=P.readNumber(),I.mapCidRange(T(N,Z),T(W,Z),D);for(let q=1;q<H;q++)M(W,Z),V?N.set(W):(P.readHexNumber(N,Z),k(N,W,Z)),P.readHexNumber(W,Z),k(W,N,Z),D=P.readNumber(),I.mapCidRange(T(N,Z),T(W,Z),D);break;case 4:P.readHex(ie,ae),P.readHex(Y,Z),I.mapOne(T(ie,ae),E(Y,Z));for(let q=1;q<H;q++)M(ie,ae),V||(P.readHexNumber(F,ae),k(ie,F,ae)),M(Y,Z),P.readHexSigned(F,Z),k(Y,F,Z),I.mapOne(T(ie,ae),E(Y,Z));break;case 5:P.readHex(N,ae),P.readHexNumber(W,ae),k(W,N,ae),P.readHex(Y,Z),I.mapBfRange(T(N,ae),T(W,ae),E(Y,Z));for(let q=1;q<H;q++)M(W,ae),V?N.set(W):(P.readHexNumber(N,ae),k(N,W,ae)),P.readHexNumber(W,ae),k(W,N,ae),P.readHex(Y,Z),I.mapBfRange(T(N,ae),T(W,ae),E(Y,Z));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${ee}`)}}return z?U(z):I}}return B}(),o=function(){function T(A){let z=0;for(let N=0;N<A.length;N++)z=z<<8|A.charCodeAt(N);return z>>>0}function E(A){if(typeof A!="string")throw new t.FormatError("Malformed CMap: expected string.")}function k(A){if(!Number.isInteger(A))throw new t.FormatError("Malformed CMap: expected int.")}function M(A,z){for(;;){let N=z.getObj();if(N===i.EOF)break;if((0,i.isCmd)(N,"endbfchar"))return;E(N);const W=T(N);N=z.getObj(),E(N);const ie=N;A.mapOne(W,ie)}}function O(A,z){for(;;){let N=z.getObj();if(N===i.EOF)break;if((0,i.isCmd)(N,"endbfrange"))return;E(N);const W=T(N);N=z.getObj(),E(N);const ie=T(N);if(N=z.getObj(),Number.isInteger(N)||typeof N=="string"){const Y=Number.isInteger(N)?String.fromCharCode(N):N;A.mapBfRange(W,ie,Y)}else if((0,i.isCmd)(N,"[")){N=z.getObj();const Y=[];for(;!(0,i.isCmd)(N,"]")&&N!==i.EOF;)Y.push(N),N=z.getObj();A.mapBfRangeToArray(W,ie,Y)}else break}throw new t.FormatError("Invalid bf range.")}function L(A,z){for(;;){let N=z.getObj();if(N===i.EOF)break;if((0,i.isCmd)(N,"endcidchar"))return;E(N);const W=T(N);N=z.getObj(),k(N);const ie=N;A.mapOne(W,ie)}}function te(A,z){for(;;){let N=z.getObj();if(N===i.EOF)break;if((0,i.isCmd)(N,"endcidrange"))return;E(N);const W=T(N);N=z.getObj(),E(N);const ie=T(N);N=z.getObj(),k(N);const Y=N;A.mapCidRange(W,ie,Y)}}function B(A,z){for(;;){let N=z.getObj();if(N===i.EOF)break;if((0,i.isCmd)(N,"endcodespacerange"))return;if(typeof N!="string")break;const W=T(N);if(N=z.getObj(),typeof N!="string")break;const ie=T(N);A.addCodespaceRange(N.length,W,ie)}throw new t.FormatError("Invalid codespace range.")}function G(A,z){const N=z.getObj();Number.isInteger(N)&&(A.vertical=!!N)}function R(A,z){const N=z.getObj();N instanceof i.Name&&(A.name=N.name)}async function I(A,z,N,W){let ie,Y;e:for(;;)try{const F=z.getObj();if(F===i.EOF)break;if(F instanceof i.Name)F.name==="WMode"?G(A,z):F.name==="CMapName"&&R(A,z),ie=F;else if(F instanceof i.Cmd)switch(F.cmd){case"endcmap":break e;case"usecmap":ie instanceof i.Name&&(Y=ie.name);break;case"begincodespacerange":B(A,z);break;case"beginbfchar":M(A,z);break;case"begincidchar":L(A,z);break;case"beginbfrange":O(A,z);break;case"begincidrange":te(A,z);break}}catch(F){if(F instanceof e.MissingDataException)throw F;(0,t.warn)("Invalid cMap data: "+F);continue}return!W&&Y&&(W=Y),W?U(A,N,W):A}async function U(A,z,N){if(A.useCMap=await P(N,z),A.numCodespaceRanges===0){const W=A.useCMap.codespaceRanges;for(let ie=0;ie<W.length;ie++)A.codespaceRanges[ie]=W[ie].slice();A.numCodespaceRanges=A.useCMap.numCodespaceRanges}return A.useCMap.forEach(function(W,ie){A.contains(W)||A.mapOne(W,A.useCMap.lookup(W))}),A}async function P(A,z){if(A==="Identity-H")return new b(!1,2);if(A==="Identity-V")return new b(!0,2);if(!m.includes(A))throw new Error("Unknown CMap name: "+A);if(!z)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:N,compressionType:W}=await z(A),ie=new y(!0);if(W===t.CMapCompressionType.BINARY)return new v().process(N,ie,Y=>U(ie,z,Y));if(W===t.CMapCompressionType.NONE){const Y=new s.Lexer(new u.Stream(N));return I(ie,Y,z,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(A){const z=A.encoding,N=A.fetchBuiltInCMap,W=A.useCMap;if(z instanceof i.Name)return P(z.name,N);if(z instanceof c.BaseStream){const ie=await I(new y,new s.Lexer(z),N,W);return ie.isIdentityCMap?P(ie.name,N):ie}throw new Error("Encoding required.")}}}();l.CMapFactory=o},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=l.Linearization=l.Lexer=void 0;var t=a(2),i=a(130),c=a(131),s=a(143),e=a(145),u=a(146),m=a(148),g=a(149),y=a(152),b=a(154),v=a(156),o=a(135),S=a(157),T=a(158);const E=1e3,k=5552;function M(R){const I=R.length;let U=1,P=0;for(let A=0;A<I;++A)U+=R[A]&255,P+=U;return P%65521<<16|U%65521}class O{constructor(I){let{lexer:U,xref:P,allowStreams:A=!1,recoveryMode:z=!1}=I;this.lexer=U,this.xref=P,this.allowStreams=A,this.recoveryMode=z,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof i.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(I){if(I instanceof c.MissingDataException)throw I;return!1}}getObj(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const U=this.buf1;if(this.shift(),U instanceof i.Cmd)switch(U.cmd){case"BI":return this.makeInlineImage(I);case"[":const P=[];for(;!(0,i.isCmd)(this.buf1,"]")&&this.buf1!==i.EOF;)P.push(this.getObj(I));if(this.buf1===i.EOF){if(this.recoveryMode)return P;throw new c.ParserEOFException("End of file inside array.")}return this.shift(),P;case"<<":const A=new i.Dict(this.xref);for(;!(0,i.isCmd)(this.buf1,">>")&&this.buf1!==i.EOF;){if(!(this.buf1 instanceof i.Name)){(0,t.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const z=this.buf1.name;if(this.shift(),this.buf1===i.EOF)break;A.set(z,this.getObj(I))}if(this.buf1===i.EOF){if(this.recoveryMode)return A;throw new c.ParserEOFException("End of file inside dictionary.")}return(0,i.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(A,I):A:(this.shift(),A);default:return U}if(Number.isInteger(U)){if(Number.isInteger(this.buf1)&&(0,i.isCmd)(this.buf2,"R")){const P=i.Ref.get(U,this.buf1);return this.shift(),this.shift(),P}return U}return typeof U=="string"&&I?I.decryptString(U):U}findDefaultInlineStreamEnd(I){const ie=this.lexer,Y=I.pos,F=10;let D=0,Q,ee;for(;(Q=I.getByte())!==-1;)if(D===0)D=Q===69?1:0;else if(D===1)D=Q===73?2:0;else if((0,t.assert)(D===2,"findDefaultInlineStreamEnd - invalid state."),Q===32||Q===10||Q===13){ee=I.pos;const Z=I.peekBytes(F);for(let ae=0,H=Z.length;ae<H;ae++)if(Q=Z[ae],!(Q===0&&Z[ae+1]!==0)&&Q!==10&&Q!==13&&(Q<32||Q>127)){D=0;break}if(D!==2)continue;if(ie.knownCommands){const ae=ie.peekObj();ae instanceof i.Cmd&&!ie.knownCommands[ae.cmd]&&(D=0)}else(0,t.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(D===2)break}else D=0;Q===-1&&((0,t.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),ee&&((0,t.warn)('... trying to recover by using the last "EI" occurrence.'),I.skip(-(I.pos-ee))));let V=4;return I.skip(-V),Q=I.peekByte(),I.skip(V),(0,c.isWhiteSpace)(Q)||V--,I.pos-V-Y}findDCTDecodeInlineStreamEnd(I){const U=I.pos;let P=!1,A,z;for(;(A=I.getByte())!==-1;)if(A===255){switch(I.getByte()){case 0:break;case 255:I.skip(-1);break;case 217:P=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:z=I.getUint16(),z>2?I.skip(z-2):I.skip(-2);break}if(P)break}const N=I.pos-U;return A===-1?((0,t.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),I.skip(-N),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),N)}findASCII85DecodeInlineStreamEnd(I){const A=I.pos;let z;for(;(z=I.getByte())!==-1;)if(z===126){const W=I.pos;for(z=I.peekByte();(0,c.isWhiteSpace)(z);)I.skip(),z=I.peekByte();if(z===62){I.skip();break}if(I.pos>W){const ie=I.peekBytes(2);if(ie[0]===69&&ie[1]===73)break}}const N=I.pos-A;return z===-1?((0,t.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),I.skip(-N),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),N)}findASCIIHexDecodeInlineStreamEnd(I){const P=I.pos;let A;for(;(A=I.getByte())!==-1&&A!==62;);const z=I.pos-P;return A===-1?((0,t.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),I.skip(-z),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),z)}inlineStreamSkipEI(I){let A=0,z;for(;(z=I.getByte())!==-1;)if(A===0)A=z===69?1:0;else if(A===1)A=z===73?2:0;else if(A===2)break}makeInlineImage(I){const U=this.lexer,P=U.stream,A=new i.Dict(this.xref);let z;for(;!(0,i.isCmd)(this.buf1,"ID")&&this.buf1!==i.EOF;){if(!(this.buf1 instanceof i.Name))throw new t.FormatError("Dictionary key must be a name object");const Q=this.buf1.name;if(this.shift(),this.buf1===i.EOF)break;A.set(Q,this.getObj(I))}U.beginInlineImagePos!==-1&&(z=P.pos-U.beginInlineImagePos);const N=A.get("F","Filter");let W;if(N instanceof i.Name)W=N.name;else if(Array.isArray(N)){const Q=this.xref.fetchIfRef(N[0]);Q instanceof i.Name&&(W=Q.name)}const ie=P.pos;let Y;switch(W){case"DCT":case"DCTDecode":Y=this.findDCTDecodeInlineStreamEnd(P);break;case"A85":case"ASCII85Decode":Y=this.findASCII85DecodeInlineStreamEnd(P);break;case"AHx":case"ASCIIHexDecode":Y=this.findASCIIHexDecodeInlineStreamEnd(P);break;default:Y=this.findDefaultInlineStreamEnd(P)}let F=P.makeSubStream(ie,Y,A),D;if(Y<E&&z<k){const Q=F.getBytes();F.reset();const ee=P.pos;P.pos=U.beginInlineImagePos;const V=P.getBytes(z);P.pos=ee,D=M(Q)+"_"+M(V);const Z=this.imageCache[D];if(Z!==void 0)return this.buf2=i.Cmd.get("EI"),this.shift(),Z.reset(),Z}return I&&(F=I.createStream(F,Y)),F=this.filter(F,A,Y),F.dict=A,D!==void 0&&(F.cacheKey=`inline_${Y}_${D}`,this.imageCache[D]=F),this.buf2=i.Cmd.get("EI"),this.shift(),F}_findStreamLength(I,U){const{stream:P}=this.lexer;P.pos=I;const A=2048,z=U.length;for(;P.pos<P.end;){const N=P.peekBytes(A),W=N.length-z;if(W<=0)break;let ie=0;for(;ie<W;){let Y=0;for(;Y<z&&N[ie+Y]===U[Y];)Y++;if(Y>=z)return P.pos+=ie,P.pos-I;ie++}P.pos+=W}return-1}makeStream(I,U){const P=this.lexer;let A=P.stream;P.skipToNextLine();const z=A.pos-1;let N=I.get("Length");if(Number.isInteger(N)||((0,t.info)(`Bad length "${N&&N.toString()}" in stream.`),N=0),A.pos=z+N,P.nextChar(),this.tryShift()&&(0,i.isCmd)(this.buf2,"endstream"))this.shift();else{const W=new Uint8Array([101,110,100,115,116,114,101,97,109]);let ie=this._findStreamLength(z,W);if(ie<0){for(let F=1;F<=1;F++){const D=W.length-F,Q=W.slice(0,D),ee=this._findStreamLength(z,Q);if(ee>=0){const V=A.peekBytes(D+1)[D];if(!(0,c.isWhiteSpace)(V))break;(0,t.info)(`Found "${(0,t.bytesToString)(Q)}" when searching for endstream command.`),ie=ee;break}}if(ie<0)throw new t.FormatError("Missing endstream command.")}N=ie,P.nextChar(),this.shift(),this.shift()}return this.shift(),A=A.makeSubStream(z,N,I),U&&(A=U.createStream(A,N)),A=this.filter(A,I,N),A.dict=I,A}filter(I,U,P){let A=U.get("F","Filter"),z=U.get("DP","DecodeParms");if(A instanceof i.Name)return Array.isArray(z)&&(0,t.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(I,A.name,P,z);let N=P;if(Array.isArray(A)){const W=A,ie=z;for(let Y=0,F=W.length;Y<F;++Y){if(A=this.xref.fetchIfRef(W[Y]),!(A instanceof i.Name))throw new t.FormatError(`Bad filter name "${A}"`);z=null,Array.isArray(ie)&&Y in ie&&(z=this.xref.fetchIfRef(ie[Y])),I=this.makeFilter(I,A.name,N,z),N=null}}return I}makeFilter(I,U,P,A){if(P===0)return(0,t.warn)(`Empty "${U}" stream.`),new o.NullStream;const z=this.xref.stats;try{switch(U){case"Fl":case"FlateDecode":return z.addStreamType(t.StreamType.FLATE),A?new S.PredictorStream(new m.FlateStream(I,P),P,A):new m.FlateStream(I,P);case"LZW":case"LZWDecode":z.addStreamType(t.StreamType.LZW);let N=1;return A?(A.has("EarlyChange")&&(N=A.get("EarlyChange")),new S.PredictorStream(new v.LZWStream(I,P,N),P,A)):new v.LZWStream(I,P,N);case"DCT":case"DCTDecode":return z.addStreamType(t.StreamType.DCT),new y.JpegStream(I,P,A);case"JPX":case"JPXDecode":return z.addStreamType(t.StreamType.JPX),new b.JpxStream(I,P,A);case"A85":case"ASCII85Decode":return z.addStreamType(t.StreamType.A85),new s.Ascii85Stream(I,P);case"AHx":case"ASCIIHexDecode":return z.addStreamType(t.StreamType.AHX),new e.AsciiHexStream(I,P);case"CCF":case"CCITTFaxDecode":return z.addStreamType(t.StreamType.CCF),new u.CCITTFaxStream(I,P,A);case"RL":case"RunLengthDecode":return z.addStreamType(t.StreamType.RLX),new T.RunLengthStream(I,P);case"JBIG2Decode":return z.addStreamType(t.StreamType.JBIG),new g.Jbig2Stream(I,P,A)}return(0,t.warn)(`Filter "${U}" is not supported.`),I}catch(N){if(N instanceof c.MissingDataException)throw N;return(0,t.warn)(`Invalid stream: "${N}"`),new o.NullStream}}}l.Parser=O;const L=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function te(R){return R>=48&&R<=57?R&15:R>=65&&R<=70||R>=97&&R<=102?(R&15)+9:-1}class B{constructor(I){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.stream=I,this.nextChar(),this.strBuf=[],this.knownCommands=U,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let I=this.currentChar,U=!1,P=0,A=0;if(I===45?(A=-1,I=this.nextChar(),I===45&&(I=this.nextChar())):I===43&&(A=1,I=this.nextChar()),I===10||I===13)do I=this.nextChar();while(I===10||I===13);if(I===46&&(P=10,I=this.nextChar()),I<48||I>57){if((0,c.isWhiteSpace)(I)||I===-1){if(P===10&&A===0)return(0,t.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(P===0&&A===-1)return(0,t.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new t.FormatError(`Invalid number: ${String.fromCharCode(I)} (charCode ${I})`)}A=A||1;let z=I-48,N=0,W=1;for(;(I=this.nextChar())>=0;)if(I>=48&&I<=57){const ie=I-48;U?N=N*10+ie:(P!==0&&(P*=10),z=z*10+ie)}else if(I===46)if(P===0)P=1;else break;else if(I===45)(0,t.warn)("Badly formatted number: minus sign in the middle");else if(I===69||I===101){if(I=this.peekChar(),I===43||I===45)W=I===45?-1:1,this.nextChar();else if(I<48||I>57)break;U=!0}else break;return P!==0&&(z/=P),U&&(z*=10**(W*N)),A*z}getString(){let I=1,U=!1;const P=this.strBuf;P.length=0;let A=this.nextChar();for(;;){let z=!1;switch(A|0){case-1:(0,t.warn)("Unterminated string"),U=!0;break;case 40:++I,P.push("(");break;case 41:--I===0?(this.nextChar(),U=!0):P.push(")");break;case 92:switch(A=this.nextChar(),A){case-1:(0,t.warn)("Unterminated string"),U=!0;break;case 110:P.push(`
`);break;case 114:P.push("\r");break;case 116:P.push("	");break;case 98:P.push("\b");break;case 102:P.push("\f");break;case 92:case 40:case 41:P.push(String.fromCharCode(A));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let N=A&15;A=this.nextChar(),z=!0,A>=48&&A<=55&&(N=(N<<3)+(A&15),A=this.nextChar(),A>=48&&A<=55&&(z=!1,N=(N<<3)+(A&15))),P.push(String.fromCharCode(N));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:P.push(String.fromCharCode(A));break}break;default:P.push(String.fromCharCode(A));break}if(U)break;z||(A=this.nextChar())}return P.join("")}getName(){let I,U;const P=this.strBuf;for(P.length=0;(I=this.nextChar())>=0&&!L[I];)if(I===35){if(I=this.nextChar(),L[I]){(0,t.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),P.push("#");break}const A=te(I);if(A!==-1){U=I,I=this.nextChar();const z=te(I);if(z===-1){if((0,t.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(I)}) in hexadecimal number.`),P.push("#",String.fromCharCode(U)),L[I])break;P.push(String.fromCharCode(I));continue}P.push(String.fromCharCode(A<<4|z))}else P.push("#",String.fromCharCode(I))}else P.push(String.fromCharCode(I));return P.length>127&&(0,t.warn)(`Name token is longer than allowed by the spec: ${P.length}`),i.Name.get(P.join(""))}_hexStringWarn(I){if(this._hexStringNumWarn++===5){(0,t.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,t.warn)(`getHexString - ignoring invalid character: ${I}`)}getHexString(){const I=this.strBuf;I.length=0;let U=this.currentChar,P=!0,A,z;for(this._hexStringNumWarn=0;;)if(U<0){(0,t.warn)("Unterminated hex string");break}else if(U===62){this.nextChar();break}else if(L[U]===1){U=this.nextChar();continue}else{if(P){if(A=te(U),A===-1){this._hexStringWarn(U),U=this.nextChar();continue}}else{if(z=te(U),z===-1){this._hexStringWarn(U),U=this.nextChar();continue}I.push(String.fromCharCode(A<<4|z))}P=!P,U=this.nextChar()}return I.join("")}getObj(){let I=!1,U=this.currentChar;for(;;){if(U<0)return i.EOF;if(I)(U===10||U===13)&&(I=!1);else if(U===37)I=!0;else if(L[U]!==1)break;U=this.nextChar()}switch(U|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),i.Cmd.get("[");case 93:return this.nextChar(),i.Cmd.get("]");case 60:return U=this.nextChar(),U===60?(this.nextChar(),i.Cmd.get("<<")):this.getHexString();case 62:return U=this.nextChar(),U===62?(this.nextChar(),i.Cmd.get(">>")):i.Cmd.get(">");case 123:return this.nextChar(),i.Cmd.get("{");case 125:return this.nextChar(),i.Cmd.get("}");case 41:throw this.nextChar(),new t.FormatError(`Illegal character: ${U}`)}let P=String.fromCharCode(U);if(U<32||U>127){const N=this.peekChar();if(N>=32&&N<=127)return this.nextChar(),i.Cmd.get(P)}const A=this.knownCommands;let z=A&&A[P]!==void 0;for(;(U=this.nextChar())>=0&&!L[U];){const N=P+String.fromCharCode(U);if(z&&A[N]===void 0)break;if(P.length===128)throw new t.FormatError(`Command token too long: ${P.length}`);P=N,z=A&&A[P]!==void 0}return P==="true"?!0:P==="false"?!1:P==="null"?null:(P==="BI"&&(this.beginInlineImagePos=this.stream.pos),i.Cmd.get(P))}peekObj(){const I=this.stream.pos,U=this.currentChar,P=this.beginInlineImagePos;let A;try{A=this.getObj()}catch(z){if(z instanceof c.MissingDataException)throw z;(0,t.warn)(`peekObj: ${z}`)}return this.stream.pos=I,this.currentChar=U,this.beginInlineImagePos=P,A}skipToNextLine(){let I=this.currentChar;for(;I>=0;){if(I===13){I=this.nextChar(),I===10&&this.nextChar();break}else if(I===10){this.nextChar();break}I=this.nextChar()}}}l.Lexer=B;class G{static create(I){function U(D,Q){let ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const V=D.get(Q);if(Number.isInteger(V)&&(ee?V>=0:V>0))return V;throw new Error(`The "${Q}" parameter in the linearization dictionary is invalid.`)}function P(D){const Q=D.get("H");let ee;if(Array.isArray(Q)&&((ee=Q.length)===2||ee===4)){for(let V=0;V<ee;V++){const Z=Q[V];if(!(Number.isInteger(Z)&&Z>0))throw new Error(`Hint (${V}) in the linearization dictionary is invalid.`)}return Q}throw new Error("Hint array in the linearization dictionary is invalid.")}const A=new O({lexer:new B(I),xref:null}),z=A.getObj(),N=A.getObj(),W=A.getObj(),ie=A.getObj();let Y,F;if(Number.isInteger(z)&&Number.isInteger(N)&&(0,i.isCmd)(W,"obj")&&ie instanceof i.Dict&&typeof(Y=ie.get("Linearized"))=="number"&&Y>0){if((F=U(ie,"L"))!==I.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:F,hints:P(ie),objectNumberFirst:U(ie,"O"),endFirst:U(ie,"E"),numPages:U(ie,"N"),mainXRefEntriesOffset:U(ie,"T"),pageFirst:ie.has("P")?U(ie,"P",!0):0}}}l.Linearization=G},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Ascii85Stream=void 0;var t=a(144),i=a(131);class c extends t.DecodeStream{constructor(e,u){u&&(u*=.8),super(u),this.str=e,this.dict=e.dict,this.input=new Uint8Array(5)}readBlock(){const g=this.str;let y=g.getByte();for(;(0,i.isWhiteSpace)(y);)y=g.getByte();if(y===-1||y===126){this.eof=!0;return}const b=this.bufferLength;let v,o;if(y===122){for(v=this.ensureBuffer(b+4),o=0;o<4;++o)v[b+o]=0;this.bufferLength+=4}else{const S=this.input;for(S[0]=y,o=1;o<5;++o){for(y=g.getByte();(0,i.isWhiteSpace)(y);)y=g.getByte();if(S[o]=y,y===-1||y===126)break}if(v=this.ensureBuffer(b+o-1),this.bufferLength+=o-1,o<5){for(;o<5;++o)S[o]=117;this.eof=!0}let T=0;for(o=0;o<5;++o)T=T*85+(S[o]-33);for(o=3;o>=0;--o)v[b+o]=T&255,T>>=8}}}l.Ascii85Stream=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StreamsSequenceStream=l.DecodeStream=void 0;var t=a(132),i=a(135);const c=new Uint8Array(0);class s extends t.BaseStream{constructor(m){if(super(),this._rawMinBufferLength=m||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=c,this.minBufferLength=512,m)for(;this.minBufferLength<m;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(m){const g=this.buffer;if(m<=g.byteLength)return g;let y=this.minBufferLength;for(;y<m;)y*=2;const b=new Uint8Array(y);return b.set(g),this.buffer=b}getByte(){const m=this.pos;for(;this.bufferLength<=m;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(m){const g=this.pos;let y;if(m){for(this.ensureBuffer(g+m),y=g+m;!this.eof&&this.bufferLength<y;)this.readBlock();const b=this.bufferLength;y>b&&(y=b)}else{for(;!this.eof;)this.readBlock();y=this.bufferLength}return this.pos=y,this.buffer.subarray(g,y)}reset(){this.pos=0}makeSubStream(m,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(g===void 0)for(;!this.eof;)this.readBlock();else{const b=m+g;for(;this.bufferLength<=b&&!this.eof;)this.readBlock()}return new i.Stream(this.buffer,m,g,y)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}l.DecodeStream=s;class e extends s{constructor(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=0;for(const b of m)y+=b instanceof s?b._rawMinBufferLength:b.length;super(y),this.streams=m,this._onError=g}readBlock(){const m=this.streams;if(m.length===0){this.eof=!0;return}const g=m.shift();let y;try{y=g.getBytes()}catch(S){if(this._onError){this._onError(S,g.dict&&g.dict.objId);return}throw S}const b=this.bufferLength,v=b+y.length;this.ensureBuffer(v).set(y,b),this.bufferLength=v}getBaseStreams(){const m=[];for(const g of this.streams){const y=g.getBaseStreams();y&&m.push(...y)}return m.length>0?m:null}}l.StreamsSequenceStream=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AsciiHexStream=void 0;var t=a(144);class i extends t.DecodeStream{constructor(s,e){e&&(e*=.5),super(e),this.str=s,this.dict=s.dict,this.firstDigit=-1}readBlock(){const e=this.str.getBytes(8e3);if(!e.length){this.eof=!0;return}const u=e.length+1>>1,m=this.ensureBuffer(this.bufferLength+u);let g=this.bufferLength,y=this.firstDigit;for(const b of e){let v;if(b>=48&&b<=57)v=b&15;else if(b>=65&&b<=70||b>=97&&b<=102)v=(b&15)+9;else if(b===62){this.eof=!0;break}else continue;y<0?y=v:(m[g++]=y<<4|v,y=-1)}y>=0&&this.eof&&(m[g++]=y<<4,y=-1),this.firstDigit=y,this.bufferLength=g}}l.AsciiHexStream=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CCITTFaxStream=void 0;var t=a(147),i=a(144),c=a(130);class s extends i.DecodeStream{constructor(u,m,g){super(m),this.str=u,this.dict=u.dict,g instanceof c.Dict||(g=c.Dict.empty);const y={next(){return u.getByte()}};this.ccittFaxDecoder=new t.CCITTFaxDecoder(y,{K:g.get("K"),EndOfLine:g.get("EndOfLine"),EncodedByteAlign:g.get("EncodedByteAlign"),Columns:g.get("Columns"),Rows:g.get("Rows"),EndOfBlock:g.get("EndOfBlock"),BlackIs1:g.get("BlackIs1")})}readBlock(){for(;!this.eof;){const u=this.ccittFaxDecoder.readNextChar();if(u===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=u}}}l.CCITTFaxStream=s},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CCITTFaxDecoder=void 0;var t=a(2);const i=-2,c=-1,s=0,e=1,u=2,m=3,g=4,y=5,b=6,v=7,o=8,S=[[-1,-1],[-1,-1],[7,o],[7,v],[6,b],[6,b],[6,y],[6,y],[4,s],[4,s],[4,s],[4,s],[4,s],[4,s],[4,s],[4,s],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,g],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[3,m],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u],[1,u]],T=[[-1,-1],[12,i],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],E=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],k=[[-1,-1],[-1,-1],[12,i],[12,i],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],M=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],O=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class L{constructor(B){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!B||typeof B.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=B,this.eof=!1,this.encoding=G.K||0,this.eoline=G.EndOfLine||!1,this.byteAlign=G.EncodedByteAlign||!1,this.columns=G.Columns||1728,this.rows=G.Rows||0;let R=G.EndOfBlock;R==null&&(R=!0),this.eoblock=R,this.black=G.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let I;for(;(I=this._lookBits(12))===0;)this._eatBits(1);I===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const B=this.refLine,G=this.codingLine,R=this.columns;let I,U,P,A;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let N,W,ie;if(this.nextLine2D){for(A=0;G[A]<R;++A)B[A]=G[A];for(B[A++]=R,B[A]=R,G[0]=0,this.codingPos=0,I=0,U=0;G[this.codingPos]<R;)switch(N=this._getTwoDimCode(),N){case s:this._addPixels(B[I+1],U),B[I+1]<R&&(I+=2);break;case e:if(N=W=0,U){do N+=ie=this._getBlackCode();while(ie>=64);do W+=ie=this._getWhiteCode();while(ie>=64)}else{do N+=ie=this._getWhiteCode();while(ie>=64);do W+=ie=this._getBlackCode();while(ie>=64)}for(this._addPixels(G[this.codingPos]+N,U),G[this.codingPos]<R&&this._addPixels(G[this.codingPos]+W,U^1);B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case v:if(this._addPixels(B[I]+3,U),U^=1,G[this.codingPos]<R)for(++I;B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case y:if(this._addPixels(B[I]+2,U),U^=1,G[this.codingPos]<R)for(++I;B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case m:if(this._addPixels(B[I]+1,U),U^=1,G[this.codingPos]<R)for(++I;B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case u:if(this._addPixels(B[I],U),U^=1,G[this.codingPos]<R)for(++I;B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case o:if(this._addPixelsNeg(B[I]-3,U),U^=1,G[this.codingPos]<R)for(I>0?--I:++I;B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case b:if(this._addPixelsNeg(B[I]-2,U),U^=1,G[this.codingPos]<R)for(I>0?--I:++I;B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case g:if(this._addPixelsNeg(B[I]-1,U),U^=1,G[this.codingPos]<R)for(I>0?--I:++I;B[I]<=G[this.codingPos]&&B[I]<R;)I+=2;break;case c:this._addPixels(R,0),this.eof=!0;break;default:(0,t.info)("bad 2d code"),this._addPixels(R,0),this.err=!0}}else for(G[0]=0,this.codingPos=0,U=0;G[this.codingPos]<R;){if(N=0,U)do N+=ie=this._getBlackCode();while(ie>=64);else do N+=ie=this._getWhiteCode();while(ie>=64);this._addPixels(G[this.codingPos]+N,U),U^=1}let Y=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(N=this._lookBits(12),this.eoline)for(;N!==c&&N!==1;)this._eatBits(1),N=this._lookBits(12);else for(;N===0;)this._eatBits(1),N=this._lookBits(12);N===1?(this._eatBits(12),Y=!0):N===c&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Y&&this.byteAlign){if(N=this._lookBits(12),N===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(A=0;A<4;++A)N=this._lookBits(12),N!==1&&(0,t.info)("bad rtc code: "+N),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(N=this._lookBits(13),N===c)return this.eof=!0,-1;if(N>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(N&1))}G[0]>0?this.outputBits=G[this.codingPos=0]:this.outputBits=G[this.codingPos=1],this.row++}let z;if(this.outputBits>=8)z=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&G[this.codingPos]<R&&(this.codingPos++,this.outputBits=G[this.codingPos]-G[this.codingPos-1]);else{P=8,z=0;do{if(typeof this.outputBits!="number")throw new t.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>P?(z<<=P,this.codingPos&1||(z|=255>>8-P),this.outputBits-=P,P=0):(z<<=this.outputBits,this.codingPos&1||(z|=255>>8-this.outputBits),P-=this.outputBits,this.outputBits=0,G[this.codingPos]<R?(this.codingPos++,this.outputBits=G[this.codingPos]-G[this.codingPos-1]):P>0&&(z<<=P,P=0))}while(P)}return this.black&&(z^=255),z}_addPixels(B,G){const R=this.codingLine;let I=this.codingPos;B>R[I]&&(B>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,B=this.columns),I&1^G&&++I,R[I]=B),this.codingPos=I}_addPixelsNeg(B,G){const R=this.codingLine;let I=this.codingPos;if(B>R[I])B>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,B=this.columns),I&1^G&&++I,R[I]=B;else if(B<R[I]){for(B<0&&((0,t.info)("invalid code"),this.err=!0,B=0);I>0&&B<R[I-1];)--I;R[I]=B}this.codingPos=I}_findTableCode(B,G,R,I){const U=I||0;for(let P=B;P<=G;++P){let A=this._lookBits(P);if(A===c)return[!0,1,!1];if(P<G&&(A<<=G-P),!U||A>=U){const z=R[A-U];if(z[0]===P)return this._eatBits(P),[!0,z[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let B=0,G;if(this.eoblock){if(B=this._lookBits(7),G=S[B],G&&G[0]>0)return this._eatBits(G[0]),G[1]}else{const R=this._findTableCode(1,7,S);if(R[0]&&R[2])return R[1]}return(0,t.info)("Bad two dim code"),c}_getWhiteCode(){let B=0,G;if(this.eoblock){if(B=this._lookBits(12),B===c)return 1;if(B>>5?G=E[B>>3]:G=T[B],G[0]>0)return this._eatBits(G[0]),G[1]}else{let R=this._findTableCode(1,9,E);if(R[0]||(R=this._findTableCode(11,12,T),R[0]))return R[1]}return(0,t.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let B,G;if(this.eoblock){if(B=this._lookBits(13),B===c)return 1;if(B>>7?!(B>>9)&&B>>7?G=M[(B>>1)-64]:G=O[B>>7]:G=k[B],G[0]>0)return this._eatBits(G[0]),G[1]}else{let R=this._findTableCode(2,6,O);if(R[0]||(R=this._findTableCode(7,12,M,64),R[0])||(R=this._findTableCode(10,13,k),R[0]))return R[1]}return(0,t.info)("bad black code"),this._eatBits(1),1}_lookBits(B){let G;for(;this.inputBits<B;){if((G=this.source.next())===-1)return this.inputBits===0?c:this.inputBuf<<B-this.inputBits&65535>>16-B;this.inputBuf=this.inputBuf<<8|G,this.inputBits+=8}return this.inputBuf>>this.inputBits-B&65535>>16-B}_eatBits(B){(this.inputBits-=B)<0&&(this.inputBits=0)}}l.CCITTFaxDecoder=L},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FlateStream=void 0;var t=a(144),i=a(2);const c=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),u=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],m=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class g extends t.DecodeStream{constructor(b,v){super(v),this.str=b,this.dict=b.dict;const o=b.getByte(),S=b.getByte();if(o===-1||S===-1)throw new i.FormatError(`Invalid header in flate stream: ${o}, ${S}`);if((o&15)!==8)throw new i.FormatError(`Unknown compression method in flate stream: ${o}, ${S}`);if(((o<<8)+S)%31!==0)throw new i.FormatError(`Bad FCHECK in flate stream: ${o}, ${S}`);if(S&32)throw new i.FormatError(`FDICT bit set in flate stream: ${o}, ${S}`);this.codeSize=0,this.codeBuf=0}getBits(b){const v=this.str;let o=this.codeSize,S=this.codeBuf,T;for(;o<b;){if((T=v.getByte())===-1)throw new i.FormatError("Bad encoding in flate stream");S|=T<<o,o+=8}return T=S&(1<<b)-1,this.codeBuf=S>>b,this.codeSize=o-=b,T}getCode(b){const v=this.str,o=b[0],S=b[1];let T=this.codeSize,E=this.codeBuf,k;for(;T<S&&(k=v.getByte())!==-1;)E|=k<<T,T+=8;const M=o[E&(1<<S)-1],O=M>>16,L=M&65535;if(O<1||T<O)throw new i.FormatError("Bad encoding in flate stream");return this.codeBuf=E>>O,this.codeSize=T-O,L}generateHuffmanTable(b){const v=b.length;let o=0,S;for(S=0;S<v;++S)b[S]>o&&(o=b[S]);const T=1<<o,E=new Int32Array(T);for(let k=1,M=0,O=2;k<=o;++k,M<<=1,O<<=1)for(let L=0;L<v;++L)if(b[L]===k){let te=0,B=M;for(S=0;S<k;++S)te=te<<1|B&1,B>>=1;for(S=te;S<T;S+=O)E[S]=k<<16|L;++M}return[E,o]}readBlock(){let b,v;const o=this.str;let S=this.getBits(3);if(S&1&&(this.eof=!0),S>>=1,S===0){let O;if((O=o.getByte())===-1)throw new i.FormatError("Bad block header in flate stream");let L=O;if((O=o.getByte())===-1)throw new i.FormatError("Bad block header in flate stream");if(L|=O<<8,(O=o.getByte())===-1)throw new i.FormatError("Bad block header in flate stream");let te=O;if((O=o.getByte())===-1)throw new i.FormatError("Bad block header in flate stream");if(te|=O<<8,te!==(~L&65535)&&(L!==0||te!==0))throw new i.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const B=this.bufferLength,G=B+L;if(b=this.ensureBuffer(G),this.bufferLength=G,L===0)o.peekByte()===-1&&(this.eof=!0);else{const R=o.getBytes(L);b.set(R,B),R.length<L&&(this.eof=!0)}return}let T,E;if(S===1)T=u,E=m;else if(S===2){const O=this.getBits(5)+257,L=this.getBits(5)+1,te=this.getBits(4)+4,B=new Uint8Array(c.length);let G;for(G=0;G<te;++G)B[c[G]]=this.getBits(3);const R=this.generateHuffmanTable(B);v=0,G=0;const I=O+L,U=new Uint8Array(I);let P,A,z;for(;G<I;){const N=this.getCode(R);if(N===16)P=2,A=3,z=v;else if(N===17)P=3,A=3,z=v=0;else if(N===18)P=7,A=11,z=v=0;else{U[G++]=v=N;continue}let W=this.getBits(P)+A;for(;W-- >0;)U[G++]=z}T=this.generateHuffmanTable(U.subarray(0,O)),E=this.generateHuffmanTable(U.subarray(O,I))}else throw new i.FormatError("Unknown block type in flate stream");b=this.buffer;let k=b?b.length:0,M=this.bufferLength;for(;;){let O=this.getCode(T);if(O<256){M+1>=k&&(b=this.ensureBuffer(M+1),k=b.length),b[M++]=O;continue}if(O===256){this.bufferLength=M;return}O-=257,O=s[O];let L=O>>16;L>0&&(L=this.getBits(L)),v=(O&65535)+L,O=this.getCode(E),O=e[O],L=O>>16,L>0&&(L=this.getBits(L));const te=(O&65535)+L;M+v>=k&&(b=this.ensureBuffer(M+v),k=b.length);for(let B=0;B<v;++B,++M)b[M]=b[M-te]}}}l.FlateStream=g},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Jbig2Stream=void 0;var t=a(132),i=a(144),c=a(130),s=a(150),e=a(2);class u extends i.DecodeStream{constructor(g,y,b){super(y),this.stream=g,this.dict=g.dict,this.maybeLength=y,this.params=b}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(g){}readBlock(){if(this.eof)return;const g=new s.Jbig2Image,y=[];if(this.params instanceof c.Dict){const o=this.params.get("JBIG2Globals");if(o instanceof t.BaseStream){const S=o.getBytes();y.push({data:S,start:0,end:S.length})}}y.push({data:this.bytes,start:0,end:this.bytes.length});const b=g.parseChunks(y),v=b.length;for(let o=0;o<v;o++)b[o]^=255;this.buffer=b,this.bufferLength=v,this.eof=!0}}l.Jbig2Stream=u},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Jbig2Image=void 0;var t=a(2),i=a(131),c=a(151),s=a(147);class e extends t.BaseException{constructor(se){super(`JBIG2 error: ${se}`,"Jbig2Error")}}class u{getContexts(se){return se in this?this[se]:this[se]=new Int8Array(65536)}}class m{constructor(se,J,re){this.data=se,this.start=J,this.end=re}get decoder(){const se=new c.ArithmeticDecoder(this.data,this.start,this.end);return(0,t.shadow)(this,"decoder",se)}get contextCache(){const se=new u;return(0,t.shadow)(this,"contextCache",se)}}function g(le,se,J){const re=le.getContexts(se);let oe=1;function ue(pe){let fe=0;for(let be=0;be<pe;be++){const ge=J.readBit(re,oe);oe=oe<256?oe<<1|ge:(oe<<1|ge)&511|256,fe=fe<<1|ge}return fe>>>0}const he=ue(1),de=ue(1)?ue(1)?ue(1)?ue(1)?ue(1)?ue(32)+4436:ue(12)+340:ue(8)+84:ue(6)+20:ue(4)+4:ue(2);return he===0?de:de>0?-de:null}function y(le,se,J){const re=le.getContexts("IAID");let oe=1;for(let ue=0;ue<J;ue++){const he=se.readBit(re,oe);oe=oe<<1|he}return J<31?oe&(1<<J)-1:oe&2147483647}const b=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],v=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],o=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],S=[39717,1941,229,405],T=[32,8];function E(le,se,J){const re=J.decoder,oe=J.contextCache.getContexts("GB"),ue=[];let he,de,pe,fe,be,ge,Se;const ve=31735;for(de=0;de<se;de++)for(be=ue[de]=new Uint8Array(le),ge=de<1?be:ue[de-1],Se=de<2?be:ue[de-2],he=Se[0]<<13|Se[1]<<12|Se[2]<<11|ge[0]<<7|ge[1]<<6|ge[2]<<5|ge[3]<<4,pe=0;pe<le;pe++)be[pe]=fe=re.readBit(oe,he),he=(he&ve)<<1|(pe+3<le?Se[pe+3]<<11:0)|(pe+4<le?ge[pe+4]<<4:0)|fe;return ue}function k(le,se,J,re,oe,ue,he,de){if(le){const gt=new ee(de.data,de.start,de.end);return q(gt,se,J,!1)}if(re===0&&!ue&&!oe&&he.length===4&&he[0].x===3&&he[0].y===-1&&he[1].x===-3&&he[1].y===-1&&he[2].x===2&&he[2].y===-2&&he[3].x===-2&&he[3].y===-2)return E(se,J,de);const pe=!!ue,fe=v[re].concat(he);fe.sort(function(gt,Ge){return gt.y-Ge.y||gt.x-Ge.x});const be=fe.length,ge=new Int8Array(be),Se=new Int8Array(be),ve=[];let we=0,Fe=0,Ce=0,ye=0,ke,De;for(De=0;De<be;De++)ge[De]=fe[De].x,Se[De]=fe[De].y,Fe=Math.min(Fe,fe[De].x),Ce=Math.max(Ce,fe[De].x),ye=Math.min(ye,fe[De].y),De<be-1&&fe[De].y===fe[De+1].y&&fe[De].x===fe[De+1].x-1?we|=1<<be-1-De:ve.push(De);const Ie=ve.length,Me=new Int8Array(Ie),Ne=new Int8Array(Ie),Re=new Uint16Array(Ie);for(ke=0;ke<Ie;ke++)De=ve[ke],Me[ke]=fe[De].x,Ne[ke]=fe[De].y,Re[ke]=1<<be-1-De;const Oe=-Fe,Le=-ye,Pe=se-Ce,$e=S[re];let je=new Uint8Array(se);const Te=[],Ae=de.decoder,Ee=de.contextCache.getContexts("GB");let Be=0,ze,We,tt,Ze=0,Xe,st;for(let gt=0;gt<J;gt++){if(oe){const Ge=Ae.readBit(Ee,$e);if(Be^=Ge,Be){Te.push(je);continue}}for(je=new Uint8Array(je),Te.push(je),ze=0;ze<se;ze++){if(pe&&ue[gt][ze]){je[ze]=0;continue}if(ze>=Oe&&ze<Pe&&gt>=Le)for(Ze=Ze<<1&we,De=0;De<Ie;De++)We=gt+Ne[De],tt=ze+Me[De],Xe=Te[We][tt],Xe&&(Xe=Re[De],Ze|=Xe);else for(Ze=0,st=be-1,De=0;De<be;De++,st--)tt=ze+ge[De],tt>=0&&tt<se&&(We=gt+Se[De],We>=0&&(Xe=Te[We][tt],Xe&&(Ze|=Xe<<st)));const Ge=Ae.readBit(Ee,Ze);je[ze]=Ge}}return Te}function M(le,se,J,re,oe,ue,he,de,pe){let fe=o[J].coding;J===0&&(fe=fe.concat([de[0]]));const be=fe.length,ge=new Int32Array(be),Se=new Int32Array(be);let ve;for(ve=0;ve<be;ve++)ge[ve]=fe[ve].x,Se[ve]=fe[ve].y;let we=o[J].reference;J===0&&(we=we.concat([de[1]]));const Fe=we.length,Ce=new Int32Array(Fe),ye=new Int32Array(Fe);for(ve=0;ve<Fe;ve++)Ce[ve]=we[ve].x,ye[ve]=we[ve].y;const ke=re[0].length,De=re.length,Ie=T[J],Me=[],Ne=pe.decoder,Re=pe.contextCache.getContexts("GR");let Oe=0;for(let Le=0;Le<se;Le++){if(he){const $e=Ne.readBit(Re,Ie);if(Oe^=$e,Oe)throw new e("prediction is not supported")}const Pe=new Uint8Array(le);Me.push(Pe);for(let $e=0;$e<le;$e++){let je,Te,Ae=0;for(ve=0;ve<be;ve++)je=Le+Se[ve],Te=$e+ge[ve],je<0||Te<0||Te>=le?Ae<<=1:Ae=Ae<<1|Me[je][Te];for(ve=0;ve<Fe;ve++)je=Le+ye[ve]-ue,Te=$e+Ce[ve]-oe,je<0||je>=De||Te<0||Te>=ke?Ae<<=1:Ae=Ae<<1|re[je][Te];const Ee=Ne.readBit(Re,Ae);Pe[$e]=Ee}}return Me}function O(le,se,J,re,oe,ue,he,de,pe,fe,be,ge){if(le&&se)throw new e("symbol refinement with Huffman is not supported");const Se=[];let ve=0,we=(0,i.log2)(J.length+re);const Fe=be.decoder,Ce=be.contextCache;let ye,ke;for(le&&(ye=Q(1),ke=[],we=Math.max(we,1));Se.length<re;){const Le=le?ue.tableDeltaHeight.decode(ge):g(Ce,"IADH",Fe);ve+=Le;let Pe=0,$e=0;const je=le?ke.length:0;for(;;){const Te=le?ue.tableDeltaWidth.decode(ge):g(Ce,"IADW",Fe);if(Te===null)break;Pe+=Te,$e+=Pe;let Ae;if(se){const Ee=g(Ce,"IAAI",Fe);if(Ee>1)Ae=L(le,se,Pe,ve,0,Ee,1,J.concat(Se),we,0,0,1,0,ue,pe,fe,be,0,ge);else{const Be=y(Ce,Fe,we),ze=g(Ce,"IARDX",Fe),We=g(Ce,"IARDY",Fe),tt=Be<J.length?J[Be]:Se[Be-J.length];Ae=M(Pe,ve,pe,tt,ze,We,!1,fe,be)}Se.push(Ae)}else le?ke.push(Pe):(Ae=k(!1,Pe,ve,he,!1,null,de,be),Se.push(Ae))}if(le&&!se){const Te=ue.tableBitmapSize.decode(ge);ge.byteAlign();let Ae;if(Te===0)Ae=H(ge,$e,ve);else{const Be=ge.end,ze=ge.position+Te;ge.end=ze,Ae=q(ge,$e,ve,!1),ge.end=Be,ge.position=ze}const Ee=ke.length;if(je===Ee-1)Se.push(Ae);else{let Be,ze,We=0,tt,Ze,Xe;for(Be=je;Be<Ee;Be++){for(Ze=ke[Be],tt=We+Ze,Xe=[],ze=0;ze<ve;ze++)Xe.push(Ae[ze].subarray(We,tt));Se.push(Xe),We=tt}}}}const De=[],Ie=[];let Me=!1,Ne,Re;const Oe=J.length+re;for(;Ie.length<Oe;){let Le=le?ye.decode(ge):g(Ce,"IAEX",Fe);for(;Le--;)Ie.push(Me);Me=!Me}for(Ne=0,Re=J.length;Ne<Re;Ne++)Ie[Ne]&&De.push(J[Ne]);for(let Le=0;Le<re;Ne++,Le++)Ie[Ne]&&De.push(Se[Le]);return De}function L(le,se,J,re,oe,ue,he,de,pe,fe,be,ge,Se,ve,we,Fe,Ce,ye,ke){if(le&&se)throw new e("refinement with Huffman is not supported");const De=[];let Ie,Me;for(Ie=0;Ie<re;Ie++){if(Me=new Uint8Array(J),oe)for(let Pe=0;Pe<J;Pe++)Me[Pe]=oe;De.push(Me)}const Ne=Ce.decoder,Re=Ce.contextCache;let Oe=le?-ve.tableDeltaT.decode(ke):-g(Re,"IADT",Ne),Le=0;for(Ie=0;Ie<ue;){const Pe=le?ve.tableDeltaT.decode(ke):g(Re,"IADT",Ne);Oe+=Pe;const $e=le?ve.tableFirstS.decode(ke):g(Re,"IAFS",Ne);Le+=$e;let je=Le;do{let Te=0;he>1&&(Te=le?ke.readBits(ye):g(Re,"IAIT",Ne));const Ae=he*Oe+Te,Ee=le?ve.symbolIDTable.decode(ke):y(Re,Ne,pe),Be=se&&(le?ke.readBit():g(Re,"IARI",Ne));let ze=de[Ee],We=ze[0].length,tt=ze.length;if(Be){const ct=g(Re,"IARDW",Ne),pt=g(Re,"IARDH",Ne),Ct=g(Re,"IARDX",Ne),kt=g(Re,"IARDY",Ne);We+=ct,tt+=pt,ze=M(We,tt,we,ze,(ct>>1)+Ct,(pt>>1)+kt,!1,Fe,Ce)}const Ze=Ae-(ge&1?0:tt-1),Xe=je-(ge&2?We-1:0);let st,gt,Ge;if(fe){for(st=0;st<tt;st++){if(Me=De[Xe+st],!Me)continue;Ge=ze[st];const ct=Math.min(J-Ze,We);switch(Se){case 0:for(gt=0;gt<ct;gt++)Me[Ze+gt]|=Ge[gt];break;case 2:for(gt=0;gt<ct;gt++)Me[Ze+gt]^=Ge[gt];break;default:throw new e(`operator ${Se} is not supported`)}}je+=tt-1}else{for(gt=0;gt<tt;gt++)if(Me=De[Ze+gt],!!Me)switch(Ge=ze[gt],Se){case 0:for(st=0;st<We;st++)Me[Xe+st]|=Ge[st];break;case 2:for(st=0;st<We;st++)Me[Xe+st]^=Ge[st];break;default:throw new e(`operator ${Se} is not supported`)}je+=We-1}Ie++;const ht=le?ve.tableDeltaS.decode(ke):g(Re,"IADS",Ne);if(ht===null)break;je+=ht+be}while(!0)}return De}function te(le,se,J,re,oe,ue){const he=[];le||(he.push({x:-se,y:0}),oe===0&&he.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const de=(re+1)*se,pe=k(le,de,J,oe,!1,null,he,ue),fe=[];for(let be=0;be<=re;be++){const ge=[],Se=se*be,ve=Se+se;for(let we=0;we<J;we++)ge.push(pe[we].subarray(Se,ve));fe.push(ge)}return fe}function B(le,se,J,re,oe,ue,he,de,pe,fe,be,ge,Se,ve,we){if(he)throw new e("skip is not supported");if(de!==0)throw new e(`operator "${de}" is not supported in halftone region`);const Ce=[];let ye,ke,De;for(ye=0;ye<oe;ye++){if(De=new Uint8Array(re),ue)for(ke=0;ke<re;ke++)De[ke]=ue;Ce.push(De)}const Ie=se.length,Me=se[0],Ne=Me[0].length,Re=Me.length,Oe=(0,i.log2)(Ie),Le=[];le||(Le.push({x:J<=1?3:2,y:-1}),J===0&&Le.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Pe=[];let $e,je;for(le&&($e=new ee(we.data,we.start,we.end)),ye=Oe-1;ye>=0;ye--)le?je=q($e,pe,fe,!0):je=k(!1,pe,fe,J,!1,null,Le,we),Pe[ye]=je;let Te,Ae,Ee,Be,ze,We,tt,Ze,Xe;for(Te=0;Te<fe;Te++)for(Ae=0;Ae<pe;Ae++){for(Ee=0,Be=0,ke=Oe-1;ke>=0;ke--)Ee^=Pe[ke][Te][Ae],Be|=Ee<<ke;if(ze=se[Be],We=be+Te*ve+Ae*Se>>8,tt=ge+Te*Se-Ae*ve>>8,We>=0&&We+Ne<=re&&tt>=0&&tt+Re<=oe)for(ye=0;ye<Re;ye++)for(Xe=Ce[tt+ye],Ze=ze[ye],ke=0;ke<Ne;ke++)Xe[We+ke]|=Ze[ke];else{let st,gt;for(ye=0;ye<Re;ye++)if(gt=tt+ye,!(gt<0||gt>=oe))for(Xe=Ce[gt],Ze=ze[ye],ke=0;ke<Ne;ke++)st=We+ke,st>=0&&st<re&&(Xe[st]|=Ze[ke])}}return Ce}function G(le,se){const J={};J.number=(0,i.readUint32)(le,se);const re=le[se+4],oe=re&63;if(!b[oe])throw new e("invalid segment type: "+oe);J.type=oe,J.typeName=b[oe],J.deferredNonRetain=!!(re&128);const ue=!!(re&64),he=le[se+5];let de=he>>5&7;const pe=[he&31];let fe=se+6;if(he===7){de=(0,i.readUint32)(le,fe-1)&536870911,fe+=3;let we=de+7>>3;for(pe[0]=le[fe++];--we>0;)pe.push(le[fe++])}else if(he===5||he===6)throw new e("invalid referred-to flags");J.retainBits=pe;let be=4;J.number<=256?be=1:J.number<=65536&&(be=2);const ge=[];let Se,ve;for(Se=0;Se<de;Se++){let we;be===1?we=le[fe]:be===2?we=(0,i.readUint16)(le,fe):we=(0,i.readUint32)(le,fe),ge.push(we),fe+=be}if(J.referredTo=ge,ue?(J.pageAssociation=(0,i.readUint32)(le,fe),fe+=4):J.pageAssociation=le[fe++],J.length=(0,i.readUint32)(le,fe),fe+=4,J.length===4294967295)if(oe===38){const we=I(le,fe),Ce=!!(le[fe+U]&1),ye=6,ke=new Uint8Array(ye);for(Ce||(ke[0]=255,ke[1]=172),ke[2]=we.height>>>24&255,ke[3]=we.height>>16&255,ke[4]=we.height>>8&255,ke[5]=we.height&255,Se=fe,ve=le.length;Se<ve;Se++){let De=0;for(;De<ye&&ke[De]===le[Se+De];)De++;if(De===ye){J.length=Se+ye;break}}if(J.length===4294967295)throw new e("segment end was not found")}else throw new e("invalid unknown segment length");return J.headerEnd=fe,J}function R(le,se,J,re){const oe=[];let ue=J;for(;ue<re;){const he=G(se,ue);ue=he.headerEnd;const de={header:he,data:se};if(le.randomAccess||(de.start=ue,ue+=he.length,de.end=ue),oe.push(de),he.type===51)break}if(le.randomAccess)for(let he=0,de=oe.length;he<de;he++)oe[he].start=ue,ue+=oe[he].header.length,oe[he].end=ue;return oe}function I(le,se){return{width:(0,i.readUint32)(le,se),height:(0,i.readUint32)(le,se+4),x:(0,i.readUint32)(le,se+8),y:(0,i.readUint32)(le,se+12),combinationOperator:le[se+16]&7}}const U=17;function P(le,se){const J=le.header,re=le.data,oe=le.end;let ue=le.start,he,de,pe,fe;switch(J.type){case 0:const ge={},Se=(0,i.readUint16)(re,ue);if(ge.huffman=!!(Se&1),ge.refinement=!!(Se&2),ge.huffmanDHSelector=Se>>2&3,ge.huffmanDWSelector=Se>>4&3,ge.bitmapSizeSelector=Se>>6&1,ge.aggregationInstancesSelector=Se>>7&1,ge.bitmapCodingContextUsed=!!(Se&256),ge.bitmapCodingContextRetained=!!(Se&512),ge.template=Se>>10&3,ge.refinementTemplate=Se>>12&1,ue+=2,!ge.huffman){for(fe=ge.template===0?4:1,de=[],pe=0;pe<fe;pe++)de.push({x:(0,i.readInt8)(re,ue),y:(0,i.readInt8)(re,ue+1)}),ue+=2;ge.at=de}if(ge.refinement&&!ge.refinementTemplate){for(de=[],pe=0;pe<2;pe++)de.push({x:(0,i.readInt8)(re,ue),y:(0,i.readInt8)(re,ue+1)}),ue+=2;ge.refinementAt=de}ge.numberOfExportedSymbols=(0,i.readUint32)(re,ue),ue+=4,ge.numberOfNewSymbols=(0,i.readUint32)(re,ue),ue+=4,he=[ge,J.number,J.referredTo,re,ue,oe];break;case 6:case 7:const ve={};ve.info=I(re,ue),ue+=U;const we=(0,i.readUint16)(re,ue);if(ue+=2,ve.huffman=!!(we&1),ve.refinement=!!(we&2),ve.logStripSize=we>>2&3,ve.stripSize=1<<ve.logStripSize,ve.referenceCorner=we>>4&3,ve.transposed=!!(we&64),ve.combinationOperator=we>>7&3,ve.defaultPixelValue=we>>9&1,ve.dsOffset=we<<17>>27,ve.refinementTemplate=we>>15&1,ve.huffman){const Re=(0,i.readUint16)(re,ue);ue+=2,ve.huffmanFS=Re&3,ve.huffmanDS=Re>>2&3,ve.huffmanDT=Re>>4&3,ve.huffmanRefinementDW=Re>>6&3,ve.huffmanRefinementDH=Re>>8&3,ve.huffmanRefinementDX=Re>>10&3,ve.huffmanRefinementDY=Re>>12&3,ve.huffmanRefinementSizeSelector=!!(Re&16384)}if(ve.refinement&&!ve.refinementTemplate){for(de=[],pe=0;pe<2;pe++)de.push({x:(0,i.readInt8)(re,ue),y:(0,i.readInt8)(re,ue+1)}),ue+=2;ve.refinementAt=de}ve.numberOfSymbolInstances=(0,i.readUint32)(re,ue),ue+=4,he=[ve,J.referredTo,re,ue,oe];break;case 16:const Fe={},Ce=re[ue++];Fe.mmr=!!(Ce&1),Fe.template=Ce>>1&3,Fe.patternWidth=re[ue++],Fe.patternHeight=re[ue++],Fe.maxPatternIndex=(0,i.readUint32)(re,ue),ue+=4,he=[Fe,J.number,re,ue,oe];break;case 22:case 23:const ye={};ye.info=I(re,ue),ue+=U;const ke=re[ue++];ye.mmr=!!(ke&1),ye.template=ke>>1&3,ye.enableSkip=!!(ke&8),ye.combinationOperator=ke>>4&7,ye.defaultPixelValue=ke>>7&1,ye.gridWidth=(0,i.readUint32)(re,ue),ue+=4,ye.gridHeight=(0,i.readUint32)(re,ue),ue+=4,ye.gridOffsetX=(0,i.readUint32)(re,ue)&4294967295,ue+=4,ye.gridOffsetY=(0,i.readUint32)(re,ue)&4294967295,ue+=4,ye.gridVectorX=(0,i.readUint16)(re,ue),ue+=2,ye.gridVectorY=(0,i.readUint16)(re,ue),ue+=2,he=[ye,J.referredTo,re,ue,oe];break;case 38:case 39:const De={};De.info=I(re,ue),ue+=U;const Ie=re[ue++];if(De.mmr=!!(Ie&1),De.template=Ie>>1&3,De.prediction=!!(Ie&8),!De.mmr){for(fe=De.template===0?4:1,de=[],pe=0;pe<fe;pe++)de.push({x:(0,i.readInt8)(re,ue),y:(0,i.readInt8)(re,ue+1)}),ue+=2;De.at=de}he=[De,re,ue,oe];break;case 48:const Me={width:(0,i.readUint32)(re,ue),height:(0,i.readUint32)(re,ue+4),resolutionX:(0,i.readUint32)(re,ue+8),resolutionY:(0,i.readUint32)(re,ue+12)};Me.height===4294967295&&delete Me.height;const Ne=re[ue+16];(0,i.readUint16)(re,ue+17),Me.lossless=!!(Ne&1),Me.refinement=!!(Ne&2),Me.defaultPixelValue=Ne>>2&1,Me.combinationOperator=Ne>>3&3,Me.requiresBuffer=!!(Ne&32),Me.combinationOperatorOverride=!!(Ne&64),he=[Me];break;case 49:break;case 50:break;case 51:break;case 53:he=[J.number,re,ue,oe];break;case 62:break;default:throw new e(`segment type ${J.typeName}(${J.type}) is not implemented`)}const be="on"+J.typeName;be in se&&se[be].apply(se,he)}function A(le,se){for(let J=0,re=le.length;J<re;J++)P(le[J],se)}function z(le){const se=new N;for(let J=0,re=le.length;J<re;J++){const oe=le[J],ue=R({},oe.data,oe.start,oe.end);A(ue,se)}return se.buffer}class N{onPageInformation(se){this.currentPageInfo=se;const J=se.width+7>>3,re=new Uint8ClampedArray(J*se.height);se.defaultPixelValue&&re.fill(255),this.buffer=re}drawBitmap(se,J){const re=this.currentPageInfo,oe=se.width,ue=se.height,he=re.width+7>>3,de=re.combinationOperatorOverride?se.combinationOperator:re.combinationOperator,pe=this.buffer,fe=128>>(se.x&7);let be=se.y*he+(se.x>>3),ge,Se,ve,we;switch(de){case 0:for(ge=0;ge<ue;ge++){for(ve=fe,we=be,Se=0;Se<oe;Se++)J[ge][Se]&&(pe[we]|=ve),ve>>=1,ve||(ve=128,we++);be+=he}break;case 2:for(ge=0;ge<ue;ge++){for(ve=fe,we=be,Se=0;Se<oe;Se++)J[ge][Se]&&(pe[we]^=ve),ve>>=1,ve||(ve=128,we++);be+=he}break;default:throw new e(`operator ${de} is not supported`)}}onImmediateGenericRegion(se,J,re,oe){const ue=se.info,he=new m(J,re,oe),de=k(se.mmr,ue.width,ue.height,se.template,se.prediction,null,se.at,he);this.drawBitmap(ue,de)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(se,J,re,oe,ue,he){let de,pe;se.huffman&&(de=ae(se,re,this.customTables),pe=new ee(oe,ue,he));let fe=this.symbols;fe||(this.symbols=fe={});const be=[];for(const Se of re){const ve=fe[Se];ve&&be.push(...ve)}const ge=new m(oe,ue,he);fe[J]=O(se.huffman,se.refinement,be,se.numberOfNewSymbols,se.numberOfExportedSymbols,de,se.template,se.at,se.refinementTemplate,se.refinementAt,ge,pe)}onImmediateTextRegion(se,J,re,oe,ue){const he=se.info;let de,pe;const fe=this.symbols,be=[];for(const we of J){const Fe=fe[we];Fe&&be.push(...Fe)}const ge=(0,i.log2)(be.length);se.huffman&&(pe=new ee(re,oe,ue),de=Z(se,J,this.customTables,be.length,pe));const Se=new m(re,oe,ue),ve=L(se.huffman,se.refinement,he.width,he.height,se.defaultPixelValue,se.numberOfSymbolInstances,se.stripSize,be,ge,se.transposed,se.dsOffset,se.referenceCorner,se.combinationOperator,de,se.refinementTemplate,se.refinementAt,Se,se.logStripSize,pe);this.drawBitmap(he,ve)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(se,J,re,oe,ue){let he=this.patterns;he||(this.patterns=he={});const de=new m(re,oe,ue);he[J]=te(se.mmr,se.patternWidth,se.patternHeight,se.maxPatternIndex,se.template,de)}onImmediateHalftoneRegion(se,J,re,oe,ue){const he=this.patterns[J[0]],de=se.info,pe=new m(re,oe,ue),fe=B(se.mmr,he,se.template,de.width,de.height,se.defaultPixelValue,se.enableSkip,se.combinationOperator,se.gridWidth,se.gridHeight,se.gridOffsetX,se.gridOffsetY,se.gridVectorX,se.gridVectorY,pe);this.drawBitmap(de,fe)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(se,J,re,oe){let ue=this.customTables;ue||(this.customTables=ue={}),ue[se]=F(J,re,oe)}}class W{constructor(se){se.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=se[0],this.rangeLength=0,this.prefixCode=se[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=se[0],this.prefixLength=se[1],this.rangeLength=se[2],this.prefixCode=se[3],this.isLowerRange=se[4]==="lower")}}class ie{constructor(se){this.children=[],se?(this.isLeaf=!0,this.rangeLength=se.rangeLength,this.rangeLow=se.rangeLow,this.isLowerRange=se.isLowerRange,this.isOOB=se.isOOB):this.isLeaf=!1}buildTree(se,J){const re=se.prefixCode>>J&1;if(J<=0)this.children[re]=new ie(se);else{let oe=this.children[re];oe||(this.children[re]=oe=new ie(null)),oe.buildTree(se,J-1)}}decodeNode(se){if(this.isLeaf){if(this.isOOB)return null;const re=se.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-re:re)}const J=this.children[se.readBit()];if(!J)throw new e("invalid Huffman data");return J.decodeNode(se)}}class Y{constructor(se,J){J||this.assignPrefixCodes(se),this.rootNode=new ie(null);for(let re=0,oe=se.length;re<oe;re++){const ue=se[re];ue.prefixLength>0&&this.rootNode.buildTree(ue,ue.prefixLength-1)}}decode(se){return this.rootNode.decodeNode(se)}assignPrefixCodes(se){const J=se.length;let re=0;for(let be=0;be<J;be++)re=Math.max(re,se[be].prefixLength);const oe=new Uint32Array(re+1);for(let be=0;be<J;be++)oe[se[be].prefixLength]++;let ue=1,he=0,de,pe,fe;for(oe[0]=0;ue<=re;){for(he=he+oe[ue-1]<<1,de=he,pe=0;pe<J;)fe=se[pe],fe.prefixLength===ue&&(fe.prefixCode=de,de++),pe++;ue++}}}function F(le,se,J){const re=le[se],oe=(0,i.readUint32)(le,se+1)&4294967295,ue=(0,i.readUint32)(le,se+5)&4294967295,he=new ee(le,se+9,J),de=(re>>1&7)+1,pe=(re>>4&7)+1,fe=[];let be,ge,Se=oe;do be=he.readBits(de),ge=he.readBits(pe),fe.push(new W([Se,be,ge,0])),Se+=1<<ge;while(Se<ue);return be=he.readBits(de),fe.push(new W([oe-1,be,32,0,"lower"])),be=he.readBits(de),fe.push(new W([ue,be,32,0])),re&1&&(be=he.readBits(de),fe.push(new W([be,0]))),new Y(fe,!1)}const D={};function Q(le){let se=D[le];if(se)return se;let J;switch(le){case 1:J=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:J=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:J=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:J=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:J=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:J=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:J=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:J=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:J=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:J=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:J=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:J=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:J=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:J=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:J=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new e(`standard table B.${le} does not exist`)}for(let re=0,oe=J.length;re<oe;re++)J[re]=new W(J[re]);return se=new Y(J,!0),D[le]=se,se}class ee{constructor(se,J,re){this.data=se,this.start=J,this.end=re,this.position=J,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new e("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const se=this.currentByte>>this.shift&1;return this.shift--,se}readBits(se){let J=0,re;for(re=se-1;re>=0;re--)J|=this.readBit()<<re;return J}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function V(le,se,J){let re=0;for(let oe=0,ue=se.length;oe<ue;oe++){const he=J[se[oe]];if(he){if(le===re)return he;re++}}throw new e("can't find custom Huffman table")}function Z(le,se,J,re,oe){const ue=[];for(let Se=0;Se<=34;Se++){const ve=oe.readBits(4);ue.push(new W([Se,ve,0,0]))}const he=new Y(ue,!1);ue.length=0;for(let Se=0;Se<re;){const ve=he.decode(oe);if(ve>=32){let we,Fe,Ce;switch(ve){case 32:if(Se===0)throw new e("no previous value in symbol ID table");Fe=oe.readBits(2)+3,we=ue[Se-1].prefixLength;break;case 33:Fe=oe.readBits(3)+3,we=0;break;case 34:Fe=oe.readBits(7)+11,we=0;break;default:throw new e("invalid code length in symbol ID table")}for(Ce=0;Ce<Fe;Ce++)ue.push(new W([Se,we,0,0])),Se++}else ue.push(new W([Se,ve,0,0])),Se++}oe.byteAlign();const de=new Y(ue,!1);let pe=0,fe,be,ge;switch(le.huffmanFS){case 0:case 1:fe=Q(le.huffmanFS+6);break;case 3:fe=V(pe,se,J),pe++;break;default:throw new e("invalid Huffman FS selector")}switch(le.huffmanDS){case 0:case 1:case 2:be=Q(le.huffmanDS+8);break;case 3:be=V(pe,se,J),pe++;break;default:throw new e("invalid Huffman DS selector")}switch(le.huffmanDT){case 0:case 1:case 2:ge=Q(le.huffmanDT+11);break;case 3:ge=V(pe,se,J),pe++;break;default:throw new e("invalid Huffman DT selector")}if(le.refinement)throw new e("refinement with Huffman is not supported");return{symbolIDTable:de,tableFirstS:fe,tableDeltaS:be,tableDeltaT:ge}}function ae(le,se,J){let re=0,oe,ue;switch(le.huffmanDHSelector){case 0:case 1:oe=Q(le.huffmanDHSelector+4);break;case 3:oe=V(re,se,J),re++;break;default:throw new e("invalid Huffman DH selector")}switch(le.huffmanDWSelector){case 0:case 1:ue=Q(le.huffmanDWSelector+2);break;case 3:ue=V(re,se,J),re++;break;default:throw new e("invalid Huffman DW selector")}let he,de;return le.bitmapSizeSelector?(he=V(re,se,J),re++):he=Q(1),le.aggregationInstancesSelector?de=V(re,se,J):de=Q(1),{tableDeltaHeight:oe,tableDeltaWidth:ue,tableBitmapSize:he,tableAggregateInstances:de}}function H(le,se,J){const re=[];for(let oe=0;oe<J;oe++){const ue=new Uint8Array(se);re.push(ue);for(let he=0;he<se;he++)ue[he]=le.readBit();le.byteAlign()}return re}function q(le,se,J,re){const oe={K:-1,Columns:se,Rows:J,BlackIs1:!0,EndOfBlock:re},ue=new s.CCITTFaxDecoder(le,oe),he=[];let de,pe=!1;for(let fe=0;fe<J;fe++){const be=new Uint8Array(se);he.push(be);let ge=-1;for(let Se=0;Se<se;Se++)ge<0&&(de=ue.readNextChar(),de===-1&&(de=0,pe=!0),ge=7),be[Se]=de>>ge&1,ge--}if(re&&!pe)for(let be=0;be<5&&ue.readNextChar()!==-1;be++);return he}class ne{parseChunks(se){return z(se)}parse(se){throw new Error("Not implemented: Jbig2Image.parse")}}l.Jbig2Image=ne},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ArithmeticDecoder=void 0;const a=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class t{constructor(c,s,e){this.data=c,this.bp=s,this.dataEnd=e,this.chigh=c[s],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const c=this.data;let s=this.bp;c[s]===255?c[s+1]>143?(this.clow+=65280,this.ct=8):(s++,this.clow+=c[s]<<9,this.ct=7,this.bp=s):(s++,this.clow+=s<this.dataEnd?c[s]<<8:65280,this.ct=8,this.bp=s),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(c,s){let e=c[s]>>1,u=c[s]&1;const m=a[e],g=m.qe;let y,b=this.a-g;if(this.chigh<g)b<g?(b=g,y=u,e=m.nmps):(b=g,y=1^u,m.switchFlag===1&&(u=y),e=m.nlps);else{if(this.chigh-=g,b&32768)return this.a=b,u;b<g?(y=1^u,m.switchFlag===1&&(u=y),e=m.nlps):(y=u,e=m.nmps)}do this.ct===0&&this.byteIn(),b<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(b&32768));return this.a=b,c[s]=e<<1|u,y}}l.ArithmeticDecoder=t},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.JpegStream=void 0;var t=a(144),i=a(130),c=a(153),s=a(2);class e extends t.DecodeStream{constructor(m,g,y){let b;for(;(b=m.getByte())!==-1;)if(b===255){m.skip(-1);break}super(g),this.stream=m,this.dict=m.dict,this.maybeLength=g,this.params=y}get bytes(){return(0,s.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(m){}readBlock(){if(this.eof)return;const m={decodeTransform:void 0,colorTransform:void 0},g=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(g)){const v=this.dict.get("BPC","BitsPerComponent")||8,o=g.length,S=new Int32Array(o);let T=!1;const E=(1<<v)-1;for(let k=0;k<o;k+=2)S[k]=(g[k+1]-g[k])*256|0,S[k+1]=g[k]*E|0,(S[k]!==256||S[k+1]!==0)&&(T=!0);T&&(m.decodeTransform=S)}if(this.params instanceof i.Dict){const v=this.params.get("ColorTransform");Number.isInteger(v)&&(m.colorTransform=v)}const y=new c.JpegImage(m);y.parse(this.bytes);const b=y.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=b,this.bufferLength=b.length,this.eof=!0}}l.JpegStream=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.JpegImage=void 0;var t=a(2),i=a(131);class c extends t.BaseException{constructor(R){super(`JPEG error: ${R}`,"JpegError")}}class s extends t.BaseException{constructor(R,I){super(R,"DNLMarkerError"),this.scanLines=I}}class e extends t.BaseException{constructor(R){super(R,"EOIMarkerError")}}const u=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),m=4017,g=799,y=3406,b=2276,v=1567,o=3784,S=5793,T=2896;function E(G,R){let I=0,U,P,A=16;for(;A>0&&!G[A-1];)A--;const z=[{children:[],index:0}];let N=z[0],W;for(U=0;U<A;U++){for(P=0;P<G[U];P++){for(N=z.pop(),N.children[N.index]=R[I];N.index>0;)N=z.pop();for(N.index++,z.push(N);z.length<=U;)z.push(W={children:[],index:0}),N.children[N.index]=W.children,N=W;I++}U+1<A&&(z.push(W={children:[],index:0}),N.children[N.index]=W.children,N=W)}return z[0].children}function k(G,R,I){return 64*((G.blocksPerLine+1)*R+I)}function M(G,R,I,U,P,A,z,N,W){let ie=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1;const Y=I.mcusPerLine,F=I.progressive,D=R;let Q=0,ee=0;function V(){if(ee>0)return ee--,Q>>ee&1;if(Q=G[R++],Q===255){const Me=G[R++];if(Me){if(Me===220&&ie){R+=2;const Ne=(0,i.readUint16)(G,R);if(R+=2,Ne>0&&Ne!==I.scanLines)throw new s("Found DNL marker (0xFFDC) while parsing scan data",Ne)}else if(Me===217){if(ie){const Ne=he*(I.precision===8?8:0);if(Ne>0&&Math.round(I.scanLines/Ne)>=10)throw new s("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ne)}throw new e("Found EOI marker (0xFFD9) while parsing scan data")}throw new c(`unexpected marker ${(Q<<8|Me).toString(16)}`)}}return ee=7,Q>>>7}function Z(Me){let Ne=Me;for(;;){switch(Ne=Ne[V()],typeof Ne){case"number":return Ne;case"object":continue}throw new c("invalid huffman sequence")}}function ae(Me){let Ne=0;for(;Me>0;)Ne=Ne<<1|V(),Me--;return Ne}function H(Me){if(Me===1)return V()===1?1:-1;const Ne=ae(Me);return Ne>=1<<Me-1?Ne:Ne+(-1<<Me)+1}function q(Me,Ne){const Re=Z(Me.huffmanTableDC),Oe=Re===0?0:H(Re);Me.blockData[Ne]=Me.pred+=Oe;let Le=1;for(;Le<64;){const Pe=Z(Me.huffmanTableAC),$e=Pe&15,je=Pe>>4;if($e===0){if(je<15)break;Le+=16;continue}Le+=je;const Te=u[Le];Me.blockData[Ne+Te]=H($e),Le++}}function ne(Me,Ne){const Re=Z(Me.huffmanTableDC),Oe=Re===0?0:H(Re)<<W;Me.blockData[Ne]=Me.pred+=Oe}function le(Me,Ne){Me.blockData[Ne]|=V()<<W}let se=0;function J(Me,Ne){if(se>0){se--;return}let Re=A;const Oe=z;for(;Re<=Oe;){const Le=Z(Me.huffmanTableAC),Pe=Le&15,$e=Le>>4;if(Pe===0){if($e<15){se=ae($e)+(1<<$e)-1;break}Re+=16;continue}Re+=$e;const je=u[Re];Me.blockData[Ne+je]=H(Pe)*(1<<W),Re++}}let re=0,oe;function ue(Me,Ne){let Re=A;const Oe=z;let Le=0,Pe,$e;for(;Re<=Oe;){const je=Ne+u[Re],Te=Me.blockData[je]<0?-1:1;switch(re){case 0:if($e=Z(Me.huffmanTableAC),Pe=$e&15,Le=$e>>4,Pe===0)Le<15?(se=ae(Le)+(1<<Le),re=4):(Le=16,re=1);else{if(Pe!==1)throw new c("invalid ACn encoding");oe=H(Pe),re=Le?2:3}continue;case 1:case 2:Me.blockData[je]?Me.blockData[je]+=Te*(V()<<W):(Le--,Le===0&&(re=re===2?3:0));break;case 3:Me.blockData[je]?Me.blockData[je]+=Te*(V()<<W):(Me.blockData[je]=oe<<W,re=0);break;case 4:Me.blockData[je]&&(Me.blockData[je]+=Te*(V()<<W));break}Re++}re===4&&(se--,se===0&&(re=0))}let he=0;function de(Me,Ne,Re,Oe,Le){const Pe=Re/Y|0,$e=Re%Y;he=Pe*Me.v+Oe;const je=$e*Me.h+Le,Te=k(Me,he,je);Ne(Me,Te)}function pe(Me,Ne,Re){he=Re/Me.blocksPerLine|0;const Oe=Re%Me.blocksPerLine,Le=k(Me,he,Oe);Ne(Me,Le)}const fe=U.length;let be,ge,Se,ve,we,Fe;F?A===0?Fe=N===0?ne:le:Fe=N===0?J:ue:Fe=q;let Ce=0,ye,ke;fe===1?ke=U[0].blocksPerLine*U[0].blocksPerColumn:ke=Y*I.mcusPerColumn;let De,Ie;for(;Ce<=ke;){const Me=P?Math.min(ke-Ce,P):ke;if(Me>0){for(ge=0;ge<fe;ge++)U[ge].pred=0;if(se=0,fe===1)for(be=U[0],we=0;we<Me;we++)pe(be,Fe,Ce),Ce++;else for(we=0;we<Me;we++){for(ge=0;ge<fe;ge++)for(be=U[ge],De=be.h,Ie=be.v,Se=0;Se<Ie;Se++)for(ve=0;ve<De;ve++)de(be,Fe,Ce,Se,ve);Ce++}}if(ee=0,ye=te(G,R),!ye)break;if(ye.invalid){const Ne=Me>0?"unexpected":"excessive";(0,t.warn)(`decodeScan - ${Ne} MCU data, current marker is: ${ye.invalid}`),R=ye.offset}if(ye.marker>=65488&&ye.marker<=65495)R+=2;else break}return R-D}function O(G,R,I){const U=G.quantizationTable,P=G.blockData;let A,z,N,W,ie,Y,F,D,Q,ee,V,Z,ae,H,q,ne,le;if(!U)throw new c("missing required Quantization Table.");for(let se=0;se<64;se+=8){if(Q=P[R+se],ee=P[R+se+1],V=P[R+se+2],Z=P[R+se+3],ae=P[R+se+4],H=P[R+se+5],q=P[R+se+6],ne=P[R+se+7],Q*=U[se],!(ee|V|Z|ae|H|q|ne)){le=S*Q+512>>10,I[se]=le,I[se+1]=le,I[se+2]=le,I[se+3]=le,I[se+4]=le,I[se+5]=le,I[se+6]=le,I[se+7]=le;continue}ee*=U[se+1],V*=U[se+2],Z*=U[se+3],ae*=U[se+4],H*=U[se+5],q*=U[se+6],ne*=U[se+7],A=S*Q+128>>8,z=S*ae+128>>8,N=V,W=q,ie=T*(ee-ne)+128>>8,D=T*(ee+ne)+128>>8,Y=Z<<4,F=H<<4,A=A+z+1>>1,z=A-z,le=N*o+W*v+128>>8,N=N*v-W*o+128>>8,W=le,ie=ie+F+1>>1,F=ie-F,D=D+Y+1>>1,Y=D-Y,A=A+W+1>>1,W=A-W,z=z+N+1>>1,N=z-N,le=ie*b+D*y+2048>>12,ie=ie*y-D*b+2048>>12,D=le,le=Y*g+F*m+2048>>12,Y=Y*m-F*g+2048>>12,F=le,I[se]=A+D,I[se+7]=A-D,I[se+1]=z+F,I[se+6]=z-F,I[se+2]=N+Y,I[se+5]=N-Y,I[se+3]=W+ie,I[se+4]=W-ie}for(let se=0;se<8;++se){if(Q=I[se],ee=I[se+8],V=I[se+16],Z=I[se+24],ae=I[se+32],H=I[se+40],q=I[se+48],ne=I[se+56],!(ee|V|Z|ae|H|q|ne)){le=S*Q+8192>>14,le<-2040?le=0:le>=2024?le=255:le=le+2056>>4,P[R+se]=le,P[R+se+8]=le,P[R+se+16]=le,P[R+se+24]=le,P[R+se+32]=le,P[R+se+40]=le,P[R+se+48]=le,P[R+se+56]=le;continue}A=S*Q+2048>>12,z=S*ae+2048>>12,N=V,W=q,ie=T*(ee-ne)+2048>>12,D=T*(ee+ne)+2048>>12,Y=Z,F=H,A=(A+z+1>>1)+4112,z=A-z,le=N*o+W*v+2048>>12,N=N*v-W*o+2048>>12,W=le,ie=ie+F+1>>1,F=ie-F,D=D+Y+1>>1,Y=D-Y,A=A+W+1>>1,W=A-W,z=z+N+1>>1,N=z-N,le=ie*b+D*y+2048>>12,ie=ie*y-D*b+2048>>12,D=le,le=Y*g+F*m+2048>>12,Y=Y*m-F*g+2048>>12,F=le,Q=A+D,ne=A-D,ee=z+F,q=z-F,V=N+Y,H=N-Y,Z=W+ie,ae=W-ie,Q<16?Q=0:Q>=4080?Q=255:Q>>=4,ee<16?ee=0:ee>=4080?ee=255:ee>>=4,V<16?V=0:V>=4080?V=255:V>>=4,Z<16?Z=0:Z>=4080?Z=255:Z>>=4,ae<16?ae=0:ae>=4080?ae=255:ae>>=4,H<16?H=0:H>=4080?H=255:H>>=4,q<16?q=0:q>=4080?q=255:q>>=4,ne<16?ne=0:ne>=4080?ne=255:ne>>=4,P[R+se]=Q,P[R+se+8]=ee,P[R+se+16]=V,P[R+se+24]=Z,P[R+se+32]=ae,P[R+se+40]=H,P[R+se+48]=q,P[R+se+56]=ne}}function L(G,R){const I=R.blocksPerLine,U=R.blocksPerColumn,P=new Int16Array(64);for(let A=0;A<U;A++)for(let z=0;z<I;z++){const N=k(R,A,z);O(R,N,P)}return R.blockData}function te(G,R){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R;const U=G.length-1;let P=I<R?I:R;if(R>=U)return null;const A=(0,i.readUint16)(G,R);if(A>=65472&&A<=65534)return{invalid:null,marker:A,offset:R};let z=(0,i.readUint16)(G,P);for(;!(z>=65472&&z<=65534);){if(++P>=U)return null;z=(0,i.readUint16)(G,P)}return{invalid:A.toString(16),marker:z,offset:P}}class B{constructor(){let{decodeTransform:R=null,colorTransform:I=-1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._decodeTransform=R,this._colorTransform=I}parse(R){let{dnlScanLines:I=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};function U(){const V=(0,i.readUint16)(R,A);A+=2;let Z=A+V-2;const ae=te(R,Z,A);ae&&ae.invalid&&((0,t.warn)("readDataBlock - incorrect length, current marker is: "+ae.invalid),Z=ae.offset);const H=R.subarray(A,Z);return A+=H.length,H}function P(V){const Z=Math.ceil(V.samplesPerLine/8/V.maxH),ae=Math.ceil(V.scanLines/8/V.maxV);for(let H=0,q=V.components.length;H<q;H++){const ne=V.components[H],le=Math.ceil(Math.ceil(V.samplesPerLine/8)*ne.h/V.maxH),se=Math.ceil(Math.ceil(V.scanLines/8)*ne.v/V.maxV),J=Z*ne.h,oe=64*(ae*ne.v)*(J+1);ne.blockData=new Int16Array(oe),ne.blocksPerLine=le,ne.blocksPerColumn=se}V.mcusPerLine=Z,V.mcusPerColumn=ae}let A=0,z=null,N=null,W,ie,Y=0;const F=[],D=[],Q=[];let ee=(0,i.readUint16)(R,A);if(A+=2,ee!==65496)throw new c("SOI not found");ee=(0,i.readUint16)(R,A),A+=2;e:for(;ee!==65497;){let V,Z,ae;switch(ee){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const H=U();ee===65504&&H[0]===74&&H[1]===70&&H[2]===73&&H[3]===70&&H[4]===0&&(z={version:{major:H[5],minor:H[6]},densityUnits:H[7],xDensity:H[8]<<8|H[9],yDensity:H[10]<<8|H[11],thumbWidth:H[12],thumbHeight:H[13],thumbData:H.subarray(14,14+3*H[12]*H[13])}),ee===65518&&H[0]===65&&H[1]===100&&H[2]===111&&H[3]===98&&H[4]===101&&(N={version:H[5]<<8|H[6],flags0:H[7]<<8|H[8],flags1:H[9]<<8|H[10],transformCode:H[11]});break;case 65499:const q=(0,i.readUint16)(R,A);A+=2;const ne=q+A-2;let le;for(;A<ne;){const ve=R[A++],we=new Uint16Array(64);if(ve>>4)if(ve>>4===1)for(Z=0;Z<64;Z++)le=u[Z],we[le]=(0,i.readUint16)(R,A),A+=2;else throw new c("DQT - invalid table spec");else for(Z=0;Z<64;Z++)le=u[Z],we[le]=R[A++];F[ve&15]=we}break;case 65472:case 65473:case 65474:if(W)throw new c("Only single frame JPEGs supported");A+=2,W={},W.extended=ee===65473,W.progressive=ee===65474,W.precision=R[A++];const se=(0,i.readUint16)(R,A);A+=2,W.scanLines=I||se,W.samplesPerLine=(0,i.readUint16)(R,A),A+=2,W.components=[],W.componentIds={};const J=R[A++];let re=0,oe=0;for(V=0;V<J;V++){const ve=R[A],we=R[A+1]>>4,Fe=R[A+1]&15;re<we&&(re=we),oe<Fe&&(oe=Fe);const Ce=R[A+2];ae=W.components.push({h:we,v:Fe,quantizationId:Ce,quantizationTable:null}),W.componentIds[ve]=ae-1,A+=3}W.maxH=re,W.maxV=oe,P(W);break;case 65476:const ue=(0,i.readUint16)(R,A);for(A+=2,V=2;V<ue;){const ve=R[A++],we=new Uint8Array(16);let Fe=0;for(Z=0;Z<16;Z++,A++)Fe+=we[Z]=R[A];const Ce=new Uint8Array(Fe);for(Z=0;Z<Fe;Z++,A++)Ce[Z]=R[A];V+=17+Fe,(ve>>4?D:Q)[ve&15]=E(we,Ce)}break;case 65501:A+=2,ie=(0,i.readUint16)(R,A),A+=2;break;case 65498:const he=++Y===1&&!I;A+=2;const de=R[A++],pe=[];for(V=0;V<de;V++){const ve=R[A++],we=W.componentIds[ve],Fe=W.components[we];Fe.index=ve;const Ce=R[A++];Fe.huffmanTableDC=Q[Ce>>4],Fe.huffmanTableAC=D[Ce&15],pe.push(Fe)}const fe=R[A++],be=R[A++],ge=R[A++];try{const ve=M(R,A,W,pe,ie,fe,be,ge>>4,ge&15,he);A+=ve}catch(ve){if(ve instanceof s)return(0,t.warn)(`${ve.message} -- attempting to re-parse the JPEG image.`),this.parse(R,{dnlScanLines:ve.scanLines});if(ve instanceof e){(0,t.warn)(`${ve.message} -- ignoring the rest of the image data.`);break e}throw ve}break;case 65500:A+=4;break;case 65535:R[A]!==255&&A--;break;default:const Se=te(R,A-2,A-3);if(Se&&Se.invalid){(0,t.warn)("JpegImage.parse - unexpected data, current marker is: "+Se.invalid),A=Se.offset;break}if(!Se||A>=R.length-1){(0,t.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new c("JpegImage.parse - unknown marker: "+ee.toString(16))}ee=(0,i.readUint16)(R,A),A+=2}this.width=W.samplesPerLine,this.height=W.scanLines,this.jfif=z,this.adobe=N,this.components=[];for(let V=0,Z=W.components.length;V<Z;V++){const ae=W.components[V],H=F[ae.quantizationId];H&&(ae.quantizationTable=H),this.components.push({index:ae.index,output:L(W,ae),scaleX:ae.h/W.maxH,scaleY:ae.v/W.maxV,blocksPerLine:ae.blocksPerLine,blocksPerColumn:ae.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(R,I){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const P=this.width/R,A=this.height/I;let z,N,W,ie,Y,F,D,Q,ee,V,Z=0,ae;const H=this.components.length,q=R*I*H,ne=new Uint8ClampedArray(q),le=new Uint32Array(R),se=4294967288;let J;for(D=0;D<H;D++){if(z=this.components[D],N=z.scaleX*P,W=z.scaleY*A,Z=D,ae=z.output,ie=z.blocksPerLine+1<<3,N!==J){for(Y=0;Y<R;Y++)Q=0|Y*N,le[Y]=(Q&se)<<3|Q&7;J=N}for(F=0;F<I;F++)for(Q=0|F*W,V=ie*(Q&se)|(Q&7)<<3,Y=0;Y<R;Y++)ne[Z]=ae[V+le[Y]],Z+=H}let re=this._decodeTransform;if(!U&&H===4&&!re&&(re=new Int32Array([-256,255,-256,255,-256,255,-256,255])),re)for(D=0;D<q;)for(Q=0,ee=0;Q<H;Q++,D++,ee+=2)ne[D]=(ne[D]*re[ee]>>8)+re[ee+1];return ne}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(R){let I,U,P;for(let A=0,z=R.length;A<z;A+=3)I=R[A],U=R[A+1],P=R[A+2],R[A]=I-179.456+1.402*P,R[A+1]=I+135.459-.344*U-.714*P,R[A+2]=I-226.816+1.772*U;return R}_convertYcckToRgb(R){let I,U,P,A,z=0;for(let N=0,W=R.length;N<W;N+=4)I=R[N],U=R[N+1],P=R[N+2],A=R[N+3],R[z++]=-122.67195406894+U*(-660635669420364e-19*U+.000437130475926232*P-54080610064599e-18*I+.00048449797120281*A-.154362151871126)+P*(-.000957964378445773*P+.000817076911346625*I-.00477271405408747*A+1.53380253221734)+I*(.000961250184130688*I-.00266257332283933*A+.48357088451265)+A*(-.000336197177618394*A+.484791561490776),R[z++]=107.268039397724+U*(219927104525741e-19*U-.000640992018297945*P+.000659397001245577*I+.000426105652938837*A-.176491792462875)+P*(-.000778269941513683*P+.00130872261408275*I+.000770482631801132*A-.151051492775562)+I*(.00126935368114843*I-.00265090189010898*A+.25802910206845)+A*(-.000318913117588328*A-.213742400323665),R[z++]=-20.810012546947+U*(-.000570115196973677*U-263409051004589e-19*P+.0020741088115012*I-.00288260236853442*A+.814272968359295)+P*(-153496057440975e-19*P-.000132689043961446*I+.000560833691242812*A-.195152027534049)+I*(.00174418132927582*I-.00255243321439347*A+.116935020465145)+A*(-.000343531996510555*A+.24165260232407);return R.subarray(0,z)}_convertYcckToCmyk(R){let I,U,P;for(let A=0,z=R.length;A<z;A+=4)I=R[A],U=R[A+1],P=R[A+2],R[A]=434.456-I-1.402*P,R[A+1]=119.541-I+.344*U+.714*P,R[A+2]=481.816-I-1.772*U;return R}_convertCmykToRgb(R){let I,U,P,A,z=0;for(let N=0,W=R.length;N<W;N+=4)I=R[N],U=R[N+1],P=R[N+2],A=R[N+3],R[z++]=255+I*(-6747147073602441e-20*I+.0008379262121013727*U+.0002894718188643294*P+.003264231057537806*A-1.1185611867203937)+U*(26374107616089405e-21*U-8626949158638572e-20*P-.0002748769067499491*A-.02155688794978967)+P*(-3878099212869363e-20*P-.0003267808279485286*A+.0686742238595345)-A*(.0003361971776183937*A+.7430659151342254),R[z++]=255+I*(.00013596372813588848*I+.000924537132573585*U+.00010567359618683593*P+.0004791864687436512*A-.3109689587515875)+U*(-.00023545346108370344*U+.0002702845253534714*P+.0020200308977307156*A-.7488052167015494)+P*(6834815998235662e-20*P+.00015168452363460973*A-.09751927774728933)-A*(.0003189131175883281*A+.7364883807733168),R[z++]=255+I*(13598650411385307e-21*I+.00012423956175490851*U+.0004751985097583589*P-36729317476630422e-22*A-.05562186980264034)+U*(.00016141380598724676*U+.0009692239130725186*P+.0007782692450036253*A-.44015232367526463)+P*(5068882914068769e-22*P+.0017778369011375071*A-.7591454649749609)-A*(.0003435319965105553*A+.7063770186160144);return R.subarray(0,z)}getData(R){let{width:I,height:U,forceRGB:P=!1,isSourcePDF:A=!1}=R;if(this.numComponents>4)throw new c("Unsupported color mode");const z=this._getLinearizedBlockData(I,U,A);if(this.numComponents===1&&P){const N=z.length,W=new Uint8ClampedArray(N*3);let ie=0;for(let Y=0;Y<N;Y++){const F=z[Y];W[ie++]=F,W[ie++]=F,W[ie++]=F}return W}else{if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(z);if(this.numComponents===4){if(this._isColorConversionNeeded)return P?this._convertYcckToRgb(z):this._convertYcckToCmyk(z);if(P)return this._convertCmykToRgb(z)}}return z}}l.JpegImage=B},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.JpxStream=void 0;var t=a(144),i=a(155),c=a(2);class s extends t.DecodeStream{constructor(u,m,g){super(m),this.stream=u,this.dict=u.dict,this.maybeLength=m,this.params=g}get bytes(){return(0,c.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(u){}readBlock(){if(this.eof)return;const u=new i.JpxImage;u.parse(this.bytes);const m=u.width,g=u.height,y=u.componentsCount,b=u.tiles.length;if(b===1)this.buffer=u.tiles[0].items;else{const v=new Uint8ClampedArray(m*g*y);for(let o=0;o<b;o++){const S=u.tiles[o],T=S.width,E=S.height,k=S.left,M=S.top,O=S.items;let L=0,te=(m*M+k)*y;const B=m*y,G=T*y;for(let R=0;R<E;R++){const I=O.subarray(L,L+G);v.set(I,te),L+=G,te+=B}}this.buffer=v}this.bufferLength=this.buffer.length,this.eof=!0}}l.JpxStream=s},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.JpxImage=void 0;var t=a(2),i=a(131),c=a(151);class s extends t.BaseException{constructor(F){super(`JPX error: ${F}`,"JpxError")}}const e={LL:0,LH:1,HL:1,HH:2};class u{constructor(){this.failOnCorruptedImage=!1}parse(F){if((0,i.readUint16)(F,0)===65359){this.parseCodestream(F,0,F.length);return}const Q=F.length;let ee=0;for(;ee<Q;){let V=8,Z=(0,i.readUint32)(F,ee);const ae=(0,i.readUint32)(F,ee+4);if(ee+=V,Z===1&&(Z=(0,i.readUint32)(F,ee)*4294967296+(0,i.readUint32)(F,ee+4),ee+=8,V+=8),Z===0&&(Z=Q-ee+V),Z<V)throw new s("Invalid box field size");const H=Z-V;let q=!0;switch(ae){case 1785737832:q=!1;break;case 1668246642:const ne=F[ee];if(ne===1){const se=(0,i.readUint32)(F,ee+3);switch(se){case 16:case 17:case 18:break;default:(0,t.warn)("Unknown colorspace "+se);break}}else ne===2&&(0,t.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(F,ee,ee+H);break;case 1783636e3:(0,i.readUint32)(F,ee)!==218793738&&(0,t.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const le=String.fromCharCode(ae>>24&255,ae>>16&255,ae>>8&255,ae&255);(0,t.warn)(`Unsupported header type ${ae} (${le}).`);break}q&&(ee+=H)}}parseImageProperties(F){let D=F.getByte();for(;D>=0;){const Q=D;if(D=F.getByte(),(Q<<8|D)===65361){F.skip(4);const V=F.getInt32()>>>0,Z=F.getInt32()>>>0,ae=F.getInt32()>>>0,H=F.getInt32()>>>0;F.skip(16);const q=F.getUint16();this.width=V-ae,this.height=Z-H,this.componentsCount=q,this.bitsPerComponent=8;return}}throw new s("No size marker found in JPX stream")}parseCodestream(F,D,Q){const ee={};let V=!1;try{let Z=D;for(;Z+1<Q;){const ae=(0,i.readUint16)(F,Z);Z+=2;let H=0,q,ne,le,se,J,re;switch(ae){case 65359:ee.mainHeader=!0;break;case 65497:break;case 65361:H=(0,i.readUint16)(F,Z);const oe={};oe.Xsiz=(0,i.readUint32)(F,Z+4),oe.Ysiz=(0,i.readUint32)(F,Z+8),oe.XOsiz=(0,i.readUint32)(F,Z+12),oe.YOsiz=(0,i.readUint32)(F,Z+16),oe.XTsiz=(0,i.readUint32)(F,Z+20),oe.YTsiz=(0,i.readUint32)(F,Z+24),oe.XTOsiz=(0,i.readUint32)(F,Z+28),oe.YTOsiz=(0,i.readUint32)(F,Z+32);const ue=(0,i.readUint16)(F,Z+36);oe.Csiz=ue;const he=[];q=Z+38;for(let we=0;we<ue;we++){const Fe={precision:(F[q]&127)+1,isSigned:!!(F[q]&128),XRsiz:F[q+1],YRsiz:F[q+2]};q+=3,m(Fe,oe),he.push(Fe)}ee.SIZ=oe,ee.components=he,g(ee,he),ee.QCC=[],ee.COC=[];break;case 65372:H=(0,i.readUint16)(F,Z);const de={};switch(q=Z+2,ne=F[q++],ne&31){case 0:se=8,J=!0;break;case 1:se=16,J=!1;break;case 2:se=16,J=!0;break;default:throw new Error("Invalid SQcd value "+ne)}for(de.noQuantization=se===8,de.scalarExpounded=J,de.guardBits=ne>>5,le=[];q<H+Z;){const we={};se===8?(we.epsilon=F[q++]>>3,we.mu=0):(we.epsilon=F[q]>>3,we.mu=(F[q]&7)<<8|F[q+1],q+=2),le.push(we)}de.SPqcds=le,ee.mainHeader?ee.QCD=de:(ee.currentTile.QCD=de,ee.currentTile.QCC=[]);break;case 65373:H=(0,i.readUint16)(F,Z);const pe={};q=Z+2;let fe;switch(ee.SIZ.Csiz<257?fe=F[q++]:(fe=(0,i.readUint16)(F,q),q+=2),ne=F[q++],ne&31){case 0:se=8,J=!0;break;case 1:se=16,J=!1;break;case 2:se=16,J=!0;break;default:throw new Error("Invalid SQcd value "+ne)}for(pe.noQuantization=se===8,pe.scalarExpounded=J,pe.guardBits=ne>>5,le=[];q<H+Z;){const we={};se===8?(we.epsilon=F[q++]>>3,we.mu=0):(we.epsilon=F[q]>>3,we.mu=(F[q]&7)<<8|F[q+1],q+=2),le.push(we)}pe.SPqcds=le,ee.mainHeader?ee.QCC[fe]=pe:ee.currentTile.QCC[fe]=pe;break;case 65362:H=(0,i.readUint16)(F,Z);const be={};q=Z+2;const ge=F[q++];be.entropyCoderWithCustomPrecincts=!!(ge&1),be.sopMarkerUsed=!!(ge&2),be.ephMarkerUsed=!!(ge&4),be.progressionOrder=F[q++],be.layersCount=(0,i.readUint16)(F,q),q+=2,be.multipleComponentTransform=F[q++],be.decompositionLevelsCount=F[q++],be.xcb=(F[q++]&15)+2,be.ycb=(F[q++]&15)+2;const Se=F[q++];if(be.selectiveArithmeticCodingBypass=!!(Se&1),be.resetContextProbabilities=!!(Se&2),be.terminationOnEachCodingPass=!!(Se&4),be.verticallyStripe=!!(Se&8),be.predictableTermination=!!(Se&16),be.segmentationSymbolUsed=!!(Se&32),be.reversibleTransformation=F[q++],be.entropyCoderWithCustomPrecincts){const we=[];for(;q<H+Z;){const Fe=F[q++];we.push({PPx:Fe&15,PPy:Fe>>4})}be.precinctsSizes=we}const ve=[];be.selectiveArithmeticCodingBypass&&ve.push("selectiveArithmeticCodingBypass"),be.terminationOnEachCodingPass&&ve.push("terminationOnEachCodingPass"),be.verticallyStripe&&ve.push("verticallyStripe"),be.predictableTermination&&ve.push("predictableTermination"),ve.length>0&&(V=!0,(0,t.warn)(`JPX: Unsupported COD options (${ve.join(", ")}).`)),ee.mainHeader?ee.COD=be:(ee.currentTile.COD=be,ee.currentTile.COC=[]);break;case 65424:H=(0,i.readUint16)(F,Z),re={},re.index=(0,i.readUint16)(F,Z+2),re.length=(0,i.readUint32)(F,Z+4),re.dataEnd=re.length+Z-2,re.partIndex=F[Z+8],re.partsCount=F[Z+9],ee.mainHeader=!1,re.partIndex===0&&(re.COD=ee.COD,re.COC=ee.COC.slice(0),re.QCD=ee.QCD,re.QCC=ee.QCC.slice(0)),ee.currentTile=re;break;case 65427:re=ee.currentTile,re.partIndex===0&&(U(ee,re.index),te(ee)),H=re.dataEnd-Z,B(ee,F,Z,H);break;case 65363:(0,t.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:H=(0,i.readUint16)(F,Z);break;default:throw new Error("Unknown codestream code: "+ae.toString(16))}Z+=H}}catch(Z){if(V||this.failOnCorruptedImage)throw new s(Z.message);(0,t.warn)(`JPX: Trying to recover from: "${Z.message}".`)}this.tiles=I(ee),this.width=ee.SIZ.Xsiz-ee.SIZ.XOsiz,this.height=ee.SIZ.Ysiz-ee.SIZ.YOsiz,this.componentsCount=ee.SIZ.Csiz}}l.JpxImage=u;function m(Y,F){Y.x0=Math.ceil(F.XOsiz/Y.XRsiz),Y.x1=Math.ceil(F.Xsiz/Y.XRsiz),Y.y0=Math.ceil(F.YOsiz/Y.YRsiz),Y.y1=Math.ceil(F.Ysiz/Y.YRsiz),Y.width=Y.x1-Y.x0,Y.height=Y.y1-Y.y0}function g(Y,F){const D=Y.SIZ,Q=[];let ee;const V=Math.ceil((D.Xsiz-D.XTOsiz)/D.XTsiz),Z=Math.ceil((D.Ysiz-D.YTOsiz)/D.YTsiz);for(let H=0;H<Z;H++)for(let q=0;q<V;q++)ee={},ee.tx0=Math.max(D.XTOsiz+q*D.XTsiz,D.XOsiz),ee.ty0=Math.max(D.YTOsiz+H*D.YTsiz,D.YOsiz),ee.tx1=Math.min(D.XTOsiz+(q+1)*D.XTsiz,D.Xsiz),ee.ty1=Math.min(D.YTOsiz+(H+1)*D.YTsiz,D.Ysiz),ee.width=ee.tx1-ee.tx0,ee.height=ee.ty1-ee.ty0,ee.components=[],Q.push(ee);Y.tiles=Q;const ae=D.Csiz;for(let H=0,q=ae;H<q;H++){const ne=F[H];for(let le=0,se=Q.length;le<se;le++){const J={};ee=Q[le],J.tcx0=Math.ceil(ee.tx0/ne.XRsiz),J.tcy0=Math.ceil(ee.ty0/ne.YRsiz),J.tcx1=Math.ceil(ee.tx1/ne.XRsiz),J.tcy1=Math.ceil(ee.ty1/ne.YRsiz),J.width=J.tcx1-J.tcx0,J.height=J.tcy1-J.tcy0,ee.components[H]=J}}}function y(Y,F,D){const Q=F.codingStyleParameters,ee={};return Q.entropyCoderWithCustomPrecincts?(ee.PPx=Q.precinctsSizes[D].PPx,ee.PPy=Q.precinctsSizes[D].PPy):(ee.PPx=15,ee.PPy=15),ee.xcb_=D>0?Math.min(Q.xcb,ee.PPx-1):Math.min(Q.xcb,ee.PPx),ee.ycb_=D>0?Math.min(Q.ycb,ee.PPy-1):Math.min(Q.ycb,ee.PPy),ee}function b(Y,F,D){const Q=1<<D.PPx,ee=1<<D.PPy,V=F.resLevel===0,Z=1<<D.PPx+(V?0:-1),ae=1<<D.PPy+(V?0:-1),H=F.trx1>F.trx0?Math.ceil(F.trx1/Q)-Math.floor(F.trx0/Q):0,q=F.try1>F.try0?Math.ceil(F.try1/ee)-Math.floor(F.try0/ee):0,ne=H*q;F.precinctParameters={precinctWidth:Q,precinctHeight:ee,numprecinctswide:H,numprecinctshigh:q,numprecincts:ne,precinctWidthInSubband:Z,precinctHeightInSubband:ae}}function v(Y,F,D){const Q=D.xcb_,ee=D.ycb_,V=1<<Q,Z=1<<ee,ae=F.tbx0>>Q,H=F.tby0>>ee,q=F.tbx1+V-1>>Q,ne=F.tby1+Z-1>>ee,le=F.resolution.precinctParameters,se=[],J=[];let re,oe,ue,he;for(oe=H;oe<ne;oe++)for(re=ae;re<q;re++){ue={cbx:re,cby:oe,tbx0:V*re,tby0:Z*oe,tbx1:V*(re+1),tby1:Z*(oe+1)},ue.tbx0_=Math.max(F.tbx0,ue.tbx0),ue.tby0_=Math.max(F.tby0,ue.tby0),ue.tbx1_=Math.min(F.tbx1,ue.tbx1),ue.tby1_=Math.min(F.tby1,ue.tby1);const de=Math.floor((ue.tbx0_-F.tbx0)/le.precinctWidthInSubband),pe=Math.floor((ue.tby0_-F.tby0)/le.precinctHeightInSubband);if(he=de+pe*le.numprecinctswide,ue.precinctNumber=he,ue.subbandType=F.type,ue.Lblock=3,ue.tbx1_<=ue.tbx0_||ue.tby1_<=ue.tby0_)continue;se.push(ue);let fe=J[he];fe!==void 0?(re<fe.cbxMin?fe.cbxMin=re:re>fe.cbxMax&&(fe.cbxMax=re),oe<fe.cbyMin?fe.cbxMin=oe:oe>fe.cbyMax&&(fe.cbyMax=oe)):J[he]=fe={cbxMin:re,cbyMin:oe,cbxMax:re,cbyMax:oe},ue.precinct=fe}F.codeblockParameters={codeblockWidth:Q,codeblockHeight:ee,numcodeblockwide:q-ae+1,numcodeblockhigh:ne-H+1},F.codeblocks=se,F.precincts=J}function o(Y,F,D){const Q=[],ee=Y.subbands;for(let V=0,Z=ee.length;V<Z;V++){const H=ee[V].codeblocks;for(let q=0,ne=H.length;q<ne;q++){const le=H[q];le.precinctNumber===F&&Q.push(le)}}return{layerNumber:D,codeblocks:Q}}function S(Y){const F=Y.SIZ,D=Y.currentTile.index,Q=Y.tiles[D],ee=Q.codingStyleDefaultParameters.layersCount,V=F.Csiz;let Z=0;for(let le=0;le<V;le++)Z=Math.max(Z,Q.components[le].codingStyleParameters.decompositionLevelsCount);let ae=0,H=0,q=0,ne=0;this.nextPacket=function(){for(;ae<ee;ae++){for(;H<=Z;H++){for(;q<V;q++){const se=Q.components[q];if(H>se.codingStyleParameters.decompositionLevelsCount)continue;const J=se.resolutions[H],re=J.precinctParameters.numprecincts;for(;ne<re;){const oe=o(J,ne,ae);return ne++,oe}ne=0}q=0}H=0}throw new s("Out of packets")}}function T(Y){const F=Y.SIZ,D=Y.currentTile.index,Q=Y.tiles[D],ee=Q.codingStyleDefaultParameters.layersCount,V=F.Csiz;let Z=0;for(let le=0;le<V;le++)Z=Math.max(Z,Q.components[le].codingStyleParameters.decompositionLevelsCount);let ae=0,H=0,q=0,ne=0;this.nextPacket=function(){for(;ae<=Z;ae++){for(;H<ee;H++){for(;q<V;q++){const se=Q.components[q];if(ae>se.codingStyleParameters.decompositionLevelsCount)continue;const J=se.resolutions[ae],re=J.precinctParameters.numprecincts;for(;ne<re;){const oe=o(J,ne,H);return ne++,oe}ne=0}q=0}H=0}throw new s("Out of packets")}}function E(Y){const F=Y.SIZ,D=Y.currentTile.index,Q=Y.tiles[D],ee=Q.codingStyleDefaultParameters.layersCount,V=F.Csiz;let Z,ae,H,q,ne=0;for(H=0;H<V;H++){const se=Q.components[H];ne=Math.max(ne,se.codingStyleParameters.decompositionLevelsCount)}const le=new Int32Array(ne+1);for(ae=0;ae<=ne;++ae){let se=0;for(H=0;H<V;++H){const J=Q.components[H].resolutions;ae<J.length&&(se=Math.max(se,J[ae].precinctParameters.numprecincts))}le[ae]=se}Z=0,ae=0,H=0,q=0,this.nextPacket=function(){for(;ae<=ne;ae++){for(;q<le[ae];q++){for(;H<V;H++){const J=Q.components[H];if(ae>J.codingStyleParameters.decompositionLevelsCount)continue;const re=J.resolutions[ae],oe=re.precinctParameters.numprecincts;if(!(q>=oe)){for(;Z<ee;){const ue=o(re,q,Z);return Z++,ue}Z=0}}H=0}q=0}throw new s("Out of packets")}}function k(Y){const F=Y.SIZ,D=Y.currentTile.index,Q=Y.tiles[D],ee=Q.codingStyleDefaultParameters.layersCount,V=F.Csiz,Z=L(Q),ae=Z;let H=0,q=0,ne=0,le=0,se=0;this.nextPacket=function(){for(;se<ae.maxNumHigh;se++){for(;le<ae.maxNumWide;le++){for(;ne<V;ne++){const re=Q.components[ne],oe=re.codingStyleParameters.decompositionLevelsCount;for(;q<=oe;q++){const ue=re.resolutions[q],he=Z.components[ne].resolutions[q],de=O(le,se,he,ae,ue);if(de!==null){for(;H<ee;){const pe=o(ue,de,H);return H++,pe}H=0}}q=0}ne=0}le=0}throw new s("Out of packets")}}function M(Y){const F=Y.SIZ,D=Y.currentTile.index,Q=Y.tiles[D],ee=Q.codingStyleDefaultParameters.layersCount,V=F.Csiz,Z=L(Q);let ae=0,H=0,q=0,ne=0,le=0;this.nextPacket=function(){for(;q<V;++q){const J=Q.components[q],re=Z.components[q],oe=J.codingStyleParameters.decompositionLevelsCount;for(;le<re.maxNumHigh;le++){for(;ne<re.maxNumWide;ne++){for(;H<=oe;H++){const ue=J.resolutions[H],he=re.resolutions[H],de=O(ne,le,he,re,ue);if(de!==null){for(;ae<ee;){const pe=o(ue,de,ae);return ae++,pe}ae=0}}H=0}ne=0}le=0}throw new s("Out of packets")}}function O(Y,F,D,Q,ee){const V=Y*Q.minWidth,Z=F*Q.minHeight;if(V%D.width!==0||Z%D.height!==0)return null;const ae=Z/D.width*ee.precinctParameters.numprecinctswide;return V/D.height+ae}function L(Y){const F=Y.components.length;let D=Number.MAX_VALUE,Q=Number.MAX_VALUE,ee=0,V=0;const Z=new Array(F);for(let ae=0;ae<F;ae++){const H=Y.components[ae],q=H.codingStyleParameters.decompositionLevelsCount,ne=new Array(q+1);let le=Number.MAX_VALUE,se=Number.MAX_VALUE,J=0,re=0,oe=1;for(let ue=q;ue>=0;--ue){const he=H.resolutions[ue],de=oe*he.precinctParameters.precinctWidth,pe=oe*he.precinctParameters.precinctHeight;le=Math.min(le,de),se=Math.min(se,pe),J=Math.max(J,he.precinctParameters.numprecinctswide),re=Math.max(re,he.precinctParameters.numprecinctshigh),ne[ue]={width:de,height:pe},oe<<=1}D=Math.min(D,le),Q=Math.min(Q,se),ee=Math.max(ee,J),V=Math.max(V,re),Z[ae]={resolutions:ne,minWidth:le,minHeight:se,maxNumWide:J,maxNumHigh:re}}return{components:Z,minWidth:D,minHeight:Q,maxNumWide:ee,maxNumHigh:V}}function te(Y){const F=Y.SIZ,D=Y.currentTile.index,Q=Y.tiles[D],ee=F.Csiz;for(let Z=0;Z<ee;Z++){const ae=Q.components[Z],H=ae.codingStyleParameters.decompositionLevelsCount,q=[],ne=[];for(let le=0;le<=H;le++){const se=y(Y,ae,le),J={},re=1<<H-le;J.trx0=Math.ceil(ae.tcx0/re),J.try0=Math.ceil(ae.tcy0/re),J.trx1=Math.ceil(ae.tcx1/re),J.try1=Math.ceil(ae.tcy1/re),J.resLevel=le,b(Y,J,se),q.push(J);let oe;if(le===0)oe={},oe.type="LL",oe.tbx0=Math.ceil(ae.tcx0/re),oe.tby0=Math.ceil(ae.tcy0/re),oe.tbx1=Math.ceil(ae.tcx1/re),oe.tby1=Math.ceil(ae.tcy1/re),oe.resolution=J,v(Y,oe,se),ne.push(oe),J.subbands=[oe];else{const ue=1<<H-le+1,he=[];oe={},oe.type="HL",oe.tbx0=Math.ceil(ae.tcx0/ue-.5),oe.tby0=Math.ceil(ae.tcy0/ue),oe.tbx1=Math.ceil(ae.tcx1/ue-.5),oe.tby1=Math.ceil(ae.tcy1/ue),oe.resolution=J,v(Y,oe,se),ne.push(oe),he.push(oe),oe={},oe.type="LH",oe.tbx0=Math.ceil(ae.tcx0/ue),oe.tby0=Math.ceil(ae.tcy0/ue-.5),oe.tbx1=Math.ceil(ae.tcx1/ue),oe.tby1=Math.ceil(ae.tcy1/ue-.5),oe.resolution=J,v(Y,oe,se),ne.push(oe),he.push(oe),oe={},oe.type="HH",oe.tbx0=Math.ceil(ae.tcx0/ue-.5),oe.tby0=Math.ceil(ae.tcy0/ue-.5),oe.tbx1=Math.ceil(ae.tcx1/ue-.5),oe.tby1=Math.ceil(ae.tcy1/ue-.5),oe.resolution=J,v(Y,oe,se),ne.push(oe),he.push(oe),J.subbands=he}}ae.resolutions=q,ae.subbands=ne}const V=Q.codingStyleDefaultParameters.progressionOrder;switch(V){case 0:Q.packetsIterator=new S(Y);break;case 1:Q.packetsIterator=new T(Y);break;case 2:Q.packetsIterator=new E(Y);break;case 3:Q.packetsIterator=new k(Y);break;case 4:Q.packetsIterator=new M(Y);break;default:throw new s(`Unsupported progression order ${V}`)}}function B(Y,F,D,Q){let ee=0,V,Z=0,ae=!1;function H(de){for(;Z<de;){const pe=F[D+ee];ee++,ae?(V=V<<7|pe,Z+=7,ae=!1):(V=V<<8|pe,Z+=8),pe===255&&(ae=!0)}return Z-=de,V>>>Z&(1<<de)-1}function q(de){return F[D+ee-1]===255&&F[D+ee]===de?(ne(1),!0):F[D+ee]===255&&F[D+ee+1]===de?(ne(2),!0):!1}function ne(de){ee+=de}function le(){Z=0,ae&&(ee++,ae=!1)}function se(){if(H(1)===0)return 1;if(H(1)===0)return 2;let de=H(2);return de<3?de+3:(de=H(5),de<31?de+6:(de=H(7),de+37))}const J=Y.currentTile.index,re=Y.tiles[J],oe=Y.COD.sopMarkerUsed,ue=Y.COD.ephMarkerUsed,he=re.packetsIterator;for(;ee<Q;){le(),oe&&q(145)&&ne(4);const de=he.nextPacket();if(!H(1))continue;const pe=de.layerNumber,fe=[];let be;for(let ge=0,Se=de.codeblocks.length;ge<Se;ge++){be=de.codeblocks[ge];let ve=be.precinct;const we=be.cbx-ve.cbxMin,Fe=be.cby-ve.cbyMin;let Ce=!1,ye=!1,ke,De;if(be.included!==void 0)Ce=!!H(1);else{ve=be.precinct;let Oe;if(ve.inclusionTree!==void 0)Oe=ve.inclusionTree;else{const Le=ve.cbxMax-ve.cbxMin+1,Pe=ve.cbyMax-ve.cbyMin+1;Oe=new A(Le,Pe,pe),De=new P(Le,Pe),ve.inclusionTree=Oe,ve.zeroBitPlanesTree=De;for(let $e=0;$e<pe;$e++)if(H(1)!==0)throw new s("Invalid tag tree")}if(Oe.reset(we,Fe,pe))for(;;)if(H(1)){if(ke=!Oe.nextLevel(),ke){be.included=!0,Ce=ye=!0;break}}else{Oe.incrementValue(pe);break}}if(!Ce)continue;if(ye){for(De=ve.zeroBitPlanesTree,De.reset(we,Fe);;)if(H(1)){if(ke=!De.nextLevel(),ke)break}else De.incrementValue();be.zeroBitPlanes=De.value}const Ie=se();for(;H(1);)be.Lblock++;const Me=(0,i.log2)(Ie),Ne=(Ie<1<<Me?Me-1:Me)+be.Lblock,Re=H(Ne);fe.push({codeblock:be,codingpasses:Ie,dataLength:Re})}for(le(),ue&&q(146);fe.length>0;){const ge=fe.shift();be=ge.codeblock,be.data===void 0&&(be.data=[]),be.data.push({data:F,start:D+ee,end:D+ee+ge.dataLength,codingpasses:ge.codingpasses}),ee+=ge.dataLength}}return ee}function G(Y,F,D,Q,ee,V,Z,ae,H){const q=Q.tbx0,ne=Q.tby0,le=Q.tbx1-Q.tbx0,se=Q.codeblocks,J=Q.type.charAt(0)==="H"?1:0,re=Q.type.charAt(1)==="H"?F:0;for(let oe=0,ue=se.length;oe<ue;++oe){const he=se[oe],de=he.tbx1_-he.tbx0_,pe=he.tby1_-he.tby0_;if(de===0||pe===0||he.data===void 0)continue;const fe=new z(de,pe,he.subbandType,he.zeroBitPlanes,V);let be=2;const ge=he.data;let Se=0,ve=0,we,Fe,Ce;for(we=0,Fe=ge.length;we<Fe;we++)Ce=ge[we],Se+=Ce.end-Ce.start,ve+=Ce.codingpasses;const ye=new Uint8Array(Se);let ke=0;for(we=0,Fe=ge.length;we<Fe;we++){Ce=ge[we];const Te=Ce.data.subarray(Ce.start,Ce.end);ye.set(Te,ke),ke+=Te.length}const De=new c.ArithmeticDecoder(ye,0,Se);for(fe.setDecoder(De),we=0;we<ve;we++){switch(be){case 0:fe.runSignificancePropagationPass();break;case 1:fe.runMagnitudeRefinementPass();break;case 2:fe.runCleanupPass(),ae&&fe.checkSegmentationSymbol();break}H&&fe.reset(),be=(be+1)%3}let Ie=he.tbx0_-q+(he.tby0_-ne)*le;const Me=fe.coefficentsSign,Ne=fe.coefficentsMagnitude,Re=fe.bitsDecoded,Oe=Z?0:.5;let Le,Pe,$e;ke=0;const je=Q.type!=="LL";for(we=0;we<pe;we++){const Ae=2*(Ie/le|0)*(F-le)+J+re;for(Le=0;Le<de;Le++){if(Pe=Ne[ke],Pe!==0){Pe=(Pe+Oe)*ee,Me[ke]!==0&&(Pe=-Pe),$e=Re[ke];const Ee=je?Ae+(Ie<<1):Ie;Z&&$e>=V?Y[Ee]=Pe:Y[Ee]=Pe*(1<<V-$e)}Ie++,ke++}Ie+=le-de}}}function R(Y,F,D){const Q=F.components[D],ee=Q.codingStyleParameters,V=Q.quantizationParameters,Z=ee.decompositionLevelsCount,ae=V.SPqcds,H=V.scalarExpounded,q=V.guardBits,ne=ee.segmentationSymbolUsed,le=ee.resetContextProbabilities,se=Y.components[D].precision,J=ee.reversibleTransformation,re=J?new ie:new W,oe=[];let ue=0;for(let de=0;de<=Z;de++){const pe=Q.resolutions[de],fe=pe.trx1-pe.trx0,be=pe.try1-pe.try0,ge=new Float32Array(fe*be);for(let Se=0,ve=pe.subbands.length;Se<ve;Se++){let we,Fe;H?(we=ae[ue].mu,Fe=ae[ue].epsilon,ue++):(we=ae[0].mu,Fe=ae[0].epsilon+(de>0?1-de:0));const Ce=pe.subbands[Se],ye=e[Ce.type],ke=J?1:2**(se+ye-Fe)*(1+we/2048),De=q+Fe-1;G(ge,fe,be,Ce,ke,De,J,ne,le)}oe.push({width:fe,height:be,items:ge})}const he=re.calculate(oe,Q.tcx0,Q.tcy0);return{left:Q.tcx0,top:Q.tcy0,width:he.width,height:he.height,items:he.items}}function I(Y){const F=Y.SIZ,D=Y.components,Q=F.Csiz,ee=[];for(let V=0,Z=Y.tiles.length;V<Z;V++){const ae=Y.tiles[V],H=[];for(let fe=0;fe<Q;fe++)H[fe]=R(Y,ae,fe);const q=H[0],ne=new Uint8ClampedArray(q.items.length*Q),le={left:q.left,top:q.top,width:q.width,height:q.height,items:ne};let se,J,re=0,oe,ue,he,de,pe;if(ae.codingStyleDefaultParameters.multipleComponentTransform){const fe=Q===4,be=H[0].items,ge=H[1].items,Se=H[2].items,ve=fe?H[3].items:null;se=D[0].precision-8,J=(128<<se)+.5;const we=ae.components[0],Fe=Q-3;if(ue=be.length,we.codingStyleParameters.reversibleTransformation)for(oe=0;oe<ue;oe++,re+=Fe){he=be[oe]+J,de=ge[oe],pe=Se[oe];const Ce=he-(pe+de>>2);ne[re++]=Ce+pe>>se,ne[re++]=Ce>>se,ne[re++]=Ce+de>>se}else for(oe=0;oe<ue;oe++,re+=Fe)he=be[oe]+J,de=ge[oe],pe=Se[oe],ne[re++]=he+1.402*pe>>se,ne[re++]=he-.34413*de-.71414*pe>>se,ne[re++]=he+1.772*de>>se;if(fe)for(oe=0,re=3;oe<ue;oe++,re+=4)ne[re]=ve[oe]+J>>se}else for(let fe=0;fe<Q;fe++){const be=H[fe].items;for(se=D[fe].precision-8,J=(128<<se)+.5,re=fe,oe=0,ue=be.length;oe<ue;oe++)ne[re]=be[oe]+J>>se,re+=Q}ee.push(le)}return ee}function U(Y,F){const Q=Y.SIZ.Csiz,ee=Y.tiles[F];for(let V=0;V<Q;V++){const Z=ee.components[V],ae=Y.currentTile.QCC[V]!==void 0?Y.currentTile.QCC[V]:Y.currentTile.QCD;Z.quantizationParameters=ae;const H=Y.currentTile.COC[V]!==void 0?Y.currentTile.COC[V]:Y.currentTile.COD;Z.codingStyleParameters=H}ee.codingStyleDefaultParameters=Y.currentTile.COD}class P{constructor(F,D){const Q=(0,i.log2)(Math.max(F,D))+1;this.levels=[];for(let ee=0;ee<Q;ee++){const V={width:F,height:D,items:[]};this.levels.push(V),F=Math.ceil(F/2),D=Math.ceil(D/2)}}reset(F,D){let Q=0,ee=0,V;for(;Q<this.levels.length;){V=this.levels[Q];const Z=F+D*V.width;if(V.items[Z]!==void 0){ee=V.items[Z];break}V.index=Z,F>>=1,D>>=1,Q++}Q--,V=this.levels[Q],V.items[V.index]=ee,this.currentLevel=Q,delete this.value}incrementValue(){const F=this.levels[this.currentLevel];F.items[F.index]++}nextLevel(){let F=this.currentLevel,D=this.levels[F];const Q=D.items[D.index];return F--,F<0?(this.value=Q,!1):(this.currentLevel=F,D=this.levels[F],D.items[D.index]=Q,!0)}}class A{constructor(F,D,Q){const ee=(0,i.log2)(Math.max(F,D))+1;this.levels=[];for(let V=0;V<ee;V++){const Z=new Uint8Array(F*D);for(let H=0,q=Z.length;H<q;H++)Z[H]=Q;const ae={width:F,height:D,items:Z};this.levels.push(ae),F=Math.ceil(F/2),D=Math.ceil(D/2)}}reset(F,D,Q){let ee=0;for(;ee<this.levels.length;){const V=this.levels[ee],Z=F+D*V.width;V.index=Z;const ae=V.items[Z];if(ae===255)break;if(ae>Q)return this.currentLevel=ee,this.propagateValues(),!1;F>>=1,D>>=1,ee++}return this.currentLevel=ee-1,!0}incrementValue(F){const D=this.levels[this.currentLevel];D.items[D.index]=F+1,this.propagateValues()}propagateValues(){let F=this.currentLevel,D=this.levels[F];const Q=D.items[D.index];for(;--F>=0;)D=this.levels[F],D.items[D.index]=Q}nextLevel(){let F=this.currentLevel,D=this.levels[F];const Q=D.items[D.index];return D.items[D.index]=255,F--,F<0?!1:(this.currentLevel=F,D=this.levels[F],D.items[D.index]=Q,!0)}}const z=function(){const Q=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),ee=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),V=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);class Z{constructor(H,q,ne,le,se){this.width=H,this.height=q;let J;ne==="HH"?J=V:ne==="HL"?J=ee:J=Q,this.contextLabelTable=J;const re=H*q;this.neighborsSignificance=new Uint8Array(re),this.coefficentsSign=new Uint8Array(re);let oe;se>14?oe=new Uint32Array(re):se>6?oe=new Uint16Array(re):oe=new Uint8Array(re),this.coefficentsMagnitude=oe,this.processingFlags=new Uint8Array(re);const ue=new Uint8Array(re);if(le!==0)for(let he=0;he<re;he++)ue[he]=le;this.bitsDecoded=ue,this.reset()}setDecoder(H){this.decoder=H}reset(){this.contexts=new Int8Array(19),this.contexts[0]=4<<1|0,this.contexts[17]=46<<1|0,this.contexts[18]=3<<1|0}setNeighborsSignificance(H,q,ne){const le=this.neighborsSignificance,se=this.width,J=this.height,re=q>0,oe=q+1<se;let ue;H>0&&(ue=ne-se,re&&(le[ue-1]+=16),oe&&(le[ue+1]+=16),le[ue]+=4),H+1<J&&(ue=ne+se,re&&(le[ue-1]+=16),oe&&(le[ue+1]+=16),le[ue]+=4),re&&(le[ne-1]+=1),oe&&(le[ne+1]+=1),le[ne]|=128}runSignificancePropagationPass(){const H=this.decoder,q=this.width,ne=this.height,le=this.coefficentsMagnitude,se=this.coefficentsSign,J=this.neighborsSignificance,re=this.processingFlags,oe=this.contexts,ue=this.contextLabelTable,he=this.bitsDecoded,de=-2,pe=1,fe=2;for(let be=0;be<ne;be+=4)for(let ge=0;ge<q;ge++){let Se=be*q+ge;for(let ve=0;ve<4;ve++,Se+=q){const we=be+ve;if(we>=ne)break;if(re[Se]&=de,le[Se]||!J[Se])continue;const Fe=ue[J[Se]];if(H.readBit(oe,Fe)){const ye=this.decodeSignBit(we,ge,Se);se[Se]=ye,le[Se]=1,this.setNeighborsSignificance(we,ge,Se),re[Se]|=fe}he[Se]++,re[Se]|=pe}}}decodeSignBit(H,q,ne){const le=this.width,se=this.height,J=this.coefficentsMagnitude,re=this.coefficentsSign;let oe,ue,he,de,pe,fe;de=q>0&&J[ne-1]!==0,q+1<le&&J[ne+1]!==0?(he=re[ne+1],de?(ue=re[ne-1],oe=1-he-ue):oe=1-he-he):de?(ue=re[ne-1],oe=1-ue-ue):oe=0;const be=3*oe;return de=H>0&&J[ne-le]!==0,H+1<se&&J[ne+le]!==0?(he=re[ne+le],de?(ue=re[ne-le],oe=1-he-ue+be):oe=1-he-he+be):de?(ue=re[ne-le],oe=1-ue-ue+be):oe=be,oe>=0?(pe=9+oe,fe=this.decoder.readBit(this.contexts,pe)):(pe=9-oe,fe=this.decoder.readBit(this.contexts,pe)^1),fe}runMagnitudeRefinementPass(){const H=this.decoder,q=this.width,ne=this.height,le=this.coefficentsMagnitude,se=this.neighborsSignificance,J=this.contexts,re=this.bitsDecoded,oe=this.processingFlags,ue=1,he=2,de=q*ne,pe=q*4;for(let fe=0,be;fe<de;fe=be){be=Math.min(de,fe+pe);for(let ge=0;ge<q;ge++)for(let Se=fe+ge;Se<be;Se+=q){if(!le[Se]||oe[Se]&ue)continue;let ve=16;oe[Se]&he&&(oe[Se]^=he,ve=(se[Se]&127)===0?15:14);const we=H.readBit(J,ve);le[Se]=le[Se]<<1|we,re[Se]++,oe[Se]|=ue}}}runCleanupPass(){const H=this.decoder,q=this.width,ne=this.height,le=this.neighborsSignificance,se=this.coefficentsMagnitude,J=this.coefficentsSign,re=this.contexts,oe=this.contextLabelTable,ue=this.bitsDecoded,he=this.processingFlags,de=1,pe=2,fe=q,be=q*2,ge=q*3;let Se;for(let ve=0;ve<ne;ve=Se){Se=Math.min(ve+4,ne);const we=ve*q,Fe=ve+3<ne;for(let Ce=0;Ce<q;Ce++){const ye=we+Ce,ke=Fe&&he[ye]===0&&he[ye+fe]===0&&he[ye+be]===0&&he[ye+ge]===0&&le[ye]===0&&le[ye+fe]===0&&le[ye+be]===0&&le[ye+ge]===0;let De=0,Ie=ye,Me=ve,Ne;if(ke){if(!H.readBit(re,18)){ue[ye]++,ue[ye+fe]++,ue[ye+be]++,ue[ye+ge]++;continue}De=H.readBit(re,17)<<1|H.readBit(re,17),De!==0&&(Me=ve+De,Ie+=De*q),Ne=this.decodeSignBit(Me,Ce,Ie),J[Ie]=Ne,se[Ie]=1,this.setNeighborsSignificance(Me,Ce,Ie),he[Ie]|=pe,Ie=ye;for(let Oe=ve;Oe<=Me;Oe++,Ie+=q)ue[Ie]++;De++}for(Me=ve+De;Me<Se;Me++,Ie+=q){if(se[Ie]||he[Ie]&de)continue;const Re=oe[le[Ie]];H.readBit(re,Re)===1&&(Ne=this.decodeSignBit(Me,Ce,Ie),J[Ie]=Ne,se[Ie]=1,this.setNeighborsSignificance(Me,Ce,Ie),he[Ie]|=pe),ue[Ie]++}}}}checkSegmentationSymbol(){const H=this.decoder,q=this.contexts;if((H.readBit(q,17)<<3|H.readBit(q,17)<<2|H.readBit(q,17)<<1|H.readBit(q,17))!==10)throw new s("Invalid segmentation symbol")}}return Z}();class N{constructor(){this.constructor===N&&(0,t.unreachable)("Cannot initialize Transform.")}calculate(F,D,Q){let ee=F[0];for(let V=1,Z=F.length;V<Z;V++)ee=this.iterate(ee,F[V],D,Q);return ee}extend(F,D,Q){let ee=D-1,V=D+1,Z=D+Q-2,ae=D+Q;F[ee--]=F[V++],F[ae++]=F[Z--],F[ee--]=F[V++],F[ae++]=F[Z--],F[ee--]=F[V++],F[ae++]=F[Z--],F[ee]=F[V],F[ae]=F[Z]}filter(F,D,Q){(0,t.unreachable)("Abstract method `filter` called")}iterate(F,D,Q,ee){const V=F.width,Z=F.height;let ae=F.items;const H=D.width,q=D.height,ne=D.items;let le,se,J,re,oe,ue;for(J=0,le=0;le<Z;le++)for(re=le*2*H,se=0;se<V;se++,J++,re+=2)ne[re]=ae[J];ae=F.items=null;const he=4,de=new Float32Array(H+2*he);if(H===1){if(Q&1)for(ue=0,J=0;ue<q;ue++,J+=H)ne[J]*=.5}else for(ue=0,J=0;ue<q;ue++,J+=H)de.set(ne.subarray(J,J+H),he),this.extend(de,he,H),this.filter(de,he,H),ne.set(de.subarray(he,he+H),J);let pe=16;const fe=[];for(le=0;le<pe;le++)fe.push(new Float32Array(q+2*he));let be,ge=0;if(F=he+q,q===1){if(ee&1)for(oe=0;oe<H;oe++)ne[oe]*=.5}else for(oe=0;oe<H;oe++){if(ge===0){for(pe=Math.min(H-oe,pe),J=oe,re=he;re<F;J+=H,re++)for(be=0;be<pe;be++)fe[be][re]=ne[J+be];ge=pe}ge--;const Se=fe[ge];if(this.extend(Se,he,q),this.filter(Se,he,q),ge===0)for(J=oe-pe+1,re=he;re<F;J+=H,re++)for(be=0;be<pe;be++)ne[J+be]=fe[be][re]}return{width:H,height:q,items:ne}}}class W extends N{filter(F,D,Q){const ee=Q>>1;D|=0;let V,Z,ae,H;const q=-1.586134342059924,ne=-.052980118572961,le=.882911075530934,se=.443506852043971,J=1.230174104914001,re=1/J;for(V=D-3,Z=ee+4;Z--;V+=2)F[V]*=re;for(V=D-2,ae=se*F[V-1],Z=ee+3;Z--&&(H=se*F[V+1],F[V]=J*F[V]-ae-H,Z--);V+=2)V+=2,ae=se*F[V+1],F[V]=J*F[V]-ae-H;for(V=D-1,ae=le*F[V-1],Z=ee+2;Z--&&(H=le*F[V+1],F[V]-=ae+H,Z--);V+=2)V+=2,ae=le*F[V+1],F[V]-=ae+H;for(V=D,ae=ne*F[V-1],Z=ee+1;Z--&&(H=ne*F[V+1],F[V]-=ae+H,Z--);V+=2)V+=2,ae=ne*F[V+1],F[V]-=ae+H;if(ee!==0)for(V=D+1,ae=q*F[V-1],Z=ee;Z--&&(H=q*F[V+1],F[V]-=ae+H,Z--);V+=2)V+=2,ae=q*F[V+1],F[V]-=ae+H}}class ie extends N{filter(F,D,Q){const ee=Q>>1;D|=0;let V,Z;for(V=D,Z=ee+1;Z--;V+=2)F[V]-=F[V-1]+F[V+1]+2>>2;for(V=D+1,Z=ee;Z--;V+=2)F[V]+=F[V-1]+F[V+1]>>1}}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LZWStream=void 0;var t=a(144);class i extends t.DecodeStream{constructor(s,e,u){super(e),this.str=s,this.dict=s.dict,this.cachedData=0,this.bitsCached=0;const m=4096,g={earlyChange:u,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(m),dictionaryLengths:new Uint16Array(m),dictionaryPrevCodes:new Uint16Array(m),currentSequence:new Uint8Array(m),currentSequenceLength:0};for(let y=0;y<256;++y)g.dictionaryValues[y]=y,g.dictionaryLengths[y]=1;this.lzwState=g}readBits(s){let e=this.bitsCached,u=this.cachedData;for(;e<s;){const m=this.str.getByte();if(m===-1)return this.eof=!0,null;u=u<<8|m,e+=8}return this.bitsCached=e-=s,this.cachedData=u,this.lastCode=null,u>>>e&(1<<s)-1}readBlock(){let u=1024,m,g,y;const b=this.lzwState;if(!b)return;const v=b.earlyChange;let o=b.nextCode;const S=b.dictionaryValues,T=b.dictionaryLengths,E=b.dictionaryPrevCodes;let k=b.codeLength,M=b.prevCode;const O=b.currentSequence;let L=b.currentSequenceLength,te=0,B=this.bufferLength,G=this.ensureBuffer(this.bufferLength+u);for(m=0;m<512;m++){const R=this.readBits(k),I=L>0;if(R<256)O[0]=R,L=1;else if(R>=258)if(R<o)for(L=T[R],g=L-1,y=R;g>=0;g--)O[g]=S[y],y=E[y];else O[L++]=O[0];else if(R===256){k=9,o=258,L=0;continue}else{this.eof=!0,delete this.lzwState;break}if(I&&(E[o]=M,T[o]=T[M]+1,S[o]=O[0],o++,k=o+v&o+v-1?k:Math.min(Math.log(o+v)/.6931471805599453+1,12)|0),M=R,te+=L,u<te){do u+=512;while(u<te);G=this.ensureBuffer(this.bufferLength+u)}for(g=0;g<L;g++)G[B++]=O[g]}b.nextCode=o,b.codeLength=k,b.prevCode=M,b.currentSequenceLength=L,this.bufferLength=B}}l.LZWStream=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PredictorStream=void 0;var t=a(144),i=a(130),c=a(2);class s extends t.DecodeStream{constructor(u,m,g){if(super(m),!(g instanceof i.Dict))return u;const y=this.predictor=g.get("Predictor")||1;if(y<=1)return u;if(y!==2&&(y<10||y>15))throw new c.FormatError(`Unsupported predictor: ${y}`);y===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=u,this.dict=u.dict;const b=this.colors=g.get("Colors")||1,v=this.bits=g.get("BPC","BitsPerComponent")||8,o=this.columns=g.get("Columns")||1;return this.pixBytes=b*v+7>>3,this.rowBytes=o*b*v+7>>3,this}readBlockTiff(){const u=this.rowBytes,m=this.bufferLength,g=this.ensureBuffer(m+u),y=this.bits,b=this.colors,v=this.str.getBytes(u);if(this.eof=!v.length,this.eof)return;let o=0,S=0,T=0,E=0,k=m,M;if(y===1&&b===1)for(M=0;M<u;++M){let O=v[M]^o;O^=O>>1,O^=O>>2,O^=O>>4,o=(O&1)<<7,g[k++]=O}else if(y===8){for(M=0;M<b;++M)g[k++]=v[M];for(;M<u;++M)g[k]=g[k-b]+v[M],k++}else if(y===16){const O=b*2;for(M=0;M<O;++M)g[k++]=v[M];for(;M<u;M+=2){const L=((v[M]&255)<<8)+(v[M+1]&255)+((g[k-O]&255)<<8)+(g[k-O+1]&255);g[k++]=L>>8&255,g[k++]=L&255}}else{const O=new Uint8Array(b+1),L=(1<<y)-1;let te=0,B=m;const G=this.columns;for(M=0;M<G;++M)for(let R=0;R<b;++R)T<y&&(o=o<<8|v[te++]&255,T+=8),O[R]=O[R]+(o>>T-y)&L,T-=y,S=S<<y|O[R],E+=y,E>=8&&(g[B++]=S>>E-8&255,E-=8);E>0&&(g[B++]=(S<<8-E)+(o&(1<<8-E)-1))}this.bufferLength+=u}readBlockPng(){const u=this.rowBytes,m=this.pixBytes,g=this.str.getByte(),y=this.str.getBytes(u);if(this.eof=!y.length,this.eof)return;const b=this.bufferLength,v=this.ensureBuffer(b+u);let o=v.subarray(b-u,b);o.length===0&&(o=new Uint8Array(u));let S,T=b,E,k;switch(g){case 0:for(S=0;S<u;++S)v[T++]=y[S];break;case 1:for(S=0;S<m;++S)v[T++]=y[S];for(;S<u;++S)v[T]=v[T-m]+y[S]&255,T++;break;case 2:for(S=0;S<u;++S)v[T++]=o[S]+y[S]&255;break;case 3:for(S=0;S<m;++S)v[T++]=(o[S]>>1)+y[S];for(;S<u;++S)v[T]=(o[S]+v[T-m]>>1)+y[S]&255,T++;break;case 4:for(S=0;S<m;++S)E=o[S],k=y[S],v[T++]=E+k;for(;S<u;++S){E=o[S];const M=o[S-m],O=v[T-m],L=O+E-M;let te=L-O;te<0&&(te=-te);let B=L-E;B<0&&(B=-B);let G=L-M;G<0&&(G=-G),k=y[S],te<=B&&te<=G?v[T++]=O+k:B<=G?v[T++]=E+k:v[T++]=M+k}break;default:throw new c.FormatError(`Unsupported predictor: ${g}`)}this.bufferLength+=u}}l.PredictorStream=s},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RunLengthStream=void 0;var t=a(144);class i extends t.DecodeStream{constructor(s,e){super(e),this.str=s,this.dict=s.dict}readBlock(){const s=this.str.getBytes(2);if(!s||s.length<2||s[0]===128){this.eof=!0;return}let e,u=this.bufferLength,m=s[0];if(m<128){if(e=this.ensureBuffer(u+m+1),e[u++]=s[1],m>0){const g=this.str.getBytes(m);e.set(g,u),u+=m}}else{m=257-m;const g=s[1];e=this.ensureBuffer(u+m+1);for(let y=0;y<m;y++)e[u++]=g}this.bufferLength=u}}l.RunLengthStream=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Font=l.ErrorFont=void 0;var t=a(2),i=a(160),c=a(163),s=a(165),e=a(164),u=a(162),m=a(166),g=a(167),y=a(168),b=a(169),v=a(170),o=a(171),S=a(141),T=a(172),E=a(131),k=a(135),M=a(173);const O=[[57344,63743],[1048576,1114109]],L=1e3,te=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],B=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function G(pe){if(!pe.fontMatrix||pe.fontMatrix[0]===t.FONT_IDENTITY_MATRIX[0])return;const fe=.001/pe.fontMatrix[0],be=pe.widths;for(const ge in be)be[ge]*=fe;pe.defaultWidth*=fe}function R(pe,fe){if(pe.isInternalFont||fe===pe.defaultEncoding||pe.toUnicode instanceof g.IdentityToUnicodeMap)return;const be=[],ge=(0,e.getGlyphsUnicode)();for(const Se in fe){if(pe.hasIncludedToUnicodeMap){if(pe.toUnicode.has(Se))continue}else if(pe.hasEncoding&&(pe.differences.length===0||pe.differences[Se]!==void 0))continue;const ve=fe[Se],we=(0,s.getUnicodeForGlyph)(ve,ge);we!==-1&&(be[Se]=String.fromCharCode(we))}be.length>0&&pe.toUnicode.amend(be)}function I(pe){if(!pe.fallbackToUnicode||pe.toUnicode instanceof g.IdentityToUnicodeMap)return;const fe=[];for(const be in pe.fallbackToUnicode)pe.toUnicode.has(be)||(fe[be]=pe.fallbackToUnicode[be]);fe.length>0&&pe.toUnicode.amend(fe)}class U{constructor(fe,be,ge,Se,ve,we,Fe,Ce,ye){this.originalCharCode=fe,this.fontChar=be,this.unicode=ge,this.accent=Se,this.width=ve,this.vmetric=we,this.operatorListId=Fe,this.isSpace=Ce,this.isInFont=ye;const ke=(0,s.getCharUnicodeCategory)(ge);this.isWhitespace=ke.isWhitespace,this.isZeroWidthDiacritic=ke.isZeroWidthDiacritic,this.isInvisibleFormatMark=ke.isInvisibleFormatMark}matchesForCache(fe,be,ge,Se,ve,we,Fe,Ce,ye){return this.originalCharCode===fe&&this.fontChar===be&&this.unicode===ge&&this.accent===Se&&this.width===ve&&this.vmetric===we&&this.operatorListId===Fe&&this.isSpace===Ce&&this.isInFont===ye}}function P(pe,fe){return(pe<<8)+fe}function A(pe,fe,be){pe[fe+1]=be,pe[fe]=be>>>8}function z(pe,fe){const be=(pe<<8)+fe;return be&32768?be-65536:be}function N(pe,fe,be,ge){return(pe<<24)+(fe<<16)+(be<<8)+ge}function W(pe){return String.fromCharCode(pe>>8&255,pe&255)}function ie(pe){return pe>32767?pe=32767:pe<-32768&&(pe=-32768),String.fromCharCode(pe>>8&255,pe&255)}function Y(pe){const fe=pe.peekBytes(4);return(0,E.readUint32)(fe,0)===65536||(0,t.bytesToString)(fe)==="true"}function F(pe){const fe=pe.peekBytes(4);return(0,t.bytesToString)(fe)==="ttcf"}function D(pe){const fe=pe.peekBytes(4);return(0,t.bytesToString)(fe)==="OTTO"}function Q(pe){const fe=pe.peekBytes(2);return fe[0]===37&&fe[1]===33||fe[0]===128&&fe[1]===1}function ee(pe){const fe=pe.peekBytes(4);return fe[0]>=1&&fe[3]>=1&&fe[3]<=4}function V(pe,fe){let{type:be,subtype:ge,composite:Se}=fe,ve,we;return Y(pe)||F(pe)?Se?ve="CIDFontType2":ve="TrueType":D(pe)?Se?ve="CIDFontType2":ve="OpenType":Q(pe)?Se?ve="CIDFontType0":ve=be==="MMType1"?"MMType1":"Type1":ee(pe)?Se?(ve="CIDFontType0",we="CIDFontType0C"):(ve=be==="MMType1"?"MMType1":"Type1",we="Type1C"):((0,t.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ve=be,we=ge),[ve,we]}function Z(pe,fe){for(const be in fe)pe[+be]=fe[be]}function ae(pe,fe,be){const ge=[];let Se;for(let ve=0,we=pe.length;ve<we;ve++)Se=(0,s.getUnicodeForGlyph)(pe[ve],fe),Se!==-1&&(ge[ve]=Se);for(const ve in be)Se=(0,s.getUnicodeForGlyph)(be[ve],fe),Se!==-1&&(ge[+ve]=Se);return ge}function H(pe,fe){let be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;switch(fe.length){case 1:return fe.charCodeAt(0);case 2:return fe.charCodeAt(0)<<8|fe.charCodeAt(1)}const ge=`Unsupported CID string (charCode ${pe}): "${fe}".`;if(be)throw new t.FormatError(ge);return(0,t.warn)(ge),fe}function q(pe,fe,be,ge){const Se=Object.create(null),ve=new Map,we=[],Fe=new Set;let Ce=0;const ye=O[Ce][0];let ke=ye,De=O[Ce][1];for(let Ie in pe){Ie|=0;let Me=pe[Ie];if(!fe(Me))continue;if(ke>De){if(Ce++,Ce>=O.length){(0,t.warn)("Ran out of space in font private use area.");break}ke=O[Ce][0],De=O[Ce][1]}const Ne=ke++;Me===0&&(Me=be);let Re=ge.get(Ie);typeof Re=="string"&&(Re=Re.codePointAt(0)),Re&&Re<ye&&!Fe.has(Me)&&(ve.set(Re,Me),Fe.add(Me)),Se[Ne]=Me,we[Ie]=Ne}return{toFontChar:we,charCodeToGlyphId:Se,toUnicodeExtraMap:ve,nextAvailableFontCharCode:ke}}function ne(pe,fe,be){const ge=[];for(const we in pe)pe[we]>=be||ge.push({fontCharCode:we|0,glyphId:pe[we]});if(fe)for(const[we,Fe]of fe)Fe>=be||ge.push({fontCharCode:we,glyphId:Fe});ge.length===0&&ge.push({fontCharCode:0,glyphId:0}),ge.sort(function(Fe,Ce){return Fe.fontCharCode-Ce.fontCharCode});const Se=[],ve=ge.length;for(let we=0;we<ve;){const Fe=ge[we].fontCharCode,Ce=[ge[we].glyphId];++we;let ye=Fe;for(;we<ve&&ye+1===ge[we].fontCharCode&&(Ce.push(ge[we].glyphId),++ye,++we,ye!==65535););Se.push([Fe,ye,Ce])}return Se}function le(pe,fe,be){const ge=ne(pe,fe,be),Se=ge.at(-1)[1]>65535?2:1;let ve="\0\0"+W(Se)+"\0\0"+(0,t.string32)(4+Se*8),we,Fe,Ce,ye;for(we=ge.length-1;we>=0&&!(ge[we][0]<=65535);--we);const ke=we+1;ge[we][0]<65535&&ge[we][1]===65535&&(ge[we][1]=65534);const De=ge[we][1]<65535?1:0,Ie=ke+De,Me=T.OpenTypeFileBuilder.getSearchParams(Ie,2);let Ne="",Re="",Oe="",Le="",Pe="",$e=0,je,Te,Ae,Ee;for(we=0,Fe=ke;we<Fe;we++){je=ge[we],Te=je[0],Ae=je[1],Ne+=W(Te),Re+=W(Ae),Ee=je[2];let tt=!0;for(Ce=1,ye=Ee.length;Ce<ye;++Ce)if(Ee[Ce]!==Ee[Ce-1]+1){tt=!1;break}if(tt){const Ze=Ee[0];Oe+=W(Ze-Te&65535),Le+=W(0)}else{const Ze=(Ie-we)*2+$e*2;for($e+=Ae-Te+1,Oe+=W(0),Le+=W(Ze),Ce=0,ye=Ee.length;Ce<ye;++Ce)Pe+=W(Ee[Ce])}}De>0&&(Re+="",Ne+="",Oe+="\0",Le+="\0\0");const Be="\0\0"+W(2*Ie)+W(Me.range)+W(Me.entry)+W(Me.rangeShift)+Re+"\0\0"+Ne+Oe+Le+Pe;let ze="",We="";if(Se>1){for(ve+=`\0\0
`+(0,t.string32)(4+Se*8+4+Be.length),ze="",we=0,Fe=ge.length;we<Fe;we++){je=ge[we],Te=je[0],Ee=je[2];let tt=Ee[0];for(Ce=1,ye=Ee.length;Ce<ye;++Ce)Ee[Ce]!==Ee[Ce-1]+1&&(Ae=je[0]+Ce-1,ze+=(0,t.string32)(Te)+(0,t.string32)(Ae)+(0,t.string32)(tt),Te=Ae+1,tt=Ee[Ce]);ze+=(0,t.string32)(Te)+(0,t.string32)(je[1])+(0,t.string32)(tt)}We="\0\f\0\0"+(0,t.string32)(ze.length+16)+"\0\0\0\0"+(0,t.string32)(ze.length/12)}return ve+"\0"+W(Be.length+4)+Be+We+ze}function se(pe,fe){fe.pos=(fe.start||0)+pe.offset;const be=fe.getUint16();fe.skip(60);const ge=fe.getUint16();if(be<4&&ge&768)return!1;const Se=fe.getUint16(),ve=fe.getUint16();return Se>ve||(fe.skip(6),fe.getUint16()===0)?!1:(pe.data[8]=pe.data[9]=0,!0)}function J(pe,fe,be){be=be||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let ge=0,Se=0,ve=0,we=0,Fe=null,Ce=0;if(fe){for(let Oe in fe){Oe|=0,(Fe>Oe||!Fe)&&(Fe=Oe),Ce<Oe&&(Ce=Oe);const Le=(0,s.getUnicodeRangeFor)(Oe);if(Le<32)ge|=1<<Le;else if(Le<64)Se|=1<<Le-32;else if(Le<96)ve|=1<<Le-64;else if(Le<123)we|=1<<Le-96;else throw new t.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}Ce>65535&&(Ce=65535)}else Fe=0,Ce=255;const ye=pe.bbox||[0,0,0,0],ke=be.unitsPerEm||1/(pe.fontMatrix||t.FONT_IDENTITY_MATRIX)[0],De=pe.ascentScaled?1:ke/L,Ie=be.ascent||Math.round(De*(pe.ascent||ye[3]));let Me=be.descent||Math.round(De*(pe.descent||ye[1]));Me>0&&pe.descent>0&&ye[1]<0&&(Me=-Me);const Ne=be.yMax||Ie,Re=-be.yMin||-Me;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(pe.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,t.string32)(ge)+(0,t.string32)(Se)+(0,t.string32)(ve)+(0,t.string32)(we)+"*21*"+W(pe.italicAngle?1:0)+W(Fe||pe.firstChar)+W(Ce||pe.lastChar)+W(Ie)+W(Me)+"\0d"+W(Ne)+W(Re)+"\0\0\0\0\0\0\0\0"+W(pe.xHeight)+W(pe.capHeight)+W(0)+W(Fe||pe.firstChar)+"\0"}function re(pe){const fe=Math.floor(pe.italicAngle*65536);return"\0\0\0"+(0,t.string32)(fe)+"\0\0\0\0"+(0,t.string32)(pe.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function oe(pe){return pe.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function ue(pe,fe){fe||(fe=[[],[]]);const be=[fe[0][0]||"Original licence",fe[0][1]||pe,fe[0][2]||"Unknown",fe[0][3]||"uniqueID",fe[0][4]||pe,fe[0][5]||"Version 0.11",fe[0][6]||oe(pe),fe[0][7]||"Unknown",fe[0][8]||"Unknown",fe[0][9]||"Unknown"],ge=[];let Se,ve,we,Fe,Ce;for(Se=0,ve=be.length;Se<ve;Se++){Ce=fe[1][Se]||be[Se];const Oe=[];for(we=0,Fe=Ce.length;we<Fe;we++)Oe.push(W(Ce.charCodeAt(we)));ge.push(Oe.join(""))}const ye=[be,ge],ke=["\0","\0"],De=["\0\0","\0"],Ie=["\0\0","	"],Me=be.length*ke.length;let Ne="\0\0"+W(Me)+W(Me*12+6),Re=0;for(Se=0,ve=ke.length;Se<ve;Se++){const Oe=ye[Se];for(we=0,Fe=Oe.length;we<Fe;we++){Ce=Oe[we];const Le=ke[Se]+De[Se]+Ie[Se]+W(we)+W(Ce.length)+W(Re);Ne+=Le,Re+=Ce.length}}return Ne+=be.join("")+ge.join(""),Ne}class he{constructor(fe,be,ge){this.name=fe,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=ge.loadedName,this.isType3Font=ge.isType3Font,this.missingFile=!1,this.cssFontInfo=ge.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let Se=!!(ge.flags&c.FontFlags.Serif);if(!Se&&!ge.isSimulatedFlags){const ye=fe.replace(/[,_]/g,"-").split("-")[0],ke=(0,m.getSerifFonts)();for(const De of ye.split("+"))if(ke[De]){Se=!0;break}}this.isSerifFont=Se,this.isSymbolicFont=!!(ge.flags&c.FontFlags.Symbolic),this.isMonospace=!!(ge.flags&c.FontFlags.FixedPitch);let ve=ge.type,we=ge.subtype;this.type=ve,this.subtype=we;let Fe="sans-serif";if(this.isMonospace?Fe="monospace":this.isSerifFont&&(Fe="serif"),this.fallbackName=Fe,this.differences=ge.differences,this.widths=ge.widths,this.defaultWidth=ge.defaultWidth,this.composite=ge.composite,this.cMap=ge.cMap,this.capHeight=ge.capHeight/L,this.ascent=ge.ascent/L,this.descent=ge.descent/L,this.lineHeight=this.ascent-this.descent,this.fontMatrix=ge.fontMatrix,this.bbox=ge.bbox,this.defaultEncoding=ge.defaultEncoding,this.toUnicode=ge.toUnicode,this.toFontChar=[],ge.type==="Type3"){for(let ye=0;ye<256;ye++)this.toFontChar[ye]=this.differences[ye]||ge.defaultEncoding[ye];this.fontType=t.FontType.TYPE3;return}if(this.cidEncoding=ge.cidEncoding||"",this.vertical=!!ge.vertical,this.vertical&&(this.vmetrics=ge.vmetrics,this.defaultVMetrics=ge.defaultVMetrics),!be||be.isEmpty){be&&(0,t.warn)('Font file is empty in "'+fe+'" ('+this.loadedName+")"),this.fallbackToSystemFont(ge);return}[ve,we]=V(be,ge),(ve!==this.type||we!==this.subtype)&&(0,t.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${ve}/${we}.`);let Ce;try{switch(ve){case"MMType1":(0,t.info)("MMType1 font ("+fe+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const ye=we==="Type1C"||we==="CIDFontType0C"?new y.CFFFont(be,ge):new M.Type1Font(fe,be,ge);G(ge),Ce=this.convert(fe,ye,ge);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Ce=this.checkAndRepair(fe,be,ge),this.isOpenType&&(G(ge),ve="OpenType");break;default:throw new t.FormatError(`Font ${ve} is not supported`)}}catch(ye){(0,t.warn)(ye),this.fallbackToSystemFont(ge);return}I(ge),this.data=Ce,this.fontType=(0,c.getFontType)(ve,we,ge.isStandardFont),this.fontMatrix=ge.fontMatrix,this.widths=ge.widths,this.defaultWidth=ge.defaultWidth,this.toUnicode=ge.toUnicode,this.seacMap=ge.seacMap}get renderer(){const fe=b.FontRendererFactory.create(this,c.SEAC_ANALYSIS_ENABLED);return(0,t.shadow)(this,"renderer",fe)}exportData(){const be=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?[...te,...B]:te,ge=Object.create(null);let Se,ve;for(Se of be)ve=this[Se],ve!==void 0&&(ge[Se]=ve);return ge}fallbackToSystemFont(fe){this.missingFile=!0;const be=this.name,ge=this.type,Se=this.subtype;let ve=(0,c.normalizeFontName)(be);const we=(0,m.getStdFontMap)(),Fe=(0,m.getNonStdFontMap)(),Ce=!!we[ve],ye=!!(Fe[ve]&&we[Fe[ve]]);ve=we[ve]||Fe[ve]||ve;const De=(0,v.getFontBasicMetrics)()[ve];De&&(isNaN(this.ascent)&&(this.ascent=De.ascent/L),isNaN(this.descent)&&(this.descent=De.descent/L),isNaN(this.capHeight)&&(this.capHeight=De.capHeight/L)),this.bold=ve.search(/bold/gi)!==-1,this.italic=ve.search(/oblique/gi)!==-1||ve.search(/italic/gi)!==-1,this.black=be.search(/Black/g)!==-1;const Ie=be.search(/Narrow/g)!==-1;if(this.remeasure=(!Ce||Ie)&&Object.keys(this.widths).length>0,(Ce||ye)&&ge==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Me=fe.cidToGidMap,Ne=[];if(Z(Ne,(0,m.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(be)?Z(Ne,(0,m.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(be)&&Z(Ne,(0,m.getSupplementalGlyphMapForCalibri)()),Me){for(const Re in Ne){const Oe=Ne[Re];Me[Oe]!==void 0&&(Ne[+Re]=Me[Oe])}Me.length!==this.toUnicode.length&&fe.hasIncludedToUnicodeMap&&this.toUnicode instanceof g.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Re,Oe){const Le=Ne[Re];Me[Le]===void 0&&(Ne[+Re]=Oe)})}this.toUnicode instanceof g.IdentityToUnicodeMap||this.toUnicode.forEach(function(Re,Oe){Ne[+Re]=Oe}),this.toFontChar=Ne,this.toUnicode=new g.ToUnicodeMap(Ne)}else if(/Symbol/i.test(ve))this.toFontChar=ae(u.SymbolSetEncoding,(0,e.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(ve))/Wingdings/i.test(be)&&(0,t.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=ae(u.ZapfDingbatsEncoding,(0,e.getDingbatsGlyphsUnicode)(),this.differences);else if(Ce){const Me=ae(this.defaultEncoding,(0,e.getGlyphsUnicode)(),this.differences);ge==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof g.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(Ne,Re){Me[+Ne]=Re}),this.toFontChar=Me}else{const Me=(0,e.getGlyphsUnicode)(),Ne=[];this.toUnicode.forEach((Re,Oe)=>{if(!this.composite){const Le=this.differences[Re]||this.defaultEncoding[Re],Pe=(0,s.getUnicodeForGlyph)(Le,Me);Pe!==-1&&(Oe=Pe)}Ne[+Re]=Oe}),this.composite&&this.toUnicode instanceof g.IdentityToUnicodeMap&&/Verdana/i.test(be)&&Z(Ne,(0,m.getGlyphMapForStandardFonts)()),this.toFontChar=Ne}I(fe),this.loadedName=ve.split("-")[0],this.fontType=(0,c.getFontType)(ge,Se,fe.isStandardFont)}checkAndRepair(fe,be,ge){const Se=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function ve(et,qe){const it=Object.create(null);it["OS/2"]=null,it.cmap=null,it.head=null,it.hhea=null,it.hmtx=null,it.maxp=null,it.name=null,it.post=null;for(let rt=0;rt<qe;rt++){const ft=we(et);Se.includes(ft.tag)&&ft.length!==0&&(it[ft.tag]=ft)}return it}function we(et){const qe=et.getString(4),it=et.getInt32()>>>0,rt=et.getInt32()>>>0,ft=et.getInt32()>>>0,xt=et.pos;et.pos=et.start||0,et.skip(rt);const St=et.getBytes(ft);return et.pos=xt,qe==="head"&&(St[8]=St[9]=St[10]=St[11]=0,St[17]|=32),{tag:qe,checksum:it,length:ft,offset:rt,data:St}}function Fe(et){return{version:et.getString(4),numTables:et.getUint16(),searchRange:et.getUint16(),entrySelector:et.getUint16(),rangeShift:et.getUint16()}}function Ce(et){const qe=et.getString(4);(0,t.assert)(qe==="ttcf","Must be a TrueType Collection font.");const it=et.getUint16(),rt=et.getUint16(),ft=et.getInt32()>>>0,xt=[];for(let ot=0;ot<ft;ot++)xt.push(et.getInt32()>>>0);const St={ttcTag:qe,majorVersion:it,minorVersion:rt,numFonts:ft,offsetTable:xt};switch(it){case 1:return St;case 2:return St.dsigTag=et.getInt32()>>>0,St.dsigLength=et.getInt32()>>>0,St.dsigOffset=et.getInt32()>>>0,St}throw new t.FormatError(`Invalid TrueType Collection majorVersion: ${it}.`)}function ye(et,qe){const{numFonts:it,offsetTable:rt}=Ce(et),ft=qe.split("+");let xt;for(let St=0;St<it;St++){et.pos=(et.start||0)+rt[St];const ot=Fe(et),wt=ve(et,ot.numTables);if(!wt.name)throw new t.FormatError('TrueType Collection font must contain a "name" table.');const yt=Oe(wt.name);for(let It=0,Ft=yt.length;It<Ft;It++)for(let At=0,Ue=yt[It].length;At<Ue;At++){const Ye=yt[It][At]&&yt[It][At].replace(/\s/g,"");if(Ye){if(Ye===qe)return{header:ot,tables:wt};if(!(ft.length<2))for(const at of ft)Ye===at&&(xt={name:at,header:ot,tables:wt})}}}if(xt)return(0,t.warn)(`TrueType Collection does not contain "${qe}" font, falling back to "${xt.name}" font instead.`),{header:xt.header,tables:xt.tables};throw new t.FormatError(`TrueType Collection does not contain "${qe}" font.`)}function ke(et,qe,it,rt){if(!et)return(0,t.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let ft,xt=(qe.start||0)+et.offset;qe.pos=xt,qe.skip(2);const St=qe.getUint16();let ot,wt=!1;for(let Ye=0;Ye<St;Ye++){const at=qe.getUint16(),nt=qe.getUint16(),dt=qe.getInt32()>>>0;let Pt=!1;if(!(ot&&ot.platformId===at&&ot.encodingId===nt)){if(at===0&&(nt===0||nt===1||nt===3))Pt=!0;else if(at===1&&nt===0)Pt=!0;else if(at===3&&nt===1&&(rt||!ot))Pt=!0,it||(wt=!0);else if(it&&at===3&&nt===0){Pt=!0;let zt=!0;if(Ye<St-1){const Ot=qe.peekBytes(2);P(Ot[0],Ot[1])<at&&(zt=!1)}zt&&(wt=!0)}if(Pt&&(ot={platformId:at,encodingId:nt,offset:dt}),wt)break}}if(ot&&(qe.pos=xt+ot.offset),!ot||qe.peekByte()===-1)return(0,t.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const yt=qe.getUint16();let It=!1;const Ft=[];let At,Ue;if(yt===0){for(qe.skip(4),At=0;At<256;At++){const Ye=qe.getByte();Ye&&Ft.push({charCode:At,glyphId:Ye})}It=!0}else if(yt===2){qe.skip(4);const Ye=[];let at=0;for(let dt=0;dt<256;dt++){const Pt=qe.getUint16()>>3;Ye.push(Pt),at=Math.max(Pt,at)}const nt=[];for(let dt=0;dt<=at;dt++)nt.push({firstCode:qe.getUint16(),entryCount:qe.getUint16(),idDelta:z(qe.getByte(),qe.getByte()),idRangePos:qe.pos+qe.getUint16()});for(let dt=0;dt<256;dt++)if(Ye[dt]===0)qe.pos=nt[0].idRangePos+2*dt,Ue=qe.getUint16(),Ft.push({charCode:dt,glyphId:Ue});else{const Pt=nt[Ye[dt]];for(At=0;At<Pt.entryCount;At++){const zt=(dt<<8)+At+Pt.firstCode;qe.pos=Pt.idRangePos+2*At,Ue=qe.getUint16(),Ue!==0&&(Ue=(Ue+Pt.idDelta)%65536),Ft.push({charCode:zt,glyphId:Ue})}}}else if(yt===4){qe.skip(4);const Ye=qe.getUint16()>>1;qe.skip(6);const at=[];let nt;for(nt=0;nt<Ye;nt++)at.push({end:qe.getUint16()});for(qe.skip(2),nt=0;nt<Ye;nt++)at[nt].start=qe.getUint16();for(nt=0;nt<Ye;nt++)at[nt].delta=qe.getUint16();let dt=0,Pt;for(nt=0;nt<Ye;nt++){ft=at[nt];const Ot=qe.getUint16();if(!Ot){ft.offsetIndex=-1;continue}Pt=(Ot>>1)-(Ye-nt),ft.offsetIndex=Pt,dt=Math.max(dt,Pt+ft.end-ft.start+1)}const zt=[];for(At=0;At<dt;At++)zt.push(qe.getUint16());for(nt=0;nt<Ye;nt++){ft=at[nt],xt=ft.start;const Ot=ft.end,Rt=ft.delta;for(Pt=ft.offsetIndex,At=xt;At<=Ot;At++)At!==65535&&(Ue=Pt<0?At:zt[Pt+At-xt],Ue=Ue+Rt&65535,Ft.push({charCode:At,glyphId:Ue}))}}else if(yt===6){qe.skip(4);const Ye=qe.getUint16(),at=qe.getUint16();for(At=0;At<at;At++){Ue=qe.getUint16();const nt=Ye+At;Ft.push({charCode:nt,glyphId:Ue})}}else if(yt===12){qe.skip(10);const Ye=qe.getInt32()>>>0;for(At=0;At<Ye;At++){const at=qe.getInt32()>>>0,nt=qe.getInt32()>>>0;let dt=qe.getInt32()>>>0;for(let Pt=at;Pt<=nt;Pt++)Ft.push({charCode:Pt,glyphId:dt++})}}else return(0,t.warn)("cmap table has unsupported format: "+yt),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Ft.sort(function(Ye,at){return Ye.charCode-at.charCode});for(let Ye=1;Ye<Ft.length;Ye++)Ft[Ye-1].charCode===Ft[Ye].charCode&&(Ft.splice(Ye,1),Ye--);return{platformId:ot.platformId,encodingId:ot.encodingId,mappings:Ft,hasShortCmap:It}}function De(et,qe,it,rt,ft,xt){if(!qe){it&&(it.data=null);return}et.pos=(et.start||0)+qe.offset,et.pos+=4,et.pos+=2,et.pos+=2,et.pos+=2,et.pos+=2,et.pos+=2,et.pos+=2,et.pos+=2,et.pos+=2,et.pos+=2;const St=et.getUint16();et.pos+=8,et.pos+=2;let ot=et.getUint16();St!==0&&(P(rt.data[44],rt.data[45])&2||(qe.data[22]=0,qe.data[23]=0)),ot>ft&&((0,t.info)(`The numOfMetrics (${ot}) should not be greater than the numGlyphs (${ft}).`),ot=ft,qe.data[34]=(ot&65280)>>8,qe.data[35]=ot&255);const yt=ft-ot-(it.length-ot*4>>1);if(yt>0){const It=new Uint8Array(it.length+yt*2);It.set(it.data),xt&&(It[it.length]=it.data[2],It[it.length+1]=it.data[3]),it.data=It}}function Ie(et,qe,it,rt,ft,xt){const St={length:0,sizeOfInstructions:0};if(it-qe<=12)return St;const ot=et.subarray(qe,it);let wt=z(ot[0],ot[1]);if(wt<0)return wt=-1,A(ot,0,wt),rt.set(ot,ft),St.length=ot.length,St;let yt,It=10,Ft=0;for(yt=0;yt<wt;yt++)Ft=(ot[It]<<8|ot[It+1])+1,It+=2;const At=It,Ue=ot[It]<<8|ot[It+1];St.sizeOfInstructions=Ue,It+=2+Ue;const Ye=It;let at=0;for(yt=0;yt<Ft;yt++){const dt=ot[It++];dt&192&&(ot[It-1]=dt&63);let Pt=2;dt&2?Pt=1:dt&16&&(Pt=0);let zt=2;dt&4?zt=1:dt&32&&(zt=0);const Ot=Pt+zt;if(at+=Ot,dt&8){const Rt=ot[It++];yt+=Rt,at+=Rt*Ot}}if(at===0)return St;let nt=It+at;return nt>ot.length?St:!xt&&Ue>0?(rt.set(ot.subarray(0,At),ft),rt.set([0,0],ft+At),rt.set(ot.subarray(Ye,nt),ft+At+2),nt-=Ue,ot.length-nt>3&&(nt=nt+3&-4),St.length=nt,St):ot.length-nt>3?(nt=nt+3&-4,rt.set(ot.subarray(0,nt),ft),St.length=nt,St):(rt.set(ot,ft),St.length=ot.length,St)}function Me(et,qe,it){const rt=et.data,ft=N(rt[0],rt[1],rt[2],rt[3]);ft>>16!==1&&((0,t.info)("Attempting to fix invalid version in head table: "+ft),rt[0]=0,rt[1]=1,rt[2]=0,rt[3]=0);const xt=P(rt[50],rt[51]);if(xt<0||xt>1){(0,t.info)("Attempting to fix invalid indexToLocFormat in head table: "+xt);const St=qe+1;if(it===St<<1)rt[50]=0,rt[51]=0;else if(it===St<<2)rt[50]=0,rt[51]=1;else throw new t.FormatError("Could not fix indexToLocFormat: "+xt)}}function Ne(et,qe,it,rt,ft,xt,St){let ot,wt,yt;rt?(ot=4,wt=function(Ht,qt){return Ht[qt]<<24|Ht[qt+1]<<16|Ht[qt+2]<<8|Ht[qt+3]},yt=function(Ht,qt,cn){Ht[qt]=cn>>>24&255,Ht[qt+1]=cn>>16&255,Ht[qt+2]=cn>>8&255,Ht[qt+3]=cn&255}):(ot=2,wt=function(Ht,qt){return Ht[qt]<<9|Ht[qt+1]<<1},yt=function(Ht,qt,cn){Ht[qt]=cn>>9&255,Ht[qt+1]=cn>>1&255});const It=xt?it+1:it,Ft=ot*(1+It),At=new Uint8Array(Ft);At.set(et.data.subarray(0,Ft)),et.data=At;const Ue=qe.data,Ye=Ue.length,at=new Uint8Array(Ye);let nt,dt;const Pt=[];for(nt=0,dt=0;nt<it+1;nt++,dt+=ot){let Rt=wt(At,dt);Rt>Ye&&(Rt=Ye),Pt.push({index:nt,offset:Rt,endOffset:0})}for(Pt.sort((Rt,Ht)=>Rt.offset-Ht.offset),nt=0;nt<it;nt++)Pt[nt].endOffset=Pt[nt+1].offset;for(Pt.sort((Rt,Ht)=>Rt.index-Ht.index),nt=0;nt<it;nt++){const{offset:Rt,endOffset:Ht}=Pt[nt];if(Rt!==0||Ht!==0)break;const qt=Pt[nt+1].offset;if(qt!==0){Pt[nt].endOffset=qt;break}}const zt=Object.create(null);let Ot=0;for(yt(At,0,Ot),nt=0,dt=ot;nt<it;nt++,dt+=ot){const Rt=Ie(Ue,Pt[nt].offset,Pt[nt].endOffset,at,Ot,ft),Ht=Rt.length;Ht===0&&(zt[nt]=!0),Rt.sizeOfInstructions>St&&(St=Rt.sizeOfInstructions),Ot+=Ht,yt(At,dt,Ot)}if(Ot===0){const Rt=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(nt=0,dt=ot;nt<It;nt++,dt+=ot)yt(At,dt,Rt.length);qe.data=Rt}else if(xt){const Rt=wt(At,ot);at.length>Rt+Ot?qe.data=at.subarray(0,Rt+Ot):(qe.data=new Uint8Array(Rt+Ot),qe.data.set(at.subarray(0,Ot))),qe.data.set(at.subarray(0,Rt),Ot),yt(et.data,At.length-ot,Ot+Rt)}else qe.data=at.subarray(0,Ot);return{missingGlyphs:zt,maxSizeOfInstructions:St}}function Re(et,qe,it){const rt=(be.start||0)+et.offset;be.pos=rt;const ft=et.length,xt=rt+ft,St=be.getInt32();be.skip(28);let ot,wt=!0,yt;switch(St){case 65536:ot=c.MacStandardGlyphOrdering;break;case 131072:const It=be.getUint16();if(It!==it){wt=!1;break}const Ft=[];for(yt=0;yt<It;++yt){const Ye=be.getUint16();if(Ye>=32768){wt=!1;break}Ft.push(Ye)}if(!wt)break;const At=[],Ue=[];for(;be.pos<xt;){const Ye=be.getByte();for(Ue.length=Ye,yt=0;yt<Ye;++yt)Ue[yt]=String.fromCharCode(be.getByte());At.push(Ue.join(""))}for(ot=[],yt=0;yt<It;++yt){const Ye=Ft[yt];if(Ye<258){ot.push(c.MacStandardGlyphOrdering[Ye]);continue}ot.push(At[Ye-258])}break;case 196608:break;default:(0,t.warn)("Unknown/unsupported post table version "+St),wt=!1,qe.defaultEncoding&&(ot=qe.defaultEncoding);break}return qe.glyphNames=ot,wt}function Oe(et){const qe=(be.start||0)+et.offset;be.pos=qe;const it=[[],[]],rt=et.length,ft=qe+rt;if(be.getUint16()!==0||rt<6)return it;const ot=be.getUint16(),wt=be.getUint16(),yt=[],It=12;let Ft,At;for(Ft=0;Ft<ot&&be.pos+It<=ft;Ft++){const Ue={platform:be.getUint16(),encoding:be.getUint16(),language:be.getUint16(),name:be.getUint16(),length:be.getUint16(),offset:be.getUint16()};(Ue.platform===1&&Ue.encoding===0&&Ue.language===0||Ue.platform===3&&Ue.encoding===1&&Ue.language===1033)&&yt.push(Ue)}for(Ft=0,At=yt.length;Ft<At;Ft++){const Ue=yt[Ft];if(Ue.length<=0)continue;const Ye=qe+wt+Ue.offset;if(Ye+Ue.length>ft)continue;be.pos=Ye;const at=Ue.name;if(Ue.encoding){let nt="";for(let dt=0,Pt=Ue.length;dt<Pt;dt+=2)nt+=String.fromCharCode(be.getUint16());it[1][at]=nt}else it[0][at]=be.getString(Ue.length)}return it}const Le=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Pe(et,qe){let it=et.data,rt=0,ft,xt,St,ot,wt,yt=0,It=0;const Ft=[],At=[],Ue=[];let Ye=qe.tooComplexToFollowFunctions,at=!1,nt=0,dt=0;for(let zt=it.length;rt<zt;){const Ot=it[rt++];if(Ot===64)if(xt=it[rt++],at||dt)rt+=xt;else for(ft=0;ft<xt;ft++)Ft.push(it[rt++]);else if(Ot===65)if(xt=it[rt++],at||dt)rt+=xt*2;else for(ft=0;ft<xt;ft++)St=it[rt++],Ft.push(St<<8|it[rt++]);else if((Ot&248)===176)if(xt=Ot-176+1,at||dt)rt+=xt;else for(ft=0;ft<xt;ft++)Ft.push(it[rt++]);else if((Ot&248)===184)if(xt=Ot-184+1,at||dt)rt+=xt*2;else for(ft=0;ft<xt;ft++)St=it[rt++],Ft.push(St<<8|it[rt++]);else if(Ot===43&&!Ye){if(!at&&!dt){if(ot=Ft.at(-1),isNaN(ot))(0,t.info)("TT: CALL empty stack (or invalid entry).");else if(qe.functionsUsed[ot]=!0,ot in qe.functionsStackDeltas){const Rt=Ft.length+qe.functionsStackDeltas[ot];if(Rt<0){(0,t.warn)("TT: CALL invalid functions stack delta."),qe.hintsValid=!1;return}Ft.length=Rt}else if(ot in qe.functionsDefined&&!Ue.includes(ot)){if(At.push({data:it,i:rt,stackTop:Ft.length-1}),Ue.push(ot),wt=qe.functionsDefined[ot],!wt){(0,t.warn)("TT: CALL non-existent function"),qe.hintsValid=!1;return}it=wt.data,rt=wt.i}}}else if(Ot===44&&!Ye)(at||dt)&&((0,t.warn)("TT: nested FDEFs not allowed"),Ye=!0),at=!0,It=rt,ot=Ft.pop(),qe.functionsDefined[ot]={data:it,i:rt};else if(Ot===45)if(at)at=!1,yt=rt;else{if(wt=At.pop(),!wt){(0,t.warn)("TT: ENDF bad stack"),qe.hintsValid=!1;return}ot=Ue.pop(),it=wt.data,rt=wt.i,qe.functionsStackDeltas[ot]=Ft.length-wt.stackTop}else if(Ot===137)(at||dt)&&((0,t.warn)("TT: nested IDEFs not allowed"),Ye=!0),at=!0,It=rt;else if(Ot===88)++nt;else if(Ot===27)dt=nt;else if(Ot===89)dt===nt&&(dt=0),--nt;else if(Ot===28&&!at&&!dt){const Rt=Ft.at(-1);Rt>0&&(rt+=Rt-1)}if(!at&&!dt){let Rt=0;for(Ot<=142?Rt=Le[Ot]:Ot>=192&&Ot<=223?Rt=-1:Ot>=224&&(Rt=-2),Ot>=113&&Ot<=117&&(xt=Ft.pop(),isNaN(xt)||(Rt=-xt*2));Rt<0&&Ft.length>0;)Ft.pop(),Rt++;for(;Rt>0;)Ft.push(NaN),Rt--}}qe.tooComplexToFollowFunctions=Ye;const Pt=[it];rt>it.length&&Pt.push(new Uint8Array(rt-it.length)),It>yt&&((0,t.warn)("TT: complementing a missing function tail"),Pt.push(new Uint8Array([34,45]))),je(et,Pt)}function $e(et,qe){if(!et.tooComplexToFollowFunctions){if(et.functionsDefined.length>qe){(0,t.warn)("TT: more functions defined than expected"),et.hintsValid=!1;return}for(let it=0,rt=et.functionsUsed.length;it<rt;it++){if(it>qe){(0,t.warn)("TT: invalid function id: "+it),et.hintsValid=!1;return}if(et.functionsUsed[it]&&!et.functionsDefined[it]){(0,t.warn)("TT: undefined function: "+it),et.hintsValid=!1;return}}}}function je(et,qe){if(qe.length>1){let it=0,rt,ft;for(rt=0,ft=qe.length;rt<ft;rt++)it+=qe[rt].length;it=it+3&-4;const xt=new Uint8Array(it);let St=0;for(rt=0,ft=qe.length;rt<ft;rt++)xt.set(qe[rt],St),St+=qe[rt].length;et.data=xt,et.length=it}}function Te(et,qe,it,rt){const ft={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(et&&Pe(et,ft),qe&&Pe(qe,ft),et&&$e(ft,rt),it&&it.length&1){const xt=new Uint8Array(it.length+1);xt.set(it.data),it.data=xt}return ft.hintsValid}be=new k.Stream(new Uint8Array(be.getBytes()));let Ae,Ee;if(F(be)){const et=ye(be,this.name);Ae=et.header,Ee=et.tables}else Ae=Fe(be),Ee=ve(be,Ae.numTables);let Be,ze;const We=!Ee["CFF "];if(We){if(!Ee.loca)throw new t.FormatError('Required "loca" table is not found');Ee.glyf||((0,t.warn)('Required "glyf" table is not found -- trying to recover.'),Ee.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const et=ge.composite&&((ge.cidToGidMap||[]).length>0||!(ge.cMap instanceof S.IdentityCMap));if(Ae.version==="OTTO"&&!et||!Ee.head||!Ee.hhea||!Ee.maxp||!Ee.post)return ze=new k.Stream(Ee["CFF "].data),Be=new y.CFFFont(ze,ge),G(ge),this.convert(fe,Be,ge);delete Ee.glyf,delete Ee.loca,delete Ee.fpgm,delete Ee.prep,delete Ee["cvt "],this.isOpenType=!0}if(!Ee.maxp)throw new t.FormatError('Required "maxp" table is not found');be.pos=(be.start||0)+Ee.maxp.offset;const tt=be.getInt32(),Ze=be.getUint16();if(ge.scaleFactors&&ge.scaleFactors.length===Ze&&We){const{scaleFactors:et}=ge,qe=P(Ee.head.data[50],Ee.head.data[51]),it=new o.GlyfTable({glyfTable:Ee.glyf.data,isGlyphLocationsLong:qe,locaTable:Ee.loca.data,numGlyphs:Ze});it.scale(et);const{glyf:rt,loca:ft,isLocationLong:xt}=it.write();Ee.glyf.data=rt,Ee.loca.data=ft,xt!==!!qe&&(Ee.head.data[50]=0,Ee.head.data[51]=xt?1:0);const St=Ee.hmtx.data;for(let ot=0;ot<Ze;ot++){const wt=4*ot,yt=Math.round(et[ot]*P(St[wt],St[wt+1]));St[wt]=yt>>8&255,St[wt+1]=yt&255;const It=Math.round(et[ot]*z(St[wt+2],St[wt+3]));A(St,wt+2,It)}}let Xe=Ze+1,st=!0;Xe>65535&&(st=!1,Xe=Ze,(0,t.warn)("Not enough space in glyfs to duplicate first glyph."));let gt=0,Ge=0;tt>=65536&&Ee.maxp.length>=22&&(be.pos+=8,be.getUint16()>2&&(Ee.maxp.data[14]=0,Ee.maxp.data[15]=2),be.pos+=4,gt=be.getUint16(),be.pos+=4,Ge=be.getUint16()),Ee.maxp.data[4]=Xe>>8,Ee.maxp.data[5]=Xe&255;const ht=Te(Ee.fpgm,Ee.prep,Ee["cvt "],gt);if(ht||(delete Ee.fpgm,delete Ee.prep,delete Ee["cvt "]),De(be,Ee.hhea,Ee.hmtx,Ee.head,Xe,st),!Ee.head)throw new t.FormatError('Required "head" table is not found');Me(Ee.head,Ze,We?Ee.loca.length:0);let ct=Object.create(null);if(We){const et=P(Ee.head.data[50],Ee.head.data[51]),qe=Ne(Ee.loca,Ee.glyf,Ze,et,ht,st,Ge);ct=qe.missingGlyphs,tt>=65536&&Ee.maxp.length>=22&&(Ee.maxp.data[26]=qe.maxSizeOfInstructions>>8,Ee.maxp.data[27]=qe.maxSizeOfInstructions&255)}if(!Ee.hhea)throw new t.FormatError('Required "hhea" table is not found');Ee.hhea.data[10]===0&&Ee.hhea.data[11]===0&&(Ee.hhea.data[10]=255,Ee.hhea.data[11]=255);const pt={unitsPerEm:P(Ee.head.data[18],Ee.head.data[19]),yMax:P(Ee.head.data[42],Ee.head.data[43]),yMin:z(Ee.head.data[38],Ee.head.data[39]),ascent:z(Ee.hhea.data[4],Ee.hhea.data[5]),descent:z(Ee.hhea.data[6],Ee.hhea.data[7]),lineGap:z(Ee.hhea.data[8],Ee.hhea.data[9])};this.ascent=pt.ascent/pt.unitsPerEm,this.descent=pt.descent/pt.unitsPerEm,this.lineGap=pt.lineGap/pt.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Ee.post&&Re(Ee.post,ge,Ze),Ee.post={tag:"post",data:re(ge)};const Ct=[];function kt(et){return!ct[et]}if(ge.composite){const et=ge.cidToGidMap||[],qe=et.length===0;ge.cMap.forEach(function(it,rt){if(typeof rt=="string"&&(rt=H(it,rt,!0)),rt>65535)throw new t.FormatError("Max size of CID is 65,535");let ft=-1;qe?ft=rt:et[rt]!==void 0&&(ft=et[rt]),ft>=0&&ft<Ze&&kt(ft)&&(Ct[it]=ft)})}else{const et=ke(Ee.cmap,be,this.isSymbolicFont,ge.hasEncoding),qe=et.platformId,it=et.encodingId,rt=et.mappings,ft=rt.length;let xt=[],St=!1;if(ge.hasEncoding&&(ge.baseEncodingName==="MacRomanEncoding"||ge.baseEncodingName==="WinAnsiEncoding")&&(xt=(0,u.getEncoding)(ge.baseEncodingName)),ge.hasEncoding&&!this.isSymbolicFont&&(qe===3&&it===1||qe===1&&it===0)){const ot=(0,e.getGlyphsUnicode)();for(let wt=0;wt<256;wt++){let yt;if(this.differences[wt]!==void 0?yt=this.differences[wt]:xt.length&&xt[wt]!==""?yt=xt[wt]:yt=u.StandardEncoding[wt],!yt)continue;const It=(0,c.recoverGlyphName)(yt,ot);let Ft;if(qe===3&&it===1?Ft=ot[It]:qe===1&&it===0&&(Ft=u.MacRomanEncoding.indexOf(It)),Ft===void 0){if(!ge.glyphNames&&ge.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof g.IdentityToUnicodeMap)){const At=this.toUnicode.get(wt);At&&(Ft=At.codePointAt(0))}if(Ft===void 0)continue}for(let At=0;At<ft;++At)if(rt[At].charCode===Ft){Ct[wt]=rt[At].glyphId;break}}}else if(qe===0){for(let ot=0;ot<ft;++ot)Ct[rt[ot].charCode]=rt[ot].glyphId;St=!0}else for(let ot=0;ot<ft;++ot){let wt=rt[ot].charCode;qe===3&&wt>=61440&&wt<=61695&&(wt&=255),Ct[wt]=rt[ot].glyphId}if(ge.glyphNames&&(xt.length||this.differences.length))for(let ot=0;ot<256;++ot){if(!St&&Ct[ot]!==void 0)continue;const wt=this.differences[ot]||xt[ot];if(!wt)continue;const yt=ge.glyphNames.indexOf(wt);yt>0&&kt(yt)&&(Ct[ot]=yt)}}Ct.length===0&&(Ct[0]=0);let mt=Xe-1;if(st||(mt=0),!ge.cssFontInfo){const et=q(Ct,kt,mt,this.toUnicode);this.toFontChar=et.toFontChar,Ee.cmap={tag:"cmap",data:le(et.charCodeToGlyphId,et.toUnicodeExtraMap,Xe)},(!Ee["OS/2"]||!se(Ee["OS/2"],be))&&(Ee["OS/2"]={tag:"OS/2",data:J(ge,et.charCodeToGlyphId,pt)})}if(!We)try{ze=new k.Stream(Ee["CFF "].data),Be=new i.CFFParser(ze,ge,c.SEAC_ANALYSIS_ENABLED).parse(),Be.duplicateFirstGlyph();const qe=new i.CFFCompiler(Be);Ee["CFF "].data=qe.compile()}catch{(0,t.warn)("Failed to compile font "+ge.loadedName)}if(!Ee.name)Ee.name={tag:"name",data:ue(this.name)};else{const et=Oe(Ee.name);Ee.name.data=ue(fe,et),this.psName=et[0][6]||null}const Wt=new T.OpenTypeFileBuilder(Ae.version);for(const et in Ee)Wt.addTable(et,Ee[et].data);return Wt.toArray()}convert(fe,be,ge){ge.fixedPitch=!1,ge.builtInEncoding&&R(ge,ge.builtInEncoding);let Se=1;be instanceof y.CFFFont&&(Se=be.numGlyphs-1);const ve=be.getGlyphMapping(ge);let we=null,Fe=ve,Ce=null;ge.cssFontInfo||(we=q(ve,be.hasGlyphId.bind(be),Se,this.toUnicode),this.toFontChar=we.toFontChar,Fe=we.charCodeToGlyphId,Ce=we.toUnicodeExtraMap);const ye=be.numGlyphs;function ke(Re,Oe){let Le=null;for(const Pe in Re)Oe===Re[Pe]&&(Le||(Le=[]),Le.push(Pe|0));return Le}function De(Re,Oe){for(const Le in Re)if(Oe===Re[Le])return Le|0;return we.charCodeToGlyphId[we.nextAvailableFontCharCode]=Oe,we.nextAvailableFontCharCode++}const Ie=be.seacs;if(we&&c.SEAC_ANALYSIS_ENABLED&&Ie&&Ie.length){const Re=ge.fontMatrix||t.FONT_IDENTITY_MATRIX,Oe=be.getCharset(),Le=Object.create(null);for(let Pe in Ie){Pe|=0;const $e=Ie[Pe],je=u.StandardEncoding[$e[2]],Te=u.StandardEncoding[$e[3]],Ae=Oe.indexOf(je),Ee=Oe.indexOf(Te);if(Ae<0||Ee<0)continue;const Be={x:$e[0]*Re[0]+$e[1]*Re[2]+Re[4],y:$e[0]*Re[1]+$e[1]*Re[3]+Re[5]},ze=ke(ve,Pe);if(ze)for(let We=0,tt=ze.length;We<tt;We++){const Ze=ze[We],Xe=we.charCodeToGlyphId,st=De(Xe,Ae),gt=De(Xe,Ee);Le[Ze]={baseFontCharCode:st,accentFontCharCode:gt,accentOffset:Be}}}ge.seacMap=Le}const Me=1/(ge.fontMatrix||t.FONT_IDENTITY_MATRIX)[0],Ne=new T.OpenTypeFileBuilder("OTTO");return Ne.addTable("CFF ",be.data),Ne.addTable("OS/2",J(ge,Fe)),Ne.addTable("cmap",le(Fe,Ce,ye)),Ne.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+ie(Me)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+ie(ge.descent)+""+ie(ge.ascent)+W(ge.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Ne.addTable("hhea","\0\0\0"+ie(ge.ascent)+ie(ge.descent)+"\0\0\0\0\0\0\0\0"+ie(ge.capHeight)+ie(Math.tan(ge.italicAngle)*ge.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+W(ye)),Ne.addTable("hmtx",function(){const Oe=be.charstrings,Le=be.cff?be.cff.widths:null;let Pe="\0\0\0\0";for(let $e=1,je=ye;$e<je;$e++){let Te=0;if(Oe){const Ae=Oe[$e-1];Te="width"in Ae?Ae.width:0}else Le&&(Te=Math.ceil(Le[$e]||0));Pe+=W(Te)+W(0)}return Pe}()),Ne.addTable("maxp","\0\0P\0"+W(ye)),Ne.addTable("name",ue(fe)),Ne.addTable("post",re(ge)),Ne.toArray()}get spaceWidth(){const fe=["space","minus","one","i","I"];let be;for(let ge=0,Se=fe.length;ge<Se;ge++){const ve=fe[ge];if(ve in this.widths){be=this.widths[ve];break}const Fe=(0,e.getGlyphsUnicode)()[ve];let Ce=0;if(this.composite&&this.cMap.contains(Fe)&&(Ce=this.cMap.lookup(Fe),typeof Ce=="string"&&(Ce=H(Fe,Ce))),!Ce&&this.toUnicode&&(Ce=this.toUnicode.charCodeOf(Fe)),Ce<=0&&(Ce=Fe),be=this.widths[Ce],be)break}return be=be||this.defaultWidth,(0,t.shadow)(this,"spaceWidth",be)}_charToGlyph(fe){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ge,Se,ve,we=fe;this.cMap&&this.cMap.contains(fe)&&(we=this.cMap.lookup(fe),typeof we=="string"&&(we=H(fe,we))),Se=this.widths[we],typeof Se!="number"&&(Se=this.defaultWidth);const Fe=this.vmetrics&&this.vmetrics[we];let Ce=this.toUnicode.get(fe)||fe;typeof Ce=="number"&&(Ce=String.fromCharCode(Ce));let ye=this.toFontChar[fe]!==void 0;if(ge=this.toFontChar[fe]||fe,this.missingFile){const Me=this.differences[fe]||this.defaultEncoding[fe];(Me===".notdef"||Me==="")&&this.type==="Type1"&&(ge=32),ge=(0,s.mapSpecialUnicodeValues)(ge)}this.isType3Font&&(ve=ge);let ke=null;if(this.seacMap&&this.seacMap[fe]){ye=!0;const Me=this.seacMap[fe];ge=Me.baseFontCharCode,ke={fontChar:String.fromCodePoint(Me.accentFontCharCode),offset:Me.accentOffset}}let De="";typeof ge=="number"&&(ge<=1114111?De=String.fromCodePoint(ge):(0,t.warn)(`charToGlyph - invalid fontCharCode: ${ge}`));let Ie=this._glyphCache[fe];return(!Ie||!Ie.matchesForCache(fe,De,Ce,ke,Se,Fe,ve,be,ye))&&(Ie=new U(fe,De,Ce,ke,Se,Fe,ve,be,ye),this._glyphCache[fe]=Ie),Ie}charsToGlyphs(fe){let be=this._charsCache[fe];if(be)return be;if(be=[],this.cMap){const ge=Object.create(null),Se=fe.length;let ve=0;for(;ve<Se;){this.cMap.readCharCode(fe,ve,ge);const{charcode:we,length:Fe}=ge;ve+=Fe;const Ce=this._charToGlyph(we,Fe===1&&fe.charCodeAt(ve-1)===32);be.push(Ce)}}else for(let ge=0,Se=fe.length;ge<Se;++ge){const ve=fe.charCodeAt(ge),we=this._charToGlyph(ve,ve===32);be.push(we)}return this._charsCache[fe]=be}getCharPositions(fe){const be=[];if(this.cMap){const ge=Object.create(null);let Se=0;for(;Se<fe.length;){this.cMap.readCharCode(fe,Se,ge);const ve=ge.length;be.push([Se,Se+ve]),Se+=ve}}else for(let ge=0,Se=fe.length;ge<Se;++ge)be.push([ge,ge+1]);return be}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(fe){const be=[],ge=[],Se=()=>be.length%2===1,ve=this.toUnicode instanceof g.IdentityToUnicodeMap?we=>this.toUnicode.charCodeOf(we):we=>this.toUnicode.charCodeOf(String.fromCodePoint(we));for(let we=0,Fe=fe.length;we<Fe;we++){const Ce=fe.codePointAt(we);if(Ce>55295&&(Ce<57344||Ce>65533)&&we++,this.toUnicode){const ye=ve(Ce);if(ye!==-1){Se()&&(be.push(ge.join("")),ge.length=0);const ke=this.cMap?this.cMap.getCharCodeLength(ye):1;for(let De=ke-1;De>=0;De--)ge.push(String.fromCharCode(ye>>8*De&255));continue}}Se()||(be.push(ge.join("")),ge.length=0),ge.push(String.fromCodePoint(Ce))}return be.push(ge.join("")),be}}l.Font=he;class de{constructor(fe){this.error=fe,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(fe){return[fe]}exportData(){return{error:this.error}}}l.ErrorFont=de},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CFFTopDict=l.CFFStrings=l.CFFStandardStrings=l.CFFPrivateDict=l.CFFParser=l.CFFIndex=l.CFFHeader=l.CFFFDSelect=l.CFFCompiler=l.CFFCharset=l.CFF=void 0;var t=a(2),i=a(161),c=a(162);const s=10,e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];l.CFFStandardStrings=e;const u=391,m=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],g=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(U,P){U[P-2]=U[P-2]+U[P-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(U,P){U[P-2]=U[P-2]-U[P-1]}},{id:"div",min:2,stackDelta:-1,stackFn(U,P){U[P-2]=U[P-2]/U[P-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(U,P){U[P-1]=-U[P-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(U,P){U[P-2]=U[P-2]*U[P-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class y{constructor(P,A,z){this.bytes=P.getBytes(),this.properties=A,this.seacAnalysisEnabled=!!z}parse(){const P=this.properties,A=new b;this.cff=A;const z=this.parseHeader(),N=this.parseIndex(z.endPos),W=this.parseIndex(N.endPos),ie=this.parseIndex(W.endPos),Y=this.parseIndex(ie.endPos),F=this.parseDict(W.obj.get(0)),D=this.createDict(k,F,A.strings);A.header=z.obj,A.names=this.parseNameIndex(N.obj),A.strings=this.parseStringIndex(ie.obj),A.topDict=D,A.globalSubrIndex=Y.obj,this.parsePrivateDict(A.topDict),A.isCIDFont=D.hasName("ROS");const Q=D.getByName("CharStrings"),ee=this.parseIndex(Q).obj,V=D.getByName("FontMatrix");V&&(P.fontMatrix=V);const Z=D.getByName("FontBBox");Z&&(P.ascent=Math.max(Z[3],Z[1]),P.descent=Math.min(Z[1],Z[3]),P.ascentScaled=!0);let ae,H;if(A.isCIDFont){const ne=this.parseIndex(D.getByName("FDArray")).obj;for(let le=0,se=ne.count;le<se;++le){const J=ne.get(le),re=this.createDict(k,this.parseDict(J),A.strings);this.parsePrivateDict(re),A.fdArray.push(re)}H=null,ae=this.parseCharsets(D.getByName("charset"),ee.count,A.strings,!0),A.fdSelect=this.parseFDSelect(D.getByName("FDSelect"),ee.count)}else ae=this.parseCharsets(D.getByName("charset"),ee.count,A.strings,!1),H=this.parseEncoding(D.getByName("Encoding"),P,A.strings,ae.charset);A.charset=ae,A.encoding=H;const q=this.parseCharStrings({charStrings:ee,localSubrIndex:D.privateDict.subrsIndex,globalSubrIndex:Y.obj,fdSelect:A.fdSelect,fdArray:A.fdArray,privateDict:D.privateDict});return A.charStrings=q.charStrings,A.seacs=q.seacs,A.widths=q.widths,A}parseHeader(){let P=this.bytes;const A=P.length;let z=0;for(;z<A&&P[z]!==1;)++z;if(z>=A)throw new t.FormatError("Invalid CFF header");z!==0&&((0,t.info)("cff data is shifted"),P=P.subarray(z),this.bytes=P);const N=P[0],W=P[1],ie=P[2],Y=P[3];return{obj:new v(N,W,ie,Y),endPos:ie}}parseDict(P){let A=0;function z(){let F=P[A++];return F===30?N():F===28?(F=P[A++],F=(F<<24|P[A++]<<16)>>16,F):F===29?(F=P[A++],F=F<<8|P[A++],F=F<<8|P[A++],F=F<<8|P[A++],F):F>=32&&F<=246?F-139:F>=247&&F<=250?(F-247)*256+P[A++]+108:F>=251&&F<=254?-((F-251)*256)-P[A++]-108:((0,t.warn)('CFFParser_parseDict: "'+F+'" is a reserved command.'),NaN)}function N(){let F="";const Q=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],ee=P.length;for(;A<ee;){const V=P[A++],Z=V>>4,ae=V&15;if(Z===15||(F+=Q[Z],ae===15))break;F+=Q[ae]}return parseFloat(F)}let W=[];const ie=[];A=0;const Y=P.length;for(;A<Y;){let F=P[A];F<=21?(F===12&&(F=F<<8|P[++A]),ie.push([F,W]),W=[],++A):W.push(z())}return ie}parseIndex(P){const A=new S,z=this.bytes,N=z[P++]<<8|z[P++],W=[];let ie=P,Y,F;if(N!==0){const D=z[P++],Q=P+(N+1)*D-1;for(Y=0,F=N+1;Y<F;++Y){let ee=0;for(let V=0;V<D;++V)ee<<=8,ee+=z[P++];W.push(Q+ee)}ie=W[N]}for(Y=0,F=W.length-1;Y<F;++Y){const D=W[Y],Q=W[Y+1];A.add(z.subarray(D,Q))}return{obj:A,endPos:ie}}parseNameIndex(P){const A=[];for(let z=0,N=P.count;z<N;++z){const W=P.get(z);A.push((0,t.bytesToString)(W))}return A}parseStringIndex(P){const A=new o;for(let z=0,N=P.count;z<N;++z){const W=P.get(z);A.add((0,t.bytesToString)(W))}return A}createDict(P,A,z){const N=new P(z);for(let W=0,ie=A.length;W<ie;++W){const Y=A[W],F=Y[0],D=Y[1];N.setByKey(F,D)}return N}parseCharString(P,A,z,N){if(!A||P.callDepth>s)return!1;let W=P.stackSize;const ie=P.stack,Y=A.length;for(let F=0;F<Y;){const D=A[F++];let Q=null;if(D===12){const ee=A[F++];ee===0?(A[F-2]=139,A[F-1]=22,W=0):Q=g[ee]}else if(D===28)ie[W]=(A[F]<<24|A[F+1]<<16)>>16,F+=2,W++;else if(D===14){if(W>=4&&(W-=4,this.seacAnalysisEnabled))return P.seac=ie.slice(W,W+4),!1;Q=m[D]}else if(D>=32&&D<=246)ie[W]=D-139,W++;else if(D>=247&&D<=254)ie[W]=D<251?(D-247<<8)+A[F]+108:-(D-251<<8)-A[F]-108,F++,W++;else if(D===255)ie[W]=(A[F]<<24|A[F+1]<<16|A[F+2]<<8|A[F+3])/65536,F+=4,W++;else if(D===19||D===20)P.hints+=W>>1,F+=P.hints+7>>3,W%=2,Q=m[D];else if(D===10||D===29){let ee;if(D===10?ee=z:ee=N,!ee)return Q=m[D],(0,t.warn)("Missing subrsIndex for "+Q.id),!1;let V=32768;ee.count<1240?V=107:ee.count<33900&&(V=1131);const Z=ie[--W]+V;if(Z<0||Z>=ee.count||isNaN(Z))return Q=m[D],(0,t.warn)("Out of bounds subrIndex for "+Q.id),!1;if(P.stackSize=W,P.callDepth++,!this.parseCharString(P,ee.get(Z),z,N))return!1;P.callDepth--,W=P.stackSize;continue}else{if(D===11)return P.stackSize=W,!0;D===0&&F===A.length?(A[F-1]=14,Q=m[14]):Q=m[D]}if(Q){if(Q.stem&&(P.hints+=W>>1,D===3||D===23?P.hasVStems=!0:P.hasVStems&&(D===1||D===18)&&((0,t.warn)("CFF stem hints are in wrong order"),A[F-1]=D===1?3:23)),"min"in Q&&!P.undefStack&&W<Q.min)return(0,t.warn)("Not enough parameters for "+Q.id+"; actual: "+W+", expected: "+Q.min),W===0?(A[F-1]=14,!0):!1;P.firstStackClearing&&Q.stackClearing&&(P.firstStackClearing=!1,W-=Q.min,W>=2&&Q.stem?W%=2:W>1&&(0,t.warn)("Found too many parameters for stack-clearing command"),W>0&&(P.width=ie[W-1])),"stackDelta"in Q?("stackFn"in Q&&Q.stackFn(ie,W),W+=Q.stackDelta):Q.stackClearing?W=0:Q.resetStack?(W=0,P.undefStack=!1):Q.undefStack&&(W=0,P.undefStack=!0,P.firstStackClearing=!1)}}return P.stackSize=W,!0}parseCharStrings(P){let{charStrings:A,localSubrIndex:z,globalSubrIndex:N,fdSelect:W,fdArray:ie,privateDict:Y}=P;const F=[],D=[],Q=A.count;for(let ee=0;ee<Q;ee++){const V=A.get(ee),Z={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let ae=!0,H=null,q=Y;if(W&&ie.length){const ne=W.getFDIndex(ee);ne===-1&&((0,t.warn)("Glyph index is not in fd select."),ae=!1),ne>=ie.length&&((0,t.warn)("Invalid fd index for glyph index."),ae=!1),ae&&(q=ie[ne].privateDict,H=q.subrsIndex)}else z&&(H=z);if(ae&&(ae=this.parseCharString(Z,V,H,N)),Z.width!==null){const ne=q.getByName("nominalWidthX");D[ee]=ne+Z.width}else{const ne=q.getByName("defaultWidthX");D[ee]=ne}Z.seac!==null&&(F[ee]=Z.seac),ae||A.set(ee,new Uint8Array([14]))}return{charStrings:A,seacs:F,widths:D}}emptyPrivateDictionary(P){const A=this.createDict(O,[],P.strings);P.setByKey(18,[0,0]),P.privateDict=A}parsePrivateDict(P){if(!P.hasName("Private")){this.emptyPrivateDictionary(P);return}const A=P.getByName("Private");if(!Array.isArray(A)||A.length!==2){P.removeByName("Private");return}const z=A[0],N=A[1];if(z===0||N>=this.bytes.length){this.emptyPrivateDictionary(P);return}const W=N+z,ie=this.bytes.subarray(N,W),Y=this.parseDict(ie),F=this.createDict(O,Y,P.strings);if(P.privateDict=F,!F.getByName("Subrs"))return;const D=F.getByName("Subrs"),Q=N+D;if(D===0||Q>=this.bytes.length){this.emptyPrivateDictionary(P);return}const ee=this.parseIndex(Q);F.subrsIndex=ee.obj}parseCharsets(P,A,z,N){if(P===0)return new te(!0,L.ISO_ADOBE,i.ISOAdobeCharset);if(P===1)return new te(!0,L.EXPERT,i.ExpertCharset);if(P===2)return new te(!0,L.EXPERT_SUBSET,i.ExpertSubsetCharset);const W=this.bytes,ie=P,Y=W[P++],F=[N?0:".notdef"];let D,Q,ee;switch(A-=1,Y){case 0:for(ee=0;ee<A;ee++)D=W[P++]<<8|W[P++],F.push(N?D:z.get(D));break;case 1:for(;F.length<=A;)for(D=W[P++]<<8|W[P++],Q=W[P++],ee=0;ee<=Q;ee++)F.push(N?D++:z.get(D++));break;case 2:for(;F.length<=A;)for(D=W[P++]<<8|W[P++],Q=W[P++]<<8|W[P++],ee=0;ee<=Q;ee++)F.push(N?D++:z.get(D++));break;default:throw new t.FormatError("Unknown charset format")}const V=P,Z=W.subarray(ie,V);return new te(!1,Y,F,Z)}parseEncoding(P,A,z,N){const W=Object.create(null),ie=this.bytes;let Y=!1,F,D,Q,ee=null;function V(){const Z=ie[P++];for(D=0;D<Z;D++){const ae=ie[P++],H=(ie[P++]<<8)+(ie[P++]&255);W[ae]=N.indexOf(z.get(H))}}if(P===0||P===1){Y=!0,F=P;const Z=P?c.ExpertEncoding:c.StandardEncoding;for(D=0,Q=N.length;D<Q;D++){const ae=Z.indexOf(N[D]);ae!==-1&&(W[ae]=D)}}else{const Z=P;switch(F=ie[P++],F&127){case 0:const H=ie[P++];for(D=1;D<=H;D++)W[ie[P++]]=D;break;case 1:const q=ie[P++];let ne=1;for(D=0;D<q;D++){const le=ie[P++],se=ie[P++];for(let J=le;J<=le+se;J++)W[J]=ne++}break;default:throw new t.FormatError(`Unknown encoding format: ${F} in CFF`)}const ae=P;F&128&&(ie[Z]&=127,V()),ee=ie.subarray(Z,ae)}return F&=127,new B(Y,F,W,ee)}parseFDSelect(P,A){const z=this.bytes,N=z[P++],W=[];let ie;switch(N){case 0:for(ie=0;ie<A;++ie){const F=z[P++];W.push(F)}break;case 3:const Y=z[P++]<<8|z[P++];for(ie=0;ie<Y;++ie){let F=z[P++]<<8|z[P++];ie===0&&F!==0&&((0,t.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),F=0);const D=z[P++],Q=z[P]<<8|z[P+1];for(let ee=F;ee<Q;++ee)W.push(D)}P+=2;break;default:throw new t.FormatError(`parseFDSelect: Unknown format "${N}".`)}if(W.length!==A)throw new t.FormatError("parseFDSelect: Invalid font data.");return new G(N,W)}}l.CFFParser=y;class b{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new o,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,t.warn)("Not enough space in charstrings to duplicate first glyph.");return}const P=this.charStrings.get(0);this.charStrings.add(P),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(P){return P<0||P>=this.charStrings.count?!1:this.charStrings.get(P).length>0}}l.CFF=b;class v{constructor(P,A,z,N){this.major=P,this.minor=A,this.hdrSize=z,this.offSize=N}}l.CFFHeader=v;class o{constructor(){this.strings=[]}get(P){return P>=0&&P<=u-1?e[P]:P-u<=this.strings.length?this.strings[P-u]:e[0]}getSID(P){let A=e.indexOf(P);return A!==-1?A:(A=this.strings.indexOf(P),A!==-1?A+u:-1)}add(P){this.strings.push(P)}get count(){return this.strings.length}}l.CFFStrings=o;class S{constructor(){this.objects=[],this.length=0}add(P){this.length+=P.length,this.objects.push(P)}set(P,A){this.length+=A.length-this.objects[P].length,this.objects[P]=A}get(P){return this.objects[P]}get count(){return this.objects.length}}l.CFFIndex=S;class T{constructor(P,A){this.keyToNameMap=P.keyToNameMap,this.nameToKeyMap=P.nameToKeyMap,this.defaults=P.defaults,this.types=P.types,this.opcodes=P.opcodes,this.order=P.order,this.strings=A,this.values=Object.create(null)}setByKey(P,A){if(!(P in this.keyToNameMap))return!1;const z=A.length;if(z===0)return!0;for(let W=0;W<z;W++)if(isNaN(A[W]))return(0,t.warn)('Invalid CFFDict value: "'+A+'" for key "'+P+'".'),!0;const N=this.types[P];return(N==="num"||N==="sid"||N==="offset")&&(A=A[0]),this.values[P]=A,!0}setByName(P,A){if(!(P in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name "${P}"`);this.values[this.nameToKeyMap[P]]=A}hasName(P){return this.nameToKeyMap[P]in this.values}getByName(P){if(!(P in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name ${P}"`);const A=this.nameToKeyMap[P];return A in this.values?this.values[A]:this.defaults[A]}removeByName(P){delete this.values[this.nameToKeyMap[P]]}static createTables(P){const A={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let z=0,N=P.length;z<N;++z){const W=P[z],ie=Array.isArray(W[0])?(W[0][0]<<8)+W[0][1]:W[0];A.keyToNameMap[ie]=W[1],A.nameToKeyMap[W[1]]=ie,A.types[ie]=W[2],A.defaults[ie]=W[3],A.opcodes[ie]=Array.isArray(W[0])?W[0]:[W[0]],A.order.push(ie)}return A}}const E=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class k extends T{static get tables(){return(0,t.shadow)(this,"tables",this.createTables(E))}constructor(P){super(k.tables,P),this.privateDict=null}}l.CFFTopDict=k;const M=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class O extends T{static get tables(){return(0,t.shadow)(this,"tables",this.createTables(M))}constructor(P){super(O.tables,P),this.subrsIndex=null}}l.CFFPrivateDict=O;const L={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class te{constructor(P,A,z,N){this.predefined=P,this.format=A,this.charset=z,this.raw=N}}l.CFFCharset=te;class B{constructor(P,A,z,N){this.predefined=P,this.format=A,this.encoding=z,this.raw=N}}class G{constructor(P,A){this.format=P,this.fdSelect=A}getFDIndex(P){return P<0||P>=this.fdSelect.length?-1:this.fdSelect[P]}}l.CFFFDSelect=G;class R{constructor(){this.offsets=Object.create(null)}isTracking(P){return P in this.offsets}track(P,A){if(P in this.offsets)throw new t.FormatError(`Already tracking location of ${P}`);this.offsets[P]=A}offset(P){for(const A in this.offsets)this.offsets[A]+=P}setEntryLocation(P,A,z){if(!(P in this.offsets))throw new t.FormatError(`Not tracking location of ${P}`);const N=z.data,W=this.offsets[P],ie=5;for(let Y=0,F=A.length;Y<F;++Y){const D=Y*ie+W,Q=D+1,ee=D+2,V=D+3,Z=D+4;if(N[D]!==29||N[Q]!==0||N[ee]!==0||N[V]!==0||N[Z]!==0)throw new t.FormatError("writing to an offset that is not empty");const ae=A[Y];N[D]=29,N[Q]=ae>>24&255,N[ee]=ae>>16&255,N[V]=ae>>8&255,N[Z]=ae&255}}}class I{constructor(P){this.cff=P}compile(){const P=this.cff,A={data:[],length:0,add(V){this.data=this.data.concat(V),this.length=this.data.length}},z=this.compileHeader(P.header);A.add(z);const N=this.compileNameIndex(P.names);if(A.add(N),P.isCIDFont&&P.topDict.hasName("FontMatrix")){const V=P.topDict.getByName("FontMatrix");P.topDict.removeByName("FontMatrix");for(let Z=0,ae=P.fdArray.length;Z<ae;Z++){const H=P.fdArray[Z];let q=V.slice(0);H.hasName("FontMatrix")&&(q=t.Util.transform(q,H.getByName("FontMatrix"))),H.setByName("FontMatrix",q)}}const W=P.topDict.getByName("XUID");W&&W.length>16&&P.topDict.removeByName("XUID"),P.topDict.setByName("charset",0);let ie=this.compileTopDicts([P.topDict],A.length,P.isCIDFont);A.add(ie.output);const Y=ie.trackers[0],F=this.compileStringIndex(P.strings.strings);A.add(F);const D=this.compileIndex(P.globalSubrIndex);if(A.add(D),P.encoding&&P.topDict.hasName("Encoding"))if(P.encoding.predefined)Y.setEntryLocation("Encoding",[P.encoding.format],A);else{const V=this.compileEncoding(P.encoding);Y.setEntryLocation("Encoding",[A.length],A),A.add(V)}const Q=this.compileCharset(P.charset,P.charStrings.count,P.strings,P.isCIDFont);Y.setEntryLocation("charset",[A.length],A),A.add(Q);const ee=this.compileCharStrings(P.charStrings);if(Y.setEntryLocation("CharStrings",[A.length],A),A.add(ee),P.isCIDFont){Y.setEntryLocation("FDSelect",[A.length],A);const V=this.compileFDSelect(P.fdSelect);A.add(V),ie=this.compileTopDicts(P.fdArray,A.length,!0),Y.setEntryLocation("FDArray",[A.length],A),A.add(ie.output);const Z=ie.trackers;this.compilePrivateDicts(P.fdArray,Z,A)}return this.compilePrivateDicts([P.topDict],[Y],A),A.add([0]),A.data}encodeNumber(P){return Number.isInteger(P)?this.encodeInteger(P):this.encodeFloat(P)}static get EncodeFloatRegExp(){return(0,t.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(P){let A=P.toString();const z=I.EncodeFloatRegExp.exec(A);if(z){const F=parseFloat("1e"+((z[2]?+z[2]:0)+z[1].length));A=(Math.round(P*F)/F).toString()}let N="",W,ie;for(W=0,ie=A.length;W<ie;++W){const F=A[W];F==="e"?N+=A[++W]==="-"?"c":"b":F==="."?N+="a":F==="-"?N+="e":N+=F}N+=N.length&1?"f":"ff";const Y=[30];for(W=0,ie=N.length;W<ie;W+=2)Y.push(parseInt(N.substring(W,W+2),16));return Y}encodeInteger(P){let A;return P>=-107&&P<=107?A=[P+139]:P>=108&&P<=1131?(P-=108,A=[(P>>8)+247,P&255]):P>=-1131&&P<=-108?(P=-P-108,A=[(P>>8)+251,P&255]):P>=-32768&&P<=32767?A=[28,P>>8&255,P&255]:A=[29,P>>24&255,P>>16&255,P>>8&255,P&255],A}compileHeader(P){return[P.major,P.minor,4,P.offSize]}compileNameIndex(P){const A=new S;for(let z=0,N=P.length;z<N;++z){const W=P[z],ie=Math.min(W.length,127);let Y=new Array(ie);for(let F=0;F<ie;F++){let D=W[F];(D<"!"||D>"~"||D==="["||D==="]"||D==="("||D===")"||D==="{"||D==="}"||D==="<"||D===">"||D==="/"||D==="%")&&(D="_"),Y[F]=D}Y=Y.join(""),Y===""&&(Y="Bad_Font_Name"),A.add((0,t.stringToBytes)(Y))}return this.compileIndex(A)}compileTopDicts(P,A,z){const N=[];let W=new S;for(let ie=0,Y=P.length;ie<Y;++ie){const F=P[ie];z&&(F.removeByName("CIDFontVersion"),F.removeByName("CIDFontRevision"),F.removeByName("CIDFontType"),F.removeByName("CIDCount"),F.removeByName("UIDBase"));const D=new R,Q=this.compileDict(F,D);N.push(D),W.add(Q),D.offset(A)}return W=this.compileIndex(W,N),{trackers:N,output:W}}compilePrivateDicts(P,A,z){for(let N=0,W=P.length;N<W;++N){const ie=P[N],Y=ie.privateDict;if(!Y||!ie.hasName("Private"))throw new t.FormatError("There must be a private dictionary.");const F=new R,D=this.compileDict(Y,F);let Q=z.length;if(F.offset(Q),D.length||(Q=0),A[N].setEntryLocation("Private",[D.length,Q],z),z.add(D),Y.subrsIndex&&Y.hasName("Subrs")){const ee=this.compileIndex(Y.subrsIndex);F.setEntryLocation("Subrs",[D.length],z),z.add(ee)}}}compileDict(P,A){const z=[];for(const N of P.order){if(!(N in P.values))continue;let W=P.values[N],ie=P.types[N];if(Array.isArray(ie)||(ie=[ie]),Array.isArray(W)||(W=[W]),W.length!==0){for(let Y=0,F=ie.length;Y<F;++Y){const D=ie[Y],Q=W[Y];switch(D){case"num":case"sid":z.push(...this.encodeNumber(Q));break;case"offset":const ee=P.keyToNameMap[N];A.isTracking(ee)||A.track(ee,z.length),z.push(29,0,0,0,0);break;case"array":case"delta":z.push(...this.encodeNumber(Q));for(let V=1,Z=W.length;V<Z;++V)z.push(...this.encodeNumber(W[V]));break;default:throw new t.FormatError(`Unknown data type of ${D}`)}}z.push(...P.opcodes[N])}}return z}compileStringIndex(P){const A=new S;for(let z=0,N=P.length;z<N;++z)A.add((0,t.stringToBytes)(P[z]));return this.compileIndex(A)}compileGlobalSubrIndex(){const P=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(P))}compileCharStrings(P){const A=new S;for(let z=0;z<P.count;z++){const N=P.get(z);if(N.length===0){A.add(new Uint8Array([139,14]));continue}A.add(N)}return this.compileIndex(A)}compileCharset(P,A,z,N){let W;const ie=A-1;if(N)W=new Uint8Array([2,0,0,ie>>8&255,ie&255]);else{const Y=1+ie*2;W=new Uint8Array(Y),W[0]=0;let F=0;const D=P.charset.length;let Q=!1;for(let ee=1;ee<W.length;ee+=2){let V=0;if(F<D){const Z=P.charset[F++];V=z.getSID(Z),V===-1&&(V=0,Q||(Q=!0,(0,t.warn)(`Couldn't find ${Z} in CFF strings`)))}W[ee]=V>>8&255,W[ee+1]=V&255}}return this.compileTypedArray(W)}compileEncoding(P){return this.compileTypedArray(P.raw)}compileFDSelect(P){const A=P.format;let z,N;switch(A){case 0:for(z=new Uint8Array(1+P.fdSelect.length),z[0]=A,N=0;N<P.fdSelect.length;N++)z[N+1]=P.fdSelect[N];break;case 3:const W=0;let ie=P.fdSelect[0];const Y=[A,0,0,W>>8&255,W&255,ie];for(N=1;N<P.fdSelect.length;N++){const D=P.fdSelect[N];D!==ie&&(Y.push(N>>8&255,N&255,D),ie=D)}const F=(Y.length-3)/3;Y[1]=F>>8&255,Y[2]=F&255,Y.push(N>>8&255,N&255),z=new Uint8Array(Y);break}return this.compileTypedArray(z)}compileTypedArray(P){const A=[];for(let z=0,N=P.length;z<N;++z)A[z]=P[z];return A}compileIndex(P){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const z=P.objects,N=z.length;if(N===0)return[0,0];const W=[N>>8&255,N&255];let ie=1,Y;for(Y=0;Y<N;++Y)ie+=z[Y].length;let F;ie<256?F=1:ie<65536?F=2:ie<16777216?F=3:F=4,W.push(F);let D=1;for(Y=0;Y<N+1;Y++)F===1?W.push(D&255):F===2?W.push(D>>8&255,D&255):F===3?W.push(D>>16&255,D>>8&255,D&255):W.push(D>>>24&255,D>>16&255,D>>8&255,D&255),z[Y]&&(D+=z[Y].length);for(Y=0;Y<N;Y++){A[Y]&&A[Y].offset(W.length);for(let Q=0,ee=z[Y].length;Q<ee;Q++)W.push(z[Y][Q])}return W}}l.CFFCompiler=I},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ISOAdobeCharset=l.ExpertSubsetCharset=l.ExpertCharset=void 0;const a=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];l.ISOAdobeCharset=a;const t=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];l.ExpertCharset=t;const i=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];l.ExpertSubsetCharset=i},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ZapfDingbatsEncoding=l.WinAnsiEncoding=l.SymbolSetEncoding=l.StandardEncoding=l.MacRomanEncoding=l.ExpertEncoding=void 0,l.getEncoding=m;const a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];l.ExpertEncoding=a;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];l.MacRomanEncoding=i;const c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];l.StandardEncoding=c;const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];l.WinAnsiEncoding=s;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];l.SymbolSetEncoding=e;const u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];l.ZapfDingbatsEncoding=u;function m(g){switch(g){case"WinAnsiEncoding":return s;case"StandardEncoding":return c;case"MacRomanEncoding":return i;case"SymbolSetEncoding":return e;case"ZapfDingbatsEncoding":return u;case"ExpertEncoding":return a;case"MacExpertEncoding":return t;default:return null}}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SEAC_ANALYSIS_ENABLED=l.MacStandardGlyphOrdering=l.FontFlags=void 0,l.getFontType=g,l.normalizeFontName=v,l.recoverGlyphName=y,l.type1FontGlyphMapping=b;var t=a(2),i=a(162),c=a(164),s=a(165);const e=!0;l.SEAC_ANALYSIS_ENABLED=e;const u={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};l.FontFlags=u;const m=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];l.MacStandardGlyphOrdering=m;function g(o,S){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;switch(o){case"Type1":return T?t.FontType.TYPE1STANDARD:S==="Type1C"?t.FontType.TYPE1C:t.FontType.TYPE1;case"CIDFontType0":return S==="CIDFontType0C"?t.FontType.CIDFONTTYPE0C:t.FontType.CIDFONTTYPE0;case"OpenType":return t.FontType.OPENTYPE;case"TrueType":return t.FontType.TRUETYPE;case"CIDFontType2":return t.FontType.CIDFONTTYPE2;case"MMType1":return t.FontType.MMTYPE1;case"Type0":return t.FontType.TYPE0;default:return t.FontType.UNKNOWN}}function y(o,S){if(S[o]!==void 0)return o;const T=(0,s.getUnicodeForGlyph)(o,S);if(T!==-1){for(const E in S)if(S[E]===T)return E}return(0,t.info)("Unable to recover a standard glyph name for: "+o),o}function b(o,S,T){const E=Object.create(null);let k,M,O;const L=!!(o.flags&u.Symbolic);if(o.isInternalFont)for(O=S,M=0;M<O.length;M++)k=T.indexOf(O[M]),k>=0?E[M]=k:E[M]=0;else if(o.baseEncodingName)for(O=(0,i.getEncoding)(o.baseEncodingName),M=0;M<O.length;M++)k=T.indexOf(O[M]),k>=0?E[M]=k:E[M]=0;else if(L)for(M in S)E[M]=S[M];else for(O=i.StandardEncoding,M=0;M<O.length;M++)k=T.indexOf(O[M]),k>=0?E[M]=k:E[M]=0;const te=o.differences;let B;if(te)for(M in te){const G=te[M];if(k=T.indexOf(G),k===-1){B||(B=(0,c.getGlyphsUnicode)());const R=y(G,B);R!==G&&(k=T.indexOf(R))}k>=0?E[M]=k:E[M]=0}return E}function v(o){return o.replace(/[,_]/g,"-").replace(/\s/g,"")}},($,l,a)=>{a.r(l),a.d(l,{getDingbatsGlyphsUnicode:()=>c,getGlyphsUnicode:()=>i});var t=a(131);const i=(0,t.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),c=(0,t.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},($,l,a)=>{a.r(l),a.d(l,{clearUnicodeCaches:()=>S,getCharUnicodeCategory:()=>o,getNormalizedUnicodes:()=>g,getUnicodeForGlyph:()=>s,getUnicodeRangeFor:()=>u,mapSpecialUnicodeValues:()=>c,reverseIfRtl:()=>y});var t=a(131);const i=(0,t.getLookupTableFactory)(function(T){T[63721]=169,T[63193]=169,T[63720]=174,T[63194]=174,T[63722]=8482,T[63195]=8482,T[63729]=9127,T[63730]=9128,T[63731]=9129,T[63740]=9131,T[63741]=9132,T[63742]=9133,T[63726]=9121,T[63727]=9122,T[63728]=9123,T[63737]=9124,T[63738]=9125,T[63739]=9126,T[63723]=9115,T[63724]=9116,T[63725]=9117,T[63734]=9118,T[63735]=9119,T[63736]=9120});function c(T){return T>=65520&&T<=65535?0:T>=62976&&T<=63743?i()[T]||T:T===173?45:T}function s(T,E){let k=E[T];if(k!==void 0)return k;if(!T)return-1;if(T[0]==="u"){const M=T.length;let O;if(M===7&&T[1]==="n"&&T[2]==="i")O=T.substring(3);else if(M>=5&&M<=7)O=T.substring(1);else return-1;if(O===O.toUpperCase()&&(k=parseInt(O,16),k>=0))return k}return-1}const e=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function u(T){for(let E=0,k=e.length;E<k;E++){const M=e[E];if(T>=M.begin&&T<M.end)return E}return-1}function m(T){let E=e[13];return T>=E.begin&&T<E.end||(E=e[11],T>=E.begin&&T<E.end)}const g=(0,t.getArrayLookupTableFactory)(function(){return[""," ",""," ",""," ","","",""," ","","IJ","","ij","","L","","l","","n","","s","","D","","D","","d","","LJ","","Lj","","lj","","NJ","","Nj","","nj","","DZ","","Dz","","dz",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","a",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","",".","","..","","...","","","","","","","","","","!!",""," ","","??","","?!","","!?","","",""," ","","Rs","","a/c","","a/s","","C","","c/o","","c/u","","","","F","","No","","TEL","","","","","","","","","","FAX","","I","","II","","III","","IV","","V","","VI","","VII","","VIII","","IX","","X","","XI","","XII","","L","","C","","D","","M","","i","","ii","","iii","","iv","","v","","vi","","vii","","viii","","ix","","x","","xi","","xii","","l","","c","","d","","m","","","","","","","","","","(1)","","(2)","","(3)","","(4)","","(5)","","(6)","","(7)","","(8)","","(9)","","(10)","","(11)","","(12)","","(13)","","(14)","","(15)","","(16)","","(17)","","(18)","","(19)","","(20)","","1.","","2.","","3.","","4.","","5.","","6.","","7.","","8.","","9.","","10.","","11.","","12.","","13.","","14.","","15.","","16.","","17.","","18.","","19.","","20.","","(a)","","(b)","","(c)","","(d)","","(e)","","(f)","","(g)","","(h)","","(i)","","(j)","","(k)","","(l)","","(m)","","(n)","","(o)","","(p)","","(q)","","(r)","","(s)","","(t)","","(u)","","(v)","","(w)","","(x)","","(y)","","(z)","","","","::=","","==","","===","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","0","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","25","","26","","27","","28","","29","","30","","31","","ff","","fi","","fl","","ffi","","ffl","","t","","st","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","","_","","_","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]});function y(T){const E=T.length;if(E<=1||!m(T.charCodeAt(0)))return T;const k=[];for(let M=E-1;M>=0;M--)k.push(T[M]);return k.join("")}const b=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),v=new Map;function o(T){const E=v.get(T);if(E)return E;const k=T.match(b),M={isWhitespace:!!(k&&k[1]),isZeroWidthDiacritic:!!(k&&k[2]),isInvisibleFormatMark:!!(k&&k[3])};return v.set(T,M),M}function S(){v.clear()}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getSerifFonts=l.getNonStdFontMap=l.getGlyphMapForStandardFonts=l.getFontNameToFileMap=void 0,l.getStandardFontName=v,l.getSymbolsFonts=l.getSupplementalGlyphMapForCalibri=l.getSupplementalGlyphMapForArialBlack=l.getStdFontMap=void 0;var t=a(131),i=a(163);const c=(0,t.getLookupTableFactory)(function(o){o["Times-Roman"]="Times-Roman",o.Helvetica="Helvetica",o.Courier="Courier",o.Symbol="Symbol",o["Times-Bold"]="Times-Bold",o["Helvetica-Bold"]="Helvetica-Bold",o["Courier-Bold"]="Courier-Bold",o.ZapfDingbats="ZapfDingbats",o["Times-Italic"]="Times-Italic",o["Helvetica-Oblique"]="Helvetica-Oblique",o["Courier-Oblique"]="Courier-Oblique",o["Times-BoldItalic"]="Times-BoldItalic",o["Helvetica-BoldOblique"]="Helvetica-BoldOblique",o["Courier-BoldOblique"]="Courier-BoldOblique",o.ArialNarrow="Helvetica",o["ArialNarrow-Bold"]="Helvetica-Bold",o["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",o["ArialNarrow-Italic"]="Helvetica-Oblique",o.ArialBlack="Helvetica",o["ArialBlack-Bold"]="Helvetica-Bold",o["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",o["ArialBlack-Italic"]="Helvetica-Oblique",o["Arial-Black"]="Helvetica",o["Arial-Black-Bold"]="Helvetica-Bold",o["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",o["Arial-Black-Italic"]="Helvetica-Oblique",o.Arial="Helvetica",o["Arial-Bold"]="Helvetica-Bold",o["Arial-BoldItalic"]="Helvetica-BoldOblique",o["Arial-Italic"]="Helvetica-Oblique",o.ArialMT="Helvetica",o["Arial-BoldItalicMT"]="Helvetica-BoldOblique",o["Arial-BoldMT"]="Helvetica-Bold",o["Arial-ItalicMT"]="Helvetica-Oblique",o.ArialUnicodeMS="Helvetica",o["ArialUnicodeMS-Bold"]="Helvetica-Bold",o["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",o["ArialUnicodeMS-Italic"]="Helvetica-Oblique",o["Courier-BoldItalic"]="Courier-BoldOblique",o["Courier-Italic"]="Courier-Oblique",o.CourierNew="Courier",o["CourierNew-Bold"]="Courier-Bold",o["CourierNew-BoldItalic"]="Courier-BoldOblique",o["CourierNew-Italic"]="Courier-Oblique",o["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",o["CourierNewPS-BoldMT"]="Courier-Bold",o["CourierNewPS-ItalicMT"]="Courier-Oblique",o.CourierNewPSMT="Courier",o["Helvetica-BoldItalic"]="Helvetica-BoldOblique",o["Helvetica-Italic"]="Helvetica-Oblique",o["Symbol-Bold"]="Symbol",o["Symbol-BoldItalic"]="Symbol",o["Symbol-Italic"]="Symbol",o.TimesNewRoman="Times-Roman",o["TimesNewRoman-Bold"]="Times-Bold",o["TimesNewRoman-BoldItalic"]="Times-BoldItalic",o["TimesNewRoman-Italic"]="Times-Italic",o.TimesNewRomanPS="Times-Roman",o["TimesNewRomanPS-Bold"]="Times-Bold",o["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",o["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",o["TimesNewRomanPS-BoldMT"]="Times-Bold",o["TimesNewRomanPS-Italic"]="Times-Italic",o["TimesNewRomanPS-ItalicMT"]="Times-Italic",o.TimesNewRomanPSMT="Times-Roman",o["TimesNewRomanPSMT-Bold"]="Times-Bold",o["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",o["TimesNewRomanPSMT-Italic"]="Times-Italic"});l.getStdFontMap=c;const s=(0,t.getLookupTableFactory)(function(o){o.Courier="FoxitFixed.pfb",o["Courier-Bold"]="FoxitFixedBold.pfb",o["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",o["Courier-Oblique"]="FoxitFixedItalic.pfb",o.Helvetica="FoxitSans.pfb",o["Helvetica-Bold"]="FoxitSansBold.pfb",o["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",o["Helvetica-Oblique"]="FoxitSansItalic.pfb",o["Times-Roman"]="FoxitSerif.pfb",o["Times-Bold"]="FoxitSerifBold.pfb",o["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",o["Times-Italic"]="FoxitSerifItalic.pfb",o.Symbol="FoxitSymbol.pfb",o.ZapfDingbats="FoxitDingbats.pfb",o["LiberationSans-Regular"]="LiberationSans-Regular.ttf",o["LiberationSans-Bold"]="LiberationSans-Bold.ttf",o["LiberationSans-Italic"]="LiberationSans-Italic.ttf",o["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});l.getFontNameToFileMap=s;const e=(0,t.getLookupTableFactory)(function(o){o.Calibri="Helvetica",o["Calibri-Bold"]="Helvetica-Bold",o["Calibri-BoldItalic"]="Helvetica-BoldOblique",o["Calibri-Italic"]="Helvetica-Oblique",o.CenturyGothic="Helvetica",o["CenturyGothic-Bold"]="Helvetica-Bold",o["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",o["CenturyGothic-Italic"]="Helvetica-Oblique",o.ComicSansMS="Comic Sans MS",o["ComicSansMS-Bold"]="Comic Sans MS-Bold",o["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",o["ComicSansMS-Italic"]="Comic Sans MS-Italic",o["ItcSymbol-Bold"]="Helvetica-Bold",o["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",o["ItcSymbol-Book"]="Helvetica",o["ItcSymbol-BookItalic"]="Helvetica-Oblique",o["ItcSymbol-Medium"]="Helvetica",o["ItcSymbol-MediumItalic"]="Helvetica-Oblique",o.LucidaConsole="Courier",o["LucidaConsole-Bold"]="Courier-Bold",o["LucidaConsole-BoldItalic"]="Courier-BoldOblique",o["LucidaConsole-Italic"]="Courier-Oblique",o["LucidaSans-Demi"]="Helvetica-Bold",o["MS-Gothic"]="MS Gothic",o["MS-Gothic-Bold"]="MS Gothic-Bold",o["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",o["MS-Gothic-Italic"]="MS Gothic-Italic",o["MS-Mincho"]="MS Mincho",o["MS-Mincho-Bold"]="MS Mincho-Bold",o["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",o["MS-Mincho-Italic"]="MS Mincho-Italic",o["MS-PGothic"]="MS PGothic",o["MS-PGothic-Bold"]="MS PGothic-Bold",o["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",o["MS-PGothic-Italic"]="MS PGothic-Italic",o["MS-PMincho"]="MS PMincho",o["MS-PMincho-Bold"]="MS PMincho-Bold",o["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",o["MS-PMincho-Italic"]="MS PMincho-Italic",o.NuptialScript="Times-Italic",o.SegoeUISymbol="Helvetica",o.Wingdings="ZapfDingbats",o["Wingdings-Regular"]="ZapfDingbats"});l.getNonStdFontMap=e;const u=(0,t.getLookupTableFactory)(function(o){o["Adobe Jenson"]=!0,o["Adobe Text"]=!0,o.Albertus=!0,o.Aldus=!0,o.Alexandria=!0,o.Algerian=!0,o["American Typewriter"]=!0,o.Antiqua=!0,o.Apex=!0,o.Arno=!0,o.Aster=!0,o.Aurora=!0,o.Baskerville=!0,o.Bell=!0,o.Bembo=!0,o["Bembo Schoolbook"]=!0,o.Benguiat=!0,o["Berkeley Old Style"]=!0,o["Bernhard Modern"]=!0,o["Berthold City"]=!0,o.Bodoni=!0,o["Bauer Bodoni"]=!0,o["Book Antiqua"]=!0,o.Bookman=!0,o["Bordeaux Roman"]=!0,o["Californian FB"]=!0,o.Calisto=!0,o.Calvert=!0,o.Capitals=!0,o.Cambria=!0,o.Cartier=!0,o.Caslon=!0,o.Catull=!0,o.Centaur=!0,o["Century Old Style"]=!0,o["Century Schoolbook"]=!0,o.Chaparral=!0,o["Charis SIL"]=!0,o.Cheltenham=!0,o["Cholla Slab"]=!0,o.Clarendon=!0,o.Clearface=!0,o.Cochin=!0,o.Colonna=!0,o["Computer Modern"]=!0,o["Concrete Roman"]=!0,o.Constantia=!0,o["Cooper Black"]=!0,o.Corona=!0,o.Ecotype=!0,o.Egyptienne=!0,o.Elephant=!0,o.Excelsior=!0,o.Fairfield=!0,o["FF Scala"]=!0,o.Folkard=!0,o.Footlight=!0,o.FreeSerif=!0,o["Friz Quadrata"]=!0,o.Garamond=!0,o.Gentium=!0,o.Georgia=!0,o.Gloucester=!0,o["Goudy Old Style"]=!0,o["Goudy Schoolbook"]=!0,o["Goudy Pro Font"]=!0,o.Granjon=!0,o["Guardian Egyptian"]=!0,o.Heather=!0,o.Hercules=!0,o["High Tower Text"]=!0,o.Hiroshige=!0,o["Hoefler Text"]=!0,o["Humana Serif"]=!0,o.Imprint=!0,o["Ionic No. 5"]=!0,o.Janson=!0,o.Joanna=!0,o.Korinna=!0,o.Lexicon=!0,o.LiberationSerif=!0,o["Liberation Serif"]=!0,o["Linux Libertine"]=!0,o.Literaturnaya=!0,o.Lucida=!0,o["Lucida Bright"]=!0,o.Melior=!0,o.Memphis=!0,o.Miller=!0,o.Minion=!0,o.Modern=!0,o["Mona Lisa"]=!0,o["Mrs Eaves"]=!0,o["MS Serif"]=!0,o["Museo Slab"]=!0,o["New York"]=!0,o["Nimbus Roman"]=!0,o["NPS Rawlinson Roadway"]=!0,o.NuptialScript=!0,o.Palatino=!0,o.Perpetua=!0,o.Plantin=!0,o["Plantin Schoolbook"]=!0,o.Playbill=!0,o["Poor Richard"]=!0,o["Rawlinson Roadway"]=!0,o.Renault=!0,o.Requiem=!0,o.Rockwell=!0,o.Roman=!0,o["Rotis Serif"]=!0,o.Sabon=!0,o.Scala=!0,o.Seagull=!0,o.Sistina=!0,o.Souvenir=!0,o.STIX=!0,o["Stone Informal"]=!0,o["Stone Serif"]=!0,o.Sylfaen=!0,o.Times=!0,o.Trajan=!0,o.Trinit=!0,o["Trump Mediaeval"]=!0,o.Utopia=!0,o["Vale Type"]=!0,o["Bitstream Vera"]=!0,o["Vera Serif"]=!0,o.Versailles=!0,o.Wanted=!0,o.Weiss=!0,o["Wide Latin"]=!0,o.Windsor=!0,o.XITS=!0});l.getSerifFonts=u;const m=(0,t.getLookupTableFactory)(function(o){o.Dingbats=!0,o.Symbol=!0,o.ZapfDingbats=!0});l.getSymbolsFonts=m;const g=(0,t.getLookupTableFactory)(function(o){o[2]=10,o[3]=32,o[4]=33,o[5]=34,o[6]=35,o[7]=36,o[8]=37,o[9]=38,o[10]=39,o[11]=40,o[12]=41,o[13]=42,o[14]=43,o[15]=44,o[16]=45,o[17]=46,o[18]=47,o[19]=48,o[20]=49,o[21]=50,o[22]=51,o[23]=52,o[24]=53,o[25]=54,o[26]=55,o[27]=56,o[28]=57,o[29]=58,o[30]=894,o[31]=60,o[32]=61,o[33]=62,o[34]=63,o[35]=64,o[36]=65,o[37]=66,o[38]=67,o[39]=68,o[40]=69,o[41]=70,o[42]=71,o[43]=72,o[44]=73,o[45]=74,o[46]=75,o[47]=76,o[48]=77,o[49]=78,o[50]=79,o[51]=80,o[52]=81,o[53]=82,o[54]=83,o[55]=84,o[56]=85,o[57]=86,o[58]=87,o[59]=88,o[60]=89,o[61]=90,o[62]=91,o[63]=92,o[64]=93,o[65]=94,o[66]=95,o[67]=96,o[68]=97,o[69]=98,o[70]=99,o[71]=100,o[72]=101,o[73]=102,o[74]=103,o[75]=104,o[76]=105,o[77]=106,o[78]=107,o[79]=108,o[80]=109,o[81]=110,o[82]=111,o[83]=112,o[84]=113,o[85]=114,o[86]=115,o[87]=116,o[88]=117,o[89]=118,o[90]=119,o[91]=120,o[92]=121,o[93]=122,o[94]=123,o[95]=124,o[96]=125,o[97]=126,o[98]=196,o[99]=197,o[100]=199,o[101]=201,o[102]=209,o[103]=214,o[104]=220,o[105]=225,o[106]=224,o[107]=226,o[108]=228,o[109]=227,o[110]=229,o[111]=231,o[112]=233,o[113]=232,o[114]=234,o[115]=235,o[116]=237,o[117]=236,o[118]=238,o[119]=239,o[120]=241,o[121]=243,o[122]=242,o[123]=244,o[124]=246,o[125]=245,o[126]=250,o[127]=249,o[128]=251,o[129]=252,o[130]=8224,o[131]=176,o[132]=162,o[133]=163,o[134]=167,o[135]=8226,o[136]=182,o[137]=223,o[138]=174,o[139]=169,o[140]=8482,o[141]=180,o[142]=168,o[143]=8800,o[144]=198,o[145]=216,o[146]=8734,o[147]=177,o[148]=8804,o[149]=8805,o[150]=165,o[151]=181,o[152]=8706,o[153]=8721,o[154]=8719,o[156]=8747,o[157]=170,o[158]=186,o[159]=8486,o[160]=230,o[161]=248,o[162]=191,o[163]=161,o[164]=172,o[165]=8730,o[166]=402,o[167]=8776,o[168]=8710,o[169]=171,o[170]=187,o[171]=8230,o[200]=193,o[203]=205,o[210]=218,o[223]=711,o[224]=321,o[225]=322,o[226]=352,o[227]=353,o[228]=381,o[229]=382,o[233]=221,o[234]=253,o[252]=263,o[253]=268,o[254]=269,o[258]=258,o[260]=260,o[261]=261,o[265]=280,o[266]=281,o[267]=282,o[268]=283,o[269]=313,o[275]=323,o[276]=324,o[278]=328,o[283]=344,o[284]=345,o[285]=346,o[286]=347,o[292]=367,o[295]=377,o[296]=378,o[298]=380,o[305]=963,o[306]=964,o[307]=966,o[308]=8215,o[309]=8252,o[310]=8319,o[311]=8359,o[312]=8592,o[313]=8593,o[337]=9552,o[493]=1039,o[494]=1040,o[672]=1488,o[673]=1489,o[674]=1490,o[675]=1491,o[676]=1492,o[677]=1493,o[678]=1494,o[679]=1495,o[680]=1496,o[681]=1497,o[682]=1498,o[683]=1499,o[684]=1500,o[685]=1501,o[686]=1502,o[687]=1503,o[688]=1504,o[689]=1505,o[690]=1506,o[691]=1507,o[692]=1508,o[693]=1509,o[694]=1510,o[695]=1511,o[696]=1512,o[697]=1513,o[698]=1514,o[705]=1524,o[706]=8362,o[710]=64288,o[711]=64298,o[759]=1617,o[761]=1776,o[763]=1778,o[775]=1652,o[777]=1764,o[778]=1780,o[779]=1781,o[780]=1782,o[782]=771,o[783]=64726,o[786]=8363,o[788]=8532,o[790]=768,o[791]=769,o[792]=768,o[795]=803,o[797]=64336,o[798]=64337,o[799]=64342,o[800]=64343,o[801]=64344,o[802]=64345,o[803]=64362,o[804]=64363,o[805]=64364,o[2424]=7821,o[2425]=7822,o[2426]=7823,o[2427]=7824,o[2428]=7825,o[2429]=7826,o[2430]=7827,o[2433]=7682,o[2678]=8045,o[2679]=8046,o[2830]=1552,o[2838]=686,o[2840]=751,o[2842]=753,o[2843]=754,o[2844]=755,o[2846]=757,o[2856]=767,o[2857]=848,o[2858]=849,o[2862]=853,o[2863]=854,o[2864]=855,o[2865]=861,o[2866]=862,o[2906]=7460,o[2908]=7462,o[2909]=7463,o[2910]=7464,o[2912]=7466,o[2913]=7467,o[2914]=7468,o[2916]=7470,o[2917]=7471,o[2918]=7472,o[2920]=7474,o[2921]=7475,o[2922]=7476,o[2924]=7478,o[2925]=7479,o[2926]=7480,o[2928]=7482,o[2929]=7483,o[2930]=7484,o[2932]=7486,o[2933]=7487,o[2934]=7488,o[2936]=7490,o[2937]=7491,o[2938]=7492,o[2940]=7494,o[2941]=7495,o[2942]=7496,o[2944]=7498,o[2946]=7500,o[2948]=7502,o[2950]=7504,o[2951]=7505,o[2952]=7506,o[2954]=7508,o[2955]=7509,o[2956]=7510,o[2958]=7512,o[2959]=7513,o[2960]=7514,o[2962]=7516,o[2963]=7517,o[2964]=7518,o[2966]=7520,o[2967]=7521,o[2968]=7522,o[2970]=7524,o[2971]=7525,o[2972]=7526,o[2974]=7528,o[2975]=7529,o[2976]=7530,o[2978]=1537,o[2979]=1538,o[2980]=1539,o[2982]=1549,o[2983]=1551,o[2984]=1552,o[2986]=1554,o[2987]=1555,o[2988]=1556,o[2990]=1623,o[2991]=1624,o[2995]=1775,o[2999]=1791,o[3002]=64290,o[3003]=64291,o[3004]=64292,o[3006]=64294,o[3007]=64295,o[3008]=64296,o[3011]=1900,o[3014]=8223,o[3015]=8244,o[3017]=7532,o[3018]=7533,o[3019]=7534,o[3075]=7590,o[3076]=7591,o[3079]=7594,o[3080]=7595,o[3083]=7598,o[3084]=7599,o[3087]=7602,o[3088]=7603,o[3091]=7606,o[3092]=7607,o[3095]=7610,o[3096]=7611,o[3099]=7614,o[3100]=7615,o[3103]=7618,o[3104]=7619,o[3107]=8337,o[3108]=8338,o[3116]=1884,o[3119]=1885,o[3120]=1885,o[3123]=1886,o[3124]=1886,o[3127]=1887,o[3128]=1887,o[3131]=1888,o[3132]=1888,o[3135]=1889,o[3136]=1889,o[3139]=1890,o[3140]=1890,o[3143]=1891,o[3144]=1891,o[3147]=1892,o[3148]=1892,o[3153]=580,o[3154]=581,o[3157]=584,o[3158]=585,o[3161]=588,o[3162]=589,o[3165]=891,o[3166]=892,o[3169]=1274,o[3170]=1275,o[3173]=1278,o[3174]=1279,o[3181]=7622,o[3182]=7623,o[3282]=11799,o[3316]=578,o[3379]=42785,o[3393]=1159,o[3416]=8377});l.getGlyphMapForStandardFonts=g;const y=(0,t.getLookupTableFactory)(function(o){o[227]=322,o[264]=261,o[291]=346});l.getSupplementalGlyphMapForArialBlack=y;const b=(0,t.getLookupTableFactory)(function(o){o[1]=32,o[4]=65,o[6]=193,o[17]=66,o[18]=67,o[21]=268,o[24]=68,o[28]=69,o[30]=201,o[32]=282,o[38]=70,o[39]=71,o[44]=72,o[47]=73,o[49]=205,o[58]=74,o[60]=75,o[62]=76,o[68]=77,o[69]=78,o[75]=79,o[87]=80,o[89]=81,o[90]=82,o[92]=344,o[94]=83,o[97]=352,o[100]=84,o[104]=85,o[115]=86,o[116]=87,o[121]=88,o[122]=89,o[124]=221,o[127]=90,o[129]=381,o[258]=97,o[260]=225,o[268]=261,o[271]=98,o[272]=99,o[273]=263,o[275]=269,o[282]=100,o[286]=101,o[288]=233,o[290]=283,o[295]=281,o[296]=102,o[336]=103,o[346]=104,o[349]=105,o[351]=237,o[361]=106,o[364]=107,o[367]=108,o[371]=322,o[373]=109,o[374]=110,o[381]=111,o[383]=243,o[393]=112,o[395]=113,o[396]=114,o[398]=345,o[400]=115,o[401]=347,o[403]=353,o[410]=116,o[437]=117,o[448]=118,o[449]=119,o[454]=120,o[455]=121,o[457]=253,o[460]=122,o[462]=382,o[463]=380,o[853]=44,o[855]=58,o[856]=46,o[876]=47,o[878]=45,o[882]=45,o[894]=40,o[895]=41,o[896]=91,o[897]=93,o[923]=64,o[1004]=48,o[1005]=49,o[1006]=50,o[1007]=51,o[1008]=52,o[1009]=53,o[1010]=54,o[1011]=55,o[1012]=56,o[1013]=57,o[1081]=37,o[1085]=43,o[1086]=45});l.getSupplementalGlyphMapForCalibri=b;function v(o){const S=(0,i.normalizeFontName)(o);return c()[S]}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ToUnicodeMap=l.IdentityToUnicodeMap=void 0;var t=a(2);class i{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this._map=e}get length(){return this._map.length}forEach(e){for(const u in this._map)e(u,this._map[u].charCodeAt(0))}has(e){return this._map[e]!==void 0}get(e){return this._map[e]}charCodeOf(e){const u=this._map;if(u.length<=65536)return u.indexOf(e);for(const m in u)if(u[m]===e)return m|0;return-1}amend(e){for(const u in e)this._map[u]=e[u]}}l.ToUnicodeMap=i;class c{constructor(e,u){this.firstChar=e,this.lastChar=u}get length(){return this.lastChar+1-this.firstChar}forEach(e){for(let u=this.firstChar,m=this.lastChar;u<=m;u++)e(u,u)}has(e){return this.firstChar<=e&&e<=this.lastChar}get(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}charCodeOf(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}amend(e){(0,t.unreachable)("Should not call amend()")}}l.IdentityToUnicodeMap=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CFFFont=void 0;var t=a(160),i=a(163),c=a(2);class s{constructor(u,m){this.properties=m;const g=new t.CFFParser(u,m,i.SEAC_ANALYSIS_ENABLED);this.cff=g.parse(),this.cff.duplicateFirstGlyph();const y=new t.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=y.compile()}catch{(0,c.warn)("Failed to compile font "+m.loadedName),this.data=u}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const u=this.cff,m=this.properties,g=u.charset.charset;let y,b;if(m.composite){y=Object.create(null);let o;if(u.isCIDFont)for(b=0;b<g.length;b++){const S=g[b];o=m.cMap.charCodeOf(S),y[o]=b}else for(b=0;b<u.charStrings.count;b++)o=m.cMap.charCodeOf(b),y[o]=b;return y}let v=u.encoding?u.encoding.encoding:null;return m.isInternalFont&&(v=m.defaultEncoding),y=(0,i.type1FontGlyphMapping)(m,v,g),y}hasGlyphId(u){return this.cff.hasGlyphId(u)}_createBuiltInEncoding(){const{charset:u,encoding:m}=this.cff;if(!u||!m)return;const g=u.charset,y=m.encoding,b=[];for(const v in y){const o=y[v];if(o>=0){const S=g[o];S&&(b[v]=S)}}b.length>0&&(this.properties.builtInEncoding=b)}}l.CFFFont=s},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FontRendererFactory=void 0;var t=a(2),i=a(160),c=a(164),s=a(162),e=a(135);function u(R,I){return(R[I]<<24|R[I+1]<<16|R[I+2]<<8|R[I+3])>>>0}function m(R,I){return R[I]<<8|R[I+1]}function g(R,I){return(R[I]<<24|R[I+1]<<16)>>16}function y(R,I){return R[I]<<24>>24}function b(R,I){return g(R,I)/16384}function v(R){const I=R.length;let U=32768;return I<1240?U=107:I<33900&&(U=1131),U}function o(R,I,U){const P=m(R,I+2)===1?u(R,I+8):u(R,I+16),A=m(R,I+P);let z,N,W;if(A===4){m(R,I+P+2);const ie=m(R,I+P+6)>>1;for(N=I+P+14,z=[],W=0;W<ie;W++,N+=2)z[W]={end:m(R,N)};for(N+=2,W=0;W<ie;W++,N+=2)z[W].start=m(R,N);for(W=0;W<ie;W++,N+=2)z[W].idDelta=m(R,N);for(W=0;W<ie;W++,N+=2){let Y=m(R,N);if(Y!==0){z[W].ids=[];for(let F=0,D=z[W].end-z[W].start+1;F<D;F++)z[W].ids[F]=m(R,N+Y),Y+=2}}return z}else if(A===12){const ie=u(R,I+P+12);for(N=I+P+16,z=[],W=0;W<ie;W++)I=u(R,N),z.push({start:I,end:u(R,N+4),idDelta:u(R,N+8)-I}),N+=12;return z}throw new t.FormatError(`unsupported cmap: ${A}`)}function S(R,I,U,P){const A={},N=new i.CFFParser(new e.Stream(R,I,U-I),A,P).parse();return{glyphs:N.charStrings.objects,subrs:N.topDict.privateDict&&N.topDict.privateDict.subrsIndex&&N.topDict.privateDict.subrsIndex.objects,gsubrs:N.globalSubrIndex&&N.globalSubrIndex.objects,isCFFCIDFont:N.isCIDFont,fdSelect:N.fdSelect,fdArray:N.fdArray}}function T(R,I,U){let P,A;U?(P=4,A=u):(P=2,A=(W,ie)=>2*m(W,ie));const z=[];let N=A(I,0);for(let W=P;W<I.length;W+=P){const ie=A(I,W);z.push(R.subarray(N,ie)),N=ie}return z}function E(R,I){const U=I.codePointAt(0);let P=0,A=0,z=R.length-1;for(;A<z;){const N=A+z+1>>1;U<R[N].start?z=N-1:A=N}return R[A].start<=U&&U<=R[A].end&&(P=R[A].idDelta+(R[A].ids?R[A].ids[U-R[A].start]:U)&65535),{charCode:U,glyphId:P}}function k(R,I,U){function P(D,Q){I.push({cmd:"moveTo",args:[D,Q]})}function A(D,Q){I.push({cmd:"lineTo",args:[D,Q]})}function z(D,Q,ee,V){I.push({cmd:"quadraticCurveTo",args:[D,Q,ee,V]})}let N=0;const W=g(R,N);let ie,Y=0,F=0;if(N+=10,W<0)do{ie=m(R,N);const D=m(R,N+2);N+=4;let Q,ee;ie&1?(ie&2?(Q=g(R,N),ee=g(R,N+2)):(Q=m(R,N),ee=m(R,N+2)),N+=4):ie&2?(Q=y(R,N++),ee=y(R,N++)):(Q=R[N++],ee=R[N++]),ie&2?(Y=Q,F=ee):(Y=0,F=0);let V=1,Z=1,ae=0,H=0;ie&8?(V=Z=b(R,N),N+=2):ie&64?(V=b(R,N),Z=b(R,N+2),N+=4):ie&128&&(V=b(R,N),ae=b(R,N+2),H=b(R,N+4),Z=b(R,N+6),N+=8);const q=U.glyphs[D];q&&(I.push({cmd:"save"},{cmd:"transform",args:[V,ae,H,Z,Y,F]}),k(q,I,U),I.push({cmd:"restore"}))}while(ie&32);else{const D=[];let Q,ee;for(Q=0;Q<W;Q++)D.push(m(R,N)),N+=2;const V=m(R,N);N+=2+V;const Z=D.at(-1)+1,ae=[];for(;ae.length<Z;){ie=R[N++];let q=1;for(ie&8&&(q+=R[N++]);q-- >0;)ae.push({flags:ie})}for(Q=0;Q<Z;Q++){switch(ae[Q].flags&18){case 0:Y+=g(R,N),N+=2;break;case 2:Y-=R[N++];break;case 18:Y+=R[N++];break}ae[Q].x=Y}for(Q=0;Q<Z;Q++){switch(ae[Q].flags&36){case 0:F+=g(R,N),N+=2;break;case 4:F-=R[N++];break;case 36:F+=R[N++];break}ae[Q].y=F}let H=0;for(N=0;N<W;N++){const q=D[N],ne=ae.slice(H,q+1);if(ne[0].flags&1)ne.push(ne[0]);else if(ne.at(-1).flags&1)ne.unshift(ne.at(-1));else{const le={flags:1,x:(ne[0].x+ne.at(-1).x)/2,y:(ne[0].y+ne.at(-1).y)/2};ne.unshift(le),ne.push(le)}for(P(ne[0].x,ne[0].y),Q=1,ee=ne.length;Q<ee;Q++)ne[Q].flags&1?A(ne[Q].x,ne[Q].y):ne[Q+1].flags&1?(z(ne[Q].x,ne[Q].y,ne[Q+1].x,ne[Q+1].y),Q++):z(ne[Q].x,ne[Q].y,(ne[Q].x+ne[Q+1].x)/2,(ne[Q].y+ne[Q+1].y)/2);H=q+1}}}function M(R,I,U,P){function A(Q,ee){I.push({cmd:"moveTo",args:[Q,ee]})}function z(Q,ee){I.push({cmd:"lineTo",args:[Q,ee]})}function N(Q,ee,V,Z,ae,H){I.push({cmd:"bezierCurveTo",args:[Q,ee,V,Z,ae,H]})}const W=[];let ie=0,Y=0,F=0;function D(Q){let ee=0;for(;ee<Q.length;){let V=!1,Z=Q[ee++],ae,H,q,ne,le,se,J,re,oe;switch(Z){case 1:F+=W.length>>1,V=!0;break;case 3:F+=W.length>>1,V=!0;break;case 4:Y+=W.pop(),A(ie,Y),V=!0;break;case 5:for(;W.length>0;)ie+=W.shift(),Y+=W.shift(),z(ie,Y);break;case 6:for(;W.length>0&&(ie+=W.shift(),z(ie,Y),W.length!==0);)Y+=W.shift(),z(ie,Y);break;case 7:for(;W.length>0&&(Y+=W.shift(),z(ie,Y),W.length!==0);)ie+=W.shift(),z(ie,Y);break;case 8:for(;W.length>0;)ae=ie+W.shift(),q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+W.shift(),N(ae,q,H,ne,ie,Y);break;case 10:if(re=W.pop(),oe=null,U.isCFFCIDFont){const ue=U.fdSelect.getFDIndex(P);if(ue>=0&&ue<U.fdArray.length){const he=U.fdArray[ue];let de;he.privateDict&&he.privateDict.subrsIndex&&(de=he.privateDict.subrsIndex.objects),de&&(re+=v(de),oe=de[re])}else(0,t.warn)("Invalid fd index for glyph index.")}else oe=U.subrs[re+U.subrsBias];oe&&D(oe);break;case 11:return;case 12:switch(Z=Q[ee++],Z){case 34:ae=ie+W.shift(),H=ae+W.shift(),le=Y+W.shift(),ie=H+W.shift(),N(ae,Y,H,le,ie,le),ae=ie+W.shift(),H=ae+W.shift(),ie=H+W.shift(),N(ae,le,H,Y,ie,Y);break;case 35:ae=ie+W.shift(),q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+W.shift(),N(ae,q,H,ne,ie,Y),ae=ie+W.shift(),q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+W.shift(),N(ae,q,H,ne,ie,Y),W.pop();break;case 36:ae=ie+W.shift(),le=Y+W.shift(),H=ae+W.shift(),se=le+W.shift(),ie=H+W.shift(),N(ae,le,H,se,ie,se),ae=ie+W.shift(),H=ae+W.shift(),J=se+W.shift(),ie=H+W.shift(),N(ae,se,H,J,ie,Y);break;case 37:const ue=ie,he=Y;ae=ie+W.shift(),q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+W.shift(),N(ae,q,H,ne,ie,Y),ae=ie+W.shift(),q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H,Y=ne,Math.abs(ie-ue)>Math.abs(Y-he)?ie+=W.shift():Y+=W.shift(),N(ae,q,H,ne,ie,Y);break;default:throw new t.FormatError(`unknown operator: 12 ${Z}`)}break;case 14:if(W.length>=4){const ue=W.pop(),he=W.pop();Y=W.pop(),ie=W.pop(),I.push({cmd:"save"},{cmd:"translate",args:[ie,Y]});let de=E(U.cmap,String.fromCharCode(U.glyphNameMap[s.StandardEncoding[ue]]));M(U.glyphs[de.glyphId],I,U,de.glyphId),I.push({cmd:"restore"}),de=E(U.cmap,String.fromCharCode(U.glyphNameMap[s.StandardEncoding[he]])),M(U.glyphs[de.glyphId],I,U,de.glyphId)}return;case 18:F+=W.length>>1,V=!0;break;case 19:F+=W.length>>1,ee+=F+7>>3,V=!0;break;case 20:F+=W.length>>1,ee+=F+7>>3,V=!0;break;case 21:Y+=W.pop(),ie+=W.pop(),A(ie,Y),V=!0;break;case 22:ie+=W.pop(),A(ie,Y),V=!0;break;case 23:F+=W.length>>1,V=!0;break;case 24:for(;W.length>2;)ae=ie+W.shift(),q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+W.shift(),N(ae,q,H,ne,ie,Y);ie+=W.shift(),Y+=W.shift(),z(ie,Y);break;case 25:for(;W.length>6;)ie+=W.shift(),Y+=W.shift(),z(ie,Y);ae=ie+W.shift(),q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+W.shift(),N(ae,q,H,ne,ie,Y);break;case 26:for(W.length%2&&(ie+=W.shift());W.length>0;)ae=ie,q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H,Y=ne+W.shift(),N(ae,q,H,ne,ie,Y);break;case 27:for(W.length%2&&(Y+=W.shift());W.length>0;)ae=ie+W.shift(),q=Y,H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne,N(ae,q,H,ne,ie,Y);break;case 28:W.push((Q[ee]<<24|Q[ee+1]<<16)>>16),ee+=2;break;case 29:re=W.pop()+U.gsubrsBias,oe=U.gsubrs[re],oe&&D(oe);break;case 30:for(;W.length>0&&(ae=ie,q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+(W.length===1?W.shift():0),N(ae,q,H,ne,ie,Y),W.length!==0);)ae=ie+W.shift(),q=Y,H=ae+W.shift(),ne=q+W.shift(),Y=ne+W.shift(),ie=H+(W.length===1?W.shift():0),N(ae,q,H,ne,ie,Y);break;case 31:for(;W.length>0&&(ae=ie+W.shift(),q=Y,H=ae+W.shift(),ne=q+W.shift(),Y=ne+W.shift(),ie=H+(W.length===1?W.shift():0),N(ae,q,H,ne,ie,Y),W.length!==0);)ae=ie,q=Y+W.shift(),H=ae+W.shift(),ne=q+W.shift(),ie=H+W.shift(),Y=ne+(W.length===1?W.shift():0),N(ae,q,H,ne,ie,Y);break;default:if(Z<32)throw new t.FormatError(`unknown operator: ${Z}`);Z<247?W.push(Z-139):Z<251?W.push((Z-247)*256+Q[ee++]+108):Z<255?W.push(-(Z-251)*256-Q[ee++]-108):(W.push((Q[ee]<<24|Q[ee+1]<<16|Q[ee+2]<<8|Q[ee+3])/65536),ee+=4);break}V&&(W.length=0)}}D(R)}const O=[];class L{constructor(I){this.constructor===L&&(0,t.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=I,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(I){const{charCode:U,glyphId:P}=E(this.cmap,I);let A=this.compiledGlyphs[P];if(!A)try{A=this.compileGlyph(this.glyphs[P],P),this.compiledGlyphs[P]=A}catch(z){throw this.compiledGlyphs[P]=O,this.compiledCharCodeToGlyphId[U]===void 0&&(this.compiledCharCodeToGlyphId[U]=P),z}return this.compiledCharCodeToGlyphId[U]===void 0&&(this.compiledCharCodeToGlyphId[U]=P),A}compileGlyph(I,U){if(!I||I.length===0||I[0]===14)return O;let P=this.fontMatrix;if(this.isCFFCIDFont){const z=this.fdSelect.getFDIndex(U);z>=0&&z<this.fdArray.length?P=this.fdArray[z].getByName("FontMatrix")||t.FONT_IDENTITY_MATRIX:(0,t.warn)("Invalid fd index for glyph index.")}const A=[{cmd:"save"},{cmd:"transform",args:P.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(I,A,U),A.push({cmd:"restore"}),A}compileGlyphImpl(){(0,t.unreachable)("Children classes should implement this.")}hasBuiltPath(I){const{charCode:U,glyphId:P}=E(this.cmap,I);return this.compiledGlyphs[P]!==void 0&&this.compiledCharCodeToGlyphId[U]!==void 0}}class te extends L{constructor(I,U,P){super(P||[488e-6,0,0,488e-6,0,0]),this.glyphs=I,this.cmap=U}compileGlyphImpl(I,U){k(I,U,this)}}class B extends L{constructor(I,U,P,A){super(P||[.001,0,0,.001,0,0]),this.glyphs=I.glyphs,this.gsubrs=I.gsubrs||[],this.subrs=I.subrs||[],this.cmap=U,this.glyphNameMap=A||(0,c.getGlyphsUnicode)(),this.gsubrsBias=v(this.gsubrs),this.subrsBias=v(this.subrs),this.isCFFCIDFont=I.isCFFCIDFont,this.fdSelect=I.fdSelect,this.fdArray=I.fdArray}compileGlyphImpl(I,U,P){M(I,U,this,P)}}class G{static create(I,U){const P=new Uint8Array(I.data);let A,z,N,W,ie,Y;const F=m(P,4);for(let D=0,Q=12;D<F;D++,Q+=16){const ee=(0,t.bytesToString)(P.subarray(Q,Q+4)),V=u(P,Q+8),Z=u(P,Q+12);switch(ee){case"cmap":A=o(P,V);break;case"glyf":z=P.subarray(V,V+Z);break;case"loca":N=P.subarray(V,V+Z);break;case"head":Y=m(P,V+18),ie=m(P,V+50);break;case"CFF ":W=S(P,V,V+Z,U);break}}if(z){const D=Y?[1/Y,0,0,1/Y,0,0]:I.fontMatrix;return new te(T(z,N,ie),A,D)}return new B(W,A,I.fontMatrix,I.glyphNameMap)}}l.FontRendererFactory=G},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getMetrics=l.getFontBasicMetrics=void 0;var t=a(131);const i=(0,t.getLookupTableFactory)(function(s){s.Courier=600,s["Courier-Bold"]=600,s["Courier-BoldOblique"]=600,s["Courier-Oblique"]=600,s.Helvetica=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),s["Helvetica-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),s["Helvetica-BoldOblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),s["Helvetica-Oblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),s.Symbol=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),s["Times-Roman"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),s["Times-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),s["Times-BoldItalic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),s["Times-Italic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),s.ZapfDingbats=(0,t.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});l.getMetrics=i;const c=(0,t.getLookupTableFactory)(function(s){s.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},s["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},s["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},s["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},s.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},s["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},s["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},s["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},s["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},s["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},s["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},s["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},s.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},s.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});l.getFontBasicMetrics=c},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GlyfTable=void 0;const a=1<<0,t=1<<1,i=1<<2,c=1<<3,s=1<<4,e=1<<5,u=1<<6,m=1<<0,g=1<<1,y=1<<3,b=1<<5,v=1<<6,o=1<<7,S=1<<8;class T{constructor(B){let{glyfTable:G,isGlyphLocationsLong:R,locaTable:I,numGlyphs:U}=B;this.glyphs=[];const P=new DataView(I.buffer,I.byteOffset,I.byteLength),A=new DataView(G.buffer,G.byteOffset,G.byteLength),z=R?4:2;let N=R?P.getUint32(0):2*P.getUint16(0),W=0;for(let ie=0;ie<U;ie++){W+=z;const Y=R?P.getUint32(W):2*P.getUint16(W);if(Y===N){this.glyphs.push(new E({}));continue}const F=E.parse(N,A);this.glyphs.push(F),N=Y}}getSize(){return this.glyphs.reduce((B,G)=>{const R=G.getSize();return B+(R+3&-4)},0)}write(){const B=this.getSize(),G=new DataView(new ArrayBuffer(B)),R=B>131070,I=R?4:2,U=new DataView(new ArrayBuffer((this.glyphs.length+1)*I));R?U.setUint32(0,0):U.setUint16(0,0);let P=0,A=0;for(const z of this.glyphs)P+=z.write(P,G),P=P+3&-4,A+=I,R?U.setUint32(A,P):U.setUint16(A,P>>1);return{isLocationLong:R,loca:new Uint8Array(U.buffer),glyf:new Uint8Array(G.buffer)}}scale(B){for(let G=0,R=this.glyphs.length;G<R;G++)this.glyphs[G].scale(B[G])}}l.GlyfTable=T;class E{constructor(B){let{header:G=null,simple:R=null,composites:I=null}=B;this.header=G,this.simple=R,this.composites=I}static parse(B,G){const[R,I]=k.parse(B,G);if(B+=R,I.numberOfContours<0){const P=[];for(;;){const[A,z]=L.parse(B,G);if(B+=A,P.push(z),!(z.flags&b))break}return new E({header:I,composites:P})}const U=O.parse(B,G,I.numberOfContours);return new E({header:I,simple:U})}getSize(){if(!this.header)return 0;const B=this.simple?this.simple.getSize():this.composites.reduce((G,R)=>G+R.getSize(),0);return this.header.getSize()+B}write(B,G){if(!this.header)return 0;const R=B;if(B+=this.header.write(B,G),this.simple)B+=this.simple.write(B,G);else for(const I of this.composites)B+=I.write(B,G);return B-R}scale(B){if(!this.header)return;const G=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(G,B),this.simple)this.simple.scale(G,B);else for(const R of this.composites)R.scale(G,B)}}class k{constructor(B){let{numberOfContours:G,xMin:R,yMin:I,xMax:U,yMax:P}=B;this.numberOfContours=G,this.xMin=R,this.yMin=I,this.xMax=U,this.yMax=P}static parse(B,G){return[10,new k({numberOfContours:G.getInt16(B),xMin:G.getInt16(B+2),yMin:G.getInt16(B+4),xMax:G.getInt16(B+6),yMax:G.getInt16(B+8)})]}getSize(){return 10}write(B,G){return G.setInt16(B,this.numberOfContours),G.setInt16(B+2,this.xMin),G.setInt16(B+4,this.yMin),G.setInt16(B+6,this.xMax),G.setInt16(B+8,this.yMax),10}scale(B,G){this.xMin=Math.round(B+(this.xMin-B)*G),this.xMax=Math.round(B+(this.xMax-B)*G)}}class M{constructor(B){let{flags:G,xCoordinates:R,yCoordinates:I}=B;this.xCoordinates=R,this.yCoordinates=I,this.flags=G}}class O{constructor(B){let{contours:G,instructions:R}=B;this.contours=G,this.instructions=R}static parse(B,G,R){const I=[];for(let ee=0;ee<R;ee++){const V=G.getUint16(B);B+=2,I.push(V)}const U=I[R-1]+1,P=G.getUint16(B);B+=2;const A=new Uint8Array(G).slice(B,B+P);B+=P;const z=[];for(let ee=0;ee<U;B++,ee++){let V=G.getUint8(B);if(z.push(V),V&c){const Z=G.getUint8(++B);V^=c;for(let ae=0;ae<Z;ae++)z.push(V);ee+=Z}}const N=[];let W=[],ie=[],Y=[];const F=[];let D=0,Q=0;for(let ee=0;ee<U;ee++){const V=z[ee];if(V&t){const Z=G.getUint8(B++);Q+=V&s?Z:-Z,W.push(Q)}else V&s||(Q+=G.getInt16(B),B+=2),W.push(Q);I[D]===ee&&(D++,N.push(W),W=[])}Q=0,D=0;for(let ee=0;ee<U;ee++){const V=z[ee];if(V&i){const Z=G.getUint8(B++);Q+=V&e?Z:-Z,ie.push(Q)}else V&e||(Q+=G.getInt16(B),B+=2),ie.push(Q);Y.push(V&a|V&u),I[D]===ee&&(W=N[D],D++,F.push(new M({flags:Y,xCoordinates:W,yCoordinates:ie})),ie=[],Y=[])}return new O({contours:F,instructions:A})}getSize(){let B=this.contours.length*2+2+this.instructions.length,G=0,R=0;for(const I of this.contours){B+=I.flags.length;for(let U=0,P=I.xCoordinates.length;U<P;U++){const A=I.xCoordinates[U],z=I.yCoordinates[U];let N=Math.abs(A-G);N>255?B+=2:N>0&&(B+=1),G=A,N=Math.abs(z-R),N>255?B+=2:N>0&&(B+=1),R=z}}return B}write(B,G){const R=B,I=[],U=[],P=[];let A=0,z=0;for(const N of this.contours){for(let W=0,ie=N.xCoordinates.length;W<ie;W++){let Y=N.flags[W];const F=N.xCoordinates[W];let D=F-A;if(D===0)Y|=s,I.push(0);else{const ee=Math.abs(D);ee<=255?(Y|=D>=0?t|s:t,I.push(ee)):I.push(D)}A=F;const Q=N.yCoordinates[W];if(D=Q-z,D===0)Y|=e,U.push(0);else{const ee=Math.abs(D);ee<=255?(Y|=D>=0?i|e:i,U.push(ee)):U.push(D)}z=Q,P.push(Y)}G.setUint16(B,I.length-1),B+=2}G.setUint16(B,this.instructions.length),B+=2,this.instructions.length&&(new Uint8Array(G.buffer,0,G.buffer.byteLength).set(this.instructions,B),B+=this.instructions.length);for(const N of P)G.setUint8(B++,N);for(let N=0,W=I.length;N<W;N++){const ie=I[N],Y=P[N];Y&t?G.setUint8(B++,ie):Y&s||(G.setInt16(B,ie),B+=2)}for(let N=0,W=U.length;N<W;N++){const ie=U[N],Y=P[N];Y&i?G.setUint8(B++,ie):Y&e||(G.setInt16(B,ie),B+=2)}return B-R}scale(B,G){for(const R of this.contours)if(R.xCoordinates.length!==0)for(let I=0,U=R.xCoordinates.length;I<U;I++)R.xCoordinates[I]=Math.round(B+(R.xCoordinates[I]-B)*G)}}class L{constructor(B){let{flags:G,glyphIndex:R,argument1:I,argument2:U,transf:P,instructions:A}=B;this.flags=G,this.glyphIndex=R,this.argument1=I,this.argument2=U,this.transf=P,this.instructions=A}static parse(B,G){const R=B,I=[];let U=G.getUint16(B);const P=G.getUint16(B+2);B+=4;let A,z;U&m?(U&g?(A=G.getInt16(B),z=G.getInt16(B+2)):(A=G.getUint16(B),z=G.getUint16(B+2)),B+=4,U^=m):(U&g?(A=G.getInt8(B),z=G.getInt8(B+1)):(A=G.getUint8(B),z=G.getUint8(B+1)),B+=2),U&y?(I.push(G.getUint16(B)),B+=2):U&v?(I.push(G.getUint16(B),G.getUint16(B+2)),B+=4):U&o&&(I.push(G.getUint16(B),G.getUint16(B+2),G.getUint16(B+4),G.getUint16(B+6)),B+=8);let N=null;if(U&S){const W=G.getUint16(B);B+=2,N=new Uint8Array(G).slice(B,B+W),B+=W}return[B-R,new L({flags:U,glyphIndex:P,argument1:A,argument2:z,transf:I,instructions:N})]}getSize(){let B=4+this.transf.length*2;return this.flags&S&&(B+=2+this.instructions.length),B+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(B+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(B+=2),B}write(B,G){const R=B;return this.flags&g?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=m):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=m),G.setUint16(B,this.flags),G.setUint16(B+2,this.glyphIndex),B+=4,this.flags&m?(this.flags&g?(G.setInt16(B,this.argument1),G.setInt16(B+2,this.argument2)):(G.setUint16(B,this.argument1),G.setUint16(B+2,this.argument2)),B+=4):(G.setUint8(B,this.argument1),G.setUint8(B+1,this.argument2),B+=2),this.flags&S&&(G.setUint16(B,this.instructions.length),B+=2,this.instructions.length&&(new Uint8Array(G.buffer,0,G.buffer.byteLength).set(this.instructions,B),B+=this.instructions.length)),B-R}scale(B,G){}}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OpenTypeFileBuilder=void 0;var t=a(131),i=a(2);function c(y,b,v){y[b]=v>>8&255,y[b+1]=v&255}function s(y,b,v){y[b]=v>>24&255,y[b+1]=v>>16&255,y[b+2]=v>>8&255,y[b+3]=v&255}function e(y,b,v){if(v instanceof Uint8Array)y.set(v,b);else if(typeof v=="string")for(let o=0,S=v.length;o<S;o++)y[b++]=v.charCodeAt(o)&255;else for(let o=0,S=v.length;o<S;o++)y[b++]=v[o]&255}const u=12,m=16;class g{constructor(b){this.sfnt=b,this.tables=Object.create(null)}static getSearchParams(b,v){let o=1,S=0;for(;(o^b)>o;)o<<=1,S++;const T=o*v;return{range:T,entry:S,rangeShift:v*b-T}}toArray(){let b=this.sfnt;const v=this.tables,o=Object.keys(v);o.sort();const S=o.length;let T,E,k,M,O,L=u+S*m;const te=[L];for(T=0;T<S;T++){M=v[o[T]];const R=(M.length+3&-4)>>>0;L+=R,te.push(L)}const B=new Uint8Array(L);for(T=0;T<S;T++)M=v[o[T]],e(B,te[T],M);b==="true"&&(b=(0,i.string32)(65536)),B[0]=b.charCodeAt(0)&255,B[1]=b.charCodeAt(1)&255,B[2]=b.charCodeAt(2)&255,B[3]=b.charCodeAt(3)&255,c(B,4,S);const G=g.getSearchParams(S,16);for(c(B,6,G.range),c(B,8,G.entry),c(B,10,G.rangeShift),L=u,T=0;T<S;T++){O=o[T],B[L]=O.charCodeAt(0)&255,B[L+1]=O.charCodeAt(1)&255,B[L+2]=O.charCodeAt(2)&255,B[L+3]=O.charCodeAt(3)&255;let R=0;for(E=te[T],k=te[T+1];E<k;E+=4){const I=(0,t.readUint32)(B,E);R=R+I>>>0}s(B,L+4,R),s(B,L+8,te[T]),s(B,L+12,v[O].length),L+=m}return B}addTable(b,v){if(b in this.tables)throw new Error("Table "+b+" already exists");this.tables[b]=v}}l.OpenTypeFileBuilder=g},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Type1Font=void 0;var t=a(160),i=a(163),c=a(131),s=a(135),e=a(174),u=a(2);function m(v,o,S){const T=v.length,E=o.length,k=T-E;let M=S,O=!1;for(;M<k;){let L=0;for(;L<E&&v[M+L]===o[L];)L++;if(L>=E){for(M+=L;M<T&&(0,c.isWhiteSpace)(v[M]);)M++;O=!0;break}M++}return{found:O,length:M}}function g(v,o){const S=[101,101,120,101,99],T=v.pos;let E,k,M;try{E=v.getBytes(o),k=E.length}catch{}if(k===o&&(M=m(E,S,o-2*S.length),M.found&&M.length===o))return{stream:new s.Stream(E),length:o};(0,u.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),v.pos=T;const O=2048;let L;for(;;){const te=v.peekBytes(O);if(M=m(te,S,0),M.length===0)break;if(v.pos+=M.length,M.found){L=v.pos-T;break}}return v.pos=T,L?{stream:new s.Stream(v.getBytes(L)),length:L}:((0,u.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new s.Stream(v.getBytes(o)),length:o})}function y(v,o){const S=v.getBytes();return{stream:new s.Stream(S),length:S.length}}class b{constructor(o,S,T){let k=T.length1;T.length2;let M=S.peekBytes(6);const O=M[0]===128&&M[1]===1;O&&(S.skip(6),k=M[5]<<24|M[4]<<16|M[3]<<8|M[2]);const L=g(S,k);new e.Type1Parser(L.stream,!1,i.SEAC_ANALYSIS_ENABLED).extractFontHeader(T),O&&(M=S.getBytes(6),M[5]<<24|M[4]<<16|M[3]<<8|M[2]);const B=y(S),R=new e.Type1Parser(B.stream,!0,i.SEAC_ANALYSIS_ENABLED).extractFontProgram(T);for(const A in R.properties)T[A]=R.properties[A];const I=R.charstrings,U=this.getType2Charstrings(I),P=this.getType2Subrs(R.subrs);this.charstrings=I,this.data=this.wrap(o,U,this.charstrings,P,T),this.seacs=this.getSeacs(R.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const o=[".notdef"];for(const{glyphName:S}of this.charstrings)o.push(S);return o}getGlyphMapping(o){const S=this.charstrings;if(o.composite){const O=Object.create(null);for(let L=0,te=S.length;L<te;L++){const B=o.cMap.charCodeOf(L);O[B]=L+1}return O}const T=[".notdef"];let E,k;for(k=0;k<S.length;k++)T.push(S[k].glyphName);const M=o.builtInEncoding;if(M){E=Object.create(null);for(const O in M)k=T.indexOf(M[O]),k>=0&&(E[O]=k)}return(0,i.type1FontGlyphMapping)(o,E,T)}hasGlyphId(o){return o<0||o>=this.numGlyphs?!1:o===0?!0:this.charstrings[o-1].charstring.length>0}getSeacs(o){const S=[];for(let T=0,E=o.length;T<E;T++){const k=o[T];k.seac&&(S[T+1]=k.seac)}return S}getType2Charstrings(o){const S=[];for(let T=0,E=o.length;T<E;T++)S.push(o[T].charstring);return S}getType2Subrs(o){let S=0;const T=o.length;T<1133?S=107:T<33769?S=1131:S=32768;const E=[];let k;for(k=0;k<S;k++)E.push([11]);for(k=0;k<T;k++)E.push(o[k]);return E}wrap(o,S,T,E,k){const M=new t.CFF;M.header=new t.CFFHeader(1,0,4,4),M.names=[o];const O=new t.CFFTopDict;O.setByName("version",391),O.setByName("Notice",392),O.setByName("FullName",393),O.setByName("FamilyName",394),O.setByName("Weight",395),O.setByName("Encoding",null),O.setByName("FontMatrix",k.fontMatrix),O.setByName("FontBBox",k.bbox),O.setByName("charset",null),O.setByName("CharStrings",null),O.setByName("Private",null),M.topDict=O;const L=new t.CFFStrings;L.add("Version 0.11"),L.add("See original notice"),L.add(o),L.add(o),L.add("Medium"),M.strings=L,M.globalSubrIndex=new t.CFFIndex;const te=S.length,B=[".notdef"];let G,R;for(G=0;G<te;G++){const N=T[G].glyphName;t.CFFStandardStrings.indexOf(N)===-1&&L.add(N),B.push(N)}M.charset=new t.CFFCharset(!1,0,B);const I=new t.CFFIndex;for(I.add([139,14]),G=0;G<te;G++)I.add(S[G]);M.charStrings=I;const U=new t.CFFPrivateDict;U.setByName("Subrs",null);const P=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(G=0,R=P.length;G<R;G++){const N=P[G];if(!(N in k.privateData))continue;const W=k.privateData[N];if(Array.isArray(W))for(let ie=W.length-1;ie>0;ie--)W[ie]-=W[ie-1];U.setByName(N,W)}M.topDict.privateDict=U;const A=new t.CFFIndex;for(G=0,R=E.length;G<R;G++)A.add(E[G]);return U.subrsIndex=A,new t.CFFCompiler(M).compile()}}l.Type1Font=b},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Type1Parser=void 0;var t=a(162),i=a(131),c=a(135),s=a(2);const e=!1,u={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class m{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(k,M,O){const L=k.length;let te=!1,B,G,R;for(let I=0;I<L;I++){let U=k[I];if(U<32){switch(U===12&&(U=(U<<8)+k[++I]),U){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){te=!0;break}const W=this.stack.pop();this.stack.push(0,W);break}te=this.executeCommand(1,u.vmoveto);break;case 5:te=this.executeCommand(2,u.rlineto);break;case 6:te=this.executeCommand(1,u.hlineto);break;case 7:te=this.executeCommand(1,u.vlineto);break;case 8:te=this.executeCommand(6,u.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){te=!0;break}if(R=this.stack.pop(),!M[R]){te=!0;break}te=this.convert(M[R],M,O);break;case 11:return te;case 13:if(this.stack.length<2){te=!0;break}B=this.stack.pop(),G=this.stack.pop(),this.lsb=G,this.width=B,this.stack.push(B,G),te=this.executeCommand(2,u.hmoveto);break;case 14:this.output.push(u.endchar[0]);break;case 21:if(this.flexing)break;te=this.executeCommand(2,u.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}te=this.executeCommand(1,u.hmoveto);break;case 30:te=this.executeCommand(4,u.vhcurveto);break;case 31:te=this.executeCommand(4,u.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(O){const W=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-W,te=this.executeCommand(0,u.endchar)}else te=this.executeCommand(4,u.endchar);break;case 3079:if(this.stack.length<4){te=!0;break}this.stack.pop(),B=this.stack.pop();const P=this.stack.pop();G=this.stack.pop(),this.lsb=G,this.width=B,this.stack.push(B,G,P),te=this.executeCommand(3,u.rmoveto);break;case 3084:if(this.stack.length<2){te=!0;break}const A=this.stack.pop(),z=this.stack.pop();this.stack.push(z/A);break;case 3088:if(this.stack.length<2){te=!0;break}R=this.stack.pop();const N=this.stack.pop();if(R===0&&N===3){const W=this.stack.splice(this.stack.length-17,17);this.stack.push(W[2]+W[0],W[3]+W[1],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14]),te=this.executeCommand(13,u.flex,!0),this.flexing=!1,this.stack.push(W[15],W[16])}else R===1&&N===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,s.warn)('Unknown type 1 charstring command of "'+U+'"');break}if(te)break;continue}else U<=246?U-=139:U<=250?U=(U-247)*256+k[++I]+108:U<=254?U=-((U-251)*256)-k[++I]-108:U=(k[++I]&255)<<24|(k[++I]&255)<<16|(k[++I]&255)<<8|(k[++I]&255)<<0;this.stack.push(U)}return te}executeCommand(k,M,O){const L=this.stack.length;if(k>L)return!0;const te=L-k;for(let B=te;B<L;B++){let G=this.stack[B];Number.isInteger(G)?this.output.push(28,G>>8&255,G&255):(G=65536*G|0,this.output.push(255,G>>24&255,G>>16&255,G>>8&255,G&255))}return this.output.push(...M),O?this.stack.splice(te,k):this.stack.length=0,!1}}const g=55665,y=4330;function b(E){return E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102}function v(E,k,M){if(M>=E.length)return new Uint8Array(0);const O=52845,L=22719;let te=k|0,B,G;for(B=0;B<M;B++)te=(E[B]+te)*O+L&65535;const R=E.length-M,I=new Uint8Array(R);for(B=M,G=0;G<R;B++,G++){const U=E[B];I[G]=U^te>>8,te=(U+te)*O+L&65535}return I}function o(E,k,M){let te=k|0;const B=E.length,G=B>>>1,R=new Uint8Array(G);let I,U;for(I=0,U=0;I<B;I++){const P=E[I];if(!b(P))continue;I++;let A;for(;I<B&&!b(A=E[I]);)I++;if(I<B){const z=parseInt(String.fromCharCode(P,A),16);R[U++]=z^te>>8,te=(z+te)*52845+22719&65535}}return R.slice(M,U)}function S(E){return E===47||E===91||E===93||E===123||E===125||E===40||E===41}class T{constructor(k,M,O){if(M){const L=k.getBytes(),te=!((b(L[0])||(0,i.isWhiteSpace)(L[0]))&&b(L[1])&&b(L[2])&&b(L[3])&&b(L[4])&&b(L[5])&&b(L[6])&&b(L[7]));k=new c.Stream(te?v(L,g,4):o(L,g,4))}this.seacAnalysisEnabled=!!O,this.stream=k,this.nextChar()}readNumberArray(){this.getToken();const k=[];for(;;){const M=this.getToken();if(M===null||M==="]"||M==="}")break;k.push(parseFloat(M||0))}return k}readNumber(){const k=this.getToken();return parseFloat(k||0)}readInt(){const k=this.getToken();return parseInt(k||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let k=!1,M=this.currentChar;for(;;){if(M===-1)return null;if(k)(M===10||M===13)&&(k=!1);else if(M===37)k=!0;else if(!(0,i.isWhiteSpace)(M))break;M=this.nextChar()}if(S(M))return this.nextChar(),String.fromCharCode(M);let O="";do O+=String.fromCharCode(M),M=this.nextChar();while(M>=0&&!(0,i.isWhiteSpace)(M)&&!S(M));return O}readCharStrings(k,M){return M===-1?k:v(k,y,M)}extractFontProgram(k){const M=this.stream,O=[],L=[],te=Object.create(null);te.lenIV=4;const B={subrs:[],charstrings:[],properties:{privateData:te}};let G,R,I,U;for(;(G=this.getToken())!==null;)if(G==="/")switch(G=this.getToken(),G){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();G=this.getToken(),!(G===null||G==="end");){if(G!=="/")continue;const A=this.getToken();R=this.readInt(),this.getToken(),I=R>0?M.getBytes(R):new Uint8Array(0),U=B.properties.privateData.lenIV;const z=this.readCharStrings(I,U);this.nextChar(),G=this.getToken(),G==="noaccess"?this.getToken():G==="/"&&this.prevChar(),L.push({glyph:A,encoded:z})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const A=this.readInt();R=this.readInt(),this.getToken(),I=R>0?M.getBytes(R):new Uint8Array(0),U=B.properties.privateData.lenIV;const z=this.readCharStrings(I,U);this.nextChar(),G=this.getToken(),G==="noaccess"&&this.getToken(),O[A]=z}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const P=this.readNumberArray();P.length>0&&P.length%2===0&&e&&(B.properties.privateData[G]=P);break;case"StemSnapH":case"StemSnapV":B.properties.privateData[G]=this.readNumberArray();break;case"StdHW":case"StdVW":B.properties.privateData[G]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":B.properties.privateData[G]=this.readNumber();break;case"ForceBold":B.properties.privateData[G]=this.readBoolean();break}for(const{encoded:P,glyph:A}of L){const z=new m,N=z.convert(P,O,this.seacAnalysisEnabled);let W=z.output;N&&(W=[14]);const ie={glyphName:A,charstring:W,width:z.width,lsb:z.lsb,seac:z.seac};if(A===".notdef"?B.charstrings.unshift(ie):B.charstrings.push(ie),k.builtInEncoding){const Y=k.builtInEncoding.indexOf(A);Y>-1&&k.widths[Y]===void 0&&Y>=k.firstChar&&Y<=k.lastChar&&(k.widths[Y]=z.width)}}return B}extractFontHeader(k){let M;for(;(M=this.getToken())!==null;)if(M==="/")switch(M=this.getToken(),M){case"FontMatrix":const O=this.readNumberArray();k.fontMatrix=O;break;case"Encoding":const L=this.getToken();let te;if(!/^\d+$/.test(L))te=(0,t.getEncoding)(L);else{te=[];const G=parseInt(L,10)|0;this.getToken();for(let R=0;R<G;R++){for(M=this.getToken();M!=="dup"&&M!=="def";)if(M=this.getToken(),M===null)return;if(M==="def")break;const I=this.readInt();this.getToken();const U=this.getToken();te[I]=U,this.getToken()}}k.builtInEncoding=te;break;case"FontBBox":const B=this.readNumberArray();k.ascent=Math.max(B[3],B[1]),k.descent=Math.min(B[1],B[3]),k.ascentScaled=!0;break}}}l.Type1Parser=T},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Pattern=void 0,l.getTilingPatternIR=S;var t=a(2),i=a(132),c=a(139),s=a(131);const e={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class u{constructor(){(0,t.unreachable)("Cannot initialize Pattern.")}static parseShading(E,k,M,O,L,te){const B=E instanceof i.BaseStream?E.dict:E,G=B.get("ShadingType");try{switch(G){case e.AXIAL:case e.RADIAL:return new g(B,k,M,L,te);case e.FREE_FORM_MESH:case e.LATTICE_FORM_MESH:case e.COONS_PATCH_MESH:case e.TENSOR_PATCH_MESH:return new v(E,k,M,L,te);default:throw new t.FormatError("Unsupported ShadingType: "+G)}}catch(R){if(R instanceof s.MissingDataException)throw R;return O.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.shadingPattern}),(0,t.warn)(R),new o}}}l.Pattern=u;class m{static get SMALL_NUMBER(){return(0,t.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===m&&(0,t.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,t.unreachable)("Abstract method `getIR` called.")}}class g extends m{constructor(E,k,M,O,L){super(),this.coordsArr=E.getArray("Coords"),this.shadingType=E.get("ShadingType");const te=c.ColorSpace.parse({cs:E.getRaw("CS")||E.getRaw("ColorSpace"),xref:k,resources:M,pdfFunctionFactory:O,localColorSpaceCache:L}),B=E.getArray("BBox");Array.isArray(B)&&B.length===4?this.bbox=t.Util.normalizeRect(B):this.bbox=null;let G=0,R=1;if(E.has("Domain")){const Q=E.getArray("Domain");G=Q[0],R=Q[1]}let I=!1,U=!1;if(E.has("Extend")){const Q=E.getArray("Extend");I=Q[0],U=Q[1]}if(this.shadingType===e.RADIAL&&(!I||!U)){const[Q,ee,V,Z,ae,H]=this.coordsArr,q=Math.hypot(Q-Z,ee-ae);V<=H+q&&H<=V+q&&(0,t.warn)("Unsupported radial gradient.")}this.extendStart=I,this.extendEnd=U;const P=E.getRaw("Function"),A=O.createFromArray(P),z=10,N=(R-G)/z,W=this.colorStops=[];if(G>=R||N<=0){(0,t.info)("Bad shading domain.");return}const ie=new Float32Array(te.numComps),Y=new Float32Array(1);let F;for(let Q=0;Q<=z;Q++){Y[0]=G+Q*N,A(Y,0,ie,0),F=te.getRgb(ie,0);const ee=t.Util.makeHexColor(F[0],F[1],F[2]);W.push([Q/z,ee])}let D="transparent";E.has("Background")&&(F=te.getRgb(E.get("Background"),0),D=t.Util.makeHexColor(F[0],F[1],F[2])),I||(W.unshift([0,D]),W[1][0]+=m.SMALL_NUMBER),U||(W.at(-1)[0]-=m.SMALL_NUMBER,W.push([1,D])),this.colorStops=W}getIR(){const E=this.coordsArr,k=this.shadingType;let M,O,L,te,B;return k===e.AXIAL?(O=[E[0],E[1]],L=[E[2],E[3]],te=null,B=null,M="axial"):k===e.RADIAL?(O=[E[0],E[1]],L=[E[3],E[4]],te=E[2],B=E[5],M="radial"):(0,t.unreachable)(`getPattern type unknown: ${k}`),["RadialAxial",M,this.bbox,this.colorStops,O,L,te,B]}}class y{constructor(E,k){this.stream=E,this.context=k,this.buffer=0,this.bufferLength=0;const M=k.numComps;this.tmpCompsBuf=new Float32Array(M);const O=k.colorSpace.numComps;this.tmpCsCompsBuf=k.colorFn?new Float32Array(O):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const E=this.stream.getByte();return E<0?!1:(this.buffer=E,this.bufferLength=8,!0)}readBits(E){let k=this.buffer,M=this.bufferLength;if(E===32){if(M===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;k=k<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const O=this.stream.getByte();return this.buffer=O&(1<<M)-1,(k<<8-M|(O&255)>>M)>>>0}if(E===8&&M===0)return this.stream.getByte();for(;M<E;)k=k<<8|this.stream.getByte(),M+=8;return M-=E,this.bufferLength=M,this.buffer=k&(1<<M)-1,k>>M}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const E=this.context.bitsPerCoordinate,k=this.readBits(E),M=this.readBits(E),O=this.context.decode,L=E<32?1/((1<<E)-1):23283064365386963e-26;return[k*L*(O[1]-O[0])+O[0],M*L*(O[3]-O[2])+O[2]]}readComponents(){const E=this.context.numComps,k=this.context.bitsPerComponent,M=k<32?1/((1<<k)-1):23283064365386963e-26,O=this.context.decode,L=this.tmpCompsBuf;for(let B=0,G=4;B<E;B++,G+=2){const R=this.readBits(k);L[B]=R*M*(O[G+1]-O[G])+O[G]}const te=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(L,0,te,0),this.context.colorSpace.getRgb(te,0)}}const b=function(){function E(M){const O=[];for(let L=0;L<=M;L++){const te=L/M,B=1-te;O.push(new Float32Array([B*B*B,3*te*B*B,3*te*te*B,te*te*te]))}return O}const k=[];return function(M){return k[M]||(k[M]=E(M)),k[M]}}();class v extends m{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,t.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(E,k,M,O,L){if(super(),!(E instanceof i.BaseStream))throw new t.FormatError("Mesh data is not a stream");const te=E.dict;this.shadingType=te.get("ShadingType");const B=te.getArray("BBox");Array.isArray(B)&&B.length===4?this.bbox=t.Util.normalizeRect(B):this.bbox=null;const G=c.ColorSpace.parse({cs:te.getRaw("CS")||te.getRaw("ColorSpace"),xref:k,resources:M,pdfFunctionFactory:O,localColorSpaceCache:L});this.background=te.has("Background")?G.getRgb(te.get("Background"),0):null;const R=te.getRaw("Function"),I=R?O.createFromArray(R):null;this.coords=[],this.colors=[],this.figures=[];const U={bitsPerCoordinate:te.get("BitsPerCoordinate"),bitsPerComponent:te.get("BitsPerComponent"),bitsPerFlag:te.get("BitsPerFlag"),decode:te.getArray("Decode"),colorFn:I,colorSpace:G,numComps:I?1:G.numComps},P=new y(E,U);let A=!1;switch(this.shadingType){case e.FREE_FORM_MESH:this._decodeType4Shading(P);break;case e.LATTICE_FORM_MESH:const z=te.get("VerticesPerRow")|0;if(z<2)throw new t.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(P,z);break;case e.COONS_PATCH_MESH:this._decodeType6Shading(P),A=!0;break;case e.TENSOR_PATCH_MESH:this._decodeType7Shading(P),A=!0;break;default:(0,t.unreachable)("Unsupported mesh type.");break}if(A){this._updateBounds();for(let z=0,N=this.figures.length;z<N;z++)this._buildFigureFromPatch(z)}this._updateBounds(),this._packData()}_decodeType4Shading(E){const k=this.coords,M=this.colors,O=[];let L=0;for(;E.hasData;){const te=E.readFlag(),B=E.readCoordinate(),G=E.readComponents();if(L===0){if(!(0<=te&&te<=2))throw new t.FormatError("Unknown type4 flag");switch(te){case 0:L=3;break;case 1:O.push(O.at(-2),O.at(-1)),L=1;break;case 2:O.push(O.at(-3),O.at(-1)),L=1;break}}O.push(k.length),k.push(B),M.push(G),L--,E.align()}this.figures.push({type:"triangles",coords:new Int32Array(O),colors:new Int32Array(O)})}_decodeType5Shading(E,k){const M=this.coords,O=this.colors,L=[];for(;E.hasData;){const te=E.readCoordinate(),B=E.readComponents();L.push(M.length),M.push(te),O.push(B)}this.figures.push({type:"lattice",coords:new Int32Array(L),colors:new Int32Array(L),verticesPerRow:k})}_decodeType6Shading(E){const k=this.coords,M=this.colors,O=new Int32Array(16),L=new Int32Array(4);for(;E.hasData;){const te=E.readFlag();if(!(0<=te&&te<=3))throw new t.FormatError("Unknown type6 flag");const B=k.length;for(let A=0,z=te!==0?8:12;A<z;A++)k.push(E.readCoordinate());const G=M.length;for(let A=0,z=te!==0?2:4;A<z;A++)M.push(E.readComponents());let R,I,U,P;switch(te){case 0:O[12]=B+3,O[13]=B+4,O[14]=B+5,O[15]=B+6,O[8]=B+2,O[11]=B+7,O[4]=B+1,O[7]=B+8,O[0]=B,O[1]=B+11,O[2]=B+10,O[3]=B+9,L[2]=G+1,L[3]=G+2,L[0]=G,L[1]=G+3;break;case 1:R=O[12],I=O[13],U=O[14],P=O[15],O[12]=P,O[13]=B+0,O[14]=B+1,O[15]=B+2,O[8]=U,O[11]=B+3,O[4]=I,O[7]=B+4,O[0]=R,O[1]=B+7,O[2]=B+6,O[3]=B+5,R=L[2],I=L[3],L[2]=I,L[3]=G,L[0]=R,L[1]=G+1;break;case 2:R=O[15],I=O[11],O[12]=O[3],O[13]=B+0,O[14]=B+1,O[15]=B+2,O[8]=O[7],O[11]=B+3,O[4]=I,O[7]=B+4,O[0]=R,O[1]=B+7,O[2]=B+6,O[3]=B+5,R=L[3],L[2]=L[1],L[3]=G,L[0]=R,L[1]=G+1;break;case 3:O[12]=O[0],O[13]=B+0,O[14]=B+1,O[15]=B+2,O[8]=O[1],O[11]=B+3,O[4]=O[2],O[7]=B+4,O[0]=O[3],O[1]=B+7,O[2]=B+6,O[3]=B+5,L[2]=L[0],L[3]=G,L[0]=L[1],L[1]=G+1;break}O[5]=k.length,k.push([(-4*k[O[0]][0]-k[O[15]][0]+6*(k[O[4]][0]+k[O[1]][0])-2*(k[O[12]][0]+k[O[3]][0])+3*(k[O[13]][0]+k[O[7]][0]))/9,(-4*k[O[0]][1]-k[O[15]][1]+6*(k[O[4]][1]+k[O[1]][1])-2*(k[O[12]][1]+k[O[3]][1])+3*(k[O[13]][1]+k[O[7]][1]))/9]),O[6]=k.length,k.push([(-4*k[O[3]][0]-k[O[12]][0]+6*(k[O[2]][0]+k[O[7]][0])-2*(k[O[0]][0]+k[O[15]][0])+3*(k[O[4]][0]+k[O[14]][0]))/9,(-4*k[O[3]][1]-k[O[12]][1]+6*(k[O[2]][1]+k[O[7]][1])-2*(k[O[0]][1]+k[O[15]][1])+3*(k[O[4]][1]+k[O[14]][1]))/9]),O[9]=k.length,k.push([(-4*k[O[12]][0]-k[O[3]][0]+6*(k[O[8]][0]+k[O[13]][0])-2*(k[O[0]][0]+k[O[15]][0])+3*(k[O[11]][0]+k[O[1]][0]))/9,(-4*k[O[12]][1]-k[O[3]][1]+6*(k[O[8]][1]+k[O[13]][1])-2*(k[O[0]][1]+k[O[15]][1])+3*(k[O[11]][1]+k[O[1]][1]))/9]),O[10]=k.length,k.push([(-4*k[O[15]][0]-k[O[0]][0]+6*(k[O[11]][0]+k[O[14]][0])-2*(k[O[12]][0]+k[O[3]][0])+3*(k[O[2]][0]+k[O[8]][0]))/9,(-4*k[O[15]][1]-k[O[0]][1]+6*(k[O[11]][1]+k[O[14]][1])-2*(k[O[12]][1]+k[O[3]][1])+3*(k[O[2]][1]+k[O[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(O),colors:new Int32Array(L)})}}_decodeType7Shading(E){const k=this.coords,M=this.colors,O=new Int32Array(16),L=new Int32Array(4);for(;E.hasData;){const te=E.readFlag();if(!(0<=te&&te<=3))throw new t.FormatError("Unknown type7 flag");const B=k.length;for(let A=0,z=te!==0?12:16;A<z;A++)k.push(E.readCoordinate());const G=M.length;for(let A=0,z=te!==0?2:4;A<z;A++)M.push(E.readComponents());let R,I,U,P;switch(te){case 0:O[12]=B+3,O[13]=B+4,O[14]=B+5,O[15]=B+6,O[8]=B+2,O[9]=B+13,O[10]=B+14,O[11]=B+7,O[4]=B+1,O[5]=B+12,O[6]=B+15,O[7]=B+8,O[0]=B,O[1]=B+11,O[2]=B+10,O[3]=B+9,L[2]=G+1,L[3]=G+2,L[0]=G,L[1]=G+3;break;case 1:R=O[12],I=O[13],U=O[14],P=O[15],O[12]=P,O[13]=B+0,O[14]=B+1,O[15]=B+2,O[8]=U,O[9]=B+9,O[10]=B+10,O[11]=B+3,O[4]=I,O[5]=B+8,O[6]=B+11,O[7]=B+4,O[0]=R,O[1]=B+7,O[2]=B+6,O[3]=B+5,R=L[2],I=L[3],L[2]=I,L[3]=G,L[0]=R,L[1]=G+1;break;case 2:R=O[15],I=O[11],O[12]=O[3],O[13]=B+0,O[14]=B+1,O[15]=B+2,O[8]=O[7],O[9]=B+9,O[10]=B+10,O[11]=B+3,O[4]=I,O[5]=B+8,O[6]=B+11,O[7]=B+4,O[0]=R,O[1]=B+7,O[2]=B+6,O[3]=B+5,R=L[3],L[2]=L[1],L[3]=G,L[0]=R,L[1]=G+1;break;case 3:O[12]=O[0],O[13]=B+0,O[14]=B+1,O[15]=B+2,O[8]=O[1],O[9]=B+9,O[10]=B+10,O[11]=B+3,O[4]=O[2],O[5]=B+8,O[6]=B+11,O[7]=B+4,O[0]=O[3],O[1]=B+7,O[2]=B+6,O[3]=B+5,L[2]=L[0],L[3]=G,L[0]=L[1],L[1]=G+1;break}this.figures.push({type:"patch",coords:new Int32Array(O),colors:new Int32Array(L)})}}_buildFigureFromPatch(E){const k=this.figures[E];(0,t.assert)(k.type==="patch","Unexpected patch mesh figure");const M=this.coords,O=this.colors,L=k.coords,te=k.colors,B=Math.min(M[L[0]][0],M[L[3]][0],M[L[12]][0],M[L[15]][0]),G=Math.min(M[L[0]][1],M[L[3]][1],M[L[12]][1],M[L[15]][1]),R=Math.max(M[L[0]][0],M[L[3]][0],M[L[12]][0],M[L[15]][0]),I=Math.max(M[L[0]][1],M[L[3]][1],M[L[12]][1],M[L[15]][1]);let U=Math.ceil((R-B)*v.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));U=Math.max(v.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(v.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,U));let P=Math.ceil((I-G)*v.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));P=Math.max(v.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(v.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,P));const A=U+1,z=new Int32Array((P+1)*A),N=new Int32Array((P+1)*A);let W=0;const ie=new Uint8Array(3),Y=new Uint8Array(3),F=O[te[0]],D=O[te[1]],Q=O[te[2]],ee=O[te[3]],V=b(P),Z=b(U);for(let ae=0;ae<=P;ae++){ie[0]=(F[0]*(P-ae)+Q[0]*ae)/P|0,ie[1]=(F[1]*(P-ae)+Q[1]*ae)/P|0,ie[2]=(F[2]*(P-ae)+Q[2]*ae)/P|0,Y[0]=(D[0]*(P-ae)+ee[0]*ae)/P|0,Y[1]=(D[1]*(P-ae)+ee[1]*ae)/P|0,Y[2]=(D[2]*(P-ae)+ee[2]*ae)/P|0;for(let H=0;H<=U;H++,W++){if((ae===0||ae===P)&&(H===0||H===U))continue;let q=0,ne=0,le=0;for(let J=0;J<=3;J++)for(let re=0;re<=3;re++,le++){const oe=V[ae][J]*Z[H][re];q+=M[L[le]][0]*oe,ne+=M[L[le]][1]*oe}z[W]=M.length,M.push([q,ne]),N[W]=O.length;const se=new Uint8Array(3);se[0]=(ie[0]*(U-H)+Y[0]*H)/U|0,se[1]=(ie[1]*(U-H)+Y[1]*H)/U|0,se[2]=(ie[2]*(U-H)+Y[2]*H)/U|0,O.push(se)}}z[0]=L[0],N[0]=te[0],z[U]=L[3],N[U]=te[1],z[A*P]=L[12],N[A*P]=te[2],z[A*P+U]=L[15],N[A*P+U]=te[3],this.figures[E]={type:"lattice",coords:z,colors:N,verticesPerRow:A}}_updateBounds(){let E=this.coords[0][0],k=this.coords[0][1],M=E,O=k;for(let L=1,te=this.coords.length;L<te;L++){const B=this.coords[L][0],G=this.coords[L][1];E=E>B?B:E,k=k>G?G:k,M=M<B?B:M,O=O<G?G:O}this.bounds=[E,k,M,O]}_packData(){let E,k,M,O;const L=this.coords,te=new Float32Array(L.length*2);for(E=0,M=0,k=L.length;E<k;E++){const I=L[E];te[M++]=I[0],te[M++]=I[1]}this.coords=te;const B=this.colors,G=new Uint8Array(B.length*3);for(E=0,M=0,k=B.length;E<k;E++){const I=B[E];G[M++]=I[0],G[M++]=I[1],G[M++]=I[2]}this.colors=G;const R=this.figures;for(E=0,k=R.length;E<k;E++){const I=R[E],U=I.coords,P=I.colors;for(M=0,O=U.length;M<O;M++)U[M]*=2,P[M]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class o extends m{getIR(){return["Dummy"]}}function S(T,E,k){const M=E.getArray("Matrix"),O=t.Util.normalizeRect(E.getArray("BBox")),L=E.get("XStep"),te=E.get("YStep"),B=E.get("PaintType"),G=E.get("TilingType");if(O[2]-O[0]===0||O[3]-O[1]===0)throw new t.FormatError(`Invalid getTilingPatternIR /BBox array: [${O}].`);return["TilingPattern",k,T,M,O,L,te,B,G]}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getXfaFontDict=o,l.getXfaFontName=b;var t=a(177),i=a(130),c=a(178),s=a(179),e=a(180),u=a(181),m=a(131),g=a(163);const y=(0,m.getLookupTableFactory)(function(S){S["MyriadPro-Regular"]=S["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:e.MyriadProRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:e.MyriadProRegularMetrics},S["MyriadPro-Bold"]=S["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:e.MyriadProBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:e.MyriadProBoldMetrics},S["MyriadPro-It"]=S["MyriadPro-Italic"]=S["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:e.MyriadProItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:e.MyriadProItalicMetrics},S["MyriadPro-BoldIt"]=S["MyriadPro-BoldItalic"]=S["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:e.MyriadProBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:e.MyriadProBoldItalicMetrics},S.ArialMT=S.Arial=S["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping},S["Arial-BoldMT"]=S["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping},S["Arial-ItalicMT"]=S["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping},S["Arial-BoldItalicMT"]=S["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping},S["Calibri-Regular"]={name:"LiberationSans-Regular",factors:t.CalibriRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:t.CalibriRegularMetrics},S["Calibri-Bold"]={name:"LiberationSans-Bold",factors:t.CalibriBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:t.CalibriBoldMetrics},S["Calibri-Italic"]={name:"LiberationSans-Italic",factors:t.CalibriItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:t.CalibriItalicMetrics},S["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.CalibriBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:t.CalibriBoldItalicMetrics},S["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:u.SegoeuiRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:u.SegoeuiRegularMetrics},S["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:u.SegoeuiBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:u.SegoeuiBoldMetrics},S["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:u.SegoeuiItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:u.SegoeuiItalicMetrics},S["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:u.SegoeuiBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:u.SegoeuiBoldItalicMetrics},S["Helvetica-Regular"]=S.Helvetica={name:"LiberationSans-Regular",factors:c.HelveticaRegularFactors,baseWidths:s.LiberationSansRegularWidths,baseMapping:s.LiberationSansRegularMapping,metrics:c.HelveticaRegularMetrics},S["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:c.HelveticaBoldFactors,baseWidths:s.LiberationSansBoldWidths,baseMapping:s.LiberationSansBoldMapping,metrics:c.HelveticaBoldMetrics},S["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:c.HelveticaItalicFactors,baseWidths:s.LiberationSansItalicWidths,baseMapping:s.LiberationSansItalicMapping,metrics:c.HelveticaItalicMetrics},S["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:c.HelveticaBoldItalicFactors,baseWidths:s.LiberationSansBoldItalicWidths,baseMapping:s.LiberationSansBoldItalicMapping,metrics:c.HelveticaBoldItalicMetrics}});function b(S){const T=(0,g.normalizeFontName)(S);return y()[T]}function v(S){const T=b(S);if(!T)return null;const{baseWidths:E,baseMapping:k,factors:M}=T;let O;M?O=E.map((G,R)=>G*M[R]):O=E;let L=-2,te;const B=[];for(const[G,R]of k.map((I,U)=>[I,U]).sort((I,U)=>{let[P]=I,[A]=U;return P-A}))G!==-1&&(G===L+1?(te.push(O[R]),L+=1):(L=G,te=[O[R]],B.push(G,te)));return B}function o(S){const T=v(S),E=new i.Dict(null);E.set("BaseFont",i.Name.get(S)),E.set("Type",i.Name.get("Font")),E.set("Subtype",i.Name.get("CIDFontType2")),E.set("Encoding",i.Name.get("Identity-H")),E.set("CIDToGIDMap",i.Name.get("Identity")),E.set("W",T),E.set("FirstChar",T[0]),E.set("LastChar",T.at(-2)+T.at(-1).length-1);const k=new i.Dict(null);E.set("FontDescriptor",k);const M=new i.Dict(null);return M.set("Ordering","Identity"),M.set("Registry","Adobe"),M.set("Supplement",0),E.set("CIDSystemInfo",M),E}},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CalibriRegularMetrics=l.CalibriRegularFactors=l.CalibriItalicMetrics=l.CalibriItalicFactors=l.CalibriBoldMetrics=l.CalibriBoldItalicMetrics=l.CalibriBoldItalicFactors=l.CalibriBoldFactors=void 0;const a=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.CalibriBoldFactors=a;const t={lineHeight:1.2207,lineGap:.2207};l.CalibriBoldMetrics=t;const i=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.CalibriBoldItalicFactors=i;const c={lineHeight:1.2207,lineGap:.2207};l.CalibriBoldItalicMetrics=c;const s=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.CalibriItalicFactors=s;const e={lineHeight:1.2207,lineGap:.2207};l.CalibriItalicMetrics=e;const u=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];l.CalibriRegularFactors=u;const m={lineHeight:1.2207,lineGap:.2207};l.CalibriRegularMetrics=m},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.HelveticaRegularMetrics=l.HelveticaRegularFactors=l.HelveticaItalicMetrics=l.HelveticaItalicFactors=l.HelveticaBoldMetrics=l.HelveticaBoldItalicMetrics=l.HelveticaBoldItalicFactors=l.HelveticaBoldFactors=void 0;const a=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];l.HelveticaBoldFactors=a;const t={lineHeight:1.2,lineGap:.2};l.HelveticaBoldMetrics=t;const i=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];l.HelveticaBoldItalicFactors=i;const c={lineHeight:1.35,lineGap:.2};l.HelveticaBoldItalicMetrics=c;const s=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];l.HelveticaItalicFactors=s;const e={lineHeight:1.35,lineGap:.2};l.HelveticaItalicMetrics=e;const u=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.HelveticaRegularFactors=u;const m={lineHeight:1.2,lineGap:.2};l.HelveticaRegularMetrics=m},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LiberationSansRegularWidths=l.LiberationSansRegularMapping=l.LiberationSansItalicWidths=l.LiberationSansItalicMapping=l.LiberationSansBoldWidths=l.LiberationSansBoldMapping=l.LiberationSansBoldItalicWidths=l.LiberationSansBoldItalicMapping=void 0;const a=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];l.LiberationSansBoldWidths=a;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];l.LiberationSansBoldMapping=t;const i=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];l.LiberationSansBoldItalicWidths=i;const c=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];l.LiberationSansBoldItalicMapping=c;const s=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];l.LiberationSansItalicWidths=s;const e=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];l.LiberationSansItalicMapping=e;const u=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];l.LiberationSansRegularWidths=u;const m=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];l.LiberationSansRegularMapping=m},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MyriadProRegularMetrics=l.MyriadProRegularFactors=l.MyriadProItalicMetrics=l.MyriadProItalicFactors=l.MyriadProBoldMetrics=l.MyriadProBoldItalicMetrics=l.MyriadProBoldItalicFactors=l.MyriadProBoldFactors=void 0;const a=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.MyriadProBoldFactors=a;const t={lineHeight:1.2,lineGap:.2};l.MyriadProBoldMetrics=t;const i=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.MyriadProBoldItalicFactors=i;const c={lineHeight:1.2,lineGap:.2};l.MyriadProBoldItalicMetrics=c;const s=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.MyriadProItalicFactors=s;const e={lineHeight:1.2,lineGap:.2};l.MyriadProItalicMetrics=e;const u=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.MyriadProRegularFactors=u;const m={lineHeight:1.2,lineGap:.2};l.MyriadProRegularMetrics=m},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SegoeuiRegularMetrics=l.SegoeuiRegularFactors=l.SegoeuiItalicMetrics=l.SegoeuiItalicFactors=l.SegoeuiBoldMetrics=l.SegoeuiBoldItalicMetrics=l.SegoeuiBoldItalicFactors=l.SegoeuiBoldFactors=void 0;const a=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.SegoeuiBoldFactors=a;const t={lineHeight:1.33008,lineGap:0};l.SegoeuiBoldMetrics=t;const i=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.SegoeuiBoldItalicFactors=i;const c={lineHeight:1.33008,lineGap:0};l.SegoeuiBoldItalicMetrics=c;const s=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];l.SegoeuiItalicFactors=s;const e={lineHeight:1.33008,lineGap:0};l.SegoeuiItalicMetrics=e;const u=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];l.SegoeuiRegularFactors=u;const m={lineHeight:1.33008,lineGap:0};l.SegoeuiRegularMetrics=m},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PostScriptEvaluator=l.PostScriptCompiler=l.PDFFunctionFactory=void 0,l.isPDFFunction=y;var t=a(130),i=a(2),c=a(183),s=a(132),e=a(184);class u{constructor(P){let{xref:A,isEvalSupported:z=!0}=P;this.xref=A,this.isEvalSupported=z!==!1}create(P){const A=this.getCached(P);if(A)return A;const z=g.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:P instanceof t.Ref?this.xref.fetch(P):P});return this._cache(P,z),z}createFromArray(P){const A=this.getCached(P);if(A)return A;const z=g.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:P instanceof t.Ref?this.xref.fetch(P):P});return this._cache(P,z),z}getCached(P){let A;if(P instanceof t.Ref?A=P:P instanceof t.Dict?A=P.objId:P instanceof s.BaseStream&&(A=P.dict&&P.dict.objId),A){const z=this._localFunctionCache.getByRef(A);if(z)return z}return null}_cache(P,A){if(!A)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let z;P instanceof t.Ref?z=P:P instanceof t.Dict?z=P.objId:P instanceof s.BaseStream&&(z=P.dict&&P.dict.objId),z&&this._localFunctionCache.set(null,z,A)}get _localFunctionCache(){return(0,i.shadow)(this,"_localFunctionCache",new e.LocalFunctionCache)}}l.PDFFunctionFactory=u;function m(U){if(!Array.isArray(U))return null;const P=U.length;for(let A=0;A<P;A++)if(typeof U[A]!="number"){const z=new Array(P);for(let N=0;N<P;N++)z[N]=+U[N];return z}return U}class g{static getSampleArray(P,A,z,N){let W,ie,Y=1;for(W=0,ie=P.length;W<ie;W++)Y*=P[W];Y*=A;const F=new Array(Y);let D=0,Q=0;const ee=1/(2**z-1),V=N.getBytes((Y*z+7)/8);let Z=0;for(W=0;W<Y;W++){for(;D<z;)Q<<=8,Q|=V[Z++],D+=8;D-=z,F[W]=(Q>>D)*ee,Q&=(1<<D)-1}return F}static parse(P){let{xref:A,isEvalSupported:z,fn:N}=P;const W=N.dict||N;switch(W.get("FunctionType")){case 0:return this.constructSampled({xref:A,isEvalSupported:z,fn:N,dict:W});case 1:break;case 2:return this.constructInterpolated({xref:A,isEvalSupported:z,dict:W});case 3:return this.constructStiched({xref:A,isEvalSupported:z,dict:W});case 4:return this.constructPostScript({xref:A,isEvalSupported:z,fn:N,dict:W})}throw new i.FormatError("Unknown type of function")}static parseArray(P){let{xref:A,isEvalSupported:z,fnObj:N}=P;if(!Array.isArray(N))return this.parse({xref:A,isEvalSupported:z,fn:N});const W=[];for(let ie=0,Y=N.length;ie<Y;ie++)W.push(this.parse({xref:A,isEvalSupported:z,fn:A.fetchIfRef(N[ie])}));return function(ie,Y,F,D){for(let Q=0,ee=W.length;Q<ee;Q++)W[Q](ie,Y,F,D+Q)}}static constructSampled(P){let{xref:A,isEvalSupported:z,fn:N,dict:W}=P;function ie(le){const se=le.length,J=[];let re=0;for(let oe=0;oe<se;oe+=2)J[re++]=[le[oe],le[oe+1]];return J}function Y(le,se,J,re,oe){return re+(le-se)*((oe-re)/(J-se))}let F=m(W.getArray("Domain")),D=m(W.getArray("Range"));if(!F||!D)throw new i.FormatError("No domain or range");const Q=F.length/2,ee=D.length/2;F=ie(F),D=ie(D);const V=m(W.getArray("Size")),Z=W.get("BitsPerSample"),ae=W.get("Order")||1;ae!==1&&(0,i.info)("No support for cubic spline interpolation: "+ae);let H=m(W.getArray("Encode"));if(H)H=ie(H);else{H=[];for(let le=0;le<Q;++le)H.push([0,V[le]-1])}let q=m(W.getArray("Decode"));q?q=ie(q):q=D;const ne=this.getSampleArray(V,ee,Z,N);return function(se,J,re,oe){const ue=1<<Q,he=new Float64Array(ue),de=new Uint32Array(ue);let pe,fe;for(fe=0;fe<ue;fe++)he[fe]=1;let be=ee,ge=1;for(pe=0;pe<Q;++pe){const Se=F[pe][0],ve=F[pe][1],we=Math.min(Math.max(se[J+pe],Se),ve);let Fe=Y(we,Se,ve,H[pe][0],H[pe][1]);const Ce=V[pe];Fe=Math.min(Math.max(Fe,0),Ce-1);const ye=Fe<Ce-1?Math.floor(Fe):Fe-1,ke=ye+1-Fe,De=Fe-ye,Ie=ye*be,Me=Ie+be;for(fe=0;fe<ue;fe++)fe&ge?(he[fe]*=De,de[fe]+=Me):(he[fe]*=ke,de[fe]+=Ie);be*=Ce,ge<<=1}for(fe=0;fe<ee;++fe){let Se=0;for(pe=0;pe<ue;pe++)Se+=ne[de[pe]+fe]*he[pe];Se=Y(Se,0,1,q[fe][0],q[fe][1]),re[oe+fe]=Math.min(Math.max(Se,D[fe][0]),D[fe][1])}}}static constructInterpolated(P){let{xref:A,isEvalSupported:z,dict:N}=P;const W=m(N.getArray("C0"))||[0],ie=m(N.getArray("C1"))||[1],Y=N.get("N"),F=[];for(let Q=0,ee=W.length;Q<ee;++Q)F.push(ie[Q]-W[Q]);const D=F.length;return function(ee,V,Z,ae){const H=Y===1?ee[V]:ee[V]**Y;for(let q=0;q<D;++q)Z[ae+q]=W[q]+H*F[q]}}static constructStiched(P){let{xref:A,isEvalSupported:z,dict:N}=P;const W=m(N.getArray("Domain"));if(!W)throw new i.FormatError("No domain");if(W.length/2!==1)throw new i.FormatError("Bad domain for stiched function");const Y=N.get("Functions"),F=[];for(let V=0,Z=Y.length;V<Z;++V)F.push(this.parse({xref:A,isEvalSupported:z,fn:A.fetchIfRef(Y[V])}));const D=m(N.getArray("Bounds")),Q=m(N.getArray("Encode")),ee=new Float32Array(1);return function(Z,ae,H,q){const le=function(pe,fe,be){return pe>be?pe=be:pe<fe&&(pe=fe),pe}(Z[ae],W[0],W[1]),se=D.length;let J;for(J=0;J<se&&!(le<D[J]);++J);let re=W[0];J>0&&(re=D[J-1]);let oe=W[1];J<D.length&&(oe=D[J]);const ue=Q[2*J],he=Q[2*J+1];ee[0]=re===oe?ue:ue+(le-re)*(he-ue)/(oe-re),F[J](ee,0,H,q)}}static constructPostScript(P){let{xref:A,isEvalSupported:z,fn:N,dict:W}=P;const ie=m(W.getArray("Domain")),Y=m(W.getArray("Range"));if(!ie)throw new i.FormatError("No domain.");if(!Y)throw new i.FormatError("No range.");const F=new c.PostScriptLexer(N),Q=new c.PostScriptParser(F).parse();if(z&&i.FeatureTest.isEvalSupported){const le=new I().compile(Q,ie,Y);if(le)return new Function("src","srcOffset","dest","destOffset",le)}(0,i.info)("Unable to compile PS function");const ee=Y.length>>1,V=ie.length>>1,Z=new v(Q),ae=Object.create(null);let q=2048*4;const ne=new Float32Array(V);return function(se,J,re,oe){let ue,he,de="";const pe=ne;for(ue=0;ue<V;ue++)he=se[J+ue],pe[ue]=he,de+=he+"_";const fe=ae[de];if(fe!==void 0){re.set(fe,oe);return}const be=new Float32Array(ee),ge=Z.execute(pe),Se=ge.length-ee;for(ue=0;ue<ee;ue++){he=ge[Se+ue];let ve=Y[ue*2];he<ve?he=ve:(ve=Y[ue*2+1],he>ve&&(he=ve)),be[ue]=he}q>0&&(q--,ae[de]=be),re.set(be,oe)}}}function y(U){let P;if(typeof U!="object")return!1;if(U instanceof t.Dict)P=U;else if(U instanceof s.BaseStream)P=U.dict;else return!1;return P.has("FunctionType")}class b{static get MAX_STACK_SIZE(){return(0,i.shadow)(this,"MAX_STACK_SIZE",100)}constructor(P){this.stack=P?Array.prototype.slice.call(P,0):[]}push(P){if(this.stack.length>=b.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(P)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(P){if(this.stack.length+P>=b.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const A=this.stack;for(let z=A.length-P,N=P-1;N>=0;N--,z++)A.push(A[z])}index(P){this.push(this.stack[this.stack.length-P-1])}roll(P,A){const z=this.stack,N=z.length-P,W=z.length-1,ie=N+(A-Math.floor(A/P)*P);for(let Y=N,F=W;Y<F;Y++,F--){const D=z[Y];z[Y]=z[F],z[F]=D}for(let Y=N,F=ie-1;Y<F;Y++,F--){const D=z[Y];z[Y]=z[F],z[F]=D}for(let Y=ie,F=W;Y<F;Y++,F--){const D=z[Y];z[Y]=z[F],z[F]=D}}}class v{constructor(P){this.operators=P}execute(P){const A=new b(P);let z=0;const N=this.operators,W=N.length;let ie,Y,F;for(;z<W;){if(ie=N[z++],typeof ie=="number"){A.push(ie);continue}switch(ie){case"jz":F=A.pop(),Y=A.pop(),Y||(z=F);break;case"j":Y=A.pop(),z=Y;break;case"abs":Y=A.pop(),A.push(Math.abs(Y));break;case"add":F=A.pop(),Y=A.pop(),A.push(Y+F);break;case"and":F=A.pop(),Y=A.pop(),typeof Y=="boolean"&&typeof F=="boolean"?A.push(Y&&F):A.push(Y&F);break;case"atan":Y=A.pop(),A.push(Math.atan(Y));break;case"bitshift":F=A.pop(),Y=A.pop(),Y>0?A.push(Y<<F):A.push(Y>>F);break;case"ceiling":Y=A.pop(),A.push(Math.ceil(Y));break;case"copy":Y=A.pop(),A.copy(Y);break;case"cos":Y=A.pop(),A.push(Math.cos(Y));break;case"cvi":Y=A.pop()|0,A.push(Y);break;case"cvr":break;case"div":F=A.pop(),Y=A.pop(),A.push(Y/F);break;case"dup":A.copy(1);break;case"eq":F=A.pop(),Y=A.pop(),A.push(Y===F);break;case"exch":A.roll(2,1);break;case"exp":F=A.pop(),Y=A.pop(),A.push(Y**F);break;case"false":A.push(!1);break;case"floor":Y=A.pop(),A.push(Math.floor(Y));break;case"ge":F=A.pop(),Y=A.pop(),A.push(Y>=F);break;case"gt":F=A.pop(),Y=A.pop(),A.push(Y>F);break;case"idiv":F=A.pop(),Y=A.pop(),A.push(Y/F|0);break;case"index":Y=A.pop(),A.index(Y);break;case"le":F=A.pop(),Y=A.pop(),A.push(Y<=F);break;case"ln":Y=A.pop(),A.push(Math.log(Y));break;case"log":Y=A.pop(),A.push(Math.log(Y)/Math.LN10);break;case"lt":F=A.pop(),Y=A.pop(),A.push(Y<F);break;case"mod":F=A.pop(),Y=A.pop(),A.push(Y%F);break;case"mul":F=A.pop(),Y=A.pop(),A.push(Y*F);break;case"ne":F=A.pop(),Y=A.pop(),A.push(Y!==F);break;case"neg":Y=A.pop(),A.push(-Y);break;case"not":Y=A.pop(),typeof Y=="boolean"?A.push(!Y):A.push(~Y);break;case"or":F=A.pop(),Y=A.pop(),typeof Y=="boolean"&&typeof F=="boolean"?A.push(Y||F):A.push(Y|F);break;case"pop":A.pop();break;case"roll":F=A.pop(),Y=A.pop(),A.roll(Y,F);break;case"round":Y=A.pop(),A.push(Math.round(Y));break;case"sin":Y=A.pop(),A.push(Math.sin(Y));break;case"sqrt":Y=A.pop(),A.push(Math.sqrt(Y));break;case"sub":F=A.pop(),Y=A.pop(),A.push(Y-F);break;case"true":A.push(!0);break;case"truncate":Y=A.pop(),Y=Y<0?Math.ceil(Y):Math.floor(Y),A.push(Y);break;case"xor":F=A.pop(),Y=A.pop(),typeof Y=="boolean"&&typeof F=="boolean"?A.push(Y!==F):A.push(Y^F);break;default:throw new i.FormatError(`Unknown operator ${ie}`)}}return A.stack}}l.PostScriptEvaluator=v;class o{constructor(P){this.type=P}visit(P){(0,i.unreachable)("abstract method")}}class S extends o{constructor(P,A,z){super("args"),this.index=P,this.min=A,this.max=z}visit(P){P.visitArgument(this)}}class T extends o{constructor(P){super("literal"),this.number=P,this.min=P,this.max=P}visit(P){P.visitLiteral(this)}}class E extends o{constructor(P,A,z,N,W){super("binary"),this.op=P,this.arg1=A,this.arg2=z,this.min=N,this.max=W}visit(P){P.visitBinaryOperation(this)}}class k extends o{constructor(P,A){super("max"),this.arg=P,this.min=P.min,this.max=A}visit(P){P.visitMin(this)}}class M extends o{constructor(P,A,z){super("var"),this.index=P,this.min=A,this.max=z}visit(P){P.visitVariable(this)}}class O extends o{constructor(P,A){super("definition"),this.variable=P,this.arg=A}visit(P){P.visitVariableDefinition(this)}}class L{constructor(){this.parts=[]}visitArgument(P){this.parts.push("Math.max(",P.min,", Math.min(",P.max,", src[srcOffset + ",P.index,"]))")}visitVariable(P){this.parts.push("v",P.index)}visitLiteral(P){this.parts.push(P.number)}visitBinaryOperation(P){this.parts.push("("),P.arg1.visit(this),this.parts.push(" ",P.op," "),P.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(P){this.parts.push("var "),P.variable.visit(this),this.parts.push(" = "),P.arg.visit(this),this.parts.push(";")}visitMin(P){this.parts.push("Math.min("),P.arg.visit(this),this.parts.push(", ",P.max,")")}toString(){return this.parts.join("")}}function te(U,P){return P.type==="literal"&&P.number===0?U:U.type==="literal"&&U.number===0?P:P.type==="literal"&&U.type==="literal"?new T(U.number+P.number):new E("+",U,P,U.min+P.min,U.max+P.max)}function B(U,P){if(P.type==="literal"){if(P.number===0)return new T(0);if(P.number===1)return U;if(U.type==="literal")return new T(U.number*P.number)}if(U.type==="literal"){if(U.number===0)return new T(0);if(U.number===1)return P}const A=Math.min(U.min*P.min,U.min*P.max,U.max*P.min,U.max*P.max),z=Math.max(U.min*P.min,U.min*P.max,U.max*P.min,U.max*P.max);return new E("*",U,P,A,z)}function G(U,P){if(P.type==="literal"){if(P.number===0)return U;if(U.type==="literal")return new T(U.number-P.number)}return P.type==="binary"&&P.op==="-"&&U.type==="literal"&&U.number===1&&P.arg1.type==="literal"&&P.arg1.number===1?P.arg2:new E("-",U,P,U.min-P.max,U.max-P.min)}function R(U,P){return U.min>=P?new T(P):U.max<=P?U:new k(U,P)}class I{compile(P,A,z){const N=[],W=[],ie=A.length>>1,Y=z.length>>1;let F=0,D,Q,ee,V,Z,ae,H,q;for(let le=0;le<ie;le++)N.push(new S(le,A[le*2],A[le*2+1]));for(let le=0,se=P.length;le<se;le++){if(q=P[le],typeof q=="number"){N.push(new T(q));continue}switch(q){case"add":if(N.length<2)return null;V=N.pop(),ee=N.pop(),N.push(te(ee,V));break;case"cvr":if(N.length<1)return null;break;case"mul":if(N.length<2)return null;V=N.pop(),ee=N.pop(),N.push(B(ee,V));break;case"sub":if(N.length<2)return null;V=N.pop(),ee=N.pop(),N.push(G(ee,V));break;case"exch":if(N.length<2)return null;Z=N.pop(),ae=N.pop(),N.push(Z,ae);break;case"pop":if(N.length<1)return null;N.pop();break;case"index":if(N.length<1||(ee=N.pop(),ee.type!=="literal")||(D=ee.number,D<0||!Number.isInteger(D)||N.length<D))return null;if(Z=N[N.length-D-1],Z.type==="literal"||Z.type==="var"){N.push(Z);break}H=new M(F++,Z.min,Z.max),N[N.length-D-1]=H,N.push(H),W.push(new O(H,Z));break;case"dup":if(N.length<1)return null;if(typeof P[le+1]=="number"&&P[le+2]==="gt"&&P[le+3]===le+7&&P[le+4]==="jz"&&P[le+5]==="pop"&&P[le+6]===P[le+1]){ee=N.pop(),N.push(R(ee,P[le+1])),le+=6;break}if(Z=N.at(-1),Z.type==="literal"||Z.type==="var"){N.push(Z);break}H=new M(F++,Z.min,Z.max),N[N.length-1]=H,N.push(H),W.push(new O(H,Z));break;case"roll":if(N.length<2||(V=N.pop(),ee=N.pop(),V.type!=="literal"||ee.type!=="literal")||(Q=V.number,D=ee.number,D<=0||!Number.isInteger(D)||!Number.isInteger(Q)||N.length<D))return null;if(Q=(Q%D+D)%D,Q===0)break;Array.prototype.push.apply(N,N.splice(N.length-D,D-Q));break;default:return null}}if(N.length!==Y)return null;const ne=[];for(const le of W){const se=new L;le.visit(se),ne.push(se.toString())}for(let le=0,se=N.length;le<se;le++){const J=N[le],re=new L;J.visit(re);const oe=z[le*2],ue=z[le*2+1],he=[re.toString()];oe>J.min&&(he.unshift("Math.max(",oe,", "),he.push(")")),ue<J.max&&(he.unshift("Math.min(",ue,", "),he.push(")")),he.unshift("dest[destOffset + ",le,"] = "),he.push(";"),ne.push(he.join(""))}return ne.join(`
`)}}l.PostScriptCompiler=I},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PostScriptParser=l.PostScriptLexer=void 0;var t=a(2),i=a(130),c=a(131);class s{constructor(y){this.lexer=y,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(y){return this.token.type===y?(this.nextToken(),!0):!1}expect(y){if(this.accept(y))return!0;throw new t.FormatError(`Unexpected symbol: found ${this.token.type} expected ${y}.`)}parse(){return this.nextToken(),this.expect(e.LBRACE),this.parseBlock(),this.expect(e.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(e.NUMBER))this.operators.push(this.prev.value);else if(this.accept(e.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(e.LBRACE))this.parseCondition();else return}parseCondition(){const y=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(e.RBRACE),this.accept(e.IF))this.operators[y]=this.operators.length,this.operators[y+1]="jz";else if(this.accept(e.LBRACE)){const b=this.operators.length;this.operators.push(null,null);const v=this.operators.length;this.parseBlock(),this.expect(e.RBRACE),this.expect(e.IFELSE),this.operators[b]=this.operators.length,this.operators[b+1]="j",this.operators[y]=v,this.operators[y+1]="jz"}else throw new t.FormatError("PS Function: error parsing conditional.")}}l.PostScriptParser=s;const e={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class u{static get opCache(){return(0,t.shadow)(this,"opCache",Object.create(null))}constructor(y,b){this.type=y,this.value=b}static getOperator(y){const b=u.opCache[y];return b||(u.opCache[y]=new u(e.OPERATOR,y))}static get LBRACE(){return(0,t.shadow)(this,"LBRACE",new u(e.LBRACE,"{"))}static get RBRACE(){return(0,t.shadow)(this,"RBRACE",new u(e.RBRACE,"}"))}static get IF(){return(0,t.shadow)(this,"IF",new u(e.IF,"IF"))}static get IFELSE(){return(0,t.shadow)(this,"IFELSE",new u(e.IFELSE,"IFELSE"))}}class m{constructor(y){this.stream=y,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let y=!1,b=this.currentChar;for(;;){if(b<0)return i.EOF;if(y)(b===10||b===13)&&(y=!1);else if(b===37)y=!0;else if(!(0,c.isWhiteSpace)(b))break;b=this.nextChar()}switch(b|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new u(e.NUMBER,this.getNumber());case 123:return this.nextChar(),u.LBRACE;case 125:return this.nextChar(),u.RBRACE}const v=this.strBuf;for(v.length=0,v[0]=String.fromCharCode(b);(b=this.nextChar())>=0&&(b>=65&&b<=90||b>=97&&b<=122);)v.push(String.fromCharCode(b));const o=v.join("");switch(o.toLowerCase()){case"if":return u.IF;case"ifelse":return u.IFELSE;default:return u.getOperator(o)}}getNumber(){let y=this.currentChar;const b=this.strBuf;for(b.length=0,b[0]=String.fromCharCode(y);(y=this.nextChar())>=0&&(y>=48&&y<=57||y===45||y===46);)b.push(String.fromCharCode(y));const v=parseFloat(b.join(""));if(isNaN(v))throw new t.FormatError(`Invalid floating point number: ${v}`);return v}}l.PostScriptLexer=m},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LocalTilingPatternCache=l.LocalImageCache=l.LocalGStateCache=l.LocalFunctionCache=l.LocalColorSpaceCache=l.GlobalImageCache=void 0;var t=a(2),i=a(130);class c{constructor(v){this.constructor===c&&(0,t.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(v&&v.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new i.RefSetCache}getByName(v){this._onlyRefs&&(0,t.unreachable)("Should not call `getByName` method.");const o=this._nameRefMap.get(v);return o?this.getByRef(o):this._imageMap.get(v)||null}getByRef(v){return this._imageCache.get(v)||null}set(v,o,S){(0,t.unreachable)("Abstract method `set` called.")}}class s extends c{set(v){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=arguments.length>2?arguments[2]:void 0;if(typeof v!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(o){if(this._imageCache.has(o))return;this._nameRefMap.set(v,o),this._imageCache.put(o,S);return}this._imageMap.has(v)||this._imageMap.set(v,S)}}l.LocalImageCache=s;class e extends c{set(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=arguments.length>2?arguments[2]:void 0;if(typeof v!="string"&&!o)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(o){if(this._imageCache.has(o))return;v!==null&&this._nameRefMap.set(v,o),this._imageCache.put(o,S);return}this._imageMap.has(v)||this._imageMap.set(v,S)}}l.LocalColorSpaceCache=e;class u extends c{constructor(v){super({onlyRefs:!0})}set(){let v=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(!v)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(v)||this._imageCache.put(v,o)}}l.LocalFunctionCache=u;class m extends c{set(v){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=arguments.length>2?arguments[2]:void 0;if(typeof v!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(o){if(this._imageCache.has(o))return;this._nameRefMap.set(v,o),this._imageCache.put(o,S);return}this._imageMap.has(v)||this._imageMap.set(v,S)}}l.LocalGStateCache=m;class g extends c{constructor(v){super({onlyRefs:!0})}set(){let v=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(!v)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(v)||this._imageCache.put(v,o)}}l.LocalTilingPatternCache=g;class y{static get NUM_PAGES_THRESHOLD(){return(0,t.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,t.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,t.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new i.RefSetCache,this._imageCache=new i.RefSetCache}get _byteSize(){let v=0;for(const o of this._imageCache)v+=o.byteSize;return v}get _cacheLimitReached(){return!(this._imageCache.size<y.MIN_IMAGES_TO_CACHE||this._byteSize<y.MAX_BYTE_SIZE)}shouldCache(v,o){const S=this._refCache.get(v);return!((S?S.size+(S.has(o)?0:1):1)<y.NUM_PAGES_THRESHOLD||!this._imageCache.has(v)&&this._cacheLimitReached)}addPageIndex(v,o){let S=this._refCache.get(v);S||(S=new Set,this._refCache.put(v,S)),S.add(o)}addByteSize(v,o){const S=this._imageCache.get(v);S&&(S.byteSize||(S.byteSize=o))}getData(v,o){const S=this._refCache.get(v);if(!S||S.size<y.NUM_PAGES_THRESHOLD)return null;const T=this._imageCache.get(v);return T?(S.add(o),T):null}setData(v,o){if(!this._refCache.has(v))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');if(!this._imageCache.has(v)){if(this._cacheLimitReached){(0,t.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(v,o)}}clear(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||this._refCache.clear(),this._imageCache.clear()}}l.GlobalImageCache=y},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.bidi=o;var t=a(2);const i=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],c=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function s(S){return(S&1)!==0}function e(S){return(S&1)===0}function u(S,T,E){let k,M;for(k=T,M=S.length;k<M;++k)if(S[k]!==E)return k;return k}function m(S,T,E,k){for(let M=T;M<E;++M)S[M]=k}function g(S,T,E){for(let k=T,M=E-1;k<M;++k,--M){const O=S[k];S[k]=S[M],S[M]=O}}function y(S,T){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k="ltr";return E?k="ttb":T||(k="rtl"),{str:S,dir:k}}const b=[],v=[];function o(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=!0;const M=S.length;if(M===0||E)return y(S,k,E);b.length=M,v.length=M;let O=0,L,te;for(L=0;L<M;++L){b[L]=S.charAt(L);const W=S.charCodeAt(L);let ie="L";W<=255?ie=i[W]:1424<=W&&W<=1524?ie="R":1536<=W&&W<=1791?(ie=c[W&255],ie||(0,t.warn)("Bidi: invalid Unicode character "+W.toString(16))):1792<=W&&W<=2220&&(ie="AL"),(ie==="R"||ie==="AL"||ie==="AN")&&O++,v[L]=ie}if(O===0)return k=!0,y(S,k);T===-1&&(O/M<.3&&M>4?(k=!0,T=0):(k=!1,T=1));const B=[];for(L=0;L<M;++L)B[L]=T;const G=s(T)?"R":"L",R=G,I=R;let U=R;for(L=0;L<M;++L)v[L]==="NSM"?v[L]=U:U=v[L];U=R;let P;for(L=0;L<M;++L)P=v[L],P==="EN"?v[L]=U==="AL"?"AN":"EN":(P==="R"||P==="L"||P==="AL")&&(U=P);for(L=0;L<M;++L)P=v[L],P==="AL"&&(v[L]="R");for(L=1;L<M-1;++L)v[L]==="ES"&&v[L-1]==="EN"&&v[L+1]==="EN"&&(v[L]="EN"),v[L]==="CS"&&(v[L-1]==="EN"||v[L-1]==="AN")&&v[L+1]===v[L-1]&&(v[L]=v[L-1]);for(L=0;L<M;++L)if(v[L]==="EN"){for(let W=L-1;W>=0&&v[W]==="ET";--W)v[W]="EN";for(let W=L+1;W<M&&v[W]==="ET";++W)v[W]="EN"}for(L=0;L<M;++L)P=v[L],(P==="WS"||P==="ES"||P==="ET"||P==="CS")&&(v[L]="ON");for(U=R,L=0;L<M;++L)P=v[L],P==="EN"?v[L]=U==="L"?"L":"EN":(P==="R"||P==="L")&&(U=P);for(L=0;L<M;++L)if(v[L]==="ON"){const W=u(v,L+1,"ON");let ie=R;L>0&&(ie=v[L-1]);let Y=I;W+1<M&&(Y=v[W+1]),ie!=="L"&&(ie="R"),Y!=="L"&&(Y="R"),ie===Y&&m(v,L,W,ie),L=W-1}for(L=0;L<M;++L)v[L]==="ON"&&(v[L]=G);for(L=0;L<M;++L)P=v[L],e(B[L])?P==="R"?B[L]+=1:(P==="AN"||P==="EN")&&(B[L]+=2):(P==="L"||P==="AN"||P==="EN")&&(B[L]+=1);let A=-1,z=99,N;for(L=0,te=B.length;L<te;++L)N=B[L],A<N&&(A=N),z>N&&s(N)&&(z=N);for(N=A;N>=z;--N){let W=-1;for(L=0,te=B.length;L<te;++L)B[L]<N?W>=0&&(g(b,W,L),W=-1):W<0&&(W=L);W>=0&&g(b,W,B.length)}for(L=0,te=b.length;L<te;++L){const W=b[L];(W==="<"||W===">")&&(b[L]="")}return y(b.join(""),k)}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MurmurHash3_64=void 0;var t=a(2);const i=3285377520,c=4294901760,s=65535;class e{constructor(m){this.h1=m?m&4294967295:i,this.h2=m?m&4294967295:i}update(m){let g,y;if(typeof m=="string"){g=new Uint8Array(m.length*2),y=0;for(let B=0,G=m.length;B<G;B++){const R=m.charCodeAt(B);R<=255?g[y++]=R:(g[y++]=R>>>8,g[y++]=R&255)}}else if((0,t.isArrayBuffer)(m))g=m.slice(),y=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const b=y>>2,v=y-b*4,o=new Uint32Array(g.buffer,0,b);let S=0,T=0,E=this.h1,k=this.h2;const M=3432918353,O=461845907,L=M&s,te=O&s;for(let B=0;B<b;B++)B&1?(S=o[B],S=S*M&c|S*L&s,S=S<<15|S>>>17,S=S*O&c|S*te&s,E^=S,E=E<<13|E>>>19,E=E*5+3864292196):(T=o[B],T=T*M&c|T*L&s,T=T<<15|T>>>17,T=T*O&c|T*te&s,k^=T,k=k<<13|k>>>19,k=k*5+3864292196);switch(S=0,v){case 3:S^=g[b*4+2]<<16;case 2:S^=g[b*4+1]<<8;case 1:S^=g[b*4],S=S*M&c|S*L&s,S=S<<15|S>>>17,S=S*O&c|S*te&s,b&1?E^=S:k^=S}this.h1=E,this.h2=k}hexdigest(){let m=this.h1,g=this.h2;m^=g>>>1,m=m*3981806797&c|m*36045&s,g=g*4283543511&c|((g<<16|m>>>16)*2950163797&c)>>>16,m^=g>>>1,m=m*444984403&c|m*60499&s,g=g*3301882366&c|((g<<16|m>>>16)*3120437893&c)>>>16,m^=g>>>1;const y=(m>>>0).toString(16),b=(g>>>0).toString(16);return y.padStart(8,"0")+b.padStart(8,"0")}}l.MurmurHash3_64=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OperatorList=void 0;var t=a(2);function i(m,g,y,b,v){let o=m;for(let S=0,T=g.length-1;S<T;S++){const E=g[S];o=o[E]||(o[E]=[])}o[g.at(-1)]={checkFn:y,iterateFn:b,processFn:v}}const c=[];i(c,[t.OPS.save,t.OPS.transform,t.OPS.paintInlineImageXObject,t.OPS.restore],null,function(g,y){const b=g.fnArray,v=g.iCurr-3,o=(y-v)%4;switch(o){case 0:return b[y]===t.OPS.save;case 1:return b[y]===t.OPS.transform;case 2:return b[y]===t.OPS.paintInlineImageXObject;case 3:return b[y]===t.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${o}`)},function(g,y){const T=g.fnArray,E=g.argsArray,k=g.iCurr,M=k-3,O=k-2,L=k-1,te=Math.min(Math.floor((y-M)/4),200);if(te<10)return y-(y-M)%4;let B=0;const G=[];let R=0,I=1,U=1;for(let W=0;W<te;W++){const ie=E[O+(W<<2)],Y=E[L+(W<<2)][0];I+Y.width>1e3&&(B=Math.max(B,I),U+=R+2,I=0,R=0),G.push({transform:ie,x:I,y:U,w:Y.width,h:Y.height}),I+=Y.width+2,R=Math.max(R,Y.height)}const P=Math.max(B,I)+1,A=U+R+1,z=new Uint8Array(P*A*4),N=P<<2;for(let W=0;W<te;W++){const ie=E[L+(W<<2)][0].data,Y=G[W].w<<2;let F=0,D=G[W].x+G[W].y*P<<2;z.set(ie.subarray(0,Y),D-N);for(let Q=0,ee=G[W].h;Q<ee;Q++)z.set(ie.subarray(F,F+Y),D),F+=Y,D+=N;for(z.set(ie.subarray(F-Y,F),D);D>=0;)ie[D-4]=ie[D],ie[D-3]=ie[D+1],ie[D-2]=ie[D+2],ie[D-1]=ie[D+3],ie[D+Y]=ie[D+Y-4],ie[D+Y+1]=ie[D+Y-3],ie[D+Y+2]=ie[D+Y-2],ie[D+Y+3]=ie[D+Y-1],D-=N}return T.splice(M,te*4,t.OPS.paintInlineImageXObjectGroup),E.splice(M,te*4,[{width:P,height:A,kind:t.ImageKind.RGBA_32BPP,data:z},G]),M+1}),i(c,[t.OPS.save,t.OPS.transform,t.OPS.paintImageMaskXObject,t.OPS.restore],null,function(g,y){const b=g.fnArray,v=g.iCurr-3,o=(y-v)%4;switch(o){case 0:return b[y]===t.OPS.save;case 1:return b[y]===t.OPS.transform;case 2:return b[y]===t.OPS.paintImageMaskXObject;case 3:return b[y]===t.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${o}`)},function(g,y){const S=g.fnArray,T=g.argsArray,E=g.iCurr,k=E-3,M=E-2,O=E-1;let L=Math.floor((y-k)/4);if(L<10)return y-(y-k)%4;let te=!1,B,G;const R=T[O][0],I=T[M][0],U=T[M][1],P=T[M][2],A=T[M][3];if(U===P){te=!0,B=M+4;let z=O+4;for(let N=1;N<L;N++,B+=4,z+=4)if(G=T[B],T[z][0]!==R||G[0]!==I||G[1]!==U||G[2]!==P||G[3]!==A){N<10?te=!1:L=N;break}}if(te){L=Math.min(L,1e3);const z=new Float32Array(L*2);B=M;for(let N=0;N<L;N++,B+=4)G=T[B],z[N<<1]=G[4],z[(N<<1)+1]=G[5];S.splice(k,L*4,t.OPS.paintImageMaskXObjectRepeat),T.splice(k,L*4,[R,I,U,P,A,z])}else{L=Math.min(L,100);const z=[];for(let N=0;N<L;N++){G=T[M+(N<<2)];const W=T[O+(N<<2)][0];z.push({data:W.data,width:W.width,height:W.height,interpolate:W.interpolate,count:W.count,transform:G})}S.splice(k,L*4,t.OPS.paintImageMaskXObjectGroup),T.splice(k,L*4,[z])}return k+1}),i(c,[t.OPS.save,t.OPS.transform,t.OPS.paintImageXObject,t.OPS.restore],function(m){const g=m.argsArray,y=m.iCurr-2;return g[y][1]===0&&g[y][2]===0},function(g,y){const b=g.fnArray,v=g.argsArray,o=g.iCurr-3,S=(y-o)%4;switch(S){case 0:return b[y]===t.OPS.save;case 1:if(b[y]!==t.OPS.transform)return!1;const T=g.iCurr-2,E=v[T][0],k=v[T][3];return!(v[y][0]!==E||v[y][1]!==0||v[y][2]!==0||v[y][3]!==k);case 2:if(b[y]!==t.OPS.paintImageXObject)return!1;const M=g.iCurr-1,O=v[M][0];return v[y][0]===O;case 3:return b[y]===t.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${S}`)},function(m,g){const v=m.fnArray,o=m.argsArray,S=m.iCurr,T=S-3,E=S-2,k=S-1,M=o[k][0],O=o[E][0],L=o[E][3],te=Math.min(Math.floor((g-T)/4),1e3);if(te<3)return g-(g-T)%4;const B=new Float32Array(te*2);let G=E;for(let I=0;I<te;I++,G+=4){const U=o[G];B[I<<1]=U[4],B[(I<<1)+1]=U[5]}const R=[M,O,L,B];return v.splice(T,te*4,t.OPS.paintImageXObjectRepeat),o.splice(T,te*4,R),T+1}),i(c,[t.OPS.beginText,t.OPS.setFont,t.OPS.setTextMatrix,t.OPS.showText,t.OPS.endText],null,function(g,y){const b=g.fnArray,v=g.argsArray,o=g.iCurr-4,S=(y-o)%5;switch(S){case 0:return b[y]===t.OPS.beginText;case 1:return b[y]===t.OPS.setFont;case 2:return b[y]===t.OPS.setTextMatrix;case 3:if(b[y]!==t.OPS.showText)return!1;const T=g.iCurr-3,E=v[T][0],k=v[T][1];return!(v[y][0]!==E||v[y][1]!==k);case 4:return b[y]===t.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${S}`)},function(m,g){const v=m.fnArray,o=m.argsArray,S=m.iCurr,T=S-4,E=S-3,k=S-2,M=S-1,O=S,L=o[E][0],te=o[E][1];let B=Math.min(Math.floor((g-T)/5),1e3);if(B<3)return g-(g-T)%5;let G=T;T>=4&&v[T-4]===v[E]&&v[T-3]===v[k]&&v[T-2]===v[M]&&v[T-1]===v[O]&&o[T-4][0]===L&&o[T-4][1]===te&&(B++,G-=5);let R=G+4;for(let I=1;I<B;I++)v.splice(R,3),o.splice(R,3),R+=2;return R+1});class s{constructor(g){this.queue=g}_optimize(){}push(g,y){this.queue.fnArray.push(g),this.queue.argsArray.push(y),this._optimize()}flush(){}reset(){}}class e extends s{constructor(g){super(g),this.state=null,this.context={iCurr:0,fnArray:g.fnArray,argsArray:g.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const g=this.queue.fnArray;let y=this.lastProcessed,b=g.length,v=this.state,o=this.match;if(!v&&!o&&y+1===b&&!c[g[y]]){this.lastProcessed=b;return}const S=this.context;for(;y<b;){if(o){if((0,o.iterateFn)(S,y)){y++;continue}if(y=(0,o.processFn)(S,y+1),b=g.length,o=null,v=null,y>=b)break}if(v=(v||c)[g[y]],!v||Array.isArray(v)){y++;continue}if(S.iCurr=y,y++,v.checkFn&&!(0,v.checkFn)(S)){v=null;continue}o=v,v=null}this.state=v,this.match=o,this.lastProcessed=y}flush(){for(;this.match;){const g=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,g),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class u{static get CHUNK_SIZE(){return(0,t.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,t.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1?arguments[1]:void 0;this._streamSink=y,this.fnArray=[],this.argsArray=[],y&&!(g&t.RenderingIntentFlag.OPLIST)?this.optimizer=new e(this):this.optimizer=new s(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=y?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(g,y){this.optimizer.push(g,y),this.weight++,this._streamSink&&(this.weight>=u.CHUNK_SIZE?this.flush():this.weight>=u.CHUNK_SIZE_ABOUT&&(g===t.OPS.restore||g===t.OPS.endText)&&this.flush())}addImageOps(g,y,b){b!==void 0&&this.addOp(t.OPS.beginMarkedContentProps,["OC",b]),this.addOp(g,y),b!==void 0&&this.addOp(t.OPS.endMarkedContent,[])}addDependency(g){this.dependencies.has(g)||(this.dependencies.add(g),this.addOp(t.OPS.dependency,[g]))}addDependencies(g){for(const y of g)this.addDependency(y)}addOpList(g){if(!(g instanceof u)){(0,t.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const y of g.dependencies)this.dependencies.add(y);for(let y=0,b=g.length;y<b;y++)this.addOp(g.fnArray[y],g.argsArray[y])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const g=[],{fnArray:y,argsArray:b,length:v}=this;for(let o=0;o<v;o++)switch(y[o]){case t.OPS.paintInlineImageXObject:case t.OPS.paintInlineImageXObjectGroup:case t.OPS.paintImageMaskXObject:const S=b[o][0];!S.cached&&S.data&&S.data.buffer instanceof ArrayBuffer&&g.push(S.data.buffer);break}return g}flush(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.optimizer.flush();const b=this.length;this._totalLength+=b,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:g,separateAnnots:y,length:b},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}l.OperatorList=u},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFImage=void 0;var t=a(2),i=a(189),c=a(132),s=a(139),e=a(144),u=a(152),m=a(155),g=a(130);function y(o,S,T,E){return o=S+o*T,o<0?o=0:o>E&&(o=E),o}function b(o,S,T,E,k,M){const O=k*M;let L;S<=8?L=new Uint8Array(O):S<=16?L=new Uint16Array(O):L=new Uint32Array(O);const te=T/k,B=E/M;let G,R,I,U=0,P;const A=new Uint16Array(k),z=T;for(G=0;G<k;G++)A[G]=Math.floor(G*te);for(G=0;G<M;G++)for(I=Math.floor(G*B)*z,R=0;R<k;R++)P=I+A[R],L[U++]=o[P];return L}class v{constructor(S){let{xref:T,res:E,image:k,isInline:M=!1,smask:O=null,mask:L=null,isMask:te=!1,pdfFunctionFactory:B,localColorSpaceCache:G}=S;this.image=k;const R=k.dict,I=R.get("F","Filter");let U;if(I instanceof g.Name)U=I.name;else if(Array.isArray(I)){const N=T.fetchIfRef(I[0]);N instanceof g.Name&&(U=N.name)}switch(U){case"JPXDecode":const N=new m.JpxImage;N.parseImageProperties(k.stream),k.stream.reset(),k.width=N.width,k.height=N.height,k.bitsPerComponent=N.bitsPerComponent,k.numComps=N.componentsCount;break;case"JBIG2Decode":k.bitsPerComponent=1,k.numComps=1;break}let P=R.get("W","Width"),A=R.get("H","Height");if(Number.isInteger(k.width)&&k.width>0&&Number.isInteger(k.height)&&k.height>0&&(k.width!==P||k.height!==A)&&((0,t.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),P=k.width,A=k.height),P<1||A<1)throw new t.FormatError(`Invalid image width: ${P} or height: ${A}`);this.width=P,this.height=A,this.interpolate=R.get("I","Interpolate"),this.imageMask=R.get("IM","ImageMask")||!1,this.matte=R.get("Matte")||!1;let z=k.bitsPerComponent;if(!z&&(z=R.get("BPC","BitsPerComponent"),!z))if(this.imageMask)z=1;else throw new t.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=z,!this.imageMask){let N=R.getRaw("CS")||R.getRaw("ColorSpace");if(!N)switch((0,t.info)("JPX images (which do not require color spaces)"),k.numComps){case 1:N=g.Name.get("DeviceGray");break;case 3:N=g.Name.get("DeviceRGB");break;case 4:N=g.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${k.numComps} color components not supported.`)}this.colorSpace=s.ColorSpace.parse({cs:N,xref:T,resources:M?E:null,pdfFunctionFactory:B,localColorSpaceCache:G}),this.numComps=this.colorSpace.numComps}if(this.decode=R.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,z)||te&&!s.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const N=(1<<z)-1;this.decodeCoefficients=[],this.decodeAddends=[];const W=this.colorSpace&&this.colorSpace.name==="Indexed";for(let ie=0,Y=0;ie<this.decode.length;ie+=2,++Y){const F=this.decode[ie],D=this.decode[ie+1];this.decodeCoefficients[Y]=W?(D-F)/N:D-F,this.decodeAddends[Y]=W?F:N*F}}O?this.smask=new v({xref:T,res:E,image:O,isInline:M,pdfFunctionFactory:B,localColorSpaceCache:G}):L&&(L instanceof c.BaseStream?L.dict.get("IM","ImageMask")?this.mask=new v({xref:T,res:E,image:L,isInline:M,isMask:!0,pdfFunctionFactory:B,localColorSpaceCache:G}):(0,t.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=L)}static async buildImage(S){let{xref:T,res:E,image:k,isInline:M=!1,pdfFunctionFactory:O,localColorSpaceCache:L}=S;const te=k;let B=null,G=null;const R=k.dict.get("SMask"),I=k.dict.get("Mask");return R?R instanceof c.BaseStream?B=R:(0,t.warn)("Unsupported /SMask format."):I&&(I instanceof c.BaseStream||Array.isArray(I)?G=I:(0,t.warn)("Unsupported /Mask format.")),new v({xref:T,res:E,image:te,isInline:M,smask:B,mask:G,pdfFunctionFactory:O,localColorSpaceCache:L})}static createRawMask(S){let{imgArray:T,width:E,height:k,imageIsFromDecodeStream:M,inverseDecode:O,interpolate:L}=S;const te=(E+7>>3)*k,B=T.byteLength,G=te===B;let R,I;if(M&&(!O||G)?R=T:O?(R=new Uint8Array(te),R.set(T),R.fill(255,B)):R=new Uint8Array(T),O)for(I=0;I<B;I++)R[I]^=255;return{data:R,width:E,height:k,interpolate:L}}static createMask(S){let{imgArray:T,width:E,height:k,imageIsFromDecodeStream:M,inverseDecode:O,interpolate:L}=S;const te=E===1&&k===1&&O===(T.length===0||!!(T[0]&128));if(te)return{isSingleOpaquePixel:te};if(t.FeatureTest.isOffscreenCanvasSupported){const B=new OffscreenCanvas(E,k),G=B.getContext("2d"),R=G.createImageData(E,k);(0,i.applyMaskImageData)({src:T,dest:R.data,width:E,height:k,inverseDecode:O}),G.putImageData(R,0,0);const I=B.transferToImageBitmap();return{data:null,width:E,height:k,interpolate:L,bitmap:I}}return this.createRawMask({imgArray:T,width:E,height:k,inverseDecode:O,imageIsFromDecodeStream:M,interpolate:L})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(S){const T=this.bpc,E=this.numComps,k=this.decodeAddends,M=this.decodeCoefficients,O=(1<<T)-1;let L,te;if(T===1){for(L=0,te=S.length;L<te;L++)S[L]=+!S[L];return}let B=0;for(L=0,te=this.width*this.height;L<te;L++)for(let G=0;G<E;G++)S[B]=y(S[B],k[G],M[G],O),B++}getComponents(S){const T=this.bpc;if(T===8)return S;const E=this.width,k=this.height,M=this.numComps,O=E*k*M;let L=0,te;T<=8?te=new Uint8Array(O):T<=16?te=new Uint16Array(O):te=new Uint32Array(O);const B=E*M,G=(1<<T)-1;let R=0,I,U;if(T===1){let P,A,z;for(let N=0;N<k;N++){for(A=R+(B&-8),z=R+B;R<A;)U=S[L++],te[R]=U>>7&1,te[R+1]=U>>6&1,te[R+2]=U>>5&1,te[R+3]=U>>4&1,te[R+4]=U>>3&1,te[R+5]=U>>2&1,te[R+6]=U>>1&1,te[R+7]=U&1,R+=8;if(R<z)for(U=S[L++],P=128;R<z;)te[R++]=+!!(U&P),P>>=1}}else{let P=0;for(U=0,R=0,I=O;R<I;++R){for(R%B===0&&(U=0,P=0);P<T;)U=U<<8|S[L++],P+=8;const A=P-T;let z=U>>A;z<0?z=0:z>G&&(z=G),te[R]=z,U&=(1<<A)-1,P=A}}return te}fillOpacity(S,T,E,k,M){const O=this.smask,L=this.mask;let te,B,G,R,I,U;if(O)B=O.width,G=O.height,te=new Uint8ClampedArray(B*G),O.fillGrayBuffer(te),(B!==T||G!==E)&&(te=b(te,O.bpc,B,G,T,E));else if(L)if(L instanceof v){for(B=L.width,G=L.height,te=new Uint8ClampedArray(B*G),L.numComps=1,L.fillGrayBuffer(te),R=0,I=B*G;R<I;++R)te[R]=255-te[R];(B!==T||G!==E)&&(te=b(te,L.bpc,B,G,T,E))}else if(Array.isArray(L)){te=new Uint8ClampedArray(T*E);const P=this.numComps;for(R=0,I=T*E;R<I;++R){let A=0;const z=R*P;for(U=0;U<P;++U){const N=M[z+U],W=U*2;if(N<L[W]||N>L[W+1]){A=255;break}}te[R]=A}}else throw new t.FormatError("Unknown mask format.");if(te)for(R=0,U=3,I=T*k;R<I;++R,U+=4)S[U]=te[R];else for(R=0,U=3,I=T*k;R<I;++R,U+=4)S[U]=255}undoPreblend(S,T,E){const k=this.smask&&this.smask.matte;if(!k)return;const M=this.colorSpace.getRgb(k,0),O=M[0],L=M[1],te=M[2],B=T*E*4;for(let G=0;G<B;G+=4){const R=S[G+3];if(R===0){S[G]=255,S[G+1]=255,S[G+2]=255;continue}const I=255/R;S[G]=(S[G]-O)*I+O,S[G+1]=(S[G+1]-L)*I+L,S[G+2]=(S[G+2]-te)*I+te}}createImageData(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const T=this.drawWidth,E=this.drawHeight,k={width:T,height:E,interpolate:this.interpolate,kind:0,data:null},M=this.numComps,O=this.width,L=this.height,te=this.bpc,B=O*M*te+7>>3;if(!S){let A;if(this.colorSpace.name==="DeviceGray"&&te===1?A=t.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&te===8&&!this.needsDecode&&(A=t.ImageKind.RGB_24BPP),A&&!this.smask&&!this.mask&&T===O&&E===L){if(k.kind=A,k.data=this.getImageBytes(L*B,{}),this.needsDecode){(0,t.assert)(A===t.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const z=k.data;for(let N=0,W=z.length;N<W;N++)z[N]^=255}return k}if(this.image instanceof u.JpegStream&&!this.smask&&!this.mask){let z=L*B;switch(this.colorSpace.name){case"DeviceGray":z*=3;case"DeviceRGB":case"DeviceCMYK":return k.kind=t.ImageKind.RGB_24BPP,k.data=this.getImageBytes(z,{drawWidth:T,drawHeight:E,forceRGB:!0}),k}}}const G=this.getImageBytes(L*B,{internal:!0}),R=0|G.length/B*E/L,I=this.getComponents(G);let U,P;return!S&&!this.smask&&!this.mask?(k.kind=t.ImageKind.RGB_24BPP,k.data=new Uint8ClampedArray(T*E*3),U=0,P=!1):(k.kind=t.ImageKind.RGBA_32BPP,k.data=new Uint8ClampedArray(T*E*4),U=1,P=!0,this.fillOpacity(k.data,T,E,R,I)),this.needsDecode&&this.decodeBuffer(I),this.colorSpace.fillRgb(k.data,O,L,T,E,R,te,I,U),P&&this.undoPreblend(k.data,T,R),k}fillGrayBuffer(S){const T=this.numComps;if(T!==1)throw new t.FormatError(`Reading gray scale from a color image: ${T}`);const E=this.width,k=this.height,M=this.bpc,O=E*T*M+7>>3,L=this.getImageBytes(k*O,{internal:!0}),te=this.getComponents(L);let B,G;if(M===1){if(G=E*k,this.needsDecode)for(B=0;B<G;++B)S[B]=te[B]-1&255;else for(B=0;B<G;++B)S[B]=-te[B]&255;return}this.needsDecode&&this.decodeBuffer(te),G=E*k;const R=255/((1<<M)-1);for(B=0;B<G;++B)S[B]=R*te[B]}getImageBytes(S,T){let{drawWidth:E,drawHeight:k,forceRGB:M=!1,internal:O=!1}=T;this.image.reset(),this.image.drawWidth=E||this.width,this.image.drawHeight=k||this.height,this.image.forceRGB=!!M;const L=this.image.getBytes(S);return O||this.image instanceof e.DecodeStream?L:((0,t.assert)(L instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(L))}}l.PDFImage=v},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.applyMaskImageData=i;var t=a(2);function i(c){let{src:s,srcPos:e=0,dest:u,destPos:m=0,width:g,height:y,inverseDecode:b=!1}=c;const v=t.FeatureTest.isLittleEndian?4278190080:255,[o,S]=b?[0,v]:[v,0],T=g>>3,E=g&7,k=s.length;u=new Uint32Array(u.buffer);for(let M=0;M<y;M++){for(const L=e+T;e<L;e++){const te=e<k?s[e]:255;u[m++]=te&128?S:o,u[m++]=te&64?S:o,u[m++]=te&32?S:o,u[m++]=te&16?S:o,u[m++]=te&8?S:o,u[m++]=te&4?S:o,u[m++]=te&2?S:o,u[m++]=te&1?S:o}if(E===0)continue;const O=e<k?s[e++]:255;for(let L=0;L<E;L++)u[m++]=O&1<<7-L?S:o}return{srcPos:e,destPos:m}}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.incrementalUpdate=M,l.writeDict=g,l.writeObject=m;var t=a(2),i=a(130),c=a(131),s=a(191),e=a(132),u=a(192);function m(O,L,te,B){te.push(`${O.num} ${O.gen} obj
`),L instanceof i.Dict?g(L,te,B):L instanceof e.BaseStream&&y(L,te,B),te.push(`
endobj
`)}function g(O,L,te){L.push("<<");for(const B of O.getKeys())L.push(` /${(0,c.escapePDFName)(B)} `),v(O.getRaw(B),L,te);L.push(">>")}function y(O,L,te){g(O.dict,L,te),L.push(` stream
`);let B=O.getString();te!==null&&(B=te.encryptString(B)),L.push(B,`
endstream
`)}function b(O,L,te){L.push("[");let B=!0;for(const G of O)B?B=!1:L.push(" "),v(G,L,te);L.push("]")}function v(O,L,te){O instanceof i.Name?L.push(`/${(0,c.escapePDFName)(O.name)}`):O instanceof i.Ref?L.push(`${O.num} ${O.gen} R`):Array.isArray(O)?b(O,L,te):typeof O=="string"?(te!==null&&(O=te.encryptString(O)),L.push(`(${(0,t.escapeString)(O)})`)):typeof O=="number"?L.push((0,c.numberToString)(O)):typeof O=="boolean"?L.push(O.toString()):O instanceof i.Dict?g(O,L,te):O instanceof e.BaseStream?y(O,L,te):O===null?L.push("null"):(0,t.warn)(`Unhandled value in writer: ${typeof O}, please file a bug.`)}function o(O,L,te,B){for(let G=L+te-1;G>te-1;G--)B[G]=O&255,O>>=8;return te+L}function S(O,L,te){for(let B=0,G=O.length;B<G;B++)te[L+B]=O.charCodeAt(B)&255}function T(O,L){const te=Math.floor(Date.now()/1e3),B=L.filename||"",G=[te.toString(),B,O.toString()];let R=G.reduce((P,A)=>P+A.length,0);for(const P of Object.values(L.info))G.push(P),R+=P.length;const I=new Uint8Array(R);let U=0;for(const P of G)S(P,U,I),U+=P.length;return(0,t.bytesToString)((0,u.calculateMD5)(I))}function E(O,L){const te=new s.SimpleXMLParser({hasAttributes:!0}).parseFromString(O);for(const{xfa:G}of L){if(!G)continue;const{path:R,value:I}=G;if(!R)continue;const U=te.documentElement.searchNode((0,c.parseXFAPath)(R),0);U?Array.isArray(I)?U.childNodes=I.map(P=>new s.SimpleDOMNode("value",P)):U.childNodes=[new s.SimpleDOMNode("#text",I)]:(0,t.warn)(`Node not found for path: ${R}`)}const B=[];return te.documentElement.dump(B),B.join("")}function k(O){let{xfaData:L,xfaDatasetsRef:te,hasXfaDatasetsEntry:B,acroFormRef:G,acroForm:R,newRefs:I,xref:U,xrefInfo:P}=O;if(U===null)return;if(!B){if(!G){(0,t.warn)("XFA - Cannot save it");return}const N=R.get("XFA"),W=N.slice();W.splice(2,0,"datasets"),W.splice(3,0,te),R.set("XFA",W);const ie=U.encrypt;let Y=null;ie&&(Y=ie.createCipherTransform(G.num,G.gen));const F=[`${G.num} ${G.gen} obj
`];g(R,F,Y),F.push(`
`),R.set("XFA",N),I.push({ref:G,data:F.join("")})}if(L===null){const N=U.fetchIfRef(te);L=E(N.getString(),I)}const A=U.encrypt;A&&(L=A.createCipherTransform(te.num,te.gen).encryptString(L));const z=`${te.num} ${te.gen} obj
<< /Type /EmbeddedFile /Length ${L.length}>>
stream
`+L+`
endstream
endobj
`;I.push({ref:te,data:z})}function M(O){let{originalData:L,xrefInfo:te,newRefs:B,xref:G=null,hasXfa:R=!1,xfaDatasetsRef:I=null,hasXfaDatasetsEntry:U=!1,acroFormRef:P=null,acroForm:A=null,xfaData:z=null}=O;R&&k({xfaData:z,xfaDatasetsRef:I,hasXfaDatasetsEntry:U,acroFormRef:P,acroForm:A,newRefs:B,xref:G,xrefInfo:te});const N=new i.Dict(null),W=te.newRef;let ie,Y;const F=L.at(-1);F===10||F===13?(ie=[],Y=L.length):(ie=[`
`],Y=L.length+1),N.set("Size",W.num+1),N.set("Prev",te.startXRef),N.set("Type",i.Name.get("XRef")),te.rootRef!==null&&N.set("Root",te.rootRef),te.infoRef!==null&&N.set("Info",te.infoRef),te.encryptRef!==null&&N.set("Encrypt",te.encryptRef),B.push({ref:W,data:""}),B=B.sort((J,re)=>J.ref.num-re.ref.num);const D=[[0,1,65535]],Q=[0,1];let ee=0;for(const{ref:J,data:re}of B)ee=Math.max(ee,Y),D.push([1,Y,Math.min(J.gen,65535)]),Y+=re.length,Q.push(J.num,1),ie.push(re);if(N.set("Index",Q),Array.isArray(te.fileIds)&&te.fileIds.length>0){const J=T(Y,te);N.set("ID",[te.fileIds[0],J])}const Z=[1,Math.ceil(Math.log2(ee)/8),2],H=(Z[0]+Z[1]+Z[2])*D.length;N.set("W",Z),N.set("Length",H),ie.push(`${W.num} ${W.gen} obj
`),g(N,ie,null),ie.push(` stream
`);const q=ie.reduce((J,re)=>J+re.length,0),ne=`
endstream
endobj
startxref
${Y}
%%EOF
`,le=new Uint8Array(L.length+q+H+ne.length);le.set(L);let se=L.length;for(const J of ie)S(J,se,le),se+=J.length;for(const[J,re,oe]of D)se=o(J,Z[0],se,le),se=o(re,Z[1],se,le),se=o(oe,Z[2],se,le);return S(ne,se,le),le}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XMLParserErrorCode=l.XMLParserBase=l.SimpleXMLParser=l.SimpleDOMNode=void 0;var t=a(131);const i={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};l.XMLParserErrorCode=i;function c(g,y){const b=g[y];return b===" "||b===`
`||b==="\r"||b==="	"}function s(g){for(let y=0,b=g.length;y<b;y++)if(!c(g,y))return!1;return!0}class e{_resolveEntities(y){return y.replace(/&([^;]+);/g,(b,v)=>{if(v.substring(0,2)==="#x")return String.fromCodePoint(parseInt(v.substring(2),16));if(v.substring(0,1)==="#")return String.fromCodePoint(parseInt(v.substring(1),10));switch(v){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(v)})}_parseContent(y,b){const v=[];let o=b;function S(){for(;o<y.length&&c(y,o);)++o}for(;o<y.length&&!c(y,o)&&y[o]!==">"&&y[o]!=="/";)++o;const T=y.substring(b,o);for(S();o<y.length&&y[o]!==">"&&y[o]!=="/"&&y[o]!=="?";){S();let E="",k="";for(;o<y.length&&!c(y,o)&&y[o]!=="=";)E+=y[o],++o;if(S(),y[o]!=="=")return null;++o,S();const M=y[o];if(M!=='"'&&M!=="'")return null;const O=y.indexOf(M,++o);if(O<0)return null;k=y.substring(o,O),v.push({name:E,value:this._resolveEntities(k)}),o=O+1,S()}return{name:T,attributes:v,parsed:o-b}}_parseProcessingInstruction(y,b){let v=b;function o(){for(;v<y.length&&c(y,v);)++v}for(;v<y.length&&!c(y,v)&&y[v]!==">"&&y[v]!=="?"&&y[v]!=="/";)++v;const S=y.substring(b,v);o();const T=v;for(;v<y.length&&(y[v]!=="?"||y[v+1]!==">");)++v;const E=y.substring(T,v);return{name:S,value:E,parsed:v-b}}parseXml(y){let b=0;for(;b<y.length;){const v=y[b];let o=b;if(v==="<"){++o;const S=y[o];let T;switch(S){case"/":if(++o,T=y.indexOf(">",o),T<0){this.onError(i.UnterminatedElement);return}this.onEndElement(y.substring(o,T)),o=T+1;break;case"?":++o;const E=this._parseProcessingInstruction(y,o);if(y.substring(o+E.parsed,o+E.parsed+2)!=="?>"){this.onError(i.UnterminatedXmlDeclaration);return}this.onPi(E.name,E.value),o+=E.parsed+2;break;case"!":if(y.substring(o+1,o+3)==="--"){if(T=y.indexOf("-->",o+3),T<0){this.onError(i.UnterminatedComment);return}this.onComment(y.substring(o+3,T)),o=T+3}else if(y.substring(o+1,o+8)==="[CDATA["){if(T=y.indexOf("]]>",o+8),T<0){this.onError(i.UnterminatedCdat);return}this.onCdata(y.substring(o+8,T)),o=T+3}else if(y.substring(o+1,o+8)==="DOCTYPE"){const O=y.indexOf("[",o+8);let L=!1;if(T=y.indexOf(">",o+8),T<0){this.onError(i.UnterminatedDoctypeDeclaration);return}if(O>0&&T>O){if(T=y.indexOf("]>",o+8),T<0){this.onError(i.UnterminatedDoctypeDeclaration);return}L=!0}const te=y.substring(o+8,T+(L?1:0));this.onDoctype(te),o=T+(L?2:1)}else{this.onError(i.MalformedElement);return}break;default:const k=this._parseContent(y,o);if(k===null){this.onError(i.MalformedElement);return}let M=!1;if(y.substring(o+k.parsed,o+k.parsed+2)==="/>")M=!0;else if(y.substring(o+k.parsed,o+k.parsed+1)!==">"){this.onError(i.UnterminatedElement);return}this.onBeginElement(k.name,k.attributes,M),o+=k.parsed+(M?2:1);break}}else{for(;o<y.length&&y[o]!=="<";)o++;const S=y.substring(b,o);this.onText(this._resolveEntities(S))}b=o}}onResolveEntity(y){return`&${y};`}onPi(y,b){}onComment(y){}onCdata(y){}onDoctype(y){}onText(y){}onBeginElement(y,b,v){}onEndElement(y){}onError(y){}}l.XMLParserBase=e;class u{constructor(y,b){this.nodeName=y,this.nodeValue=b,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const y=this.parentNode.childNodes;if(!y)return;const b=y.indexOf(this);if(b!==-1)return y[b+1]}get textContent(){return this.childNodes?this.childNodes.map(function(y){return y.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(y,b){if(b>=y.length)return this;const v=y[b],o=[];let S=this;for(;;){if(v.name===S.nodeName)if(v.pos===0){const T=S.searchNode(y,b+1);if(T!==null)return T}else{if(o.length===0)return null;{const[T]=o.pop();let E=0;for(const k of T.childNodes)if(v.name===k.nodeName){if(E===v.pos)return k.searchNode(y,b+1);E++}return S.searchNode(y,b+1)}}if(S.childNodes&&S.childNodes.length!==0)o.push([S,0]),S=S.childNodes[0];else{if(o.length===0)return null;for(;o.length!==0;){const[T,E]=o.pop(),k=E+1;if(k<T.childNodes.length){o.push([T,k]),S=T.childNodes[k];break}}if(o.length===0)return null}}}dump(y){if(this.nodeName==="#text"){y.push((0,t.encodeToXmlString)(this.nodeValue));return}if(y.push(`<${this.nodeName}`),this.attributes)for(const b of this.attributes)y.push(` ${b.name}="${(0,t.encodeToXmlString)(b.value)}"`);if(this.hasChildNodes()){y.push(">");for(const b of this.childNodes)b.dump(y);y.push(`</${this.nodeName}>`)}else this.nodeValue?y.push(`>${(0,t.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):y.push("/>")}}l.SimpleDOMNode=u;class m extends e{constructor(y){let{hasAttributes:b=!1,lowerCaseName:v=!1}=y;super(),this._currentFragment=null,this._stack=null,this._errorCode=i.NoError,this._hasAttributes=b,this._lowerCaseName=v}parseFromString(y){if(this._currentFragment=[],this._stack=[],this._errorCode=i.NoError,this.parseXml(y),this._errorCode!==i.NoError)return;const[b]=this._currentFragment;if(b)return{documentElement:b}}onText(y){if(s(y))return;const b=new u("#text",y);this._currentFragment.push(b)}onCdata(y){const b=new u("#text",y);this._currentFragment.push(b)}onBeginElement(y,b,v){this._lowerCaseName&&(y=y.toLowerCase());const o=new u(y);o.childNodes=[],this._hasAttributes&&(o.attributes=b),this._currentFragment.push(o),!v&&(this._stack.push(this._currentFragment),this._currentFragment=o.childNodes)}onEndElement(y){this._currentFragment=this._stack.pop()||[];const b=this._currentFragment.at(-1);if(!b)return null;for(let v=0,o=b.childNodes.length;v<o;v++)b.childNodes[v].parentNode=b;return b}onError(y){this._errorCode=y}}l.SimpleXMLParser=m},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.calculateSHA256=l.calculateMD5=l.PDF20=l.PDF17=l.CipherTransformFactory=l.ARCFourCipher=l.AES256Cipher=l.AES128Cipher=void 0,l.calculateSHA384=y,l.calculateSHA512=void 0;var t=a(2),i=a(130),c=a(193);class s{constructor(L){this.a=0,this.b=0;const te=new Uint8Array(256),B=L.length;for(let G=0;G<256;++G)te[G]=G;for(let G=0,R=0;G<256;++G){const I=te[G];R=R+I+L[G%B]&255,te[G]=te[R],te[R]=I}this.s=te}encryptBlock(L){let te=this.a,B=this.b;const G=this.s,R=L.length,I=new Uint8Array(R);for(let U=0;U<R;++U){te=te+1&255;const P=G[te];B=B+P&255;const A=G[B];G[te]=A,G[B]=P,I[U]=L[U]^G[P+A&255]}return this.a=te,this.b=B,I}decryptBlock(L){return this.encryptBlock(L)}encrypt(L){return this.encryptBlock(L)}}l.ARCFourCipher=s;const e=function(){const L=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),te=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function B(G,R,I){let U=1732584193,P=-271733879,A=-1732584194,z=271733878;const N=I+72&-64,W=new Uint8Array(N);let ie,Y;for(ie=0;ie<I;++ie)W[ie]=G[R++];W[ie++]=128;const F=N-8;for(;ie<F;)W[ie++]=0;W[ie++]=I<<3&255,W[ie++]=I>>5&255,W[ie++]=I>>13&255,W[ie++]=I>>21&255,W[ie++]=I>>>29&255,W[ie++]=0,W[ie++]=0,W[ie++]=0;const D=new Int32Array(16);for(ie=0;ie<N;){for(Y=0;Y<16;++Y,ie+=4)D[Y]=W[ie]|W[ie+1]<<8|W[ie+2]<<16|W[ie+3]<<24;let Q=U,ee=P,V=A,Z=z,ae,H;for(Y=0;Y<64;++Y){Y<16?(ae=ee&V|~ee&Z,H=Y):Y<32?(ae=Z&ee|~Z&V,H=5*Y+1&15):Y<48?(ae=ee^V^Z,H=3*Y+5&15):(ae=V^(ee|~Z),H=7*Y&15);const q=Z,ne=Q+ae+te[Y]+D[H]|0,le=L[Y];Z=V,V=ee,ee=ee+(ne<<le|ne>>>32-le)|0,Q=q}U=U+Q|0,P=P+ee|0,A=A+V|0,z=z+Z|0}return new Uint8Array([U&255,U>>8&255,U>>16&255,U>>>24&255,P&255,P>>8&255,P>>16&255,P>>>24&255,A&255,A>>8&255,A>>16&255,A>>>24&255,z&255,z>>8&255,z>>16&255,z>>>24&255])}return B}();l.calculateMD5=e;class u{constructor(L,te){this.high=L|0,this.low=te|0}and(L){this.high&=L.high,this.low&=L.low}xor(L){this.high^=L.high,this.low^=L.low}or(L){this.high|=L.high,this.low|=L.low}shiftRight(L){L>=32?(this.low=this.high>>>L-32|0,this.high=0):(this.low=this.low>>>L|this.high<<32-L,this.high=this.high>>>L|0)}shiftLeft(L){L>=32?(this.high=this.low<<L-32,this.low=0):(this.high=this.high<<L|this.low>>>32-L,this.low<<=L)}rotateRight(L){let te,B;L&32?(B=this.low,te=this.high):(te=this.low,B=this.high),L&=31,this.low=te>>>L|B<<32-L,this.high=B>>>L|te<<32-L}not(){this.high=~this.high,this.low=~this.low}add(L){const te=(this.low>>>0)+(L.low>>>0);let B=(this.high>>>0)+(L.high>>>0);te>4294967295&&(B+=1),this.low=te|0,this.high=B|0}copyTo(L,te){L[te]=this.high>>>24&255,L[te+1]=this.high>>16&255,L[te+2]=this.high>>8&255,L[te+3]=this.high&255,L[te+4]=this.low>>>24&255,L[te+5]=this.low>>16&255,L[te+6]=this.low>>8&255,L[te+7]=this.low&255}assign(L){this.high=L.high,this.low=L.low}}const m=function(){function L(z,N){return z>>>N|z<<32-N}function te(z,N,W){return z&N^~z&W}function B(z,N,W){return z&N^z&W^N&W}function G(z){return L(z,2)^L(z,13)^L(z,22)}function R(z){return L(z,6)^L(z,11)^L(z,25)}function I(z){return L(z,7)^L(z,18)^z>>>3}function U(z){return L(z,17)^L(z,19)^z>>>10}const P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function A(z,N,W){let ie=1779033703,Y=3144134277,F=1013904242,D=2773480762,Q=1359893119,ee=2600822924,V=528734635,Z=1541459225;const ae=Math.ceil((W+9)/64)*64,H=new Uint8Array(ae);let q,ne;for(q=0;q<W;++q)H[q]=z[N++];H[q++]=128;const le=ae-8;for(;q<le;)H[q++]=0;H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=W>>>29&255,H[q++]=W>>21&255,H[q++]=W>>13&255,H[q++]=W>>5&255,H[q++]=W<<3&255;const se=new Uint32Array(64);for(q=0;q<ae;){for(ne=0;ne<16;++ne)se[ne]=H[q]<<24|H[q+1]<<16|H[q+2]<<8|H[q+3],q+=4;for(ne=16;ne<64;++ne)se[ne]=U(se[ne-2])+se[ne-7]+I(se[ne-15])+se[ne-16]|0;let J=ie,re=Y,oe=F,ue=D,he=Q,de=ee,pe=V,fe=Z,be,ge;for(ne=0;ne<64;++ne)be=fe+R(he)+te(he,de,pe)+P[ne]+se[ne],ge=G(J)+B(J,re,oe),fe=pe,pe=de,de=he,he=ue+be|0,ue=oe,oe=re,re=J,J=be+ge|0;ie=ie+J|0,Y=Y+re|0,F=F+oe|0,D=D+ue|0,Q=Q+he|0,ee=ee+de|0,V=V+pe|0,Z=Z+fe|0}return new Uint8Array([ie>>24&255,ie>>16&255,ie>>8&255,ie&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255,F>>24&255,F>>16&255,F>>8&255,F&255,D>>24&255,D>>16&255,D>>8&255,D&255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,V>>24&255,V>>16&255,V>>8&255,V&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255])}return A}();l.calculateSHA256=m;const g=function(){function L(A,z,N,W,ie){A.assign(z),A.and(N),ie.assign(z),ie.not(),ie.and(W),A.xor(ie)}function te(A,z,N,W,ie){A.assign(z),A.and(N),ie.assign(z),ie.and(W),A.xor(ie),ie.assign(N),ie.and(W),A.xor(ie)}function B(A,z,N){A.assign(z),A.rotateRight(28),N.assign(z),N.rotateRight(34),A.xor(N),N.assign(z),N.rotateRight(39),A.xor(N)}function G(A,z,N){A.assign(z),A.rotateRight(14),N.assign(z),N.rotateRight(18),A.xor(N),N.assign(z),N.rotateRight(41),A.xor(N)}function R(A,z,N){A.assign(z),A.rotateRight(1),N.assign(z),N.rotateRight(8),A.xor(N),N.assign(z),N.shiftRight(7),A.xor(N)}function I(A,z,N){A.assign(z),A.rotateRight(19),N.assign(z),N.rotateRight(61),A.xor(N),N.assign(z),N.shiftRight(6),A.xor(N)}const U=[new u(1116352408,3609767458),new u(1899447441,602891725),new u(3049323471,3964484399),new u(3921009573,2173295548),new u(961987163,4081628472),new u(1508970993,3053834265),new u(2453635748,2937671579),new u(2870763221,3664609560),new u(3624381080,2734883394),new u(310598401,1164996542),new u(607225278,1323610764),new u(1426881987,3590304994),new u(1925078388,4068182383),new u(2162078206,991336113),new u(2614888103,633803317),new u(3248222580,3479774868),new u(3835390401,2666613458),new u(4022224774,944711139),new u(264347078,2341262773),new u(604807628,2007800933),new u(770255983,1495990901),new u(1249150122,1856431235),new u(1555081692,3175218132),new u(1996064986,2198950837),new u(2554220882,3999719339),new u(2821834349,766784016),new u(2952996808,2566594879),new u(3210313671,3203337956),new u(3336571891,1034457026),new u(3584528711,2466948901),new u(113926993,3758326383),new u(338241895,168717936),new u(666307205,1188179964),new u(773529912,1546045734),new u(1294757372,1522805485),new u(1396182291,2643833823),new u(1695183700,2343527390),new u(1986661051,1014477480),new u(2177026350,1206759142),new u(2456956037,344077627),new u(2730485921,1290863460),new u(2820302411,3158454273),new u(3259730800,3505952657),new u(3345764771,106217008),new u(3516065817,3606008344),new u(3600352804,1432725776),new u(4094571909,1467031594),new u(275423344,851169720),new u(430227734,3100823752),new u(506948616,1363258195),new u(659060556,3750685593),new u(883997877,3785050280),new u(958139571,3318307427),new u(1322822218,3812723403),new u(1537002063,2003034995),new u(1747873779,3602036899),new u(1955562222,1575990012),new u(2024104815,1125592928),new u(2227730452,2716904306),new u(2361852424,442776044),new u(2428436474,593698344),new u(2756734187,3733110249),new u(3204031479,2999351573),new u(3329325298,3815920427),new u(3391569614,3928383900),new u(3515267271,566280711),new u(3940187606,3454069534),new u(4118630271,4000239992),new u(116418474,1914138554),new u(174292421,2731055270),new u(289380356,3203993006),new u(460393269,320620315),new u(685471733,587496836),new u(852142971,1086792851),new u(1017036298,365543100),new u(1126000580,2618297676),new u(1288033470,3409855158),new u(1501505948,4234509866),new u(1607167915,987167468),new u(1816402316,1246189591)];function P(A,z,N){let W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ie,Y,F,D,Q,ee,V,Z;W?(ie=new u(3418070365,3238371032),Y=new u(1654270250,914150663),F=new u(2438529370,812702999),D=new u(355462360,4144912697),Q=new u(1731405415,4290775857),ee=new u(2394180231,1750603025),V=new u(3675008525,1694076839),Z=new u(1203062813,3204075428)):(ie=new u(1779033703,4089235720),Y=new u(3144134277,2227873595),F=new u(1013904242,4271175723),D=new u(2773480762,1595750129),Q=new u(1359893119,2917565137),ee=new u(2600822924,725511199),V=new u(528734635,4215389547),Z=new u(1541459225,327033209));const ae=Math.ceil((N+17)/128)*128,H=new Uint8Array(ae);let q,ne;for(q=0;q<N;++q)H[q]=A[z++];H[q++]=128;const le=ae-16;for(;q<le;)H[q++]=0;H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=0,H[q++]=N>>>29&255,H[q++]=N>>21&255,H[q++]=N>>13&255,H[q++]=N>>5&255,H[q++]=N<<3&255;const se=new Array(80);for(q=0;q<80;q++)se[q]=new u(0,0);let J=new u(0,0),re=new u(0,0),oe=new u(0,0),ue=new u(0,0),he=new u(0,0),de=new u(0,0),pe=new u(0,0),fe=new u(0,0);const be=new u(0,0),ge=new u(0,0),Se=new u(0,0),ve=new u(0,0);let we;for(q=0;q<ae;){for(ne=0;ne<16;++ne)se[ne].high=H[q]<<24|H[q+1]<<16|H[q+2]<<8|H[q+3],se[ne].low=H[q+4]<<24|H[q+5]<<16|H[q+6]<<8|H[q+7],q+=8;for(ne=16;ne<80;++ne)we=se[ne],I(we,se[ne-2],ve),we.add(se[ne-7]),R(Se,se[ne-15],ve),we.add(Se),we.add(se[ne-16]);for(J.assign(ie),re.assign(Y),oe.assign(F),ue.assign(D),he.assign(Q),de.assign(ee),pe.assign(V),fe.assign(Z),ne=0;ne<80;++ne)be.assign(fe),G(Se,he,ve),be.add(Se),L(Se,he,de,pe,ve),be.add(Se),be.add(U[ne]),be.add(se[ne]),B(ge,J,ve),te(Se,J,re,oe,ve),ge.add(Se),we=fe,fe=pe,pe=de,de=he,ue.add(be),he=ue,ue=oe,oe=re,re=J,we.assign(be),we.add(ge),J=we;ie.add(J),Y.add(re),F.add(oe),D.add(ue),Q.add(he),ee.add(de),V.add(pe),Z.add(fe)}let Fe;return W?(Fe=new Uint8Array(48),ie.copyTo(Fe,0),Y.copyTo(Fe,8),F.copyTo(Fe,16),D.copyTo(Fe,24),Q.copyTo(Fe,32),ee.copyTo(Fe,40)):(Fe=new Uint8Array(64),ie.copyTo(Fe,0),Y.copyTo(Fe,8),F.copyTo(Fe,16),D.copyTo(Fe,24),Q.copyTo(Fe,32),ee.copyTo(Fe,40),V.copyTo(Fe,48),Z.copyTo(Fe,56)),Fe}return P}();l.calculateSHA512=g;function y(O,L,te){return g(O,L,te,!0)}class b{decryptBlock(L){return L}encrypt(L){return L}}class v{constructor(){this.constructor===v&&(0,t.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let L=0;L<256;L++)L<128?this._mixCol[L]=L<<1:this._mixCol[L]=L<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(L){(0,t.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(L,te){let B,G,R;const I=new Uint8Array(16);I.set(L);for(let U=0,P=this._keySize;U<16;++U,++P)I[U]^=te[P];for(let U=this._cyclesOfRepetition-1;U>=1;--U){B=I[13],I[13]=I[9],I[9]=I[5],I[5]=I[1],I[1]=B,B=I[14],G=I[10],I[14]=I[6],I[10]=I[2],I[6]=B,I[2]=G,B=I[15],G=I[11],R=I[7],I[15]=I[3],I[11]=B,I[7]=G,I[3]=R;for(let P=0;P<16;++P)I[P]=this._inv_s[I[P]];for(let P=0,A=U*16;P<16;++P,++A)I[P]^=te[A];for(let P=0;P<16;P+=4){const A=this._mix[I[P]],z=this._mix[I[P+1]],N=this._mix[I[P+2]],W=this._mix[I[P+3]];B=A^z>>>8^z<<24^N>>>16^N<<16^W>>>24^W<<8,I[P]=B>>>24&255,I[P+1]=B>>16&255,I[P+2]=B>>8&255,I[P+3]=B&255}}B=I[13],I[13]=I[9],I[9]=I[5],I[5]=I[1],I[1]=B,B=I[14],G=I[10],I[14]=I[6],I[10]=I[2],I[6]=B,I[2]=G,B=I[15],G=I[11],R=I[7],I[15]=I[3],I[11]=B,I[7]=G,I[3]=R;for(let U=0;U<16;++U)I[U]=this._inv_s[I[U]],I[U]^=te[U];return I}_encrypt(L,te){const B=this._s;let G,R,I;const U=new Uint8Array(16);U.set(L);for(let P=0;P<16;++P)U[P]^=te[P];for(let P=1;P<this._cyclesOfRepetition;P++){for(let A=0;A<16;++A)U[A]=B[U[A]];I=U[1],U[1]=U[5],U[5]=U[9],U[9]=U[13],U[13]=I,I=U[2],R=U[6],U[2]=U[10],U[6]=U[14],U[10]=I,U[14]=R,I=U[3],R=U[7],G=U[11],U[3]=U[15],U[7]=I,U[11]=R,U[15]=G;for(let A=0;A<16;A+=4){const z=U[A+0],N=U[A+1],W=U[A+2],ie=U[A+3];G=z^N^W^ie,U[A+0]^=G^this._mixCol[z^N],U[A+1]^=G^this._mixCol[N^W],U[A+2]^=G^this._mixCol[W^ie],U[A+3]^=G^this._mixCol[ie^z]}for(let A=0,z=P*16;A<16;++A,++z)U[A]^=te[z]}for(let P=0;P<16;++P)U[P]=B[U[P]];I=U[1],U[1]=U[5],U[5]=U[9],U[9]=U[13],U[13]=I,I=U[2],R=U[6],U[2]=U[10],U[6]=U[14],U[10]=I,U[14]=R,I=U[3],R=U[7],G=U[11],U[3]=U[15],U[7]=I,U[11]=R,U[15]=G;for(let P=0,A=this._keySize;P<16;++P,++A)U[P]^=te[A];return U}_decryptBlock2(L,te){const B=L.length;let G=this.buffer,R=this.bufferPosition;const I=[];let U=this.iv;for(let z=0;z<B;++z){if(G[R]=L[z],++R,R<16)continue;const N=this._decrypt(G,this._key);for(let W=0;W<16;++W)N[W]^=U[W];U=G,I.push(N),G=new Uint8Array(16),R=0}if(this.buffer=G,this.bufferLength=R,this.iv=U,I.length===0)return new Uint8Array(0);let P=16*I.length;if(te){const z=I.at(-1);let N=z[15];if(N<=16){for(let W=15,ie=16-N;W>=ie;--W)if(z[W]!==N){N=0;break}P-=N,I[I.length-1]=z.subarray(0,16-N)}}const A=new Uint8Array(P);for(let z=0,N=0,W=I.length;z<W;++z,N+=16)A.set(I[z],N);return A}decryptBlock(L,te){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const G=L.length,R=this.buffer;let I=this.bufferPosition;if(B)this.iv=B;else{for(let U=0;I<16&&U<G;++U,++I)R[I]=L[U];if(I<16)return this.bufferLength=I,new Uint8Array(0);this.iv=R,L=L.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(L,te)}encrypt(L,te){const B=L.length;let G=this.buffer,R=this.bufferPosition;const I=[];te||(te=new Uint8Array(16));for(let A=0;A<B;++A){if(G[R]=L[A],++R,R<16)continue;for(let N=0;N<16;++N)G[N]^=te[N];const z=this._encrypt(G,this._key);te=z,I.push(z),G=new Uint8Array(16),R=0}if(this.buffer=G,this.bufferLength=R,this.iv=te,I.length===0)return new Uint8Array(0);const U=16*I.length,P=new Uint8Array(U);for(let A=0,z=0,N=I.length;A<N;++A,z+=16)P.set(I[A],z);return P}}class o extends v{constructor(L){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(L)}_expandKey(L){const B=this._s,G=this._rcon,R=new Uint8Array(176);R.set(L);for(let I=16,U=1;I<176;++U){let P=R[I-3],A=R[I-2],z=R[I-1],N=R[I-4];P=B[P],A=B[A],z=B[z],N=B[N],P^=G[U];for(let W=0;W<4;++W)R[I]=P^=R[I-16],I++,R[I]=A^=R[I-16],I++,R[I]=z^=R[I-16],I++,R[I]=N^=R[I-16],I++}return R}}l.AES128Cipher=o;class S extends v{constructor(L){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(L)}_expandKey(L){const B=this._s,G=new Uint8Array(240);G.set(L);let R=1,I,U,P,A;for(let z=32,N=1;z<240;++N){z%32===16?(I=B[I],U=B[U],P=B[P],A=B[A]):z%32===0&&(I=G[z-3],U=G[z-2],P=G[z-1],A=G[z-4],I=B[I],U=B[U],P=B[P],A=B[A],I^=R,(R<<=1)>=256&&(R=(R^27)&255));for(let W=0;W<4;++W)G[z]=I^=G[z-32],z++,G[z]=U^=G[z-32],z++,G[z]=P^=G[z-32],z++,G[z]=A^=G[z-32],z++}return G}}l.AES256Cipher=S;class T{checkOwnerPassword(L,te,B,G){const R=new Uint8Array(L.length+56);R.set(L,0),R.set(te,L.length),R.set(B,L.length+te.length);const I=m(R,0,R.length);return(0,t.isArrayEqual)(I,G)}checkUserPassword(L,te,B){const G=new Uint8Array(L.length+8);G.set(L,0),G.set(te,L.length);const R=m(G,0,G.length);return(0,t.isArrayEqual)(R,B)}getOwnerKey(L,te,B,G){const R=new Uint8Array(L.length+56);R.set(L,0),R.set(te,L.length),R.set(B,L.length+te.length);const I=m(R,0,R.length);return new S(I).decryptBlock(G,!1,new Uint8Array(16))}getUserKey(L,te,B){const G=new Uint8Array(L.length+8);G.set(L,0),G.set(te,L.length);const R=m(G,0,G.length);return new S(R).decryptBlock(B,!1,new Uint8Array(16))}}l.PDF17=T;const E=function(){function L(B,G,R){let I=m(G,0,G.length).subarray(0,32),U=[0],P=0;for(;P<64||U.at(-1)>P-32;){const A=B.length+I.length+R.length,z=new Uint8Array(A);let N=0;z.set(B,N),N+=B.length,z.set(I,N),N+=I.length,z.set(R,N);const W=new Uint8Array(A*64);for(let F=0,D=0;F<64;F++,D+=A)W.set(z,D);U=new o(I.subarray(0,16)).encrypt(W,I.subarray(16,32));let Y=0;for(let F=0;F<16;F++)Y*=256%3,Y%=3,Y+=(U[F]>>>0)%3,Y%=3;Y===0?I=m(U,0,U.length):Y===1?I=y(U,0,U.length):Y===2&&(I=g(U,0,U.length)),P++}return I.subarray(0,32)}class te{hash(G,R,I){return L(G,R,I)}checkOwnerPassword(G,R,I,U){const P=new Uint8Array(G.length+56);P.set(G,0),P.set(R,G.length),P.set(I,G.length+R.length);const A=L(G,P,I);return(0,t.isArrayEqual)(A,U)}checkUserPassword(G,R,I){const U=new Uint8Array(G.length+8);U.set(G,0),U.set(R,G.length);const P=L(G,U,[]);return(0,t.isArrayEqual)(P,I)}getOwnerKey(G,R,I,U){const P=new Uint8Array(G.length+56);P.set(G,0),P.set(R,G.length),P.set(I,G.length+R.length);const A=L(G,P,I);return new S(A).decryptBlock(U,!1,new Uint8Array(16))}getUserKey(G,R,I){const U=new Uint8Array(G.length+8);U.set(G,0),U.set(R,G.length);const P=L(G,U,[]);return new S(P).decryptBlock(I,!1,new Uint8Array(16))}}return te}();l.PDF20=E;class k{constructor(L,te){this.StringCipherConstructor=L,this.StreamCipherConstructor=te}createStream(L,te){const B=new this.StreamCipherConstructor;return new c.DecryptStream(L,te,function(R,I){return B.decryptBlock(R,I)})}decryptString(L){const te=new this.StringCipherConstructor;let B=(0,t.stringToBytes)(L);return B=te.decryptBlock(B,!0),(0,t.bytesToString)(B)}encryptString(L){const te=new this.StringCipherConstructor;if(te instanceof v){const R=16-L.length%16;L+=String.fromCharCode(R).repeat(R);const I=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(I);else for(let A=0;A<16;A++)I[A]=Math.floor(256*Math.random());let U=(0,t.stringToBytes)(L);U=te.encrypt(U,I);const P=new Uint8Array(16+U.length);return P.set(I),P.set(U,16),(0,t.bytesToString)(P)}let B=(0,t.stringToBytes)(L);return B=te.encrypt(B),(0,t.bytesToString)(B)}}const M=function(){const L=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function te(A,z,N,W,ie,Y,F,D,Q,ee,V,Z){if(z){const H=Math.min(127,z.length);z=z.subarray(0,H)}else z=[];let ae;return A===6?ae=new E:ae=new T,ae.checkUserPassword(z,D,F)?ae.getUserKey(z,Q,V):z.length&&ae.checkOwnerPassword(z,W,Y,N)?ae.getOwnerKey(z,ie,Y,ee):null}function B(A,z,N,W,ie,Y,F,D){const Q=40+N.length+A.length,ee=new Uint8Array(Q);let V=0,Z,ae;if(z)for(ae=Math.min(32,z.length);V<ae;++V)ee[V]=z[V];for(Z=0;V<32;)ee[V++]=L[Z++];for(Z=0,ae=N.length;Z<ae;++Z)ee[V++]=N[Z];for(ee[V++]=ie&255,ee[V++]=ie>>8&255,ee[V++]=ie>>16&255,ee[V++]=ie>>>24&255,Z=0,ae=A.length;Z<ae;++Z)ee[V++]=A[Z];Y>=4&&!D&&(ee[V++]=255,ee[V++]=255,ee[V++]=255,ee[V++]=255);let H=e(ee,0,V);const q=F>>3;if(Y>=3)for(Z=0;Z<50;++Z)H=e(H,0,q);const ne=H.subarray(0,q);let le,se;if(Y>=3){for(V=0;V<32;++V)ee[V]=L[V];for(Z=0,ae=A.length;Z<ae;++Z)ee[V++]=A[Z];le=new s(ne),se=le.encryptBlock(e(ee,0,V)),ae=ne.length;const J=new Uint8Array(ae);for(Z=1;Z<=19;++Z){for(let re=0;re<ae;++re)J[re]=ne[re]^Z;le=new s(J),se=le.encryptBlock(se)}for(Z=0,ae=se.length;Z<ae;++Z)if(W[Z]!==se[Z])return null}else for(le=new s(ne),se=le.encryptBlock(L),Z=0,ae=se.length;Z<ae;++Z)if(W[Z]!==se[Z])return null;return ne}function G(A,z,N,W){const ie=new Uint8Array(32);let Y=0;const F=Math.min(32,A.length);for(;Y<F;++Y)ie[Y]=A[Y];let D=0;for(;Y<32;)ie[Y++]=L[D++];let Q=e(ie,0,Y);const ee=W>>3;if(N>=3)for(D=0;D<50;++D)Q=e(Q,0,Q.length);let V,Z;if(N>=3){Z=z;const ae=new Uint8Array(ee);for(D=19;D>=0;D--){for(let H=0;H<ee;++H)ae[H]=Q[H]^D;V=new s(ae),Z=V.encryptBlock(Z)}}else V=new s(Q.subarray(0,ee)),Z=V.encryptBlock(z);return Z}const R=i.Name.get("Identity");function I(A,z,N){let W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const ie=new Uint8Array(N.length+9),Y=N.length;let F;for(F=0;F<Y;++F)ie[F]=N[F];return ie[F++]=A&255,ie[F++]=A>>8&255,ie[F++]=A>>16&255,ie[F++]=z&255,ie[F++]=z>>8&255,W&&(ie[F++]=115,ie[F++]=65,ie[F++]=108,ie[F++]=84),e(ie,0,F).subarray(0,Math.min(N.length+5,16))}function U(A,z,N,W,ie){if(!(z instanceof i.Name))throw new t.FormatError("Invalid crypt filter name.");const Y=A.get(z.name);let F;if(Y!=null&&(F=Y.get("CFM")),!F||F.name==="None")return function(){return new b};if(F.name==="V2")return function(){return new s(I(N,W,ie,!1))};if(F.name==="AESV2")return function(){return new o(I(N,W,ie,!0))};if(F.name==="AESV3")return function(){return new S(ie)};throw new t.FormatError("Unknown crypto method")}class P{constructor(z,N,W){const ie=z.get("Filter");if(!(0,i.isName)(ie,"Standard"))throw new t.FormatError("unknown encryption method");this.filterName=ie.name,this.dict=z;const Y=z.get("V");if(!Number.isInteger(Y)||Y!==1&&Y!==2&&Y!==4&&Y!==5)throw new t.FormatError("unsupported encryption algorithm");this.algorithm=Y;let F=z.get("Length");if(!F)if(Y<=3)F=40;else{const ne=z.get("CF"),le=z.get("StmF");if(ne instanceof i.Dict&&le instanceof i.Name){ne.suppressEncryption=!0;const se=ne.get(le.name);F=se&&se.get("Length")||128,F<40&&(F<<=3)}}if(!Number.isInteger(F)||F<40||F%8!==0)throw new t.FormatError("invalid key length");const D=(0,t.stringToBytes)(z.get("O")).subarray(0,32),Q=(0,t.stringToBytes)(z.get("U")).subarray(0,32),ee=z.get("P"),V=z.get("R"),Z=(Y===4||Y===5)&&z.get("EncryptMetadata")!==!1;this.encryptMetadata=Z;const ae=(0,t.stringToBytes)(N);let H;if(W){if(V===6)try{W=(0,t.utf8StringToString)(W)}catch{(0,t.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}H=(0,t.stringToBytes)(W)}let q;if(Y!==5)q=B(ae,H,D,Q,ee,V,F,Z);else{const ne=(0,t.stringToBytes)(z.get("O")).subarray(32,40),le=(0,t.stringToBytes)(z.get("O")).subarray(40,48),se=(0,t.stringToBytes)(z.get("U")).subarray(0,48),J=(0,t.stringToBytes)(z.get("U")).subarray(32,40),re=(0,t.stringToBytes)(z.get("U")).subarray(40,48),oe=(0,t.stringToBytes)(z.get("OE")),ue=(0,t.stringToBytes)(z.get("UE"));(0,t.stringToBytes)(z.get("Perms")),q=te(V,H,D,ne,le,se,Q,J,re,oe,ue)}if(!q&&!W)throw new t.PasswordException("No password given",t.PasswordResponses.NEED_PASSWORD);if(!q&&W){const ne=G(H,D,V,F);q=B(ae,ne,D,Q,ee,V,F,Z)}if(!q)throw new t.PasswordException("Incorrect Password",t.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=q,Y>=4){const ne=z.get("CF");ne instanceof i.Dict&&(ne.suppressEncryption=!0),this.cf=ne,this.stmf=z.get("StmF")||R,this.strf=z.get("StrF")||R,this.eff=z.get("EFF")||this.stmf}}createCipherTransform(z,N){if(this.algorithm===4||this.algorithm===5)return new k(U(this.cf,this.strf,z,N,this.encryptionKey),U(this.cf,this.stmf,z,N,this.encryptionKey));const W=I(z,N,this.encryptionKey,!1),ie=function(){return new s(W)};return new k(ie,ie)}}return P}();l.CipherTransformFactory=M},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecryptStream=void 0;var t=a(144);const i=512;class c extends t.DecodeStream{constructor(e,u,m){super(u),this.str=e,this.dict=e.dict,this.decrypt=m,this.nextChunk=null,this.initialized=!1}readBlock(){let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(i),this.initialized=!0),!e||e.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(i);const u=this.nextChunk&&this.nextChunk.length>0,m=this.decrypt;e=m(e,!u);let g=this.bufferLength;const y=e.length,b=this.ensureBuffer(g+y);for(let v=0;v<y;v++)b[g++]=e[v];this.bufferLength=g}}l.DecryptStream=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Catalog=void 0;var t=a(131),i=a(2),c=a(130),s=a(195),e=a(132),u=a(196),m=a(139),g=a(197),y=a(184),b=a(198),v=a(199);function o(T){return T instanceof c.Dict&&(T=T.get("D")),Array.isArray(T)?T:null}class S{constructor(E,k){if(this.pdfManager=E,this.xref=k,this._catDict=k.getCatalogObj(),!(this._catDict instanceof c.Dict))throw new i.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new c.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new y.GlobalImageCache,this.pageKidsCountCache=new c.RefSetCache,this.pageIndexCache=new c.RefSetCache,this.nonBlendModesSet=new c.RefSet}get version(){const E=this._catDict.get("Version");return(0,i.shadow)(this,"version",E instanceof c.Name?E.name:null)}get lang(){const E=this._catDict.get("Lang");return(0,i.shadow)(this,"lang",typeof E=="string"?(0,i.stringToPDFString)(E):null)}get needsRendering(){const E=this._catDict.get("NeedsRendering");return(0,i.shadow)(this,"needsRendering",typeof E=="boolean"?E:!1)}get collection(){let E=null;try{const k=this._catDict.get("Collection");k instanceof c.Dict&&k.size>0&&(E=k)}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,i.shadow)(this,"collection",E)}get acroForm(){let E=null;try{const k=this._catDict.get("AcroForm");k instanceof c.Dict&&k.size>0&&(E=k)}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,i.shadow)(this,"acroForm",E)}get acroFormRef(){const E=this._catDict.getRaw("AcroForm");return(0,i.shadow)(this,"acroFormRef",E instanceof c.Ref?E:null)}get metadata(){const E=this._catDict.getRaw("Metadata");if(!(E instanceof c.Ref))return(0,i.shadow)(this,"metadata",null);let k=null;try{const M=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),O=this.xref.fetch(E,M);if(O instanceof e.BaseStream&&O.dict instanceof c.Dict){const L=O.dict.get("Type"),te=O.dict.get("Subtype");if((0,c.isName)(L,"Metadata")&&(0,c.isName)(te,"XML")){const B=(0,i.stringToUTF8String)(O.getString());B&&(k=new b.MetadataParser(B).serializable)}}}catch(M){if(M instanceof t.MissingDataException)throw M;(0,i.info)(`Skipping invalid Metadata: "${M}".`)}return(0,i.shadow)(this,"metadata",k)}get markInfo(){let E=null;try{E=this._readMarkInfo()}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.warn)("Unable to read mark info.")}return(0,i.shadow)(this,"markInfo",E)}_readMarkInfo(){const E=this._catDict.get("MarkInfo");if(!(E instanceof c.Dict))return null;const k={Marked:!1,UserProperties:!1,Suspects:!1};for(const M in k){const O=E.get(M);typeof O=="boolean"&&(k[M]=O)}return k}get structTreeRoot(){let E=null;try{E=this._readStructTreeRoot()}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.warn)("Unable read to structTreeRoot info.")}return(0,i.shadow)(this,"structTreeRoot",E)}_readStructTreeRoot(){const E=this._catDict.get("StructTreeRoot");if(!(E instanceof c.Dict))return null;const k=new v.StructTreeRoot(E);return k.init(),k}get toplevelPagesDict(){const E=this._catDict.get("Pages");if(!(E instanceof c.Dict))throw new i.FormatError("Invalid top-level pages dictionary.");return(0,i.shadow)(this,"toplevelPagesDict",E)}get documentOutline(){let E=null;try{E=this._readDocumentOutline()}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.warn)("Unable to read document outline.")}return(0,i.shadow)(this,"documentOutline",E)}_readDocumentOutline(){let E=this._catDict.get("Outlines");if(!(E instanceof c.Dict)||(E=E.getRaw("First"),!(E instanceof c.Ref)))return null;const k={items:[]},M=[{obj:E,parent:k}],O=new c.RefSet;O.put(E);const L=this.xref,te=new Uint8ClampedArray(3);for(;M.length>0;){const B=M.shift(),G=L.fetchIfRef(B.obj);if(G===null)continue;if(!G.has("Title"))throw new i.FormatError("Invalid outline item encountered.");const R={url:null,dest:null};S.parseDestDictionary({destDict:G,resultObj:R,docBaseUrl:this.pdfManager.docBaseUrl});const I=G.get("Title"),U=G.get("F")||0,P=G.getArray("C"),A=G.get("Count");let z=te;Array.isArray(P)&&P.length===3&&(P[0]!==0||P[1]!==0||P[2]!==0)&&(z=m.ColorSpace.singletons.rgb.getRgb(P,0));const N={dest:R.dest,url:R.url,unsafeUrl:R.unsafeUrl,newWindow:R.newWindow,title:(0,i.stringToPDFString)(I),color:z,count:Number.isInteger(A)?A:void 0,bold:!!(U&2),italic:!!(U&1),items:[]};B.parent.items.push(N),E=G.getRaw("First"),E instanceof c.Ref&&!O.has(E)&&(M.push({obj:E,parent:N}),O.put(E)),E=G.getRaw("Next"),E instanceof c.Ref&&!O.has(E)&&(M.push({obj:E,parent:B.parent}),O.put(E))}return k.items.length>0?k.items:null}get permissions(){let E=null;try{E=this._readPermissions()}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.warn)("Unable to read permissions.")}return(0,i.shadow)(this,"permissions",E)}_readPermissions(){const E=this.xref.trailer.get("Encrypt");if(!(E instanceof c.Dict))return null;let k=E.get("P");if(typeof k!="number")return null;k+=4294967296;const M=[];for(const O in i.PermissionFlag){const L=i.PermissionFlag[O];k&L&&M.push(L)}return M}get optionalContentConfig(){let E=null;try{const k=this._catDict.get("OCProperties");if(!k)return(0,i.shadow)(this,"optionalContentConfig",null);const M=k.get("D");if(!M)return(0,i.shadow)(this,"optionalContentConfig",null);const O=k.get("OCGs");if(!Array.isArray(O))return(0,i.shadow)(this,"optionalContentConfig",null);const L=[],te=[];for(const B of O){if(!(B instanceof c.Ref))continue;te.push(B);const G=this.xref.fetchIfRef(B);L.push({id:B.toString(),name:typeof G.get("Name")=="string"?(0,i.stringToPDFString)(G.get("Name")):null,intent:typeof G.get("Intent")=="string"?(0,i.stringToPDFString)(G.get("Intent")):null})}E=this._readOptionalContentConfig(M,te),E.groups=L}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.warn)(`Unable to read optional content config: ${k}`)}return(0,i.shadow)(this,"optionalContentConfig",E)}_readOptionalContentConfig(E,k){function M(R){const I=[];if(Array.isArray(R))for(const U of R)U instanceof c.Ref&&k.includes(U)&&I.push(U.toString());return I}function O(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Array.isArray(R))return null;const U=[];for(const A of R){if(A instanceof c.Ref&&k.includes(A)){B.put(A),U.push(A.toString());continue}const z=L(A,I);z&&U.push(z)}if(I>0)return U;const P=[];for(const A of k)B.has(A)||P.push(A.toString());return P.length&&U.push({name:null,order:P}),U}function L(R,I){if(++I>G)return(0,i.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const U=te.fetchIfRef(R);if(!Array.isArray(U))return null;const P=te.fetchIfRef(U[0]);if(typeof P!="string")return null;const A=O(U.slice(1),I);return!A||!A.length?null:{name:(0,i.stringToPDFString)(P),order:A}}const te=this.xref,B=new c.RefSet,G=10;return{name:typeof E.get("Name")=="string"?(0,i.stringToPDFString)(E.get("Name")):null,creator:typeof E.get("Creator")=="string"?(0,i.stringToPDFString)(E.get("Creator")):null,baseState:E.get("BaseState")instanceof c.Name?E.get("BaseState").name:null,on:M(E.get("ON")),off:M(E.get("OFF")),order:O(E.get("Order")),groups:null}}setActualNumPages(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._actualNumPages=E}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const E=this.toplevelPagesDict.get("Count");if(!Number.isInteger(E))throw new i.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,i.shadow)(this,"_pagesCount",E)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const E=this._readDests(),k=Object.create(null);if(E instanceof s.NameTree)for(const[M,O]of E.getAll()){const L=o(O);L&&(k[(0,i.stringToPDFString)(M)]=L)}else E instanceof c.Dict&&E.forEach(function(M,O){const L=o(O);L&&(k[M]=L)});return(0,i.shadow)(this,"destinations",k)}getDestination(E){const k=this._readDests();if(k instanceof s.NameTree){const M=o(k.get(E));if(M)return M;const O=this.destinations[E];if(O)return(0,i.warn)(`Found "${E}" at an incorrect position in the NameTree.`),O}else if(k instanceof c.Dict){const M=o(k.get(E));if(M)return M}return null}_readDests(){const E=this._catDict.get("Names");if(E&&E.has("Dests"))return new s.NameTree(E.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let E=null;try{E=this._readPageLabels()}catch(k){if(k instanceof t.MissingDataException)throw k;(0,i.warn)("Unable to read page labels.")}return(0,i.shadow)(this,"pageLabels",E)}_readPageLabels(){const E=this._catDict.getRaw("PageLabels");if(!E)return null;const k=new Array(this.numPages);let M=null,O="";const te=new s.NumberTree(E,this.xref).getAll();let B="",G=1;for(let R=0,I=this.numPages;R<I;R++){const U=te.get(R);if(U!==void 0){if(!(U instanceof c.Dict))throw new i.FormatError("PageLabel is not a dictionary.");if(U.has("Type")&&!(0,c.isName)(U.get("Type"),"PageLabel"))throw new i.FormatError("Invalid type in PageLabel dictionary.");if(U.has("S")){const P=U.get("S");if(!(P instanceof c.Name))throw new i.FormatError("Invalid style in PageLabel dictionary.");M=P.name}else M=null;if(U.has("P")){const P=U.get("P");if(typeof P!="string")throw new i.FormatError("Invalid prefix in PageLabel dictionary.");O=(0,i.stringToPDFString)(P)}else O="";if(U.has("St")){const P=U.get("St");if(!(Number.isInteger(P)&&P>=1))throw new i.FormatError("Invalid start in PageLabel dictionary.");G=P}else G=1}switch(M){case"D":B=G;break;case"R":case"r":B=(0,t.toRomanNumerals)(G,M==="r");break;case"A":case"a":const P=26,N=M==="a"?97:65,W=G-1;B=String.fromCharCode(N+W%P).repeat(Math.floor(W/P)+1);break;default:if(M)throw new i.FormatError(`Invalid style "${M}" in PageLabel dictionary.`);B=""}k[R]=O+B,G++}return k}get pageLayout(){const E=this._catDict.get("PageLayout");let k="";if(E instanceof c.Name)switch(E.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":k=E.name}return(0,i.shadow)(this,"pageLayout",k)}get pageMode(){const E=this._catDict.get("PageMode");let k="UseNone";if(E instanceof c.Name)switch(E.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":k=E.name}return(0,i.shadow)(this,"pageMode",k)}get viewerPreferences(){const E=this._catDict.get("ViewerPreferences");if(!(E instanceof c.Dict))return(0,i.shadow)(this,"viewerPreferences",null);let k=null;for(const M of E.getKeys()){const O=E.get(M);let L;switch(M){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof O=="boolean"&&(L=O);break;case"NonFullScreenPageMode":if(O instanceof c.Name)switch(O.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":L=O.name;break;default:L="UseNone"}break;case"Direction":if(O instanceof c.Name)switch(O.name){case"L2R":case"R2L":L=O.name;break;default:L="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(O instanceof c.Name)switch(O.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":L=O.name;break;default:L="CropBox"}break;case"PrintScaling":if(O instanceof c.Name)switch(O.name){case"None":case"AppDefault":L=O.name;break;default:L="AppDefault"}break;case"Duplex":if(O instanceof c.Name)switch(O.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":L=O.name;break;default:L="None"}break;case"PrintPageRange":Array.isArray(O)&&O.length%2===0&&O.every((B,G,R)=>Number.isInteger(B)&&B>0&&(G===0||B>=R[G-1])&&B<=this.numPages)&&(L=O);break;case"NumCopies":Number.isInteger(O)&&O>0&&(L=O);break;default:(0,i.warn)(`Ignoring non-standard key in ViewerPreferences: ${M}.`);continue}if(L===void 0){(0,i.warn)(`Bad value, for key "${M}", in ViewerPreferences: ${O}.`);continue}k||(k=Object.create(null)),k[M]=L}return(0,i.shadow)(this,"viewerPreferences",k)}get openAction(){const E=this._catDict.get("OpenAction"),k=Object.create(null);if(E instanceof c.Dict){const M=new c.Dict(this.xref);M.set("A",E);const O={url:null,dest:null,action:null};S.parseDestDictionary({destDict:M,resultObj:O}),Array.isArray(O.dest)?k.dest=O.dest:O.action&&(k.action=O.action)}else Array.isArray(E)&&(k.dest=E);return(0,i.shadow)(this,"openAction",(0,i.objectSize)(k)>0?k:null)}get attachments(){const E=this._catDict.get("Names");let k=null;if(E instanceof c.Dict&&E.has("EmbeddedFiles")){const M=new s.NameTree(E.getRaw("EmbeddedFiles"),this.xref);for(const[O,L]of M.getAll()){const te=new g.FileSpec(L,this.xref);k||(k=Object.create(null)),k[(0,i.stringToPDFString)(O)]=te.serializable}}return(0,i.shadow)(this,"attachments",k)}get xfaImages(){const E=this._catDict.get("Names");let k=null;if(E instanceof c.Dict&&E.has("XFAImages")){const M=new s.NameTree(E.getRaw("XFAImages"),this.xref);for(const[O,L]of M.getAll())k||(k=new c.Dict(this.xref)),k.set((0,i.stringToPDFString)(O),L)}return(0,i.shadow)(this,"xfaImages",k)}_collectJavaScript(){const E=this._catDict.get("Names");let k=null;function M(L,te){if(!(te instanceof c.Dict)||!(0,c.isName)(te.get("S"),"JavaScript"))return;let B=te.get("JS");if(B instanceof e.BaseStream)B=B.getString();else if(typeof B!="string")return;k===null&&(k=new Map),B=(0,i.stringToPDFString)(B).replace(/\u0000/g,""),k.set(L,B)}if(E instanceof c.Dict&&E.has("JavaScript")){const L=new s.NameTree(E.getRaw("JavaScript"),this.xref);for(const[te,B]of L.getAll())M((0,i.stringToPDFString)(te),B)}const O=this._catDict.get("OpenAction");return O&&M("OpenAction",O),k}get javaScript(){const E=this._collectJavaScript();return(0,i.shadow)(this,"javaScript",E?[...E.values()]:null)}get jsActions(){const E=this._collectJavaScript();let k=(0,t.collectActions)(this.xref,this._catDict,i.DocumentActionEventType);if(E){k||(k=Object.create(null));for(const[M,O]of E)M in k?k[M].push(O):k[M]=[O]}return(0,i.shadow)(this,"jsActions",k)}async fontFallback(E,k){const M=await Promise.all(this.fontCache);for(const O of M)if(O.loadedName===E){O.fallback(k);return}}async cleanup(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(0,u.clearGlobalCaches)(),this.globalImageCache.clear(E),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const k=await Promise.all(this.fontCache);for(const{dict:M}of k)delete M.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(E){const k=[this.toplevelPagesDict],M=new c.RefSet,O=this._catDict.getRaw("Pages");O instanceof c.Ref&&M.put(O);const L=this.xref,te=this.pageKidsCountCache,B=this.pageIndexCache;let G=0;for(;k.length;){const R=k.pop();if(R instanceof c.Ref){const A=te.get(R);if(A>=0&&G+A<=E){G+=A;continue}if(M.has(R))throw new i.FormatError("Pages tree contains circular reference.");M.put(R);const z=await L.fetchAsync(R);if(z instanceof c.Dict){let N=z.getRaw("Type");if(N instanceof c.Ref&&(N=await L.fetchAsync(N)),(0,c.isName)(N,"Page")||!z.has("Kids")){if(te.has(R)||te.put(R,1),B.has(R)||B.put(R,G),G===E)return[z,R];G++;continue}}k.push(z);continue}if(!(R instanceof c.Dict))throw new i.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:I}=R;let U=R.getRaw("Count");if(U instanceof c.Ref&&(U=await L.fetchAsync(U)),Number.isInteger(U)&&U>=0&&(I&&!te.has(I)&&te.put(I,U),G+U<=E)){G+=U;continue}let P=R.getRaw("Kids");if(P instanceof c.Ref&&(P=await L.fetchAsync(P)),!Array.isArray(P)){let A=R.getRaw("Type");if(A instanceof c.Ref&&(A=await L.fetchAsync(A)),(0,c.isName)(A,"Page")||!R.has("Kids")){if(G===E)return[R,null];G++;continue}throw new i.FormatError("Page dictionary kids object is not an array.")}for(let A=P.length-1;A>=0;A--)k.push(P[A])}throw new Error(`Page index ${E} not found.`)}async getAllPageDicts(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const k=[{currentNode:this.toplevelPagesDict,posInKids:0}],M=new c.RefSet,O=this._catDict.getRaw("Pages");O instanceof c.Ref&&M.put(O);const L=new Map,te=this.xref,B=this.pageIndexCache;let G=0;function R(U,P){P&&!B.has(P)&&B.put(P,G),L.set(G++,[U,P])}function I(U){if(U instanceof t.XRefEntryException&&!E)throw U;L.set(G++,[U,null])}for(;k.length>0;){const U=k.at(-1),{currentNode:P,posInKids:A}=U;let z=P.getRaw("Kids");if(z instanceof c.Ref)try{z=await te.fetchAsync(z)}catch(Y){I(Y);break}if(!Array.isArray(z)){I(new i.FormatError("Page dictionary kids object is not an array."));break}if(A>=z.length){k.pop();continue}const N=z[A];let W;if(N instanceof c.Ref){if(M.has(N)){I(new i.FormatError("Pages tree contains circular reference."));break}M.put(N);try{W=await te.fetchAsync(N)}catch(Y){I(Y);break}}else W=N;if(!(W instanceof c.Dict)){I(new i.FormatError("Page dictionary kid reference points to wrong type of object."));break}let ie=W.getRaw("Type");if(ie instanceof c.Ref)try{ie=await te.fetchAsync(ie)}catch(Y){I(Y);break}(0,c.isName)(ie,"Page")||!W.has("Kids")?R(W,N instanceof c.Ref?N:null):k.push({currentNode:W,posInKids:0}),U.posInKids++}return L}getPageIndex(E){const k=this.pageIndexCache.get(E);if(k!==void 0)return Promise.resolve(k);const M=this.xref;function O(B){let G=0,R;return M.fetchAsync(B).then(function(I){if((0,c.isRefsEqual)(B,E)&&!(0,c.isDict)(I,"Page")&&!(I instanceof c.Dict&&!I.has("Type")&&I.has("Contents")))throw new i.FormatError("The reference does not point to a /Page dictionary.");if(!I)return null;if(!(I instanceof c.Dict))throw new i.FormatError("Node must be a dictionary.");return R=I.getRaw("Parent"),I.getAsync("Parent")}).then(function(I){if(!I)return null;if(!(I instanceof c.Dict))throw new i.FormatError("Parent must be a dictionary.");return I.getAsync("Kids")}).then(function(I){if(!I)return null;const U=[];let P=!1;for(let A=0,z=I.length;A<z;A++){const N=I[A];if(!(N instanceof c.Ref))throw new i.FormatError("Kid must be a reference.");if((0,c.isRefsEqual)(N,B)){P=!0;break}U.push(M.fetchAsync(N).then(function(W){if(!(W instanceof c.Dict))throw new i.FormatError("Kid node must be a dictionary.");W.has("Count")?G+=W.get("Count"):G++}))}if(!P)throw new i.FormatError("Kid reference not found in parent's kids.");return Promise.all(U).then(function(){return[G,R]})})}let L=0;const te=B=>O(B).then(G=>{if(!G)return this.pageIndexCache.put(E,L),L;const[R,I]=G;return L+=R,te(I)});return te(E)}get baseUrl(){const E=this._catDict.get("URI");if(E instanceof c.Dict){const k=E.get("Base");if(typeof k=="string"){const M=(0,i.createValidAbsoluteUrl)(k,null,{tryConvertEncoding:!0});if(M)return(0,i.shadow)(this,"baseUrl",M.href)}}return(0,i.shadow)(this,"baseUrl",null)}static parseDestDictionary(E){const k=E.destDict;if(!(k instanceof c.Dict)){(0,i.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const M=E.resultObj;if(typeof M!="object"){(0,i.warn)("parseDestDictionary: `resultObj` must be an object.");return}const O=E.docBaseUrl||null;let L=k.get("A"),te,B;if(L instanceof c.Dict||(k.has("Dest")?L=k.get("Dest"):(L=k.get("AA"),L instanceof c.Dict&&(L.has("D")?L=L.get("D"):L.has("U")&&(L=L.get("U"))))),L instanceof c.Dict){const G=L.get("S");if(!(G instanceof c.Name)){(0,i.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const R=G.name;switch(R){case"ResetForm":const I=L.get("Flags"),U=((typeof I=="number"?I:0)&1)===0,P=[],A=[];for(const Q of L.get("Fields")||[])Q instanceof c.Ref?A.push(Q.toString()):typeof Q=="string"&&P.push((0,i.stringToPDFString)(Q));M.resetForm={fields:P,refs:A,include:U};break;case"URI":te=L.get("URI"),te instanceof c.Name&&(te="/"+te.name);break;case"GoTo":B=L.get("D");break;case"Launch":case"GoToR":const z=L.get("F");z instanceof c.Dict?te=z.get("F")||null:typeof z=="string"&&(te=z);let N=L.get("D");if(N&&(N instanceof c.Name&&(N=N.name),typeof te=="string")){const Q=te.split("#")[0];typeof N=="string"?te=Q+"#"+N:Array.isArray(N)&&(te=Q+"#"+JSON.stringify(N))}const W=L.get("NewWindow");typeof W=="boolean"&&(M.newWindow=W);break;case"Named":const ie=L.get("N");ie instanceof c.Name&&(M.action=ie.name);break;case"JavaScript":const Y=L.get("JS");let F;Y instanceof e.BaseStream?F=Y.getString():typeof Y=="string"&&(F=Y);const D=F&&(0,t.recoverJsURL)((0,i.stringToPDFString)(F));if(D){te=D.url,M.newWindow=D.newWindow;break}default:if(R==="JavaScript"||R==="SubmitForm")break;(0,i.warn)(`parseDestDictionary - unsupported action: "${R}".`);break}}else k.has("Dest")&&(B=k.get("Dest"));if(typeof te=="string"){const G=(0,i.createValidAbsoluteUrl)(te,O,{addDefaultProtocol:!0,tryConvertEncoding:!0});G&&(M.url=G.href),M.unsafeUrl=te}B&&(B instanceof c.Name&&(B=B.name),typeof B=="string"?M.dest=(0,i.stringToPDFString)(B):Array.isArray(B)&&(M.dest=B))}}l.Catalog=S},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NumberTree=l.NameTree=void 0;var t=a(130),i=a(2);class c{constructor(m,g,y){this.constructor===c&&(0,i.unreachable)("Cannot initialize NameOrNumberTree."),this.root=m,this.xref=g,this._type=y}getAll(){const m=new Map;if(!this.root)return m;const g=this.xref,y=new t.RefSet;y.put(this.root);const b=[this.root];for(;b.length>0;){const v=g.fetchIfRef(b.shift());if(!(v instanceof t.Dict))continue;if(v.has("Kids")){const S=v.get("Kids");if(!Array.isArray(S))continue;for(const T of S){if(y.has(T))throw new i.FormatError(`Duplicate entry in "${this._type}" tree.`);b.push(T),y.put(T)}continue}const o=v.get(this._type);if(Array.isArray(o))for(let S=0,T=o.length;S<T;S+=2)m.set(g.fetchIfRef(o[S]),g.fetchIfRef(o[S+1]))}return m}get(m){if(!this.root)return null;const g=this.xref;let y=g.fetchIfRef(this.root),b=0;const v=10;for(;y.has("Kids");){if(++b>v)return(0,i.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const S=y.get("Kids");if(!Array.isArray(S))return null;let T=0,E=S.length-1;for(;T<=E;){const k=T+E>>1,M=g.fetchIfRef(S[k]),O=M.get("Limits");if(m<g.fetchIfRef(O[0]))E=k-1;else if(m>g.fetchIfRef(O[1]))T=k+1;else{y=M;break}}if(T>E)return null}const o=y.get(this._type);if(Array.isArray(o)){let S=0,T=o.length-2;for(;S<=T;){const E=S+T>>1,k=E+(E&1),M=g.fetchIfRef(o[k]);if(m<M)T=k-2;else if(m>M)S=k+2;else return g.fetchIfRef(o[k+1])}}return null}}class s extends c{constructor(m,g){super(m,g,"Names")}}l.NameTree=s;class e extends c{constructor(m,g){super(m,g,"Nums")}}l.NumberTree=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clearGlobalCaches=c;var t=a(130),i=a(165);function c(){(0,t.clearPrimitiveCaches)(),(0,i.clearUnicodeCaches)()}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FileSpec=void 0;var t=a(2),i=a(132),c=a(130);function s(u){return u.has("UF")?u.get("UF"):u.has("F")?u.get("F"):u.has("Unix")?u.get("Unix"):u.has("Mac")?u.get("Mac"):u.has("DOS")?u.get("DOS"):null}class e{constructor(m,g){m instanceof c.Dict&&(this.xref=g,this.root=m,m.has("FS")&&(this.fs=m.get("FS")),this.description=m.has("Desc")?(0,t.stringToPDFString)(m.get("Desc")):"",m.has("RF")&&(0,t.warn)("Related file specifications are not supported"),this.contentAvailable=!0,m.has("EF")||(this.contentAvailable=!1,(0,t.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const m=s(this.root)||"unnamed";this._filename=(0,t.stringToPDFString)(m).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=s(this.root.get("EF")));let m=null;if(this.contentRef){const g=this.xref.fetchIfRef(this.contentRef);g instanceof i.BaseStream?m=g.getBytes():(0,t.warn)("Embedded file specification points to non-existing/invalid content")}else(0,t.warn)("Embedded file specification does not have a content");return m}get serializable(){return{filename:this.filename,content:this.content}}}l.FileSpec=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MetadataParser=void 0;var t=a(191);class i{constructor(s){s=this._repair(s);const u=new t.SimpleXMLParser({lowerCaseName:!0}).parseFromString(s);this._metadataMap=new Map,this._data=s,u&&this._parse(u)}_repair(s){return s.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,u){const m=u.replace(/\\([0-3])([0-7])([0-7])/g,function(y,b,v,o){return String.fromCharCode(b*64+v*8+o*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(y,b){switch(b){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${b} isn't defined.`)}),g=[];for(let y=0,b=m.length;y<b;y+=2){const v=m.charCodeAt(y)*256+m.charCodeAt(y+1);v>=32&&v<127&&v!==60&&v!==62&&v!==38?g.push(String.fromCharCode(v)):g.push("&#x"+(65536+v).toString(16).substring(1)+";")}return">"+g.join("")})}_getSequence(s){const e=s.nodeName;return e!=="rdf:bag"&&e!=="rdf:seq"&&e!=="rdf:alt"?null:s.childNodes.filter(u=>u.nodeName==="rdf:li")}_parseArray(s){if(!s.hasChildNodes())return;const[e]=s.childNodes,u=this._getSequence(e)||[];this._metadataMap.set(s.nodeName,u.map(m=>m.textContent.trim()))}_parse(s){let e=s.documentElement;if(e.nodeName!=="rdf:rdf")for(e=e.firstChild;e&&e.nodeName!=="rdf:rdf";)e=e.nextSibling;if(!(!e||e.nodeName!=="rdf:rdf"||!e.hasChildNodes())){for(const u of e.childNodes)if(u.nodeName==="rdf:description")for(const m of u.childNodes){const g=m.nodeName;switch(g){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(m);continue}this._metadataMap.set(g,m.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}l.MetadataParser=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StructTreeRoot=l.StructTreePage=void 0;var t=a(130),i=a(2),c=a(195);const s=40,e={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class u{constructor(v){this.dict=v,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const v=this.dict.get("RoleMap");v instanceof t.Dict&&v.forEach((o,S)=>{S instanceof t.Name&&this.roleMap.set(o,S.name)})}}l.StructTreeRoot=u;class m{constructor(v,o){this.tree=v,this.dict=o,this.kids=[],this.parseKids()}get role(){const v=this.dict.get("S"),o=v instanceof t.Name?v.name:"",{root:S}=this.tree;return S.roleMap.has(o)?S.roleMap.get(o):o}parseKids(){let v=null;const o=this.dict.getRaw("Pg");o instanceof t.Ref&&(v=o.toString());const S=this.dict.get("K");if(Array.isArray(S))for(const T of S){const E=this.parseKid(v,T);E&&this.kids.push(E)}else{const T=this.parseKid(v,S);T&&this.kids.push(T)}}parseKid(v,o){if(Number.isInteger(o))return this.tree.pageDict.objId!==v?null:new g({type:e.PAGE_CONTENT,mcid:o,pageObjId:v});let S=null;if(o instanceof t.Ref?S=this.dict.xref.fetch(o):o instanceof t.Dict&&(S=o),!S)return null;const T=S.getRaw("Pg");T instanceof t.Ref&&(v=T.toString());const E=S.get("Type")instanceof t.Name?S.get("Type").name:null;return E==="MCR"?this.tree.pageDict.objId!==v?null:new g({type:e.STREAM_CONTENT,refObjId:S.getRaw("Stm")instanceof t.Ref?S.getRaw("Stm").toString():null,pageObjId:v,mcid:S.get("MCID")}):E==="OBJR"?this.tree.pageDict.objId!==v?null:new g({type:e.OBJECT,refObjId:S.getRaw("Obj")instanceof t.Ref?S.getRaw("Obj").toString():null,pageObjId:v}):new g({type:e.ELEMENT,dict:S})}}class g{constructor(v){let{type:o,dict:S=null,mcid:T=null,pageObjId:E=null,refObjId:k=null}=v;this.type=o,this.dict=S,this.mcid=T,this.pageObjId=E,this.refObjId=k,this.parentNode=null}}class y{constructor(v,o){this.root=v,this.rootDict=v?v.dict:null,this.pageDict=o,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const v=this.rootDict.get("ParentTree");if(!v)return;const o=this.pageDict.get("StructParents");if(!Number.isInteger(o))return;const T=new c.NumberTree(v,this.rootDict.xref).get(o);if(!Array.isArray(T))return;const E=new Map;for(const k of T)k instanceof t.Ref&&this.addNode(this.rootDict.xref.fetch(k),E)}addNode(v,o){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(S>s)return(0,i.warn)("StructTree MAX_DEPTH reached."),null;if(o.has(v))return o.get(v);const T=new m(this,v);o.set(v,T);const E=v.get("P");if(!E||(0,t.isName)(E.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(v,T)||o.delete(v),T;const k=this.addNode(E,o,S+1);if(!k)return T;let M=!1;for(const O of k.kids)O.type===e.ELEMENT&&O.dict===v&&(O.parentNode=T,M=!0);return M||o.delete(v),T}addTopLevelNode(v,o){const S=this.rootDict.get("K");if(!S)return!1;if(S instanceof t.Dict)return S.objId!==v.objId?!1:(this.nodes[0]=o,!0);if(!Array.isArray(S))return!0;let T=!1;for(let E=0;E<S.length;E++){const k=S[E];k&&k.toString()===v.objId&&(this.nodes[E]=o,T=!0)}return T}get serializable(){function v(S,T){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(E>s){(0,i.warn)("StructTree too deep to be fully serialized.");return}const k=Object.create(null);k.role=S.role,k.children=[],T.children.push(k);const M=S.dict.get("Alt");typeof M=="string"&&(k.alt=(0,i.stringToPDFString)(M));const O=S.dict.get("Lang");typeof O=="string"&&(k.lang=(0,i.stringToPDFString)(O));for(const L of S.kids){const te=L.type===e.ELEMENT?L.parentNode:null;if(te){v(te,k,E+1);continue}else L.type===e.PAGE_CONTENT||L.type===e.STREAM_CONTENT?k.children.push({type:"content",id:`page${L.pageObjId}_mcid${L.mcid}`}):L.type===e.OBJECT&&k.children.push({type:"object",id:L.refObjId})}}const o=Object.create(null);o.children=[],o.role="Root";for(const S of this.nodes)S&&v(S,o);return o}}l.StructTreePage=y},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ObjectLoader=void 0;var t=a(130),i=a(132),c=a(131),s=a(2);function e(g){return g instanceof t.Ref||g instanceof t.Dict||g instanceof i.BaseStream||Array.isArray(g)}function u(g,y){if(g instanceof t.Dict)g=g.getRawValues();else if(g instanceof i.BaseStream)g=g.dict.getRawValues();else if(!Array.isArray(g))return;for(const b of g)e(b)&&y.push(b)}class m{constructor(y,b,v){this.dict=y,this.keys=b,this.xref=v,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:y,dict:b}=this;this.refSet=new t.RefSet;const v=[];for(let o=0,S=y.length;o<S;o++){const T=b.getRaw(y[o]);T!==void 0&&v.push(T)}return this._walk(v)}async _walk(y){const b=[],v=[];for(;y.length;){let o=y.pop();if(o instanceof t.Ref){if(this.refSet.has(o))continue;try{this.refSet.put(o),o=this.xref.fetch(o)}catch(S){if(!(S instanceof c.MissingDataException)){(0,s.warn)(`ObjectLoader._walk - requesting all data: "${S}".`),this.refSet=null;const{manager:T}=this.xref.stream;return T.requestAllChunks()}b.push(o),v.push({begin:S.begin,end:S.end})}}if(o instanceof i.BaseStream){const S=o.getBaseStreams();if(S){let T=!1;for(const E of S)E.isDataLoaded||(T=!0,v.push({begin:E.start,end:E.end}));T&&b.push(o)}}u(o,y)}if(v.length){await this.xref.stream.manager.requestRanges(v);for(const o of b)o instanceof t.Ref&&this.refSet.remove(o);return this._walk(b)}this.refSet=null}}l.ObjectLoader=m},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XFAFactory=void 0;var t=a(202),i=a(206),c=a(212),s=a(210),e=a(203),u=a(2),m=a(213),g=a(223);class y{constructor(v){try{this.root=new m.XFAParser().parse(y._createDocument(v));const o=new i.Binder(this.root);this.form=o.bind(),this.dataHandler=new c.DataHandler(this.root,o.getData()),this.form[t.$globalData].template=this.form}catch(o){(0,u.warn)(`XFA - an error occurred during parsing and binding: ${o}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const v=this.form[t.$toPages]();return new Promise((o,S)=>{const T=()=>{try{const E=v.next();E.done?o(E.value):setTimeout(T,0)}catch(E){S(E)}};setTimeout(T,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(v=>{const{width:o,height:S}=v.attributes.style;return[0,0,parseInt(o),parseInt(S)]})}catch(v){(0,u.warn)(`XFA - an error occurred during layout: ${v}`)}}getBoundingBox(v){return this.dims[v]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(v){this.form[t.$globalData].images=v}setFonts(v){this.form[t.$globalData].fontFinder=new s.FontFinder(v);const o=[];for(let S of this.form[t.$globalData].usedTypefaces)S=(0,e.stripQuotes)(S),this.form[t.$globalData].fontFinder.find(S)||o.push(S);return o.length>0?o:null}appendFonts(v,o){this.form[t.$globalData].fontFinder.add(v,o)}async getPages(){this.pages||await this._createPages();const v=this.pages;return this.pages=null,v}serializeData(v){return this.dataHandler.serialize(v)}static _createDocument(v){return v["/xdp:xdp"]?Object.values(v).join(""):v["xdp:xdp"]}static getRichTextAsHtml(v){if(!v||typeof v!="string")return null;try{let o=new m.XFAParser(g.XhtmlNamespace,!0).parse(v);if(!["body","xhtml"].includes(o[t.$nodeName])){const k=g.XhtmlNamespace.body({});k[t.$appendChild](o),o=k}const S=o[t.$toHTML]();if(!S.success)return null;const{html:T}=S,{attributes:E}=T;return E&&(E.class&&(E.class=E.class.filter(k=>!k.startsWith("xfa"))),E.dir="auto"),{html:T,str:o[t.$text]()}}catch(o){(0,u.warn)(`XFA - an error occurred during parsing of rich text: ${o}`)}return null}}l.XFAFactory=y},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XmlObject=l.XFAObjectArray=l.XFAObject=l.XFAAttribute=l.StringObject=l.OptionObject=l.Option10=l.Option01=l.IntegerObject=l.ContentObject=l.$uid=l.$toStyle=l.$toString=l.$toPages=l.$toHTML=l.$text=l.$tabIndex=l.$setValue=l.$setSetAttributes=l.$setId=l.$searchNode=l.$root=l.$resolvePrototypes=l.$removeChild=l.$pushPara=l.$pushGlyphs=l.$popPara=l.$onText=l.$onChildCheck=l.$onChild=l.$nsAttributes=l.$nodeName=l.$namespaceId=l.$isUsable=l.$isTransparent=l.$isThereMoreWidth=l.$isSplittable=l.$isNsAgnostic=l.$isDescendent=l.$isDataValue=l.$isCDATAXml=l.$isBindable=l.$insertAt=l.$indexOf=l.$ids=l.$hasSettableValue=l.$globalData=l.$getTemplateRoot=l.$getSubformParent=l.$getRealChildrenByNameIt=l.$getParent=l.$getNextPage=l.$getExtra=l.$getDataValue=l.$getContainedChildren=l.$getChildrenByNameIt=l.$getChildrenByName=l.$getChildrenByClass=l.$getChildren=l.$getAvailableSpace=l.$getAttributes=l.$getAttributeIt=l.$flushHTML=l.$finalize=l.$extra=l.$dump=l.$data=l.$content=l.$consumed=l.$clone=l.$cleanup=l.$cleanPage=l.$clean=l.$childrenToHTML=l.$appendChild=l.$addHTML=l.$acceptWhitespace=void 0;var t=a(203),i=a(2),c=a(131),s=a(204),e=a(205);const u=Symbol();l.$acceptWhitespace=u;const m=Symbol();l.$addHTML=m;const g=Symbol();l.$appendChild=g;const y=Symbol();l.$childrenToHTML=y;const b=Symbol();l.$clean=b;const v=Symbol();l.$cleanPage=v;const o=Symbol();l.$cleanup=o;const S=Symbol();l.$clone=S;const T=Symbol();l.$consumed=T;const E=Symbol("content");l.$content=E;const k=Symbol("data");l.$data=k;const M=Symbol();l.$dump=M;const O=Symbol("extra");l.$extra=O;const L=Symbol();l.$finalize=L;const te=Symbol();l.$flushHTML=te;const B=Symbol();l.$getAttributeIt=B;const G=Symbol();l.$getAttributes=G;const R=Symbol();l.$getAvailableSpace=R;const I=Symbol();l.$getChildrenByClass=I;const U=Symbol();l.$getChildrenByName=U;const P=Symbol();l.$getChildrenByNameIt=P;const A=Symbol();l.$getDataValue=A;const z=Symbol();l.$getExtra=z;const N=Symbol();l.$getRealChildrenByNameIt=N;const W=Symbol();l.$getChildren=W;const ie=Symbol();l.$getContainedChildren=ie;const Y=Symbol();l.$getNextPage=Y;const F=Symbol();l.$getSubformParent=F;const D=Symbol();l.$getParent=D;const Q=Symbol();l.$getTemplateRoot=Q;const ee=Symbol();l.$globalData=ee;const V=Symbol();l.$hasSettableValue=V;const Z=Symbol();l.$ids=Z;const ae=Symbol();l.$indexOf=ae;const H=Symbol();l.$insertAt=H;const q=Symbol();l.$isCDATAXml=q;const ne=Symbol();l.$isBindable=ne;const le=Symbol();l.$isDataValue=le;const se=Symbol();l.$isDescendent=se;const J=Symbol();l.$isNsAgnostic=J;const re=Symbol();l.$isSplittable=re;const oe=Symbol();l.$isThereMoreWidth=oe;const ue=Symbol();l.$isTransparent=ue;const he=Symbol();l.$isUsable=he;const de=Symbol(),pe=Symbol("namespaceId");l.$namespaceId=pe;const fe=Symbol("nodeName");l.$nodeName=fe;const be=Symbol();l.$nsAttributes=be;const ge=Symbol();l.$onChild=ge;const Se=Symbol();l.$onChildCheck=Se;const ve=Symbol();l.$onText=ve;const we=Symbol();l.$pushGlyphs=we;const Fe=Symbol();l.$popPara=Fe;const Ce=Symbol();l.$pushPara=Ce;const ye=Symbol();l.$removeChild=ye;const ke=Symbol("root");l.$root=ke;const De=Symbol();l.$resolvePrototypes=De;const Ie=Symbol();l.$searchNode=Ie;const Me=Symbol();l.$setId=Me;const Ne=Symbol();l.$setSetAttributes=Ne;const Re=Symbol();l.$setValue=Re;const Oe=Symbol();l.$tabIndex=Oe;const Le=Symbol();l.$text=Le;const Pe=Symbol();l.$toPages=Pe;const $e=Symbol();l.$toHTML=$e;const je=Symbol();l.$toString=je;const Te=Symbol();l.$toStyle=Te;const Ae=Symbol("uid");l.$uid=Ae;const Ee=Symbol(),Be=Symbol(),ze=Symbol(),We=Symbol("_children"),tt=Symbol(),Ze=Symbol(),Xe=Symbol(),st=Symbol(),gt=Symbol(),Ge=Symbol(),ht=Symbol(),ct=Symbol(),pt=Symbol(),Ct=Symbol("parent"),kt=Symbol(),mt=Symbol(),Wt=Symbol();let et=0;const qe=s.NamespaceIds.datasets.id;class it{constructor(Ue,Ye){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this[pe]=Ue,this[fe]=Ye,this[ht]=at,this[Ct]=null,this[We]=[],this[Ae]=`${Ye}${et++}`,this[ee]=null}[ge](Ue){if(!this[ht]||!this[Se](Ue))return!1;const Ye=Ue[fe],at=this[Ye];if(at instanceof rt){if(at.push(Ue))return this[g](Ue),!0}else return at!==null&&this[ye](at),this[Ye]=Ue,this[g](Ue),!0;let nt="";return this.id?nt=` (id: ${this.id})`:this.name&&(nt=` (name: ${this.name} ${this.h.value})`),(0,i.warn)(`XFA - node "${this[fe]}"${nt} has already enough "${Ye}"!`),!1}[Se](Ue){return this.hasOwnProperty(Ue[fe])&&Ue[pe]===this[pe]}[J](){return!1}[u](){return!1}[q](){return!1}[ne](){return!1}[Fe](){this.para&&this[Q]()[O].paraStack.pop()}[Ce](){this[Q]()[O].paraStack.push(this.para)}[Me](Ue){this.id&&this[pe]===s.NamespaceIds.template.id&&Ue.set(this.id,this)}[Q](){return this[ee].template}[re](){return!1}[oe](){return!1}[g](Ue){Ue[Ct]=this,this[We].push(Ue),!Ue[ee]&&this[ee]&&(Ue[ee]=this[ee])}[ye](Ue){const Ye=this[We].indexOf(Ue);this[We].splice(Ye,1)}[V](){return this.hasOwnProperty("value")}[Re](Ue){}[ve](Ue){}[L](){}[b](Ue){delete this[ht],this[o]&&(Ue.clean(this[o]),delete this[o])}[ae](Ue){return this[We].indexOf(Ue)}[H](Ue,Ye){Ye[Ct]=this,this[We].splice(Ue,0,Ye),!Ye[ee]&&this[ee]&&(Ye[ee]=this[ee])}[ue](){return!this.name}[de](){return""}[Le](){return this[We].length===0?this[E]:this[We].map(Ue=>Ue[Le]()).join("")}get[ze](){const Ue=Object.getPrototypeOf(this);if(!Ue._attributes){const Ye=Ue._attributes=new Set;for(const at of Object.getOwnPropertyNames(this)){if(this[at]===null||this[at]instanceof it||this[at]instanceof rt)break;Ye.add(at)}}return(0,i.shadow)(this,ze,Ue._attributes)}[se](Ue){let Ye=this;for(;Ye;){if(Ye===Ue)return!0;Ye=Ye[D]()}return!1}[D](){return this[Ct]}[F](){return this[D]()}[W](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ue?this[Ue]:this[We]}[M](){const Ue=Object.create(null);this[E]&&(Ue.$content=this[E]);for(const Ye of Object.getOwnPropertyNames(this)){const at=this[Ye];at!==null&&(at instanceof it?Ue[Ye]=at[M]():at instanceof rt?at.isEmpty()||(Ue[Ye]=at.dump()):Ue[Ye]=at)}return Ue}[Te](){return null}[$e](){return t.HTMLResult.EMPTY}*[ie](){for(const Ue of this[W]())yield Ue}*[st](Ue,Ye){for(const at of this[ie]())if(!Ue||Ye===Ue.has(at[fe])){const nt=this[R](),dt=at[$e](nt);dt.success||(this[O].failingNode=at),yield dt}}[te](){return null}[m](Ue,Ye){this[O].children.push(Ue)}[R](){}[y](Ue){let{filter:Ye=null,include:at=!0}=Ue;if(!this[O].generator)this[O].generator=this[st](Ye,at);else{const nt=this[R](),dt=this[O].failingNode[$e](nt);if(!dt.success)return dt;dt.html&&this[m](dt.html,dt.bbox),delete this[O].failingNode}for(;;){const nt=this[O].generator.next();if(nt.done)break;const dt=nt.value;if(!dt.success)return dt;dt.html&&this[m](dt.html,dt.bbox)}return this[O].generator=null,t.HTMLResult.EMPTY}[Ne](Ue){this[mt]=new Set(Object.keys(Ue))}[Ge](Ue){const Ye=this[ze],at=this[mt];return[...Ue].filter(nt=>Ye.has(nt)&&!at.has(nt))}[De](Ue){let Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const at of this[We])at[kt](Ue,Ye)}[kt](Ue,Ye){const at=this[gt](Ue,Ye);at?this[Ee](at,Ue,Ye):this[De](Ue,Ye)}[gt](Ue,Ye){const{use:at,usehref:nt}=this;if(!at&&!nt)return null;let dt=null,Pt=null,zt=null,Ot=at;if(nt?(Ot=nt,nt.startsWith("#som(")&&nt.endsWith(")")?Pt=nt.slice(5,nt.length-1):nt.startsWith(".#som(")&&nt.endsWith(")")?Pt=nt.slice(6,nt.length-1):nt.startsWith("#")?zt=nt.slice(1):nt.startsWith(".#")&&(zt=nt.slice(2))):at.startsWith("#")?zt=at.slice(1):Pt=at,this.use=this.usehref="",zt?dt=Ue.get(zt):(dt=(0,e.searchNode)(Ue.get(ke),this,Pt,!0,!1),dt&&(dt=dt[0])),!dt)return(0,i.warn)(`XFA - Invalid prototype reference: ${Ot}.`),null;if(dt[fe]!==this[fe])return(0,i.warn)(`XFA - Incompatible prototype: ${dt[fe]} !== ${this[fe]}.`),null;if(Ye.has(dt))return(0,i.warn)("XFA - Cycle detected in prototypes use."),null;Ye.add(dt);const Rt=dt[gt](Ue,Ye);return Rt&&dt[Ee](Rt,Ue,Ye),dt[De](Ue,Ye),Ye.delete(dt),dt}[Ee](Ue,Ye,at){if(at.has(Ue)){(0,i.warn)("XFA - Cycle detected in prototypes use.");return}!this[E]&&Ue[E]&&(this[E]=Ue[E]),new Set(at).add(Ue);for(const dt of this[Ge](Ue[mt]))this[dt]=Ue[dt],this[mt]&&this[mt].add(dt);for(const dt of Object.getOwnPropertyNames(this)){if(this[ze].has(dt))continue;const Pt=this[dt],zt=Ue[dt];if(Pt instanceof rt){for(const Ot of Pt[We])Ot[kt](Ye,at);for(let Ot=Pt[We].length,Rt=zt[We].length;Ot<Rt;Ot++){const Ht=Ue[We][Ot][S]();if(Pt.push(Ht))Ht[Ct]=this,this[We].push(Ht),Ht[kt](Ye,at);else break}continue}if(Pt!==null){Pt[De](Ye,at),zt&&Pt[Ee](zt,Ye,at);continue}if(zt!==null){const Ot=zt[S]();Ot[Ct]=this,this[dt]=Ot,this[We].push(Ot),Ot[kt](Ye,at)}}}static[tt](Ue){return Array.isArray(Ue)?Ue.map(Ye=>it[tt](Ye)):typeof Ue=="object"&&Ue!==null?Object.assign({},Ue):Ue}[S](){const Ue=Object.create(Object.getPrototypeOf(this));for(const Ye of Object.getOwnPropertySymbols(this))try{Ue[Ye]=this[Ye]}catch{(0,i.shadow)(Ue,Ye,this[Ye])}Ue[Ae]=`${Ue[fe]}${et++}`,Ue[We]=[];for(const Ye of Object.getOwnPropertyNames(this)){if(this[ze].has(Ye)){Ue[Ye]=it[tt](this[Ye]);continue}const at=this[Ye];at instanceof rt?Ue[Ye]=new rt(at[ct]):Ue[Ye]=null}for(const Ye of this[We]){const at=Ye[fe],nt=Ye[S]();Ue[We].push(nt),nt[Ct]=Ue,Ue[at]===null?Ue[at]=nt:Ue[at][We].push(nt)}return Ue}[W](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ue?this[We].filter(Ye=>Ye[fe]===Ue):this[We]}[I](Ue){return this[Ue]}[U](Ue,Ye){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Array.from(this[P](Ue,Ye,at))}*[P](Ue,Ye){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Ue==="parent"){yield this[Ct];return}for(const nt of this[We])nt[fe]===Ue&&(yield nt),nt.name===Ue&&(yield nt),(Ye||nt[ue]())&&(yield*nt[P](Ue,Ye,!1));at&&this[ze].has(Ue)&&(yield new ft(this,Ue,this[Ue]))}}l.XFAObject=it;class rt{constructor(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1/0;this[ct]=Ue,this[We]=[]}push(Ue){return this[We].length<=this[ct]?(this[We].push(Ue),!0):((0,i.warn)(`XFA - node "${Ue[fe]}" accepts no more than ${this[ct]} children`),!1)}isEmpty(){return this[We].length===0}dump(){return this[We].length===1?this[We][0][M]():this[We].map(Ue=>Ue[M]())}[S](){const Ue=new rt(this[ct]);return Ue[We]=this[We].map(Ye=>Ye[S]()),Ue}get children(){return this[We]}clear(){this[We].length=0}}l.XFAObjectArray=rt;class ft{constructor(Ue,Ye,at){this[Ct]=Ue,this[fe]=Ye,this[E]=at,this[T]=!1,this[Ae]=`attribute${et++}`}[D](){return this[Ct]}[le](){return!0}[A](){return this[E].trim()}[Re](Ue){Ue=Ue.value||"",this[E]=Ue.toString()}[Le](){return this[E]}[se](Ue){return this[Ct]===Ue||this[Ct][se](Ue)}}l.XFAAttribute=ft;class xt extends it{constructor(Ue,Ye){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(super(Ue,Ye),this[E]="",this[Ze]=null,Ye!=="#text"){const nt=new Map;this[Be]=nt;for(const[dt,Pt]of Object.entries(at))nt.set(dt,new ft(this,dt,Pt));if(at.hasOwnProperty(be)){const dt=at[be].xfa.dataNode;dt!==void 0&&(dt==="dataGroup"?this[Ze]=!1:dt==="dataValue"&&(this[Ze]=!0))}}this[T]=!1}[je](Ue){const Ye=this[fe];if(Ye==="#text"){Ue.push((0,c.encodeToXmlString)(this[E]));return}const at=(0,i.utf8StringToString)(Ye),nt=this[pe]===qe?"xfa:":"";Ue.push(`<${nt}${at}`);for(const[dt,Pt]of this[Be].entries()){const zt=(0,i.utf8StringToString)(dt);Ue.push(` ${zt}="${(0,c.encodeToXmlString)(Pt[E])}"`)}if(this[Ze]!==null&&(this[Ze]?Ue.push(' xfa:dataNode="dataValue"'):Ue.push(' xfa:dataNode="dataGroup"')),!this[E]&&this[We].length===0){Ue.push("/>");return}if(Ue.push(">"),this[E])typeof this[E]=="string"?Ue.push((0,c.encodeToXmlString)(this[E])):this[E][je](Ue);else for(const dt of this[We])dt[je](Ue);Ue.push(`</${nt}${at}>`)}[ge](Ue){if(this[E]){const Ye=new xt(this[pe],"#text");this[g](Ye),Ye[E]=this[E],this[E]=""}return this[g](Ue),!0}[ve](Ue){this[E]+=Ue}[L](){if(this[E]&&this[We].length>0){const Ue=new xt(this[pe],"#text");this[g](Ue),Ue[E]=this[E],delete this[E]}}[$e](){return this[fe]==="#text"?t.HTMLResult.success({name:"#text",value:this[E]}):t.HTMLResult.EMPTY}[W](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ue?this[We].filter(Ye=>Ye[fe]===Ue):this[We]}[G](){return this[Be]}[I](Ue){const Ye=this[Be].get(Ue);return Ye!==void 0?Ye:this[W](Ue)}*[P](Ue,Ye){const at=this[Be].get(Ue);at&&(yield at);for(const nt of this[We])nt[fe]===Ue&&(yield nt),Ye&&(yield*nt[P](Ue,Ye))}*[B](Ue,Ye){const at=this[Be].get(Ue);at&&(!Ye||!at[T])&&(yield at);for(const nt of this[We])yield*nt[B](Ue,Ye)}*[N](Ue,Ye,at){for(const nt of this[We])nt[fe]===Ue&&(!at||!nt[T])&&(yield nt),Ye&&(yield*nt[N](Ue,Ye,at))}[le](){return this[Ze]===null?this[We].length===0||this[We][0][pe]===s.NamespaceIds.xhtml.id:this[Ze]}[A](){return this[Ze]===null?this[We].length===0?this[E].trim():this[We][0][pe]===s.NamespaceIds.xhtml.id?this[We][0][Le]().trim():null:this[E].trim()}[Re](Ue){Ue=Ue.value||"",this[E]=Ue.toString()}[M](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Ye=Object.create(null);Ue&&(Ye.$ns=this[pe]),this[E]&&(Ye.$content=this[E]),Ye.$name=this[fe],Ye.children=[];for(const at of this[We])Ye.children.push(at[M](Ue));Ye.attributes=Object.create(null);for(const[at,nt]of this[Be])Ye.attributes[at]=nt[E];return Ye}}l.XmlObject=xt;class St extends it{constructor(Ue,Ye){super(Ue,Ye),this[E]=""}[ve](Ue){this[E]+=Ue}[L](){}}l.ContentObject=St;class ot extends St{constructor(Ue,Ye,at){super(Ue,Ye),this[pt]=at}[L](){this[E]=(0,t.getKeyword)({data:this[E],defaultValue:this[pt][0],validate:Ue=>this[pt].includes(Ue)})}[b](Ue){super[b](Ue),delete this[pt]}}l.OptionObject=ot;class wt extends St{[L](){this[E]=this[E].trim()}}l.StringObject=wt;class yt extends St{constructor(Ue,Ye,at,nt){super(Ue,Ye),this[Xe]=at,this[Wt]=nt}[L](){this[E]=(0,t.getInteger)({data:this[E],defaultValue:this[Xe],validate:this[Wt]})}[b](Ue){super[b](Ue),delete this[Xe],delete this[Wt]}}l.IntegerObject=yt;class It extends yt{constructor(Ue,Ye){super(Ue,Ye,0,at=>at===1)}}l.Option01=It;class Ft extends yt{constructor(Ue,Ye){super(Ue,Ye,1,at=>at===0)}}l.Option10=Ft},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.HTMLResult=void 0,l.getBBox=S,l.getColor=o,l.getFloat=u,l.getInteger=e,l.getKeyword=m,l.getMeasurement=y,l.getRatio=b,l.getRelevant=v,l.getStringOption=g,l.stripQuotes=s;var t=a(2);const i={pt:E=>E,cm:E=>E/2.54*72,mm:E=>E/(10*2.54)*72,in:E=>E*72,px:E=>E},c=/([+-]?\d+\.?\d*)(.*)/;function s(E){return E.startsWith("'")||E.startsWith('"')?E.slice(1,E.length-1):E}function e(E){let{data:k,defaultValue:M,validate:O}=E;if(!k)return M;k=k.trim();const L=parseInt(k,10);return!isNaN(L)&&O(L)?L:M}function u(E){let{data:k,defaultValue:M,validate:O}=E;if(!k)return M;k=k.trim();const L=parseFloat(k);return!isNaN(L)&&O(L)?L:M}function m(E){let{data:k,defaultValue:M,validate:O}=E;return k?(k=k.trim(),O(k)?k:M):M}function g(E,k){return m({data:E,defaultValue:k[0],validate:M=>k.includes(M)})}function y(E){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";if(k=k||"0",!E)return y(k);const M=E.trim().match(c);if(!M)return y(k);const[,O,L]=M,te=parseFloat(O);if(isNaN(te))return y(k);if(te===0)return 0;const B=i[L];return B?B(te):te}function b(E){if(!E)return{num:1,den:1};const k=E.trim().split(/\s*:\s*/).map(L=>parseFloat(L)).filter(L=>!isNaN(L));if(k.length===1&&k.push(1),k.length===0)return{num:1,den:1};const[M,O]=k;return{num:M,den:O}}function v(E){return E?E.trim().split(/\s+/).map(k=>({excluded:k[0]==="-",viewname:k.substring(1)})):[]}function o(E){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],[M,O,L]=k;if(!E)return{r:M,g:O,b:L};const te=E.trim().split(/\s*,\s*/).map(B=>Math.min(Math.max(0,parseInt(B.trim(),10)),255)).map(B=>isNaN(B)?0:B);return te.length<3?{r:M,g:O,b:L}:([M,O,L]=te,{r:M,g:O,b:L})}function S(E){if(!E)return{x:-1,y:-1,width:-1,height:-1};const M=E.trim().split(/\s*,\s*/).map(G=>y(G,"-1"));if(M.length<4||M[2]<0||M[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[O,L,te,B]=M;return{x:O,y:L,width:te,height:B}}class T{static get FAILURE(){return(0,t.shadow)(this,"FAILURE",new T(!1,null,null,null))}static get EMPTY(){return(0,t.shadow)(this,"EMPTY",new T(!0,null,null,null))}constructor(k,M,O,L){this.success=k,this.html=M,this.bbox=O,this.breakNode=L}isBreak(){return!!this.breakNode}static breakNode(k){return new T(!1,null,null,k)}static success(k){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new T(!0,k,M,null)}}l.HTMLResult=T},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NamespaceIds=l.$buildXFAObject=void 0;const a=Symbol();l.$buildXFAObject=a;const t={config:{id:0,check:i=>i.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:i=>i.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:i=>i.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:i=>i.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:i=>i.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:i=>i==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:i=>i==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:i=>i.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:i=>i==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:i=>i.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:i=>i.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:i=>i==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:i=>i==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:i=>i==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:i=>i==="http://ns.adobe.com/xmpmeta/"}};l.NamespaceIds=t},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDataNode=T,l.searchNode=o;var t=a(202),i=a(204),c=a(2);const s=/^[^.[]+/,e=/^[^\]]+/,u={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},m=new Map([["$data",(E,k)=>E.datasets?E.datasets.data:E],["$record",(E,k)=>(E.datasets?E.datasets.data:E)[t.$getChildren]()[0]],["$template",(E,k)=>E.template],["$connectionSet",(E,k)=>E.connectionSet],["$form",(E,k)=>E.form],["$layout",(E,k)=>E.layout],["$host",(E,k)=>E.host],["$dataWindow",(E,k)=>E.dataWindow],["$event",(E,k)=>E.event],["!",(E,k)=>E.datasets],["$xfa",(E,k)=>E],["xfa",(E,k)=>E],["$",(E,k)=>k]]),g=new WeakMap,y=i.NamespaceIds.datasets.id;function b(E){return E=E.trim(),E==="*"?1/0:parseInt(E,10)||0}function v(E,k){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,O=E.match(s);if(!O)return null;let[L]=O;const te=[{name:L,cacheName:"."+L,index:0,js:null,formCalc:null,operator:u.dot}];let B=L.length;for(;B<E.length;){const G=B;if(E.charAt(B++)==="["){if(O=E.slice(B).match(e),!O)return(0,c.warn)("XFA - Invalid index in SOM expression"),null;te.at(-1).index=b(O[0]),B+=O[0].length+1;continue}let I;switch(E.charAt(B)){case".":if(!k)return null;B++,I=u.dotDot;break;case"#":B++,I=u.dotHash;break;case"[":if(M)return(0,c.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;I=u.dotBracket;break;case"(":if(M)return(0,c.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;I=u.dotParen;break;default:I=u.dot;break}if(O=E.slice(B).match(s),!O)break;[L]=O,B+=L.length,te.push({name:L,cacheName:E.slice(G,B),operator:I,index:0,js:null,formCalc:null})}return te}function o(E,k,M){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;const te=v(M,O);if(!te)return null;const B=m.get(te[0].name);let G=0,R;B?(R=!0,E=[B(E,k)],G=1):(R=k===null,E=[k||E]);for(let I=te.length;G<I;G++){const{name:U,cacheName:P,operator:A,index:z}=te[G],N=[];for(const W of E){if(!(W instanceof t.XFAObject))continue;let ie,Y;if(L&&(Y=g.get(W),Y||(Y=new Map,g.set(W,Y)),ie=Y.get(P)),!ie){switch(A){case u.dot:ie=W[t.$getChildrenByName](U,!1);break;case u.dotDot:ie=W[t.$getChildrenByName](U,!0);break;case u.dotHash:ie=W[t.$getChildrenByClass](U),ie instanceof t.XFAObjectArray?ie=ie.children:ie=[ie];break}L&&Y.set(P,ie)}ie.length>0&&N.push(ie)}if(N.length===0&&!R&&G===0){if(k=k[t.$getParent](),!k)return null;G=-1,E=[k];continue}isFinite(z)?E=N.filter(W=>z<W.length).map(W=>W[z]):E=N.flat()}return E.length===0?null:E}function S(E,k){let M=null;for(const{name:O,index:L}of k){for(let te=0,B=isFinite(L)?L:0;te<=B;te++){const G=E[t.$namespaceId]===y?-1:E[t.$namespaceId];M=new t.XmlObject(G,O),E[t.$appendChild](M)}E=M}return M}function T(E,k,M){const O=v(M);if(!O||O.some(B=>B.operator===u.dotDot))return null;const L=m.get(O[0].name);let te=0;L?(E=L(E,k),te=1):E=k||E;for(let B=O.length;te<B;te++){const{name:G,operator:R,index:I}=O[te];if(!isFinite(I))return O[te].index=0,S(E,O.slice(te));let U;switch(R){case u.dot:U=E[t.$getChildrenByName](G,!1);break;case u.dotDot:U=E[t.$getChildrenByName](G,!0);break;case u.dotHash:U=E[t.$getChildrenByClass](G),U instanceof t.XFAObjectArray?U=U.children:U=[U];break}if(U.length===0)return S(E,O.slice(te));if(I<U.length){const P=U[I];if(!(P instanceof t.XFAObject))return(0,c.warn)("XFA - Cannot create a node."),null;E=P}else return O[te].index=I-U.length,S(E,O.slice(te))}return null}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Binder=void 0;var t=a(202),i=a(207),c=a(205),s=a(204),e=a(2);const u=s.NamespaceIds.datasets.id;function m(y){const b=new i.Text({});return b[t.$content]=y,b}class g{constructor(b){this.root=b,this.datasets=b.datasets,b.datasets&&b.datasets.data?this.data=b.datasets.data:this.data=new t.XmlObject(s.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[t.$getChildren]().length===0,this.root.form=this.form=b.template[t.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(b,v,o){if(b[t.$data]=v,b[t.$hasSettableValue]())if(v[t.$isDataValue]()){const S=v[t.$getDataValue]();b[t.$setValue](m(S))}else if(b instanceof i.Field&&b.ui&&b.ui.choiceList&&b.ui.choiceList.open==="multiSelect"){const S=v[t.$getChildren]().map(T=>T[t.$content].trim()).join(`
`);b[t.$setValue](m(S))}else this._isConsumeData()&&(0,e.warn)("XFA - Nodes haven't the same type.");else!v[t.$isDataValue]()||this._isMatchTemplate()?this._bindElement(b,v):(0,e.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(b,v,o,S){if(!b)return null;let T,E;for(let k=0;k<3;k++){for(T=o[t.$getRealChildrenByNameIt](b,!1,!0);E=T.next().value,!!E;)if(v===E[t.$isDataValue]())return E;if(o[t.$namespaceId]===s.NamespaceIds.datasets.id&&o[t.$nodeName]==="data")break;o=o[t.$getParent]()}return S?(T=this.data[t.$getRealChildrenByNameIt](b,!0,!1),E=T.next().value,E||(T=this.data[t.$getAttributeIt](b,!0),E=T.next().value,E&&E[t.$isDataValue]())?E:null):null}_setProperties(b,v){if(b.hasOwnProperty("setProperty"))for(const{ref:o,target:S,connection:T}of b.setProperty.children){if(T||!o)continue;const E=(0,c.searchNode)(this.root,v,o,!1,!1);if(!E){(0,e.warn)(`XFA - Invalid reference: ${o}.`);continue}const[k]=E;if(!k[t.$isDescendent](this.data)){(0,e.warn)("XFA - Invalid node: must be a data node.");continue}const M=(0,c.searchNode)(this.root,b,S,!1,!1);if(!M){(0,e.warn)(`XFA - Invalid target: ${S}.`);continue}const[O]=M;if(!O[t.$isDescendent](b)){(0,e.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const L=O[t.$getParent]();if(O instanceof i.SetProperty||L instanceof i.SetProperty){(0,e.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(O instanceof i.BindItems||L instanceof i.BindItems){(0,e.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const te=k[t.$text](),B=O[t.$nodeName];if(O instanceof t.XFAAttribute){const G=Object.create(null);G[B]=te;const R=Reflect.construct(Object.getPrototypeOf(L).constructor,[G]);L[B]=R[B];continue}if(!O.hasOwnProperty(t.$content)){(0,e.warn)("XFA - Invalid node to use in setProperty");continue}O[t.$data]=k,O[t.$content]=te,O[t.$finalize]()}}_bindItems(b,v){if(!b.hasOwnProperty("items")||!b.hasOwnProperty("bindItems")||b.bindItems.isEmpty())return;for(const T of b.items.children)b[t.$removeChild](T);b.items.clear();const o=new i.Items({}),S=new i.Items({});b[t.$appendChild](o),b.items.push(o),b[t.$appendChild](S),b.items.push(S);for(const{ref:T,labelRef:E,valueRef:k,connection:M}of b.bindItems.children){if(M||!T)continue;const O=(0,c.searchNode)(this.root,v,T,!1,!1);if(!O){(0,e.warn)(`XFA - Invalid reference: ${T}.`);continue}for(const L of O){if(!L[t.$isDescendent](this.datasets)){(0,e.warn)(`XFA - Invalid ref (${T}): must be a datasets child.`);continue}const te=(0,c.searchNode)(this.root,L,E,!0,!1);if(!te){(0,e.warn)(`XFA - Invalid label: ${E}.`);continue}const[B]=te;if(!B[t.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid label: must be a datasets child.");continue}const G=(0,c.searchNode)(this.root,L,k,!0,!1);if(!G){(0,e.warn)(`XFA - Invalid value: ${k}.`);continue}const[R]=G;if(!R[t.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid value: must be a datasets child.");continue}const I=m(B[t.$text]()),U=m(R[t.$text]());o[t.$appendChild](I),o.text.push(I),S[t.$appendChild](U),S.text.push(U)}}}_bindOccurrences(b,v,o){let S;if(v.length>1&&(S=b[t.$clone](),S[t.$removeChild](S.occur),S.occur=null),this._bindValue(b,v[0],o),this._setProperties(b,v[0]),this._bindItems(b,v[0]),v.length===1)return;const T=b[t.$getParent](),E=b[t.$nodeName],k=T[t.$indexOf](b);for(let M=1,O=v.length;M<O;M++){const L=v[M],te=S[t.$clone]();T[E].push(te),T[t.$insertAt](k+M,te),this._bindValue(te,L,o),this._setProperties(te,L),this._bindItems(te,L)}}_createOccurrences(b){if(!this.emptyMerge)return;const{occur:v}=b;if(!v||v.initial<=1)return;const o=b[t.$getParent](),S=b[t.$nodeName];if(!(o[S]instanceof t.XFAObjectArray))return;let T;b.name?T=o[S].children.filter(M=>M.name===b.name).length:T=o[S].children.length;const E=o[t.$indexOf](b)+1,k=v.initial-T;if(k){const M=b[t.$clone]();M[t.$removeChild](M.occur),M.occur=null,o[S].push(M),o[t.$insertAt](E,M);for(let O=1;O<k;O++){const L=M[t.$clone]();o[S].push(L),o[t.$insertAt](E+O,L)}}}_getOccurInfo(b){const{name:v,occur:o}=b;if(!o||!v)return[1,1];const S=o.max===-1?1/0:o.max;return[o.min,S]}_setAndBind(b,v){this._setProperties(b,v),this._bindItems(b,v),this._bindElement(b,v)}_bindElement(b,v){const o=[];this._createOccurrences(b);for(const S of b[t.$getChildren]()){if(S[t.$data])continue;if(this._mergeMode===void 0&&S[t.$nodeName]==="subform"){this._mergeMode=S.mergeMode==="consumeData";const te=v[t.$getChildren]();if(te.length>0)this._bindOccurrences(S,[te[0]],null);else if(this.emptyMerge){const B=v[t.$namespaceId]===u?-1:v[t.$namespaceId],G=S[t.$data]=new t.XmlObject(B,S.name||"root");v[t.$appendChild](G),this._bindElement(S,G)}continue}if(!S[t.$isBindable]())continue;let T=!1,E=null,k=null,M=null;if(S.bind){switch(S.bind.match){case"none":this._setAndBind(S,v);continue;case"global":T=!0;break;case"dataRef":if(!S.bind.ref){(0,e.warn)(`XFA - ref is empty in node ${S[t.$nodeName]}.`),this._setAndBind(S,v);continue}k=S.bind.ref;break}S.bind.picture&&(E=S.bind.picture[t.$content])}const[O,L]=this._getOccurInfo(S);if(k)if(M=(0,c.searchNode)(this.root,v,k,!0,!1),M===null){if(M=(0,c.createDataNode)(this.data,v,k),!M)continue;this._isConsumeData()&&(M[t.$consumed]=!0),this._setAndBind(S,M);continue}else this._isConsumeData()&&(M=M.filter(te=>!te[t.$consumed])),M.length>L?M=M.slice(0,L):M.length===0&&(M=null),M&&this._isConsumeData()&&M.forEach(te=>{te[t.$consumed]=!0});else{if(!S.name){this._setAndBind(S,v);continue}if(this._isConsumeData()){const te=[];for(;te.length<L;){const B=this._findDataByNameToConsume(S.name,S[t.$hasSettableValue](),v,T);if(!B)break;B[t.$consumed]=!0,te.push(B)}M=te.length>0?te:null}else{if(M=v[t.$getRealChildrenByNameIt](S.name,!1,this.emptyMerge).next().value,!M){if(O===0){o.push(S);continue}const te=v[t.$namespaceId]===u?-1:v[t.$namespaceId];M=S[t.$data]=new t.XmlObject(te,S.name),this.emptyMerge&&(M[t.$consumed]=!0),v[t.$appendChild](M),this._setAndBind(S,M);continue}this.emptyMerge&&(M[t.$consumed]=!0),M=[M]}}M?this._bindOccurrences(S,M,E):O>0?this._setAndBind(S,v):o.push(S)}o.forEach(S=>S[t.$getParent]()[t.$removeChild](S))}}l.Binder=g},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Value=l.Text=l.TemplateNamespace=l.Template=l.SetProperty=l.Items=l.Field=l.BindItems=void 0;var t=a(202),i=a(204),c=a(208),s=a(209),e=a(203),u=a(2),m=a(210),g=a(131),y=a(205);const b=i.NamespaceIds.template.id,v="http://www.w3.org/2000/svg",o=2,S=3,T=5e3,E=/^H(\d+)$/,k=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),M=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function O(Ke){if(!Ke||!Ke.border)return{w:0,h:0};const X=Ke.border[t.$getExtra]();return X?{w:X.widths[0]+X.widths[2]+X.insets[0]+X.insets[2],h:X.widths[1]+X.widths[3]+X.insets[1]+X.insets[3]}:{w:0,h:0}}function L(Ke){return Ke.margin&&(Ke.margin.topInset||Ke.margin.rightInset||Ke.margin.bottomInset||Ke.margin.leftInset)}function te(Ke,X){if(!Ke.value){const me=new Pn({});Ke[t.$appendChild](me),Ke.value=me}Ke.value[t.$setValue](X)}function*B(Ke){for(const X of Ke[t.$getChildren]()){if(X instanceof Nn){yield*X[t.$getContainedChildren]();continue}yield X}}function G(Ke){return Ke.validate&&Ke.validate.nullTest==="error"}function R(Ke){for(;Ke;){if(!Ke.traversal){Ke[t.$tabIndex]=Ke[t.$getParent]()[t.$tabIndex];return}if(Ke[t.$tabIndex])return;let X=null;for(const Qe of Ke.traversal[t.$getChildren]())if(Qe.operation==="next"){X=Qe;break}if(!X||!X.ref){Ke[t.$tabIndex]=Ke[t.$getParent]()[t.$tabIndex];return}const me=Ke[t.$getTemplateRoot]();Ke[t.$tabIndex]=++me[t.$tabIndex];const Ve=me[t.$searchNode](X.ref,Ke);if(!Ve)return;Ke=Ve[0]}}function I(Ke,X){const me=Ke.assist;if(me){const Ve=me[t.$toHTML]();Ve&&(X.title=Ve);const lt=me.role.match(E);if(lt){const Et="heading",vt=lt[1];X.role=Et,X["aria-level"]=vt}}if(Ke.layout==="table")X.role="table";else if(Ke.layout==="row")X.role="row";else{const Ve=Ke[t.$getParent]();Ve.layout==="row"&&(Ve.assist&&Ve.assist.role==="TH"?X.role="columnheader":X.role="cell")}}function U(Ke){if(!Ke.assist)return null;const X=Ke.assist;return X.speak&&X.speak[t.$content]!==""?X.speak[t.$content]:X.toolTip?X.toolTip[t.$content]:null}function P(Ke){return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Ke}]})}function A(Ke){const X=Ke[t.$getTemplateRoot]();X[t.$extra].firstUnsplittable===null&&(X[t.$extra].firstUnsplittable=Ke,X[t.$extra].noLayoutFailure=!0)}function z(Ke){const X=Ke[t.$getTemplateRoot]();X[t.$extra].firstUnsplittable===Ke&&(X[t.$extra].noLayoutFailure=!1)}function N(Ke){if(Ke[t.$extra]||(Ke[t.$extra]=Object.create(null),Ke.targetType==="auto"))return!1;const X=Ke[t.$getTemplateRoot]();let me=null;if(Ke.target){if(me=X[t.$searchNode](Ke.target,Ke[t.$getParent]()),!me)return!1;me=me[0]}const{currentPageArea:Ve,currentContentArea:Qe}=X[t.$extra];if(Ke.targetType==="pageArea")return me instanceof nt||(me=null),Ke.startNew?(Ke[t.$extra].target=me||Ve,!0):me&&me!==Ve?(Ke[t.$extra].target=me,!0):!1;me instanceof ge||(me=null);const lt=me&&me[t.$getParent]();let Et,vt=lt;if(Ke.startNew)if(me){const Tt=lt.contentArea.children,Mt=Tt.indexOf(Qe),jt=Tt.indexOf(me);Mt!==-1&&Mt<jt&&(vt=null),Et=jt-1}else Et=Ve.contentArea.children.indexOf(Qe);else if(me&&me!==Qe)Et=lt.contentArea.children.indexOf(me)-1,vt=lt===Ve?null:lt;else return!1;return Ke[t.$extra].target=vt,Ke[t.$extra].index=Et,!0}function W(Ke,X,me){const Ve=Ke[t.$getTemplateRoot](),Qe=Ve[t.$extra].noLayoutFailure,lt=X[t.$getSubformParent];X[t.$getSubformParent]=()=>Ke,Ve[t.$extra].noLayoutFailure=!0;const Et=X[t.$toHTML](me);Ke[t.$addHTML](Et.html,Et.bbox),Ve[t.$extra].noLayoutFailure=Qe,X[t.$getSubformParent]=lt}class ie extends t.StringObject{constructor(X){super(b,"appearanceFilter"),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||""}}class Y extends t.XFAObject{constructor(X){super(b,"arc",!0),this.circular=(0,e.getInteger)({data:X.circular,defaultValue:0,validate:me=>me===1}),this.hand=(0,e.getStringOption)(X.hand,["even","left","right"]),this.id=X.id||"",this.startAngle=(0,e.getFloat)({data:X.startAngle,defaultValue:0,validate:me=>!0}),this.sweepAngle=(0,e.getFloat)({data:X.sweepAngle,defaultValue:360,validate:me=>!0}),this.use=X.use||"",this.usehref=X.usehref||"",this.edge=null,this.fill=null}[t.$toHTML](){const X=this.edge||new Ne({}),me=X[t.$toStyle](),Ve=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Ve,this.fill[t.$toStyle]()):Ve.fill="transparent",Ve.strokeWidth=(0,s.measureToString)(X.presence==="visible"?X.thickness:0),Ve.stroke=me.color;let Qe;const lt={xmlns:v,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Qe={name:"ellipse",attributes:{xmlns:v,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Ve}};else{const Tt=this.startAngle*Math.PI/180,Mt=this.sweepAngle*Math.PI/180,jt=this.sweepAngle>180?1:0,[Yt,Gt,Zt,Qt]=[50*(1+Math.cos(Tt)),50*(1-Math.sin(Tt)),50*(1+Math.cos(Tt+Mt)),50*(1-Math.sin(Tt+Mt))];Qe={name:"path",attributes:{xmlns:v,d:`M ${Yt} ${Gt} A 50 50 0 ${jt} 0 ${Zt} ${Qt}`,vectorEffect:"non-scaling-stroke",style:Ve}},Object.assign(lt,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Et={name:"svg",children:[Qe],attributes:lt},vt=this[t.$getParent]()[t.$getParent]();return L(vt)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Et]}):(Et.attributes.style.position="absolute",e.HTMLResult.success(Et))}}class F extends t.XFAObject{constructor(X){super(b,"area",!0),this.colSpan=(0,e.getInteger)({data:X.colSpan,defaultValue:1,validate:me=>me>=1||me===-1}),this.id=X.id||"",this.name=X.name||"",this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.x=(0,e.getMeasurement)(X.x,"0pt"),this.y=(0,e.getMeasurement)(X.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[t.$getContainedChildren](){yield*B(this)}[t.$isTransparent](){return!0}[t.$isBindable](){return!0}[t.$addHTML](X,me){const[Ve,Qe,lt,Et]=me;this[t.$extra].width=Math.max(this[t.$extra].width,Ve+lt),this[t.$extra].height=Math.max(this[t.$extra].height,Qe+Et),this[t.$extra].children.push(X)}[t.$getAvailableSpace](){return this[t.$extra].availableSpace}[t.$toHTML](X){const me=(0,s.toStyle)(this,"position"),Ve={style:me,id:this[t.$uid],class:["xfaArea"]};(0,s.isPrintOnly)(this)&&Ve.class.push("xfaPrintOnly"),this.name&&(Ve.xfaName=this.name);const Qe=[];this[t.$extra]={children:Qe,width:0,height:0,availableSpace:X};const lt=this[t.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!lt.success)return lt.isBreak()?lt:(delete this[t.$extra],e.HTMLResult.FAILURE);me.width=(0,s.measureToString)(this[t.$extra].width),me.height=(0,s.measureToString)(this[t.$extra].height);const Et={name:"div",attributes:Ve,children:Qe},vt=[this.x,this.y,this[t.$extra].width,this[t.$extra].height];return delete this[t.$extra],e.HTMLResult.success(Et,vt)}}class D extends t.XFAObject{constructor(X){super(b,"assist",!0),this.id=X.id||"",this.role=X.role||"",this.use=X.use||"",this.usehref=X.usehref||"",this.speak=null,this.toolTip=null}[t.$toHTML](){return this.toolTip&&this.toolTip[t.$content]?this.toolTip[t.$content]:null}}class Q extends t.XFAObject{constructor(X){super(b,"barcode",!0),this.charEncoding=(0,e.getKeyword)({data:X.charEncoding?X.charEncoding.toLowerCase():"",defaultValue:"",validate:me=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(me)||me.match(/iso-8859-\d{2}/)}),this.checksum=(0,e.getStringOption)(X.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,e.getInteger)({data:X.dataColumnCount,defaultValue:-1,validate:me=>me>=0}),this.dataLength=(0,e.getInteger)({data:X.dataLength,defaultValue:-1,validate:me=>me>=0}),this.dataPrep=(0,e.getStringOption)(X.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,e.getInteger)({data:X.dataRowCount,defaultValue:-1,validate:me=>me>=0}),this.endChar=X.endChar||"",this.errorCorrectionLevel=(0,e.getInteger)({data:X.errorCorrectionLevel,defaultValue:-1,validate:me=>me>=0&&me<=8}),this.id=X.id||"",this.moduleHeight=(0,e.getMeasurement)(X.moduleHeight,"5mm"),this.moduleWidth=(0,e.getMeasurement)(X.moduleWidth,"0.25mm"),this.printCheckDigit=(0,e.getInteger)({data:X.printCheckDigit,defaultValue:0,validate:me=>me===1}),this.rowColumnRatio=(0,e.getRatio)(X.rowColumnRatio),this.startChar=X.startChar||"",this.textLocation=(0,e.getStringOption)(X.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,e.getInteger)({data:X.truncate,defaultValue:0,validate:me=>me===1}),this.type=(0,e.getStringOption)(X.type?X.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,e.getStringOption)(X.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=X.use||"",this.usehref=X.usehref||"",this.wideNarrowRatio=(0,e.getRatio)(X.wideNarrowRatio),this.encrypt=null,this.extras=null}}class ee extends t.XFAObject{constructor(X){super(b,"bind",!0),this.match=(0,e.getStringOption)(X.match,["once","dataRef","global","none"]),this.ref=X.ref||"",this.picture=null}}class V extends t.XFAObject{constructor(X){super(b,"bindItems"),this.connection=X.connection||"",this.labelRef=X.labelRef||"",this.ref=X.ref||"",this.valueRef=X.valueRef||""}}l.BindItems=V;class Z extends t.XFAObject{constructor(X){super(b,"bookend"),this.id=X.id||"",this.leader=X.leader||"",this.trailer=X.trailer||"",this.use=X.use||"",this.usehref=X.usehref||""}}class ae extends t.Option01{constructor(X){super(b,"boolean"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$toHTML](X){return P(this[t.$content]===1?"1":"0")}}class H extends t.XFAObject{constructor(X){super(b,"border",!0),this.break=(0,e.getStringOption)(X.break,["close","open"]),this.hand=(0,e.getStringOption)(X.hand,["even","left","right"]),this.id=X.id||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[t.$getExtra](){if(!this[t.$extra]){const X=this.edge.children.slice();if(X.length<4){const Qe=X.at(-1)||new Ne({});for(let lt=X.length;lt<4;lt++)X.push(Qe)}const me=X.map(Qe=>Qe.thickness),Ve=[0,0,0,0];this.margin&&(Ve[0]=this.margin.topInset,Ve[1]=this.margin.rightInset,Ve[2]=this.margin.bottomInset,Ve[3]=this.margin.leftInset),this[t.$extra]={widths:me,insets:Ve,edges:X}}return this[t.$extra]}[t.$toStyle](){const{edges:X}=this[t.$getExtra](),me=X.map(Qe=>{const lt=Qe[t.$toStyle]();return lt.color=lt.color||"#000000",lt}),Ve=Object.create(null);if(this.margin&&Object.assign(Ve,this.margin[t.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(Ve,this.fill[t.$toStyle]()),this.corner.children.some(Qe=>Qe.radius!==0)){const Qe=this.corner.children.map(lt=>lt[t.$toStyle]());if(Qe.length===2||Qe.length===3){const lt=Qe.at(-1);for(let Et=Qe.length;Et<4;Et++)Qe.push(lt)}Ve.borderRadius=Qe.map(lt=>lt.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Ve.borderStyle="";break;case"inactive":Ve.borderStyle="none";break;default:Ve.borderStyle=me.map(Qe=>Qe.style).join(" ");break}return Ve.borderWidth=me.map(Qe=>Qe.width).join(" "),Ve.borderColor=me.map(Qe=>Qe.color).join(" "),Ve}}class q extends t.XFAObject{constructor(X){super(b,"break",!0),this.after=(0,e.getStringOption)(X.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=X.afterTarget||"",this.before=(0,e.getStringOption)(X.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=X.beforeTarget||"",this.bookendLeader=X.bookendLeader||"",this.bookendTrailer=X.bookendTrailer||"",this.id=X.id||"",this.overflowLeader=X.overflowLeader||"",this.overflowTarget=X.overflowTarget||"",this.overflowTrailer=X.overflowTrailer||"",this.startNew=(0,e.getInteger)({data:X.startNew,defaultValue:0,validate:me=>me===1}),this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null}}class ne extends t.XFAObject{constructor(X){super(b,"breakAfter",!0),this.id=X.id||"",this.leader=X.leader||"",this.startNew=(0,e.getInteger)({data:X.startNew,defaultValue:0,validate:me=>me===1}),this.target=X.target||"",this.targetType=(0,e.getStringOption)(X.targetType,["auto","contentArea","pageArea"]),this.trailer=X.trailer||"",this.use=X.use||"",this.usehref=X.usehref||"",this.script=null}}class le extends t.XFAObject{constructor(X){super(b,"breakBefore",!0),this.id=X.id||"",this.leader=X.leader||"",this.startNew=(0,e.getInteger)({data:X.startNew,defaultValue:0,validate:me=>me===1}),this.target=X.target||"",this.targetType=(0,e.getStringOption)(X.targetType,["auto","contentArea","pageArea"]),this.trailer=X.trailer||"",this.use=X.use||"",this.usehref=X.usehref||"",this.script=null}[t.$toHTML](X){return this[t.$extra]={},e.HTMLResult.FAILURE}}class se extends t.XFAObject{constructor(X){super(b,"button",!0),this.highlight=(0,e.getStringOption)(X.highlight,["inverted","none","outline","push"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null}[t.$toHTML](X){const Ve=this[t.$getParent]()[t.$getParent](),Qe={name:"button",attributes:{id:this[t.$uid],class:["xfaButton"],style:{}},children:[]};for(const lt of Ve.event.children){if(lt.activity!=="click"||!lt.script)continue;const Et=(0,g.recoverJsURL)(lt.script[t.$content]);if(!Et)continue;const vt=(0,s.fixURL)(Et.url);vt&&Qe.children.push({name:"a",attributes:{id:"link"+this[t.$uid],href:vt,newWindow:Et.newWindow,class:["xfaLink"],style:{}},children:[]})}return e.HTMLResult.success(Qe)}}class J extends t.XFAObject{constructor(X){super(b,"calculate",!0),this.id=X.id||"",this.override=(0,e.getStringOption)(X.override,["disabled","error","ignore","warning"]),this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.message=null,this.script=null}}class re extends t.XFAObject{constructor(X){super(b,"caption",!0),this.id=X.id||"",this.placement=(0,e.getStringOption)(X.placement,["left","bottom","inline","right","top"]),this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,e.getMeasurement)(X.reserve)),this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[t.$setValue](X){te(this,X)}[t.$getExtra](X){if(!this[t.$extra]){let{width:me,height:Ve}=X;switch(this.placement){case"left":case"right":case"inline":me=this.reserve<=0?me:this.reserve;break;case"top":case"bottom":Ve=this.reserve<=0?Ve:this.reserve;break}this[t.$extra]=(0,s.layoutNode)(this,{width:me,height:Ve})}return this[t.$extra]}[t.$toHTML](X){if(!this.value)return e.HTMLResult.EMPTY;this[t.$pushPara]();const me=this.value[t.$toHTML](X).html;if(!me)return this[t.$popPara](),e.HTMLResult.EMPTY;const Ve=this.reserve;if(this.reserve<=0){const{w:Et,h:vt}=this[t.$getExtra](X);switch(this.placement){case"left":case"right":case"inline":this.reserve=Et;break;case"top":case"bottom":this.reserve=vt;break}}const Qe=[];typeof me=="string"?Qe.push({name:"#text",value:me}):Qe.push(me);const lt=(0,s.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(lt.width=(0,s.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(lt.height=(0,s.measureToString)(this.reserve));break}return(0,s.setPara)(this,null,me),this[t.$popPara](),this.reserve=Ve,e.HTMLResult.success({name:"div",attributes:{style:lt,class:["xfaCaption"]},children:Qe})}}class oe extends t.StringObject{constructor(X){super(b,"certificate"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}}class ue extends t.XFAObject{constructor(X){super(b,"certificates",!0),this.credentialServerPolicy=(0,e.getStringOption)(X.credentialServerPolicy,["optional","required"]),this.id=X.id||"",this.url=X.url||"",this.urlPolicy=X.urlPolicy||"",this.use=X.use||"",this.usehref=X.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class he extends t.XFAObject{constructor(X){super(b,"checkButton",!0),this.id=X.id||"",this.mark=(0,e.getStringOption)(X.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,e.getStringOption)(X.shape,["square","round"]),this.size=(0,e.getMeasurement)(X.size,"10pt"),this.use=X.use||"",this.usehref=X.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](X){const me=(0,s.toStyle)("margin"),Ve=(0,s.measureToString)(this.size);me.width=me.height=Ve;let Qe,lt,Et;const vt=this[t.$getParent]()[t.$getParent](),Tt=vt.items.children.length&&vt.items.children[0][t.$toHTML]().html||[],Mt={on:(Tt[0]!==void 0?Tt[0]:"on").toString(),off:(Tt[1]!==void 0?Tt[1]:"off").toString()},Yt=(vt.value&&vt.value[t.$text]()||"off")===Mt.on||void 0,Gt=vt[t.$getSubformParent](),Zt=vt[t.$uid];let Qt;Gt instanceof ze?(Et=Gt[t.$uid],Qe="radio",lt="xfaRadio",Qt=Gt[t.$data]&&Gt[t.$data][t.$uid]||Gt[t.$uid]):(Qe="checkbox",lt="xfaCheckbox",Qt=vt[t.$data]&&vt[t.$data][t.$uid]||vt[t.$uid]);const Dt={name:"input",attributes:{class:[lt],style:me,fieldId:Zt,dataId:Qt,type:Qe,checked:Yt,xfaOn:Mt.on,xfaOff:Mt.off,"aria-label":U(vt),"aria-required":!1}};return Et&&(Dt.attributes.name=Et),G(vt)&&(Dt.attributes["aria-required"]=!0,Dt.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Dt]})}}class de extends t.XFAObject{constructor(X){super(b,"choiceList",!0),this.commitOn=(0,e.getStringOption)(X.commitOn,["select","exit"]),this.id=X.id||"",this.open=(0,e.getStringOption)(X.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,e.getInteger)({data:X.textEntry,defaultValue:0,validate:me=>me===1}),this.use=X.use||"",this.usehref=X.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](X){const me=(0,s.toStyle)(this,"border","margin"),Qe=this[t.$getParent]()[t.$getParent](),Et={fontSize:`calc(${Qe.font&&Qe.font.size||10}px * var(--scale-factor))`},vt=[];if(Qe.items.children.length>0){const Mt=Qe.items;let jt=0,Yt=0;Mt.children.length===2&&(jt=Mt.children[0].save,Yt=1-jt);const Gt=Mt.children[jt][t.$toHTML]().html,Zt=Mt.children[Yt][t.$toHTML]().html;let Qt=!1;const Dt=Qe.value&&Qe.value[t.$text]()||"";for(let en=0,Lt=Gt.length;en<Lt;en++){const $t={name:"option",attributes:{value:Zt[en]||Gt[en],style:Et},value:Gt[en]};Zt[en]===Dt&&($t.attributes.selected=Qt=!0),vt.push($t)}Qt||vt.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const Tt={class:["xfaSelect"],fieldId:Qe[t.$uid],dataId:Qe[t.$data]&&Qe[t.$data][t.$uid]||Qe[t.$uid],style:me,"aria-label":U(Qe),"aria-required":!1};return G(Qe)&&(Tt["aria-required"]=!0,Tt.required=!0),this.open==="multiSelect"&&(Tt.multiple=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:vt,attributes:Tt}]})}}class pe extends t.XFAObject{constructor(X){super(b,"color",!0),this.cSpace=(0,e.getStringOption)(X.cSpace,["SRGB"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.value=X.value?(0,e.getColor)(X.value):"",this.extras=null}[t.$hasSettableValue](){return!1}[t.$toStyle](){return this.value?u.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class fe extends t.XFAObject{constructor(X){super(b,"comb"),this.id=X.id||"",this.numberOfCells=(0,e.getInteger)({data:X.numberOfCells,defaultValue:0,validate:me=>me>=0}),this.use=X.use||"",this.usehref=X.usehref||""}}class be extends t.XFAObject{constructor(X){super(b,"connect",!0),this.connection=X.connection||"",this.id=X.id||"",this.ref=X.ref||"",this.usage=(0,e.getStringOption)(X.usage,["exportAndImport","exportOnly","importOnly"]),this.use=X.use||"",this.usehref=X.usehref||"",this.picture=null}}class ge extends t.XFAObject{constructor(X){super(b,"contentArea",!0),this.h=(0,e.getMeasurement)(X.h),this.id=X.id||"",this.name=X.name||"",this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.w=(0,e.getMeasurement)(X.w),this.x=(0,e.getMeasurement)(X.x,"0pt"),this.y=(0,e.getMeasurement)(X.y,"0pt"),this.desc=null,this.extras=null}[t.$toHTML](X){const me=(0,s.measureToString)(this.x),Ve=(0,s.measureToString)(this.y),Qe={left:me,top:Ve,width:(0,s.measureToString)(this.w),height:(0,s.measureToString)(this.h)},lt=["xfaContentarea"];return(0,s.isPrintOnly)(this)&&lt.push("xfaPrintOnly"),e.HTMLResult.success({name:"div",children:[],attributes:{style:Qe,class:lt,id:this[t.$uid]}})}}class Se extends t.XFAObject{constructor(X){super(b,"corner",!0),this.id=X.id||"",this.inverted=(0,e.getInteger)({data:X.inverted,defaultValue:0,validate:me=>me===1}),this.join=(0,e.getStringOption)(X.join,["square","round"]),this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,e.getMeasurement)(X.radius),this.stroke=(0,e.getStringOption)(X.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(X.thickness,"0.5pt"),this.use=X.use||"",this.usehref=X.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const X=(0,s.toStyle)(this,"visibility");return X.radius=(0,s.measureToString)(this.join==="square"?0:this.radius),X}}class ve extends t.ContentObject{constructor(X){super(b,"date"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){const X=this[t.$content].trim();this[t.$content]=X?new Date(X):null}[t.$toHTML](X){return P(this[t.$content]?this[t.$content].toString():"")}}class we extends t.ContentObject{constructor(X){super(b,"dateTime"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){const X=this[t.$content].trim();this[t.$content]=X?new Date(X):null}[t.$toHTML](X){return P(this[t.$content]?this[t.$content].toString():"")}}class Fe extends t.XFAObject{constructor(X){super(b,"dateTimeEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(X.hScrollPolicy,["auto","off","on"]),this.id=X.id||"",this.picker=(0,e.getStringOption)(X.picker,["host","none"]),this.use=X.use||"",this.usehref=X.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](X){const me=(0,s.toStyle)(this,"border","font","margin"),Ve=this[t.$getParent]()[t.$getParent](),Qe={name:"input",attributes:{type:"text",fieldId:Ve[t.$uid],dataId:Ve[t.$data]&&Ve[t.$data][t.$uid]||Ve[t.$uid],class:["xfaTextfield"],style:me,"aria-label":U(Ve),"aria-required":!1}};return G(Ve)&&(Qe.attributes["aria-required"]=!0,Qe.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Qe]})}}class Ce extends t.ContentObject{constructor(X){super(b,"decimal"),this.fracDigits=(0,e.getInteger)({data:X.fracDigits,defaultValue:2,validate:me=>!0}),this.id=X.id||"",this.leadDigits=(0,e.getInteger)({data:X.leadDigits,defaultValue:-1,validate:me=>!0}),this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){const X=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(X)?null:X}[t.$toHTML](X){return P(this[t.$content]!==null?this[t.$content].toString():"")}}class ye extends t.XFAObject{constructor(X){super(b,"defaultUi",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null}}class ke extends t.XFAObject{constructor(X){super(b,"desc",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class De extends t.OptionObject{constructor(X){super(b,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||""}}class Ie extends t.XFAObject{constructor(X){super(b,"digestMethods",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.digestMethod=new t.XFAObjectArray}}class Me extends t.XFAObject{constructor(X){super(b,"draw",!0),this.anchorType=(0,e.getStringOption)(X.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:X.colSpan,defaultValue:1,validate:me=>me>=1||me===-1}),this.h=X.h?(0,e.getMeasurement)(X.h):"",this.hAlign=(0,e.getStringOption)(X.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=X.id||"",this.locale=X.locale||"",this.maxH=(0,e.getMeasurement)(X.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(X.maxW,"0pt"),this.minH=(0,e.getMeasurement)(X.minH,"0pt"),this.minW=(0,e.getMeasurement)(X.minW,"0pt"),this.name=X.name||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(X.relevant),this.rotate=(0,e.getInteger)({data:X.rotate,defaultValue:0,validate:me=>me%90===0}),this.use=X.use||"",this.usehref=X.usehref||"",this.w=X.w?(0,e.getMeasurement)(X.w):"",this.x=(0,e.getMeasurement)(X.x,"0pt"),this.y=(0,e.getMeasurement)(X.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[t.$setValue](X){te(this,X)}[t.$toHTML](X){if(R(this),this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;(0,s.fixDimensions)(this),this[t.$pushPara]();const me=this.w,Ve=this.h,{w:Qe,h:lt,isBroken:Et}=(0,s.layoutNode)(this,X);if(Qe&&this.w===""){if(Et&&this[t.$getSubformParent]()[t.$isThereMoreWidth]())return this[t.$popPara](),e.HTMLResult.FAILURE;this.w=Qe}if(lt&&this.h===""&&(this.h=lt),A(this),!(0,c.checkDimensions)(this,X))return this.w=me,this.h=Ve,this[t.$popPara](),e.HTMLResult.FAILURE;z(this);const vt=(0,s.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,s.setMinMaxDimensions)(this,vt),vt.margin&&(vt.padding=vt.margin,delete vt.margin);const Tt=["xfaDraw"];this.font&&Tt.push("xfaFont"),(0,s.isPrintOnly)(this)&&Tt.push("xfaPrintOnly");const Mt={style:vt,id:this[t.$uid],class:Tt};this.name&&(Mt.xfaName=this.name);const jt={name:"div",attributes:Mt,children:[]};I(this,Mt);const Yt=(0,s.computeBbox)(this,jt,X),Gt=this.value?this.value[t.$toHTML](X).html:null;return Gt===null?(this.w=me,this.h=Ve,this[t.$popPara](),e.HTMLResult.success((0,s.createWrapper)(this,jt),Yt)):(jt.children.push(Gt),(0,s.setPara)(this,vt,Gt),this.w=me,this.h=Ve,this[t.$popPara](),e.HTMLResult.success((0,s.createWrapper)(this,jt),Yt))}}class Ne extends t.XFAObject{constructor(X){super(b,"edge",!0),this.cap=(0,e.getStringOption)(X.cap,["square","butt","round"]),this.id=X.id||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,e.getStringOption)(X.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(X.thickness,"0.5pt"),this.use=X.use||"",this.usehref=X.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const X=(0,s.toStyle)(this,"visibility");if(Object.assign(X,{linecap:this.cap,width:(0,s.measureToString)(this.thickness),color:this.color?this.color[t.$toStyle]():"#000000",style:""}),this.presence!=="visible")X.style="none";else switch(this.stroke){case"solid":X.style="solid";break;case"dashDot":X.style="dashed";break;case"dashDotDot":X.style="dashed";break;case"dashed":X.style="dashed";break;case"dotted":X.style="dotted";break;case"embossed":X.style="ridge";break;case"etched":X.style="groove";break;case"lowered":X.style="inset";break;case"raised":X.style="outset";break}return X}}class Re extends t.OptionObject{constructor(X){super(b,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||""}}class Oe extends t.XFAObject{constructor(X){super(b,"encodings",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.encoding=new t.XFAObjectArray}}class Le extends t.XFAObject{constructor(X){super(b,"encrypt",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.certificate=null}}class Pe extends t.XFAObject{constructor(X){super(b,"encryptData",!0),this.id=X.id||"",this.operation=(0,e.getStringOption)(X.operation,["encrypt","decrypt"]),this.target=X.target||"",this.use=X.use||"",this.usehref=X.usehref||"",this.filter=null,this.manifest=null}}class $e extends t.XFAObject{constructor(X){super(b,"encryption",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.certificate=new t.XFAObjectArray}}class je extends t.OptionObject{constructor(X){super(b,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||""}}class Te extends t.XFAObject{constructor(X){super(b,"encryptionMethods",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class Ae extends t.XFAObject{constructor(X){super(b,"event",!0),this.activity=(0,e.getStringOption)(X.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=X.id||"",this.listen=(0,e.getStringOption)(X.listen,["refOnly","refAndDescendents"]),this.name=X.name||"",this.ref=X.ref||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Ee extends t.ContentObject{constructor(X){super(b,"exData"),this.contentType=X.contentType||"",this.href=X.href||"",this.id=X.id||"",this.maxLength=(0,e.getInteger)({data:X.maxLength,defaultValue:-1,validate:me=>me>=-1}),this.name=X.name||"",this.rid=X.rid||"",this.transferEncoding=(0,e.getStringOption)(X.transferEncoding,["none","base64","package"]),this.use=X.use||"",this.usehref=X.usehref||""}[t.$isCDATAXml](){return this.contentType==="text/html"}[t.$onChild](X){return this.contentType==="text/html"&&X[t.$namespaceId]===i.NamespaceIds.xhtml.id?(this[t.$content]=X,!0):this.contentType==="text/xml"?(this[t.$content]=X,!0):!1}[t.$toHTML](X){return this.contentType!=="text/html"||!this[t.$content]?e.HTMLResult.EMPTY:this[t.$content][t.$toHTML](X)}}class Be extends t.XFAObject{constructor(X){super(b,"exObject",!0),this.archive=X.archive||"",this.classId=X.classId||"",this.codeBase=X.codeBase||"",this.codeType=X.codeType||"",this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class ze extends t.XFAObject{constructor(X){super(b,"exclGroup",!0),this.access=(0,e.getStringOption)(X.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=X.accessKey||"",this.anchorType=(0,e.getStringOption)(X.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:X.colSpan,defaultValue:1,validate:me=>me>=1||me===-1}),this.h=X.h?(0,e.getMeasurement)(X.h):"",this.hAlign=(0,e.getStringOption)(X.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=X.id||"",this.layout=(0,e.getStringOption)(X.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,e.getMeasurement)(X.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(X.maxW,"0pt"),this.minH=(0,e.getMeasurement)(X.minH,"0pt"),this.minW=(0,e.getMeasurement)(X.minW,"0pt"),this.name=X.name||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.w=X.w?(0,e.getMeasurement)(X.w):"",this.x=(0,e.getMeasurement)(X.x,"0pt"),this.y=(0,e.getMeasurement)(X.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$isBindable](){return!0}[t.$hasSettableValue](){return!0}[t.$setValue](X){for(const me of this.field.children){if(!me.value){const Ve=new Pn({});me[t.$appendChild](Ve),me.value=Ve}me.value[t.$setValue](X)}}[t.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine>0||this[t.$getParent]()[t.$isThereMoreWidth]()}[t.$isSplittable](){const X=this[t.$getSubformParent]();return X[t.$isSplittable]()?this[t.$extra]._isSplittable!==void 0?this[t.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[t.$extra]._isSplittable=!1,!1):X.layout&&X.layout.endsWith("-tb")&&X[t.$extra].numberInLine!==0?!1:(this[t.$extra]._isSplittable=!0,!0):!1}[t.$flushHTML](){return(0,c.flushHTML)(this)}[t.$addHTML](X,me){(0,c.addHTML)(this,X,me)}[t.$getAvailableSpace](){return(0,c.getAvailableSpace)(this)}[t.$toHTML](X){if(R(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;(0,s.fixDimensions)(this);const me=[],Ve={id:this[t.$uid],class:[]};(0,s.setAccess)(this,Ve.class),this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:me,attributes:Ve,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,X.width),height:Math.min(this.h||1/0,X.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Qe=this[t.$isSplittable]();if(Qe||A(this),!(0,c.checkDimensions)(this,X))return e.HTMLResult.FAILURE;const lt=new Set(["field"]);if(this.layout.includes("row")){const Lt=this[t.$getSubformParent]().columnWidths;Array.isArray(Lt)&&Lt.length>0&&(this[t.$extra].columnWidths=Lt,this[t.$extra].currentColumn=0)}const Et=(0,s.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),vt=["xfaExclgroup"],Tt=(0,s.layoutClass)(this);Tt&&vt.push(Tt),(0,s.isPrintOnly)(this)&&vt.push("xfaPrintOnly"),Ve.style=Et,Ve.class=vt,this.name&&(Ve.xfaName=this.name),this[t.$pushPara]();const Mt=this.layout==="lr-tb"||this.layout==="rl-tb",jt=Mt?o:1;for(;this[t.$extra].attempt<jt;this[t.$extra].attempt++){Mt&&this[t.$extra].attempt===o-1&&(this[t.$extra].numberInLine=0);const Lt=this[t.$childrenToHTML]({filter:lt,include:!0});if(Lt.success)break;if(Lt.isBreak())return this[t.$popPara](),Lt;if(Mt&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine===0&&!this[t.$getTemplateRoot]()[t.$extra].noLayoutFailure){this[t.$extra].attempt=jt;break}}if(this[t.$popPara](),Qe||z(this),this[t.$extra].attempt===jt)return Qe||delete this[t.$extra],e.HTMLResult.FAILURE;let Yt=0,Gt=0;this.margin&&(Yt=this.margin.leftInset+this.margin.rightInset,Gt=this.margin.topInset+this.margin.bottomInset);const Zt=Math.max(this[t.$extra].width+Yt,this.w||0),Qt=Math.max(this[t.$extra].height+Gt,this.h||0),Dt=[this.x,this.y,Zt,Qt];this.w===""&&(Et.width=(0,s.measureToString)(Zt)),this.h===""&&(Et.height=(0,s.measureToString)(Qt));const en={name:"div",attributes:Ve,children:me};return I(this,Ve),delete this[t.$extra],e.HTMLResult.success((0,s.createWrapper)(this,en),Dt)}}class We extends t.XFAObject{constructor(X){super(b,"execute"),this.connection=X.connection||"",this.executeType=(0,e.getStringOption)(X.executeType,["import","remerge"]),this.id=X.id||"",this.runAt=(0,e.getStringOption)(X.runAt,["client","both","server"]),this.use=X.use||"",this.usehref=X.usehref||""}}class tt extends t.XFAObject{constructor(X){super(b,"extras",!0),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ze extends t.XFAObject{constructor(X){super(b,"field",!0),this.access=(0,e.getStringOption)(X.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=X.accessKey||"",this.anchorType=(0,e.getStringOption)(X.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:X.colSpan,defaultValue:1,validate:me=>me>=1||me===-1}),this.h=X.h?(0,e.getMeasurement)(X.h):"",this.hAlign=(0,e.getStringOption)(X.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=X.id||"",this.locale=X.locale||"",this.maxH=(0,e.getMeasurement)(X.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(X.maxW,"0pt"),this.minH=(0,e.getMeasurement)(X.minH,"0pt"),this.minW=(0,e.getMeasurement)(X.minW,"0pt"),this.name=X.name||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(X.relevant),this.rotate=(0,e.getInteger)({data:X.rotate,defaultValue:0,validate:me=>me%90===0}),this.use=X.use||"",this.usehref=X.usehref||"",this.w=X.w?(0,e.getMeasurement)(X.w):"",this.x=(0,e.getMeasurement)(X.x,"0pt"),this.y=(0,e.getMeasurement)(X.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$isBindable](){return!0}[t.$setValue](X){te(this,X)}[t.$toHTML](X){if(R(this),!this.ui){this.ui=new Sn({}),this.ui[t.$globalData]=this[t.$globalData],this[t.$appendChild](this.ui);let Lt;switch(this.items.children.length){case 0:Lt=new hn({}),this.ui.textEdit=Lt;break;case 1:Lt=new he({}),this.ui.checkButton=Lt;break;case 2:Lt=new de({}),this.ui.choiceList=Lt;break}this.ui[t.$appendChild](Lt)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;this.caption&&delete this.caption[t.$extra],this[t.$pushPara]();const me=this.caption?this.caption[t.$toHTML](X).html:null,Ve=this.w,Qe=this.h;let lt=0,Et=0;this.margin&&(lt=this.margin.leftInset+this.margin.rightInset,Et=this.margin.topInset+this.margin.bottomInset);let vt=null;if(this.w===""||this.h===""){let Lt=null,$t=null,an=0,Bt=0;if(this.ui.checkButton)an=Bt=this.ui.checkButton.size;else{const{w:mn,h:ln}=(0,s.layoutNode)(this,X);mn!==null?(an=mn,Bt=ln):Bt=(0,m.getMetrics)(this.font,!0).lineNoGap}if(vt=O(this.ui[t.$getExtra]()),an+=vt.w,Bt+=vt.h,this.caption){const{w:mn,h:ln,isBroken:sn}=this.caption[t.$getExtra](X);if(sn&&this[t.$getSubformParent]()[t.$isThereMoreWidth]())return this[t.$popPara](),e.HTMLResult.FAILURE;switch(Lt=mn,$t=ln,this.caption.placement){case"left":case"right":case"inline":Lt+=an;break;case"top":case"bottom":$t+=Bt;break}}else Lt=an,$t=Bt;Lt&&this.w===""&&(Lt+=lt,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Lt?Lt:this.minW)),$t&&this.h===""&&($t+=Et,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<$t?$t:this.minH))}if(this[t.$popPara](),(0,s.fixDimensions)(this),A(this),!(0,c.checkDimensions)(this,X))return this.w=Ve,this.h=Qe,this[t.$popPara](),e.HTMLResult.FAILURE;z(this);const Tt=(0,s.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,s.setMinMaxDimensions)(this,Tt);const Mt=["xfaField"];this.font&&Mt.push("xfaFont"),(0,s.isPrintOnly)(this)&&Mt.push("xfaPrintOnly");const jt={style:Tt,id:this[t.$uid],class:Mt};Tt.margin&&(Tt.padding=Tt.margin,delete Tt.margin),(0,s.setAccess)(this,Mt),this.name&&(jt.xfaName=this.name);const Yt=[],Gt={name:"div",attributes:jt,children:Yt};I(this,jt);const Zt=this.border?this.border[t.$toStyle]():null,Qt=(0,s.computeBbox)(this,Gt,X),Dt=this.ui[t.$toHTML]().html;if(!Dt)return Object.assign(Tt,Zt),e.HTMLResult.success((0,s.createWrapper)(this,Gt),Qt);this[t.$tabIndex]&&(Dt.children&&Dt.children[0]?Dt.children[0].attributes.tabindex=this[t.$tabIndex]:Dt.attributes.tabindex=this[t.$tabIndex]),Dt.attributes.style||(Dt.attributes.style=Object.create(null));let en=null;if(this.ui.button?(Dt.children.length===1&&([en]=Dt.children.splice(0,1)),Object.assign(Dt.attributes.style,Zt)):Object.assign(Tt,Zt),Yt.push(Dt),this.value){if(this.ui.imageEdit)Dt.children.push(this.value[t.$toHTML]().html);else if(!this.ui.button){let Lt="";if(this.value.exData)Lt=this.value.exData[t.$text]();else if(this.value.text)Lt=this.value.text[t.$getExtra]();else{const $t=this.value[t.$toHTML]().html;$t!==null&&(Lt=$t.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(Dt.children[0].attributes.maxLength=this.value.text.maxChars),Lt&&(this.ui.numericEdit&&(Lt=parseFloat(Lt),Lt=isNaN(Lt)?"":Lt.toString()),Dt.children[0].name==="textarea"?Dt.children[0].attributes.textContent=Lt:Dt.children[0].attributes.value=Lt)}}if(!this.ui.imageEdit&&Dt.children&&Dt.children[0]&&this.h){vt=vt||O(this.ui[t.$getExtra]());let Lt=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Lt=this.caption.reserve,Lt<=0&&(Lt=this.caption[t.$getExtra](X).h);const $t=this.h-Lt-Et-vt.h;Dt.children[0].attributes.style.height=(0,s.measureToString)($t)}else Dt.children[0].attributes.style.height="100%"}if(en&&Dt.children.push(en),!me)return Dt.attributes.class&&Dt.attributes.class.push("xfaLeft"),this.w=Ve,this.h=Qe,e.HTMLResult.success((0,s.createWrapper)(this,Gt),Qt);if(this.ui.button)return Tt.padding&&delete Tt.padding,me.name==="div"&&(me.name="span"),Dt.children.push(me),e.HTMLResult.success(Gt,Qt);switch(this.ui.checkButton&&(me.attributes.class[0]="xfaCaptionForCheckButton"),Dt.attributes.class||(Dt.attributes.class=[]),Dt.children.splice(0,0,me),this.caption.placement){case"left":Dt.attributes.class.push("xfaLeft");break;case"right":Dt.attributes.class.push("xfaRight");break;case"top":Dt.attributes.class.push("xfaTop");break;case"bottom":Dt.attributes.class.push("xfaBottom");break;case"inline":Dt.attributes.class.push("xfaLeft");break}return this.w=Ve,this.h=Qe,e.HTMLResult.success((0,s.createWrapper)(this,Gt),Qt)}}l.Field=Ze;class Xe extends t.XFAObject{constructor(X){super(b,"fill",!0),this.id=X.id||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.use=X.use||"",this.usehref=X.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[t.$toStyle](){const X=this[t.$getParent](),Ve=X[t.$getParent]()[t.$getParent](),Qe=Object.create(null);let lt="color",Et=lt;X instanceof H&&(lt="background-color",Et="background",Ve instanceof Sn&&(Qe.backgroundColor="white")),(X instanceof gn||X instanceof Y)&&(lt=Et="fill",Qe.fill="white");for(const vt of Object.getOwnPropertyNames(this)){if(vt==="extras"||vt==="color")continue;const Tt=this[vt];if(!(Tt instanceof t.XFAObject))continue;const Mt=Tt[t.$toStyle](this.color);return Mt&&(Qe[Mt.startsWith("#")?lt:Et]=Mt),Qe}if(this.color&&this.color.value){const vt=this.color[t.$toStyle]();Qe[vt.startsWith("#")?lt:Et]=vt}return Qe}}class st extends t.XFAObject{constructor(X){super(b,"filter",!0),this.addRevocationInfo=(0,e.getStringOption)(X.addRevocationInfo,["","required","optional","none"]),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||"",this.version=(0,e.getInteger)({data:this.version,defaultValue:5,validate:me=>me>=1&&me<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class gt extends t.ContentObject{constructor(X){super(b,"float"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){const X=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(X)?null:X}[t.$toHTML](X){return P(this[t.$content]!==null?this[t.$content].toString():"")}}class Ge extends t.XFAObject{constructor(X){super(b,"font",!0),this.baselineShift=(0,e.getMeasurement)(X.baselineShift),this.fontHorizontalScale=(0,e.getFloat)({data:X.fontHorizontalScale,defaultValue:100,validate:me=>me>=0}),this.fontVerticalScale=(0,e.getFloat)({data:X.fontVerticalScale,defaultValue:100,validate:me=>me>=0}),this.id=X.id||"",this.kerningMode=(0,e.getStringOption)(X.kerningMode,["none","pair"]),this.letterSpacing=(0,e.getMeasurement)(X.letterSpacing,"0"),this.lineThrough=(0,e.getInteger)({data:X.lineThrough,defaultValue:0,validate:me=>me===1||me===2}),this.lineThroughPeriod=(0,e.getStringOption)(X.lineThroughPeriod,["all","word"]),this.overline=(0,e.getInteger)({data:X.overline,defaultValue:0,validate:me=>me===1||me===2}),this.overlinePeriod=(0,e.getStringOption)(X.overlinePeriod,["all","word"]),this.posture=(0,e.getStringOption)(X.posture,["normal","italic"]),this.size=(0,e.getMeasurement)(X.size,"10pt"),this.typeface=X.typeface||"Courier",this.underline=(0,e.getInteger)({data:X.underline,defaultValue:0,validate:me=>me===1||me===2}),this.underlinePeriod=(0,e.getStringOption)(X.underlinePeriod,["all","word"]),this.use=X.use||"",this.usehref=X.usehref||"",this.weight=(0,e.getStringOption)(X.weight,["normal","bold"]),this.extras=null,this.fill=null}[t.$clean](X){super[t.$clean](X),this[t.$globalData].usedTypefaces.add(this.typeface)}[t.$toStyle](){const X=(0,s.toStyle)(this,"fill"),me=X.color;return me&&(me==="#000000"?delete X.color:me.startsWith("#")||(X.background=me,X.backgroundClip="text",X.color="transparent")),this.baselineShift&&(X.verticalAlign=(0,s.measureToString)(this.baselineShift)),X.fontKerning=this.kerningMode==="none"?"none":"normal",X.letterSpacing=(0,s.measureToString)(this.letterSpacing),this.lineThrough!==0&&(X.textDecoration="line-through",this.lineThrough===2&&(X.textDecorationStyle="double")),this.overline!==0&&(X.textDecoration="overline",this.overline===2&&(X.textDecorationStyle="double")),X.fontStyle=this.posture,X.fontSize=(0,s.measureToString)(.99*this.size),(0,s.setFontFamily)(this,this,this[t.$globalData].fontFinder,X),this.underline!==0&&(X.textDecoration="underline",this.underline===2&&(X.textDecorationStyle="double")),X.fontWeight=this.weight,X}}class ht extends t.XFAObject{constructor(X){super(b,"format",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.picture=null}}class ct extends t.StringObject{constructor(X){super(b,"handler"),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||""}}class pt extends t.XFAObject{constructor(X){super(b,"hyphenation"),this.excludeAllCaps=(0,e.getInteger)({data:X.excludeAllCaps,defaultValue:0,validate:me=>me===1}),this.excludeInitialCap=(0,e.getInteger)({data:X.excludeInitialCap,defaultValue:0,validate:me=>me===1}),this.hyphenate=(0,e.getInteger)({data:X.hyphenate,defaultValue:0,validate:me=>me===1}),this.id=X.id||"",this.pushCharacterCount=(0,e.getInteger)({data:X.pushCharacterCount,defaultValue:3,validate:me=>me>=0}),this.remainCharacterCount=(0,e.getInteger)({data:X.remainCharacterCount,defaultValue:3,validate:me=>me>=0}),this.use=X.use||"",this.usehref=X.usehref||"",this.wordCharacterCount=(0,e.getInteger)({data:X.wordCharacterCount,defaultValue:7,validate:me=>me>=0})}}class Ct extends t.StringObject{constructor(X){super(b,"image"),this.aspect=(0,e.getStringOption)(X.aspect,["fit","actual","height","none","width"]),this.contentType=X.contentType||"",this.href=X.href||"",this.id=X.id||"",this.name=X.name||"",this.transferEncoding=(0,e.getStringOption)(X.transferEncoding,["base64","none","package"]),this.use=X.use||"",this.usehref=X.usehref||""}[t.$toHTML](){if(this.contentType&&!k.has(this.contentType.toLowerCase()))return e.HTMLResult.EMPTY;let X=this[t.$globalData].images&&this[t.$globalData].images.get(this.href);if(!X&&(this.href||!this[t.$content])||(!X&&this.transferEncoding==="base64"&&(X=(0,u.stringToBytes)(atob(this[t.$content]))),!X))return e.HTMLResult.EMPTY;if(!this.contentType){for(const[lt,Et]of M)if(X.length>lt.length&&lt.every((vt,Tt)=>vt===X[Tt])){this.contentType=Et;break}if(!this.contentType)return e.HTMLResult.EMPTY}const me=new Blob([X],{type:this.contentType});let Ve;switch(this.aspect){case"fit":case"actual":break;case"height":Ve={height:"100%",objectFit:"fill"};break;case"none":Ve={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Ve={width:"100%",objectFit:"fill"};break}const Qe=this[t.$getParent]();return e.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Ve,src:URL.createObjectURL(me),alt:Qe?U(Qe[t.$getParent]()):null}})}}class kt extends t.XFAObject{constructor(X){super(b,"imageEdit",!0),this.data=(0,e.getStringOption)(X.data,["link","embed"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](X){return this.data==="embed"?e.HTMLResult.success({name:"div",children:[],attributes:{}}):e.HTMLResult.EMPTY}}class mt extends t.ContentObject{constructor(X){super(b,"integer"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){const X=parseInt(this[t.$content].trim(),10);this[t.$content]=isNaN(X)?null:X}[t.$toHTML](X){return P(this[t.$content]!==null?this[t.$content].toString():"")}}class Wt extends t.XFAObject{constructor(X){super(b,"issuers",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.certificate=new t.XFAObjectArray}}class et extends t.XFAObject{constructor(X){super(b,"items",!0),this.id=X.id||"",this.name=X.name||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.ref=X.ref||"",this.save=(0,e.getInteger)({data:X.save,defaultValue:0,validate:me=>me===1}),this.use=X.use||"",this.usehref=X.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$toHTML](){const X=[];for(const me of this[t.$getChildren]())X.push(me[t.$text]());return e.HTMLResult.success(X)}}l.Items=et;class qe extends t.XFAObject{constructor(X){super(b,"keep",!0),this.id=X.id||"";const me=["none","contentArea","pageArea"];this.intact=(0,e.getStringOption)(X.intact,me),this.next=(0,e.getStringOption)(X.next,me),this.previous=(0,e.getStringOption)(X.previous,me),this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null}}class it extends t.XFAObject{constructor(X){super(b,"keyUsage");const me=["","yes","no"];this.crlSign=(0,e.getStringOption)(X.crlSign,me),this.dataEncipherment=(0,e.getStringOption)(X.dataEncipherment,me),this.decipherOnly=(0,e.getStringOption)(X.decipherOnly,me),this.digitalSignature=(0,e.getStringOption)(X.digitalSignature,me),this.encipherOnly=(0,e.getStringOption)(X.encipherOnly,me),this.id=X.id||"",this.keyAgreement=(0,e.getStringOption)(X.keyAgreement,me),this.keyCertSign=(0,e.getStringOption)(X.keyCertSign,me),this.keyEncipherment=(0,e.getStringOption)(X.keyEncipherment,me),this.nonRepudiation=(0,e.getStringOption)(X.nonRepudiation,me),this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||""}}class rt extends t.XFAObject{constructor(X){super(b,"line",!0),this.hand=(0,e.getStringOption)(X.hand,["even","left","right"]),this.id=X.id||"",this.slope=(0,e.getStringOption)(X.slope,["\\","/"]),this.use=X.use||"",this.usehref=X.usehref||"",this.edge=null}[t.$toHTML](){const X=this[t.$getParent]()[t.$getParent](),me=this.edge||new Ne({}),Ve=me[t.$toStyle](),Qe=Object.create(null),lt=me.presence==="visible"?me.thickness:0;Qe.strokeWidth=(0,s.measureToString)(lt),Qe.stroke=Ve.color;let Et,vt,Tt,Mt,jt="100%",Yt="100%";X.w<=lt?([Et,vt,Tt,Mt]=["50%",0,"50%","100%"],jt=Qe.strokeWidth):X.h<=lt?([Et,vt,Tt,Mt]=[0,"50%","100%","50%"],Yt=Qe.strokeWidth):this.slope==="\\"?[Et,vt,Tt,Mt]=[0,0,"100%","100%"]:[Et,vt,Tt,Mt]=[0,"100%","100%",0];const Zt={name:"svg",children:[{name:"line",attributes:{xmlns:v,x1:Et,y1:vt,x2:Tt,y2:Mt,style:Qe}}],attributes:{xmlns:v,width:jt,height:Yt,style:{overflow:"visible"}}};return L(X)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Zt]}):(Zt.attributes.style.position="absolute",e.HTMLResult.success(Zt))}}class ft extends t.XFAObject{constructor(X){super(b,"linear",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["toRight","toBottom","toLeft","toTop"]),this.use=X.use||"",this.usehref=X.usehref||"",this.color=null,this.extras=null}[t.$toStyle](X){X=X?X[t.$toStyle]():"#FFFFFF";const me=this.type.replace(/([RBLT])/," $1").toLowerCase(),Ve=this.color?this.color[t.$toStyle]():"#000000";return`linear-gradient(${me}, ${X}, ${Ve})`}}class xt extends t.ContentObject{constructor(X){super(b,"lockDocument"),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){this[t.$content]=(0,e.getStringOption)(this[t.$content],["auto","0","1"])}}class St extends t.XFAObject{constructor(X){super(b,"manifest",!0),this.action=(0,e.getStringOption)(X.action,["include","all","exclude"]),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class ot extends t.XFAObject{constructor(X){super(b,"margin",!0),this.bottomInset=(0,e.getMeasurement)(X.bottomInset,"0"),this.id=X.id||"",this.leftInset=(0,e.getMeasurement)(X.leftInset,"0"),this.rightInset=(0,e.getMeasurement)(X.rightInset,"0"),this.topInset=(0,e.getMeasurement)(X.topInset,"0"),this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null}[t.$toStyle](){return{margin:(0,s.measureToString)(this.topInset)+" "+(0,s.measureToString)(this.rightInset)+" "+(0,s.measureToString)(this.bottomInset)+" "+(0,s.measureToString)(this.leftInset)}}}class wt extends t.XFAObject{constructor(X){super(b,"mdp"),this.id=X.id||"",this.permissions=(0,e.getInteger)({data:X.permissions,defaultValue:2,validate:me=>me===1||me===3}),this.signatureType=(0,e.getStringOption)(X.signatureType,["filler","author"]),this.use=X.use||"",this.usehref=X.usehref||""}}class yt extends t.XFAObject{constructor(X){super(b,"medium"),this.id=X.id||"",this.imagingBBox=(0,e.getBBox)(X.imagingBBox),this.long=(0,e.getMeasurement)(X.long),this.orientation=(0,e.getStringOption)(X.orientation,["portrait","landscape"]),this.short=(0,e.getMeasurement)(X.short),this.stock=X.stock||"",this.trayIn=(0,e.getStringOption)(X.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,e.getStringOption)(X.trayOut,["auto","delegate"]),this.use=X.use||"",this.usehref=X.usehref||""}}class It extends t.XFAObject{constructor(X){super(b,"message",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.text=new t.XFAObjectArray}}class Ft extends t.XFAObject{constructor(X){super(b,"numericEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(X.hScrollPolicy,["auto","off","on"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](X){const me=(0,s.toStyle)(this,"border","font","margin"),Ve=this[t.$getParent]()[t.$getParent](),Qe={name:"input",attributes:{type:"text",fieldId:Ve[t.$uid],dataId:Ve[t.$data]&&Ve[t.$data][t.$uid]||Ve[t.$uid],class:["xfaTextfield"],style:me,"aria-label":U(Ve),"aria-required":!1}};return G(Ve)&&(Qe.attributes["aria-required"]=!0,Qe.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Qe]})}}class At extends t.XFAObject{constructor(X){super(b,"occur",!0),this.id=X.id||"",this.initial=X.initial!==""?(0,e.getInteger)({data:X.initial,defaultValue:"",validate:me=>!0}):"",this.max=X.max!==""?(0,e.getInteger)({data:X.max,defaultValue:1,validate:me=>!0}):"",this.min=X.min!==""?(0,e.getInteger)({data:X.min,defaultValue:1,validate:me=>!0}):"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null}[t.$clean](){const X=this[t.$getParent](),me=this.min;this.min===""&&(this.min=X instanceof nt||X instanceof dt?0:1),this.max===""&&(me===""?this.max=X instanceof nt||X instanceof dt?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=X instanceof Bn?1:this.min)}}class Ue extends t.StringObject{constructor(X){super(b,"oid"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}}class Ye extends t.XFAObject{constructor(X){super(b,"oids",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.oid=new t.XFAObjectArray}}class at extends t.XFAObject{constructor(X){super(b,"overflow"),this.id=X.id||"",this.leader=X.leader||"",this.target=X.target||"",this.trailer=X.trailer||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$getExtra](){if(!this[t.$extra]){const X=this[t.$getParent](),me=this[t.$getTemplateRoot](),Ve=me[t.$searchNode](this.target,X),Qe=me[t.$searchNode](this.leader,X),lt=me[t.$searchNode](this.trailer,X);this[t.$extra]={target:Ve&&Ve[0]||null,leader:Qe&&Qe[0]||null,trailer:lt&&lt[0]||null,addLeader:!1,addTrailer:!1}}return this[t.$extra]}}class nt extends t.XFAObject{constructor(X){super(b,"pageArea",!0),this.blankOrNotBlank=(0,e.getStringOption)(X.blankOrNotBlank,["any","blank","notBlank"]),this.id=X.id||"",this.initialNumber=(0,e.getInteger)({data:X.initialNumber,defaultValue:1,validate:me=>!0}),this.name=X.name||"",this.numbered=(0,e.getInteger)({data:X.numbered,defaultValue:1,validate:me=>!0}),this.oddOrEven=(0,e.getStringOption)(X.oddOrEven,["any","even","odd"]),this.pagePosition=(0,e.getStringOption)(X.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[t.$isUsable](){return this[t.$extra]?!this.occur||this.occur.max===-1||this[t.$extra].numberOfUse<this.occur.max:(this[t.$extra]={numberOfUse:0},!0)}[t.$cleanPage](){delete this[t.$extra]}[t.$getNextPage](){this[t.$extra]||(this[t.$extra]={numberOfUse:0});const X=this[t.$getParent]();return X.relation==="orderedOccurrence"&&this[t.$isUsable]()?(this[t.$extra].numberOfUse+=1,this):X[t.$getNextPage]()}[t.$getAvailableSpace](){return this[t.$extra].space||{width:0,height:0}}[t.$toHTML](){this[t.$extra]||(this[t.$extra]={numberOfUse:1});const X=[];this[t.$extra].children=X;const me=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(me.width=(0,s.measureToString)(this.medium.short),me.height=(0,s.measureToString)(this.medium.long),this[t.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Ve=me.width;me.width=me.height,me.height=Ve,this[t.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,u.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[t.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[t.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),e.HTMLResult.success({name:"div",children:X,attributes:{class:["xfaPage"],id:this[t.$uid],style:me,xfaName:this.name}})}}class dt extends t.XFAObject{constructor(X){super(b,"pageSet",!0),this.duplexImposition=(0,e.getStringOption)(X.duplexImposition,["longEdge","shortEdge"]),this.id=X.id||"",this.name=X.name||"",this.relation=(0,e.getStringOption)(X.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[t.$cleanPage](){for(const X of this.pageArea.children)X[t.$cleanPage]();for(const X of this.pageSet.children)X[t.$cleanPage]()}[t.$isUsable](){return!this.occur||this.occur.max===-1||this[t.$extra].numberOfUse<this.occur.max}[t.$getNextPage](){if(this[t.$extra]||(this[t.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[t.$extra].pageIndex+1<this.pageArea.children.length)return this[t.$extra].pageIndex+=1,this.pageArea.children[this[t.$extra].pageIndex][t.$getNextPage]();if(this[t.$extra].pageSetIndex+1<this.pageSet.children.length)return this[t.$extra].pageSetIndex+=1,this.pageSet.children[this[t.$extra].pageSetIndex][t.$getNextPage]();if(this[t.$isUsable]())return this[t.$extra].numberOfUse+=1,this[t.$extra].pageIndex=-1,this[t.$extra].pageSetIndex=-1,this[t.$getNextPage]();const lt=this[t.$getParent]();return lt instanceof dt?lt[t.$getNextPage]():(this[t.$cleanPage](),this[t.$getNextPage]())}const X=this[t.$getTemplateRoot]()[t.$extra].pageNumber,me=X%2===0?"even":"odd",Ve=X===0?"first":"rest";let Qe=this.pageArea.children.find(lt=>lt.oddOrEven===me&&lt.pagePosition===Ve);return Qe||(Qe=this.pageArea.children.find(lt=>lt.oddOrEven==="any"&&lt.pagePosition===Ve),Qe)||(Qe=this.pageArea.children.find(lt=>lt.oddOrEven==="any"&&lt.pagePosition==="any"),Qe)?Qe:this.pageArea.children[0]}}class Pt extends t.XFAObject{constructor(X){super(b,"para",!0),this.hAlign=(0,e.getStringOption)(X.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=X.id||"",this.lineHeight=X.lineHeight?(0,e.getMeasurement)(X.lineHeight,"0pt"):"",this.marginLeft=X.marginLeft?(0,e.getMeasurement)(X.marginLeft,"0pt"):"",this.marginRight=X.marginRight?(0,e.getMeasurement)(X.marginRight,"0pt"):"",this.orphans=(0,e.getInteger)({data:X.orphans,defaultValue:0,validate:me=>me>=0}),this.preserve=X.preserve||"",this.radixOffset=X.radixOffset?(0,e.getMeasurement)(X.radixOffset,"0pt"):"",this.spaceAbove=X.spaceAbove?(0,e.getMeasurement)(X.spaceAbove,"0pt"):"",this.spaceBelow=X.spaceBelow?(0,e.getMeasurement)(X.spaceBelow,"0pt"):"",this.tabDefault=X.tabDefault?(0,e.getMeasurement)(this.tabDefault):"",this.tabStops=(X.tabStops||"").trim().split(/\s+/).map((me,Ve)=>Ve%2===1?(0,e.getMeasurement)(me):me),this.textIndent=X.textIndent?(0,e.getMeasurement)(X.textIndent,"0pt"):"",this.use=X.use||"",this.usehref=X.usehref||"",this.vAlign=(0,e.getStringOption)(X.vAlign,["top","bottom","middle"]),this.widows=(0,e.getInteger)({data:X.widows,defaultValue:0,validate:me=>me>=0}),this.hyphenation=null}[t.$toStyle](){const X=(0,s.toStyle)(this,"hAlign");return this.marginLeft!==""&&(X.paddingLeft=(0,s.measureToString)(this.marginLeft)),this.marginRight!==""&&(X.paddingight=(0,s.measureToString)(this.marginRight)),this.spaceAbove!==""&&(X.paddingTop=(0,s.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(X.paddingBottom=(0,s.measureToString)(this.spaceBelow)),this.textIndent!==""&&(X.textIndent=(0,s.measureToString)(this.textIndent),(0,s.fixTextIndent)(X)),this.lineHeight>0&&(X.lineHeight=(0,s.measureToString)(this.lineHeight)),this.tabDefault!==""&&(X.tabSize=(0,s.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(X,this.hyphenatation[t.$toStyle]()),X}}class zt extends t.XFAObject{constructor(X){super(b,"passwordEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(X.hScrollPolicy,["auto","off","on"]),this.id=X.id||"",this.passwordChar=X.passwordChar||"*",this.use=X.use||"",this.usehref=X.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Ot extends t.XFAObject{constructor(X){super(b,"pattern",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=X.use||"",this.usehref=X.usehref||"",this.color=null,this.extras=null}[t.$toStyle](X){X=X?X[t.$toStyle]():"#FFFFFF";const me=this.color?this.color[t.$toStyle]():"#000000",Ve=5,Qe="repeating-linear-gradient",lt=`${X},${X} ${Ve}px,${me} ${Ve}px,${me} ${2*Ve}px`;switch(this.type){case"crossHatch":return`${Qe}(to top,${lt}) ${Qe}(to right,${lt})`;case"crossDiagonal":return`${Qe}(45deg,${lt}) ${Qe}(-45deg,${lt})`;case"diagonalLeft":return`${Qe}(45deg,${lt})`;case"diagonalRight":return`${Qe}(-45deg,${lt})`;case"horizontal":return`${Qe}(to top,${lt})`;case"vertical":return`${Qe}(to right,${lt})`}return""}}class Rt extends t.StringObject{constructor(X){super(b,"picture"),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||""}}class Ht extends t.XFAObject{constructor(X){super(b,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class qt extends t.XFAObject{constructor(X){super(b,"radial",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["toEdge","toCenter"]),this.use=X.use||"",this.usehref=X.usehref||"",this.color=null,this.extras=null}[t.$toStyle](X){X=X?X[t.$toStyle]():"#FFFFFF";const me=this.color?this.color[t.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${X},${me}`:`${me},${X}`})`}}class cn extends t.StringObject{constructor(X){super(b,"reason"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}}class En extends t.XFAObject{constructor(X){super(b,"reasons",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.reason=new t.XFAObjectArray}}class gn extends t.XFAObject{constructor(X){super(b,"rectangle",!0),this.hand=(0,e.getStringOption)(X.hand,["even","left","right"]),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[t.$toHTML](){const X=this.edge.children.length?this.edge.children[0]:new Ne({}),me=X[t.$toStyle](),Ve=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Ve,this.fill[t.$toStyle]()):Ve.fill="transparent",Ve.strokeWidth=(0,s.measureToString)(X.presence==="visible"?X.thickness:0),Ve.stroke=me.color;const lt=(this.corner.children.length?this.corner.children[0]:new Se({}))[t.$toStyle](),vt={name:"svg",children:[{name:"rect",attributes:{xmlns:v,width:"100%",height:"100%",x:0,y:0,rx:lt.radius,ry:lt.radius,style:Ve}}],attributes:{xmlns:v,style:{overflow:"visible"},width:"100%",height:"100%"}},Tt=this[t.$getParent]()[t.$getParent]();return L(Tt)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[vt]}):(vt.attributes.style.position="absolute",e.HTMLResult.success(vt))}}class Tn extends t.StringObject{constructor(X){super(b,"ref"),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||""}}class kn extends t.StringObject{constructor(X){super(b,"script"),this.binding=X.binding||"",this.contentType=X.contentType||"",this.id=X.id||"",this.name=X.name||"",this.runAt=(0,e.getStringOption)(X.runAt,["client","both","server"]),this.use=X.use||"",this.usehref=X.usehref||""}}class zn extends t.XFAObject{constructor(X){super(b,"setProperty"),this.connection=X.connection||"",this.ref=X.ref||"",this.target=X.target||""}}l.SetProperty=zn;class er extends t.XFAObject{constructor(X){super(b,"signData",!0),this.id=X.id||"",this.operation=(0,e.getStringOption)(X.operation,["sign","clear","verify"]),this.ref=X.ref||"",this.target=X.target||"",this.use=X.use||"",this.usehref=X.usehref||"",this.filter=null,this.manifest=null}}class tr extends t.XFAObject{constructor(X){super(b,"signature",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["PDF1.3","PDF1.6"]),this.use=X.use||"",this.usehref=X.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class nr extends t.XFAObject{constructor(X){super(b,"signing",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.certificate=new t.XFAObjectArray}}class rr extends t.XFAObject{constructor(X){super(b,"solid",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null}[t.$toStyle](X){return X?X[t.$toStyle]():"#FFFFFF"}}class ir extends t.StringObject{constructor(X){super(b,"speak"),this.disable=(0,e.getInteger)({data:X.disable,defaultValue:0,validate:me=>me===1}),this.id=X.id||"",this.priority=(0,e.getStringOption)(X.priority,["custom","caption","name","toolTip"]),this.rid=X.rid||"",this.use=X.use||"",this.usehref=X.usehref||""}}class Vn extends t.XFAObject{constructor(X){super(b,"stipple",!0),this.id=X.id||"",this.rate=(0,e.getInteger)({data:X.rate,defaultValue:50,validate:me=>me>=0&&me<=100}),this.use=X.use||"",this.usehref=X.usehref||"",this.color=null,this.extras=null}[t.$toStyle](X){const me=this.rate/100;return u.Util.makeHexColor(Math.round(X.value.r*(1-me)+this.value.r*me),Math.round(X.value.g*(1-me)+this.value.g*me),Math.round(X.value.b*(1-me)+this.value.b*me))}}class Gn extends t.XFAObject{constructor(X){super(b,"subform",!0),this.access=(0,e.getStringOption)(X.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,e.getInteger)({data:X.allowMacro,defaultValue:0,validate:me=>me===1}),this.anchorType=(0,e.getStringOption)(X.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:X.colSpan,defaultValue:1,validate:me=>me>=1||me===-1}),this.columnWidths=(X.columnWidths||"").trim().split(/\s+/).map(me=>me==="-1"?-1:(0,e.getMeasurement)(me)),this.h=X.h?(0,e.getMeasurement)(X.h):"",this.hAlign=(0,e.getStringOption)(X.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=X.id||"",this.layout=(0,e.getStringOption)(X.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=X.locale||"",this.maxH=(0,e.getMeasurement)(X.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(X.maxW,"0pt"),this.mergeMode=(0,e.getStringOption)(X.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,e.getMeasurement)(X.minH,"0pt"),this.minW=(0,e.getMeasurement)(X.minW,"0pt"),this.name=X.name||"",this.presence=(0,e.getStringOption)(X.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(X.relevant),this.restoreState=(0,e.getStringOption)(X.restoreState,["manual","auto"]),this.scope=(0,e.getStringOption)(X.scope,["name","none"]),this.use=X.use||"",this.usehref=X.usehref||"",this.w=X.w?(0,e.getMeasurement)(X.w):"",this.x=(0,e.getMeasurement)(X.x,"0pt"),this.y=(0,e.getMeasurement)(X.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[t.$getSubformParent](){const X=this[t.$getParent]();return X instanceof Nn?X[t.$getSubformParent]():X}[t.$isBindable](){return!0}[t.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine>0||this[t.$getParent]()[t.$isThereMoreWidth]()}*[t.$getContainedChildren](){yield*B(this)}[t.$flushHTML](){return(0,c.flushHTML)(this)}[t.$addHTML](X,me){(0,c.addHTML)(this,X,me)}[t.$getAvailableSpace](){return(0,c.getAvailableSpace)(this)}[t.$isSplittable](){const X=this[t.$getSubformParent]();return X[t.$isSplittable]()?this[t.$extra]._isSplittable!==void 0?this[t.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[t.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[t.$extra]._isSplittable=!1,!1):X.layout&&X.layout.endsWith("-tb")&&X[t.$extra].numberInLine!==0?!1:(this[t.$extra]._isSplittable=!0,!0):!1}[t.$toHTML](X){if(R(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Bt=new ne({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Bt[t.$globalData]=this[t.$globalData],this[t.$appendChild](Bt),this.breakAfter.push(Bt)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Bt=new le({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Bt[t.$globalData]=this[t.$globalData],this[t.$appendChild](Bt),this.breakBefore.push(Bt)}if(this.break.overflowTarget!==""){const Bt=new at({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Bt[t.$globalData]=this[t.$globalData],this[t.$appendChild](Bt),this.overflow.push(Bt)}this[t.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,u.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Bt=this.breakBefore.children[0];if(N(Bt))return e.HTMLResult.breakNode(Bt)}if(this[t.$extra]&&this[t.$extra].afterBreakAfter)return e.HTMLResult.EMPTY;(0,s.fixDimensions)(this);const me=[],Ve={id:this[t.$uid],class:[]};(0,s.setAccess)(this,Ve.class),this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:me,line:null,attributes:Ve,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,X.width),height:Math.min(this.h||1/0,X.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Qe=this[t.$getTemplateRoot](),lt=Qe[t.$extra].noLayoutFailure,Et=this[t.$isSplittable]();if(Et||A(this),!(0,c.checkDimensions)(this,X))return e.HTMLResult.FAILURE;const vt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Bt=this[t.$getSubformParent]().columnWidths;Array.isArray(Bt)&&Bt.length>0&&(this[t.$extra].columnWidths=Bt,this[t.$extra].currentColumn=0)}const Tt=(0,s.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Mt=["xfaSubform"],jt=(0,s.layoutClass)(this);if(jt&&Mt.push(jt),Ve.style=Tt,Ve.class=Mt,this.name&&(Ve.xfaName=this.name),this.overflow){const Bt=this.overflow[t.$getExtra]();Bt.addLeader&&(Bt.addLeader=!1,W(this,Bt.leader,X))}this[t.$pushPara]();const Yt=this.layout==="lr-tb"||this.layout==="rl-tb",Gt=Yt?o:1;for(;this[t.$extra].attempt<Gt;this[t.$extra].attempt++){Yt&&this[t.$extra].attempt===o-1&&(this[t.$extra].numberInLine=0);const Bt=this[t.$childrenToHTML]({filter:vt,include:!0});if(Bt.success)break;if(Bt.isBreak())return this[t.$popPara](),Bt;if(Yt&&this[t.$extra].attempt===0&&this[t.$extra].numberInLine===0&&!Qe[t.$extra].noLayoutFailure){this[t.$extra].attempt=Gt;break}}if(this[t.$popPara](),Et||z(this),Qe[t.$extra].noLayoutFailure=lt,this[t.$extra].attempt===Gt)return this.overflow&&(this[t.$getTemplateRoot]()[t.$extra].overflowNode=this.overflow),Et||delete this[t.$extra],e.HTMLResult.FAILURE;if(this.overflow){const Bt=this.overflow[t.$getExtra]();Bt.addTrailer&&(Bt.addTrailer=!1,W(this,Bt.trailer,X))}let Zt=0,Qt=0;this.margin&&(Zt=this.margin.leftInset+this.margin.rightInset,Qt=this.margin.topInset+this.margin.bottomInset);const Dt=Math.max(this[t.$extra].width+Zt,this.w||0),en=Math.max(this[t.$extra].height+Qt,this.h||0),Lt=[this.x,this.y,Dt,en];if(this.w===""&&(Tt.width=(0,s.measureToString)(Dt)),this.h===""&&(Tt.height=(0,s.measureToString)(en)),(Tt.width==="0px"||Tt.height==="0px")&&me.length===0)return e.HTMLResult.EMPTY;const $t={name:"div",attributes:Ve,children:me};I(this,Ve);const an=e.HTMLResult.success((0,s.createWrapper)(this,$t),Lt);if(this.breakAfter.children.length>=1){const Bt=this.breakAfter.children[0];if(N(Bt))return this[t.$extra].afterBreakAfter=an,e.HTMLResult.breakNode(Bt)}return delete this[t.$extra],an}}class Nn extends t.XFAObject{constructor(X){super(b,"subformSet",!0),this.id=X.id||"",this.name=X.name||"",this.relation=(0,e.getStringOption)(X.relation,["ordered","choice","unordered"]),this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[t.$getContainedChildren](){yield*B(this)}[t.$getSubformParent](){let X=this[t.$getParent]();for(;!(X instanceof Gn);)X=X[t.$getParent]();return X}[t.$isBindable](){return!0}}class ar extends t.ContentObject{constructor(X){super(b,"subjectDN"),this.delimiter=X.delimiter||",",this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){this[t.$content]=new Map(this[t.$content].split(this.delimiter).map(X=>(X=X.split("=",2),X[0]=X[0].trim(),X)))}}class vn extends t.XFAObject{constructor(X){super(b,"subjectDNs",!0),this.id=X.id||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||"",this.subjectDN=new t.XFAObjectArray}}class Yn extends t.XFAObject{constructor(X){super(b,"submit",!0),this.embedPDF=(0,e.getInteger)({data:X.embedPDF,defaultValue:0,validate:me=>me===1}),this.format=(0,e.getStringOption)(X.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=X.id||"",this.target=X.target||"",this.textEncoding=(0,e.getKeyword)({data:X.textEncoding?X.textEncoding.toLowerCase():"",defaultValue:"",validate:me=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(me)||me.match(/iso-8859-\d{2}/)}),this.use=X.use||"",this.usehref=X.usehref||"",this.xdpContent=X.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class Bn extends t.XFAObject{constructor(X){super(b,"template",!0),this.baseProfile=(0,e.getStringOption)(X.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[t.$finalize](){this.subform.children.length===0&&(0,u.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,u.warn)("XFA - Several subforms in template node: please file a bug."),this[t.$tabIndex]=T}[t.$isSplittable](){return!0}[t.$searchNode](X,me){return X.startsWith("#")?[this[t.$ids].get(X.slice(1))]:(0,y.searchNode)(this,me,X,!0,!0)}*[t.$toPages](){if(!this.subform.children.length)return e.HTMLResult.success({name:"div",children:[]});this[t.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const X=this.subform.children[0];X.pageSet[t.$cleanPage]();const me=X.pageSet.pageArea.children,Ve={name:"div",children:[]};let Qe=null,lt=null,Et=null;if(X.breakBefore.children.length>=1?(lt=X.breakBefore.children[0],Et=lt.target):X.subform.children.length>=1&&X.subform.children[0].breakBefore.children.length>=1?(lt=X.subform.children[0].breakBefore.children[0],Et=lt.target):X.break&&X.break.beforeTarget?(lt=X.break,Et=lt.beforeTarget):X.subform.children.length>=1&&X.subform.children[0].break&&X.subform.children[0].break.beforeTarget&&(lt=X.subform.children[0].break,Et=lt.beforeTarget),lt){const Qt=this[t.$searchNode](Et,lt[t.$getParent]());Qt instanceof nt&&(Qe=Qt,lt[t.$extra]={})}Qe||(Qe=me[0]),Qe[t.$extra]={numberOfUse:1};const vt=Qe[t.$getParent]();vt[t.$extra]={numberOfUse:1,pageIndex:vt.pageArea.children.indexOf(Qe),pageSetIndex:0};let Tt,Mt=null,jt=null,Yt=!0,Gt=0,Zt=0;for(;;){if(Yt)Gt=0;else if(Ve.children.pop(),++Gt===S)return(0,u.warn)("XFA - Something goes wrong: please file a bug."),Ve;Tt=null,this[t.$extra].currentPageArea=Qe;const Qt=Qe[t.$toHTML]().html;Ve.children.push(Qt),Mt&&(this[t.$extra].noLayoutFailure=!0,Qt.children.push(Mt[t.$toHTML](Qe[t.$extra].space).html),Mt=null),jt&&(this[t.$extra].noLayoutFailure=!0,Qt.children.push(jt[t.$toHTML](Qe[t.$extra].space).html),jt=null);const Dt=Qe.contentArea.children,en=Qt.children.filter($t=>$t.attributes.class.includes("xfaContentarea"));Yt=!1,this[t.$extra].firstUnsplittable=null,this[t.$extra].noLayoutFailure=!1;const Lt=$t=>{const an=X[t.$flushHTML]();an&&(Yt=Yt||an.children&&an.children.length!==0,en[$t].children.push(an))};for(let $t=Zt,an=Dt.length;$t<an;$t++){const Bt=this[t.$extra].currentContentArea=Dt[$t],mn={width:Bt.w,height:Bt.h};Zt=0,Mt&&(en[$t].children.push(Mt[t.$toHTML](mn).html),Mt=null),jt&&(en[$t].children.push(jt[t.$toHTML](mn).html),jt=null);const ln=X[t.$toHTML](mn);if(ln.success)return ln.html?(Yt=Yt||ln.html.children&&ln.html.children.length!==0,en[$t].children.push(ln.html)):!Yt&&Ve.children.length>1&&Ve.children.pop(),Ve;if(ln.isBreak()){const sn=ln.breakNode;if(Lt($t),sn.targetType==="auto")continue;sn.leader&&(Mt=this[t.$searchNode](sn.leader,sn[t.$getParent]()),Mt=Mt?Mt[0]:null),sn.trailer&&(jt=this[t.$searchNode](sn.trailer,sn[t.$getParent]()),jt=jt?jt[0]:null),sn.targetType==="pageArea"?(Tt=sn[t.$extra].target,$t=1/0):sn[t.$extra].target?(Tt=sn[t.$extra].target,Zt=sn[t.$extra].index+1,$t=1/0):$t=sn[t.$extra].index;continue}if(this[t.$extra].overflowNode){const sn=this[t.$extra].overflowNode;this[t.$extra].overflowNode=null;const Hn=sn[t.$getExtra](),wn=Hn.target;Hn.addLeader=Hn.leader!==null,Hn.addTrailer=Hn.trailer!==null,Lt($t);const Pr=$t;if($t=1/0,wn instanceof nt)Tt=wn;else if(wn instanceof ge){const Cn=Dt.indexOf(wn);Cn!==-1?Cn>Pr?$t=Cn-1:Zt=Cn:(Tt=wn[t.$getParent](),Zt=Tt.contentArea.children.indexOf(wn))}continue}Lt($t)}this[t.$extra].pageNumber+=1,Tt&&(Tt[t.$isUsable]()?Tt[t.$extra].numberOfUse+=1:Tt=null),Qe=Tt||Qe[t.$getNextPage](),yield null}}}l.Template=Bn;class $n extends t.ContentObject{constructor(X){super(b,"text"),this.id=X.id||"",this.maxChars=(0,e.getInteger)({data:X.maxChars,defaultValue:0,validate:me=>me>=0}),this.name=X.name||"",this.rid=X.rid||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$acceptWhitespace](){return!0}[t.$onChild](X){return X[t.$namespaceId]===i.NamespaceIds.xhtml.id?(this[t.$content]=X,!0):((0,u.warn)(`XFA - Invalid content in Text: ${X[t.$nodeName]}.`),!1)}[t.$onText](X){this[t.$content]instanceof t.XFAObject||super[t.$onText](X)}[t.$finalize](){typeof this[t.$content]=="string"&&(this[t.$content]=this[t.$content].replace(/\r\n/g,`
`))}[t.$getExtra](){return typeof this[t.$content]=="string"?this[t.$content].split(/[\u2029\u2028\n]/).reduce((X,me)=>(me&&X.push(me),X),[]).join(`
`):this[t.$content][t.$text]()}[t.$toHTML](X){if(typeof this[t.$content]=="string"){const me=P(this[t.$content]).html;return this[t.$content].includes("\u2029")?(me.name="div",me.children=[],this[t.$content].split("\u2029").map(Ve=>Ve.split(/[\u2028\n]/).reduce((Qe,lt)=>(Qe.push({name:"span",value:lt},{name:"br"}),Qe),[])).forEach(Ve=>{me.children.push({name:"p",children:Ve})})):/[\u2028\n]/.test(this[t.$content])&&(me.name="div",me.children=[],this[t.$content].split(/[\u2028\n]/).forEach(Ve=>{me.children.push({name:"span",value:Ve},{name:"br"})})),e.HTMLResult.success(me)}return this[t.$content][t.$toHTML](X)}}l.Text=$n;class hn extends t.XFAObject{constructor(X){super(b,"textEdit",!0),this.allowRichText=(0,e.getInteger)({data:X.allowRichText,defaultValue:0,validate:me=>me===1}),this.hScrollPolicy=(0,e.getStringOption)(X.hScrollPolicy,["auto","off","on"]),this.id=X.id||"",this.multiLine=(0,e.getInteger)({data:X.multiLine,defaultValue:"",validate:me=>me===0||me===1}),this.use=X.use||"",this.usehref=X.usehref||"",this.vScrollPolicy=(0,e.getStringOption)(X.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](X){const me=(0,s.toStyle)(this,"border","font","margin");let Ve;const Qe=this[t.$getParent]()[t.$getParent]();return this.multiLine===""&&(this.multiLine=Qe instanceof Me?1:0),this.multiLine===1?Ve={name:"textarea",attributes:{dataId:Qe[t.$data]&&Qe[t.$data][t.$uid]||Qe[t.$uid],fieldId:Qe[t.$uid],class:["xfaTextfield"],style:me,"aria-label":U(Qe),"aria-required":!1}}:Ve={name:"input",attributes:{type:"text",dataId:Qe[t.$data]&&Qe[t.$data][t.$uid]||Qe[t.$uid],fieldId:Qe[t.$uid],class:["xfaTextfield"],style:me,"aria-label":U(Qe),"aria-required":!1}},G(Qe)&&(Ve.attributes["aria-required"]=!0,Ve.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ve]})}}class pn extends t.StringObject{constructor(X){super(b,"time"),this.id=X.id||"",this.name=X.name||"",this.use=X.use||"",this.usehref=X.usehref||""}[t.$finalize](){const X=this[t.$content].trim();this[t.$content]=X?new Date(X):null}[t.$toHTML](X){return P(this[t.$content]?this[t.$content].toString():"")}}class Fn extends t.XFAObject{constructor(X){super(b,"timeStamp"),this.id=X.id||"",this.server=X.server||"",this.type=(0,e.getStringOption)(X.type,["optional","required"]),this.use=X.use||"",this.usehref=X.usehref||""}}class Kn extends t.StringObject{constructor(X){super(b,"toolTip"),this.id=X.id||"",this.rid=X.rid||"",this.use=X.use||"",this.usehref=X.usehref||""}}class sr extends t.XFAObject{constructor(X){super(b,"traversal",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class jn extends t.XFAObject{constructor(X){super(b,"traverse",!0),this.id=X.id||"",this.operation=(0,e.getStringOption)(X.operation,["next","back","down","first","left","right","up"]),this.ref=X.ref||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[t.$isTransparent](){return!1}}class Sn extends t.XFAObject{constructor(X){super(b,"ui",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[t.$getExtra](){if(this[t.$extra]===void 0){for(const X of Object.getOwnPropertyNames(this)){if(X==="extras"||X==="picture")continue;const me=this[X];if(me instanceof t.XFAObject)return this[t.$extra]=me,me}this[t.$extra]=null}return this[t.$extra]}[t.$toHTML](X){const me=this[t.$getExtra]();return me?me[t.$toHTML](X):e.HTMLResult.EMPTY}}class Un extends t.XFAObject{constructor(X){super(b,"validate",!0),this.formatTest=(0,e.getStringOption)(X.formatTest,["warning","disabled","error"]),this.id=X.id||"",this.nullTest=(0,e.getStringOption)(X.nullTest,["disabled","error","warning"]),this.scriptTest=(0,e.getStringOption)(X.scriptTest,["error","disabled","warning"]),this.use=X.use||"",this.usehref=X.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Pn extends t.XFAObject{constructor(X){super(b,"value",!0),this.id=X.id||"",this.override=(0,e.getInteger)({data:X.override,defaultValue:0,validate:me=>me===1}),this.relevant=(0,e.getRelevant)(X.relevant),this.use=X.use||"",this.usehref=X.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[t.$setValue](X){const me=this[t.$getParent]();if(me instanceof Ze&&me.ui&&me.ui.imageEdit){this.image||(this.image=new Ct({}),this[t.$appendChild](this.image)),this.image[t.$content]=X[t.$content];return}const Ve=X[t.$nodeName];if(this[Ve]!==null){this[Ve][t.$content]=X[t.$content];return}for(const Qe of Object.getOwnPropertyNames(this)){const lt=this[Qe];lt instanceof t.XFAObject&&(this[Qe]=null,this[t.$removeChild](lt))}this[X[t.$nodeName]]=X,this[t.$appendChild](X)}[t.$text](){if(this.exData)return typeof this.exData[t.$content]=="string"?this.exData[t.$content].trim():this.exData[t.$content][t.$text]().trim();for(const X of Object.getOwnPropertyNames(this)){if(X==="image")continue;const me=this[X];if(me instanceof t.XFAObject)return(me[t.$content]||"").toString().trim()}return null}[t.$toHTML](X){for(const me of Object.getOwnPropertyNames(this)){const Ve=this[me];if(Ve instanceof t.XFAObject)return Ve[t.$toHTML](X)}return e.HTMLResult.EMPTY}}l.Value=Pn;class or extends t.XFAObject{constructor(X){super(b,"variables",!0),this.id=X.id||"",this.use=X.use||"",this.usehref=X.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$isTransparent](){return!0}}class _n{static[i.$buildXFAObject](X,me){if(_n.hasOwnProperty(X)){const Ve=_n[X](me);return Ve[t.$setSetAttributes](me),Ve}}static appearanceFilter(X){return new ie(X)}static arc(X){return new Y(X)}static area(X){return new F(X)}static assist(X){return new D(X)}static barcode(X){return new Q(X)}static bind(X){return new ee(X)}static bindItems(X){return new V(X)}static bookend(X){return new Z(X)}static boolean(X){return new ae(X)}static border(X){return new H(X)}static break(X){return new q(X)}static breakAfter(X){return new ne(X)}static breakBefore(X){return new le(X)}static button(X){return new se(X)}static calculate(X){return new J(X)}static caption(X){return new re(X)}static certificate(X){return new oe(X)}static certificates(X){return new ue(X)}static checkButton(X){return new he(X)}static choiceList(X){return new de(X)}static color(X){return new pe(X)}static comb(X){return new fe(X)}static connect(X){return new be(X)}static contentArea(X){return new ge(X)}static corner(X){return new Se(X)}static date(X){return new ve(X)}static dateTime(X){return new we(X)}static dateTimeEdit(X){return new Fe(X)}static decimal(X){return new Ce(X)}static defaultUi(X){return new ye(X)}static desc(X){return new ke(X)}static digestMethod(X){return new De(X)}static digestMethods(X){return new Ie(X)}static draw(X){return new Me(X)}static edge(X){return new Ne(X)}static encoding(X){return new Re(X)}static encodings(X){return new Oe(X)}static encrypt(X){return new Le(X)}static encryptData(X){return new Pe(X)}static encryption(X){return new $e(X)}static encryptionMethod(X){return new je(X)}static encryptionMethods(X){return new Te(X)}static event(X){return new Ae(X)}static exData(X){return new Ee(X)}static exObject(X){return new Be(X)}static exclGroup(X){return new ze(X)}static execute(X){return new We(X)}static extras(X){return new tt(X)}static field(X){return new Ze(X)}static fill(X){return new Xe(X)}static filter(X){return new st(X)}static float(X){return new gt(X)}static font(X){return new Ge(X)}static format(X){return new ht(X)}static handler(X){return new ct(X)}static hyphenation(X){return new pt(X)}static image(X){return new Ct(X)}static imageEdit(X){return new kt(X)}static integer(X){return new mt(X)}static issuers(X){return new Wt(X)}static items(X){return new et(X)}static keep(X){return new qe(X)}static keyUsage(X){return new it(X)}static line(X){return new rt(X)}static linear(X){return new ft(X)}static lockDocument(X){return new xt(X)}static manifest(X){return new St(X)}static margin(X){return new ot(X)}static mdp(X){return new wt(X)}static medium(X){return new yt(X)}static message(X){return new It(X)}static numericEdit(X){return new Ft(X)}static occur(X){return new At(X)}static oid(X){return new Ue(X)}static oids(X){return new Ye(X)}static overflow(X){return new at(X)}static pageArea(X){return new nt(X)}static pageSet(X){return new dt(X)}static para(X){return new Pt(X)}static passwordEdit(X){return new zt(X)}static pattern(X){return new Ot(X)}static picture(X){return new Rt(X)}static proto(X){return new Ht(X)}static radial(X){return new qt(X)}static reason(X){return new cn(X)}static reasons(X){return new En(X)}static rectangle(X){return new gn(X)}static ref(X){return new Tn(X)}static script(X){return new kn(X)}static setProperty(X){return new zn(X)}static signData(X){return new er(X)}static signature(X){return new tr(X)}static signing(X){return new nr(X)}static solid(X){return new rr(X)}static speak(X){return new ir(X)}static stipple(X){return new Vn(X)}static subform(X){return new Gn(X)}static subformSet(X){return new Nn(X)}static subjectDN(X){return new ar(X)}static subjectDNs(X){return new vn(X)}static submit(X){return new Yn(X)}static template(X){return new Bn(X)}static text(X){return new $n(X)}static textEdit(X){return new hn(X)}static time(X){return new pn(X)}static timeStamp(X){return new Fn(X)}static toolTip(X){return new Kn(X)}static traversal(X){return new sr(X)}static traverse(X){return new jn(X)}static ui(X){return new Sn(X)}static validate(X){return new Un(X)}static value(X){return new Pn(X)}static variables(X){return new or(X)}}l.TemplateNamespace=_n},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addHTML=e,l.checkDimensions=g,l.flushHTML=s,l.getAvailableSpace=u;var t=a(202),i=a(209);function c(y,b){return{name:"div",attributes:{class:[y.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:b}}function s(y){if(!y[t.$extra])return null;const v={name:"div",attributes:y[t.$extra].attributes,children:y[t.$extra].children};if(y[t.$extra].failingNode){const o=y[t.$extra].failingNode[t.$flushHTML]();o&&(y.layout.endsWith("-tb")?v.children.push(c(y,[o])):v.children.push(o))}return v.children.length===0?null:v}function e(y,b,v){const o=y[t.$extra],S=o.availableSpace,[T,E,k,M]=v;switch(y.layout){case"position":{o.width=Math.max(o.width,T+k),o.height=Math.max(o.height,E+M),o.children.push(b);break}case"lr-tb":case"rl-tb":(!o.line||o.attempt===1)&&(o.line=c(y,[]),o.children.push(o.line),o.numberInLine=0),o.numberInLine+=1,o.line.children.push(b),o.attempt===0?(o.currentWidth+=k,o.height=Math.max(o.height,o.prevHeight+M)):(o.currentWidth=k,o.prevHeight=o.height,o.height+=M,o.attempt=0),o.width=Math.max(o.width,o.currentWidth);break;case"rl-row":case"row":{o.children.push(b),o.width+=k,o.height=Math.max(o.height,M);const O=(0,i.measureToString)(o.height);for(const L of o.children)L.attributes.style.height=O;break}case"table":{o.width=Math.min(S.width,Math.max(o.width,k)),o.height+=M,o.children.push(b);break}case"tb":{o.width=Math.min(S.width,Math.max(o.width,k)),o.height+=M,o.children.push(b);break}}}function u(y){const b=y[t.$extra].availableSpace,v=y.margin?y.margin.topInset+y.margin.bottomInset:0,o=y.margin?y.margin.leftInset+y.margin.rightInset:0;switch(y.layout){case"lr-tb":case"rl-tb":return y[t.$extra].attempt===0?{width:b.width-o-y[t.$extra].currentWidth,height:b.height-v-y[t.$extra].prevHeight}:{width:b.width-o,height:b.height-v-y[t.$extra].height};case"rl-row":case"row":return{width:y[t.$extra].columnWidths.slice(y[t.$extra].currentColumn).reduce((T,E)=>T+E),height:b.height-o};case"table":case"tb":return{width:b.width-o,height:b.height-v-y[t.$extra].height};case"position":default:return b}}function m(y){let b=y.w===""?NaN:y.w,v=y.h===""?NaN:y.h,[o,S]=[0,0];switch(y.anchorType||""){case"bottomCenter":[o,S]=[b/2,v];break;case"bottomLeft":[o,S]=[0,v];break;case"bottomRight":[o,S]=[b,v];break;case"middleCenter":[o,S]=[b/2,v/2];break;case"middleLeft":[o,S]=[0,v/2];break;case"middleRight":[o,S]=[b,v/2];break;case"topCenter":[o,S]=[b/2,0];break;case"topRight":[o,S]=[b,0];break}let T,E;switch(y.rotate||0){case 0:[T,E]=[-o,-S];break;case 90:[T,E]=[-S,o],[b,v]=[v,-b];break;case 180:[T,E]=[o,S],[b,v]=[-b,-v];break;case 270:[T,E]=[S,-o],[b,v]=[-v,b];break}return[y.x+T+Math.min(0,b),y.y+E+Math.min(0,v),Math.abs(b),Math.abs(v)]}function g(y,b){if(y[t.$getTemplateRoot]()[t.$extra].firstUnsplittable===null||y.w===0||y.h===0)return!0;const v=2,o=y[t.$getSubformParent](),S=o[t.$extra]&&o[t.$extra].attempt||0,[,T,E,k]=m(y);switch(o.layout){case"lr-tb":case"rl-tb":return S===0?y[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?y.w!==""?Math.round(E-b.width)<=v:b.width>v:y.h!==""&&Math.round(k-b.height)>v?!1:y.w!==""?Math.round(E-b.width)<=v?!0:o[t.$extra].numberInLine===0?b.height>v:!1:b.width>v:y[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:y.h!==""&&Math.round(k-b.height)>v?!1:y.w===""||Math.round(E-b.width)<=v?b.height>v:o[t.$isThereMoreWidth]()?!1:b.height>v;case"table":case"tb":return y[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:y.h!==""&&!y[t.$isSplittable]()?Math.round(k-b.height)<=v:y.w===""||Math.round(E-b.width)<=v?b.height>v:o[t.$isThereMoreWidth]()?!1:b.height>v;case"position":if(y[t.$getTemplateRoot]()[t.$extra].noLayoutFailure||y.h===""||Math.round(k+T-b.height)<=v)return!0;const M=y[t.$getTemplateRoot]()[t.$extra].currentContentArea;return k+T>M.h;case"rl-row":case"row":return y[t.$getTemplateRoot]()[t.$extra].noLayoutFailure?!0:y.h!==""?Math.round(k-b.height)<=v:!0;default:return!0}}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.computeBbox=v,l.createWrapper=E,l.fixDimensions=o,l.fixTextIndent=k,l.fixURL=G,l.isPrintOnly=O,l.layoutClass=S,l.layoutNode=b,l.measureToString=u,l.setAccess=M,l.setFontFamily=B,l.setMinMaxDimensions=g,l.setPara=te,l.toStyle=T;var t=a(202),i=a(2),c=a(203),s=a(210),e=a(211);function u(R){return typeof R=="string"?"0px":Number.isInteger(R)?`${R}px`:`${R.toFixed(2)}px`}const m={anchorType(R,I){const U=R[t.$getSubformParent]();if(!(!U||U.layout&&U.layout!=="position"))switch("transform"in I||(I.transform=""),R.anchorType){case"bottomCenter":I.transform+="translate(-50%, -100%)";break;case"bottomLeft":I.transform+="translate(0,-100%)";break;case"bottomRight":I.transform+="translate(-100%,-100%)";break;case"middleCenter":I.transform+="translate(-50%,-50%)";break;case"middleLeft":I.transform+="translate(0,-50%)";break;case"middleRight":I.transform+="translate(-100%,-50%)";break;case"topCenter":I.transform+="translate(-50%,0)";break;case"topRight":I.transform+="translate(-100%,0)";break}},dimensions(R,I){const U=R[t.$getSubformParent]();let P=R.w;const A=R.h;if(U.layout&&U.layout.includes("row")){const z=U[t.$extra],N=R.colSpan;let W;N===-1?(W=z.columnWidths.slice(z.currentColumn).reduce((ie,Y)=>ie+Y,0),z.currentColumn=0):(W=z.columnWidths.slice(z.currentColumn,z.currentColumn+N).reduce((ie,Y)=>ie+Y,0),z.currentColumn=(z.currentColumn+R.colSpan)%z.columnWidths.length),isNaN(W)||(P=R.w=W)}P!==""?I.width=u(P):I.width="auto",A!==""?I.height=u(A):I.height="auto"},position(R,I){const U=R[t.$getSubformParent]();U&&U.layout&&U.layout!=="position"||(I.position="absolute",I.left=u(R.x),I.top=u(R.y))},rotate(R,I){R.rotate&&("transform"in I||(I.transform=""),I.transform+=`rotate(-${R.rotate}deg)`,I.transformOrigin="top left")},presence(R,I){switch(R.presence){case"invisible":I.visibility="hidden";break;case"hidden":case"inactive":I.display="none";break}},hAlign(R,I){if(R[t.$nodeName]==="para")switch(R.hAlign){case"justifyAll":I.textAlign="justify-all";break;case"radix":I.textAlign="left";break;default:I.textAlign=R.hAlign}else switch(R.hAlign){case"left":I.alignSelf="start";break;case"center":I.alignSelf="center";break;case"right":I.alignSelf="end";break}},margin(R,I){R.margin&&(I.margin=R.margin[t.$toStyle]().margin)}};function g(R,I){R[t.$getSubformParent]().layout==="position"&&(R.minW>0&&(I.minWidth=u(R.minW)),R.maxW>0&&(I.maxWidth=u(R.maxW)),R.minH>0&&(I.minHeight=u(R.minH)),R.maxH>0&&(I.maxHeight=u(R.maxH)))}function y(R,I,U,P,A,z){const N=new e.TextMeasure(I,U,P,A);return typeof R=="string"?N.addString(R):R[t.$pushGlyphs](N),N.compute(z)}function b(R,I){let U=null,P=null,A=!1;if((!R.w||!R.h)&&R.value){let z=0,N=0;R.margin&&(z=R.margin.leftInset+R.margin.rightInset,N=R.margin.topInset+R.margin.bottomInset);let W=null,ie=null;R.para&&(ie=Object.create(null),W=R.para.lineHeight===""?null:R.para.lineHeight,ie.top=R.para.spaceAbove===""?0:R.para.spaceAbove,ie.bottom=R.para.spaceBelow===""?0:R.para.spaceBelow,ie.left=R.para.marginLeft===""?0:R.para.marginLeft,ie.right=R.para.marginRight===""?0:R.para.marginRight);let Y=R.font;if(!Y){const Q=R[t.$getTemplateRoot]();let ee=R[t.$getParent]();for(;ee&&ee!==Q;){if(ee.font){Y=ee.font;break}ee=ee[t.$getParent]()}}const F=(R.w||I.width)-z,D=R[t.$globalData].fontFinder;if(R.value.exData&&R.value.exData[t.$content]&&R.value.exData.contentType==="text/html"){const Q=y(R.value.exData[t.$content],Y,ie,W,D,F);P=Q.width,U=Q.height,A=Q.isBroken}else{const Q=R.value[t.$text]();if(Q){const ee=y(Q,Y,ie,W,D,F);P=ee.width,U=ee.height,A=ee.isBroken}}P!==null&&!R.w&&(P+=z),U!==null&&!R.h&&(U+=N)}return{w:P,h:U,isBroken:A}}function v(R,I,U){let P;if(R.w!==""&&R.h!=="")P=[R.x,R.y,R.w,R.h];else{if(!U)return null;let A=R.w;if(A===""){if(R.maxW===0){const N=R[t.$getSubformParent]();N.layout==="position"&&N.w!==""?A=0:A=R.minW}else A=Math.min(R.maxW,U.width);I.attributes.style.width=u(A)}let z=R.h;if(z===""){if(R.maxH===0){const N=R[t.$getSubformParent]();N.layout==="position"&&N.h!==""?z=0:z=R.minH}else z=Math.min(R.maxH,U.height);I.attributes.style.height=u(z)}P=[R.x,R.y,A,z]}return P}function o(R){const I=R[t.$getSubformParent]();if(I.layout&&I.layout.includes("row")){const U=I[t.$extra],P=R.colSpan;let A;P===-1?A=U.columnWidths.slice(U.currentColumn).reduce((z,N)=>z+N,0):A=U.columnWidths.slice(U.currentColumn,U.currentColumn+P).reduce((z,N)=>z+N,0),isNaN(A)||(R.w=A)}I.layout&&I.layout!=="position"&&(R.x=R.y=0),R.layout==="table"&&R.w===""&&Array.isArray(R.columnWidths)&&(R.w=R.columnWidths.reduce((U,P)=>U+P,0))}function S(R){switch(R.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function T(R){const I=Object.create(null);for(var U=arguments.length,P=new Array(U>1?U-1:0),A=1;A<U;A++)P[A-1]=arguments[A];for(const z of P){const N=R[z];if(N!==null){if(m.hasOwnProperty(z)){m[z](R,I);continue}if(N instanceof t.XFAObject){const W=N[t.$toStyle]();W?Object.assign(I,W):(0,i.warn)(`(DEBUG) - XFA - style for ${z} not implemented yet`)}}}return I}function E(R,I){const{attributes:U}=I,{style:P}=U,A={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(U.class.push("xfaWrapped"),R.border){const{widths:z,insets:N}=R.border[t.$extra];let W,ie,Y=N[0],F=N[3];const D=N[0]+N[2],Q=N[1]+N[3];switch(R.border.hand){case"even":Y-=z[0]/2,F-=z[3]/2,W=`calc(100% + ${(z[1]+z[3])/2-Q}px)`,ie=`calc(100% + ${(z[0]+z[2])/2-D}px)`;break;case"left":Y-=z[0],F-=z[3],W=`calc(100% + ${z[1]+z[3]-Q}px)`,ie=`calc(100% + ${z[0]+z[2]-D}px)`;break;case"right":W=Q?`calc(100% - ${Q}px)`:"100%",ie=D?`calc(100% - ${D}px)`:"100%";break}const ee=["xfaBorder"];O(R.border)&&ee.push("xfaPrintOnly");const V={name:"div",attributes:{class:ee,style:{top:`${Y}px`,left:`${F}px`,width:W,height:ie}},children:[]};for(const Z of["border","borderWidth","borderColor","borderRadius","borderStyle"])P[Z]!==void 0&&(V.attributes.style[Z]=P[Z],delete P[Z]);A.children.push(V,I)}else A.children.push(I);for(const z of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])P[z]!==void 0&&(A.attributes.style[z]=P[z],delete P[z]);return P.position==="absolute"?A.attributes.style.position="absolute":A.attributes.style.position="relative",delete P.position,P.alignSelf&&(A.attributes.style.alignSelf=P.alignSelf,delete P.alignSelf),A}function k(R){const I=(0,c.getMeasurement)(R.textIndent,"0px");if(I>=0)return;const P="padding"+((R.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),A=(0,c.getMeasurement)(R[P],"0px");R[P]=`${A-I}px`}function M(R,I){switch(R.access){case"nonInteractive":I.push("xfaNonInteractive");break;case"readOnly":I.push("xfaReadOnly");break;case"protected":I.push("xfaDisabled");break}}function O(R){return R.relevant.length>0&&!R.relevant[0].excluded&&R.relevant[0].viewname==="print"}function L(R){const I=R[t.$getTemplateRoot]()[t.$extra].paraStack;return I.length?I.at(-1):null}function te(R,I,U){if(U.attributes.class&&U.attributes.class.includes("xfaRich")){I&&(R.h===""&&(I.height="auto"),R.w===""&&(I.width="auto"));const P=L(R);if(P){const A=U.attributes.style;switch(A.display="flex",A.flexDirection="column",P.vAlign){case"top":A.justifyContent="start";break;case"bottom":A.justifyContent="end";break;case"middle":A.justifyContent="center";break}const z=P[t.$toStyle]();for(const[N,W]of Object.entries(z))N in A||(A[N]=W)}}}function B(R,I,U,P){if(!U){delete P.fontFamily;return}const A=(0,c.stripQuotes)(R.typeface);P.fontFamily=`"${A}"`;const z=U.find(A);if(z){const{fontFamily:N}=z.regular.cssFontInfo;N!==A&&(P.fontFamily=`"${N}"`);const W=L(I);if(W&&W.lineHeight!==""||P.lineHeight)return;const ie=(0,s.selectFont)(R,z);ie&&(P.lineHeight=Math.max(1.2,ie.lineHeight))}}function G(R){const I=(0,i.createValidAbsoluteUrl)(R,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return I?I.href:null}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FontFinder=void 0,l.getMetrics=u,l.selectFont=e;var t=a(202),i=a(203),c=a(2);class s{constructor(g){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(g)}add(g){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;for(const v of g)this.addPdfFont(v);for(const v of this.fonts.values())v.regular||(v.regular=v.italic||v.bold||v.bolditalic);if(!y||y.size===0)return;const b=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const v of y)this.fonts.set(v,b)}addPdfFont(g){const y=g.cssFontInfo,b=y.fontFamily;let v=this.fonts.get(b);v||(v=Object.create(null),this.fonts.set(b,v),this.defaultFont||(this.defaultFont=v));let o="";const S=parseFloat(y.fontWeight);parseFloat(y.italicAngle)!==0?o=S>=700?"bolditalic":"italic":S>=700&&(o="bold"),o||((g.name.includes("Bold")||g.psName&&g.psName.includes("Bold"))&&(o="bold"),(g.name.includes("Italic")||g.name.endsWith("It")||g.psName&&(g.psName.includes("Italic")||g.psName.endsWith("It")))&&(o+="italic")),o||(o="regular"),v[o]=g}getDefault(){return this.defaultFont}find(g){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,b=this.fonts.get(g)||this.cache.get(g);if(b)return b;const v=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let o=g.replace(v,"");if(b=this.fonts.get(o),b)return this.cache.set(g,b),b;o=o.toLowerCase();const S=[];for(const[T,E]of this.fonts.entries())T.replace(v,"").toLowerCase().startsWith(o)&&S.push(E);if(S.length===0)for(const[,T]of this.fonts.entries())T.regular.name&&T.regular.name.replace(v,"").toLowerCase().startsWith(o)&&S.push(T);if(S.length===0){o=o.replace(/psmt|mt/gi,"");for(const[T,E]of this.fonts.entries())T.replace(v,"").toLowerCase().startsWith(o)&&S.push(E)}if(S.length===0)for(const T of this.fonts.values())T.regular.name&&T.regular.name.replace(v,"").toLowerCase().startsWith(o)&&S.push(T);return S.length>=1?(S.length!==1&&y&&(0,c.warn)(`XFA - Too many choices to guess the correct font: ${g}`),this.cache.set(g,S[0]),S[0]):(y&&!this.warned.has(g)&&(this.warned.add(g),(0,c.warn)(`XFA - Cannot find the font: ${g}`)),null)}}l.FontFinder=s;function e(m,g){return m.posture==="italic"?m.weight==="bold"?g.bolditalic:g.italic:m.weight==="bold"?g.bold:g.regular}function u(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=null;if(m){const S=(0,i.stripQuotes)(m.typeface),T=m[t.$globalData].fontFinder.find(S);y=e(m,T)}if(!y)return{lineHeight:12,lineGap:2,lineNoGap:10};const b=m.size||10,v=y.lineHeight?Math.max(g?0:1.2,y.lineHeight):1.2,o=y.lineGap===void 0?.2:y.lineGap;return{lineHeight:v*b,lineGap:o*b,lineNoGap:Math.max(1,v-o)*b}}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TextMeasure=void 0;var t=a(210);const i=1.02;class c{constructor(m,g,y,b){if(this.lineHeight=y,this.paraMargin=g||{top:0,bottom:0,left:0,right:0},!m){[this.pdfFont,this.xfaFont]=this.defaultFont(b);return}this.xfaFont={typeface:m.typeface,posture:m.posture,weight:m.weight,size:m.size,letterSpacing:m.letterSpacing};const v=b.find(m.typeface);if(!v){[this.pdfFont,this.xfaFont]=this.defaultFont(b);return}this.pdfFont=(0,t.selectFont)(m,v),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(b))}defaultFont(m){const g=m.find("Helvetica",!1)||m.find("Myriad Pro",!1)||m.find("Arial",!1)||m.getDefault();if(g&&g.regular){const b=g.regular,o={typeface:b.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[b,o]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class s{constructor(m,g,y,b){this.fontFinder=b,this.stack=[new c(m,g,y,b)]}pushData(m,g,y){const b=this.stack.at(-1);for(const o of["typeface","posture","weight","size","letterSpacing"])m[o]||(m[o]=b.xfaFont[o]);for(const o of["top","bottom","left","right"])isNaN(g[o])&&(g[o]=b.paraMargin[o]);const v=new c(m,g,y||b.lineHeight,this.fontFinder);v.pdfFont||(v.pdfFont=b.pdfFont),this.stack.push(v)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class e{constructor(m,g,y,b){this.glyphs=[],this.fontSelector=new s(m,g,y,b),this.extraHeight=0}pushData(m,g,y){this.fontSelector.pushData(m,g,y)}popFont(m){return this.fontSelector.popFont()}addPara(){const m=this.fontSelector.topFont();this.extraHeight+=m.paraMargin.top+m.paraMargin.bottom}addString(m){if(!m)return;const g=this.fontSelector.topFont(),y=g.xfaFont.size;if(g.pdfFont){const b=g.xfaFont.letterSpacing,v=g.pdfFont,o=v.lineHeight||1.2,S=g.lineHeight||Math.max(1.2,o)*y,T=v.lineGap===void 0?.2:v.lineGap,E=o-T,k=Math.max(1,E)*y,M=y/1e3,O=v.defaultWidth||v.charsToGlyphs(" ")[0].width;for(const L of m.split(/[\u2029\n]/)){const te=v.encodeString(L).join(""),B=v.charsToGlyphs(te);for(const G of B){const R=G.width||O;this.glyphs.push([R*M+b,S,k,G.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const b of m.split(/[\u2029\n]/)){for(const v of b.split(""))this.glyphs.push([y,1.2*y,y,v,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(m){let g=-1,y=0,b=0,v=0,o=0,S=0,T=!1,E=!0;for(let k=0,M=this.glyphs.length;k<M;k++){const[O,L,te,B,G]=this.glyphs[k],R=B===" ",I=E?te:L;if(G){b=Math.max(b,o),o=0,v+=S,S=I,g=-1,y=0,E=!1;continue}if(R){o+O>m?(b=Math.max(b,o),o=0,v+=S,S=I,g=-1,y=0,T=!0,E=!1):(S=Math.max(I,S),y=o,o+=O,g=k);continue}if(o+O>m){v+=S,S=I,g!==-1?(k=g,b=Math.max(b,y),o=0,g=-1,y=0):(b=Math.max(b,o),o=O),T=!0,E=!1;continue}o+=O,S=Math.max(I,S)}return b=Math.max(b,o),v+=S+this.extraHeight,{width:i*b,height:v,isBroken:T}}}l.TextMeasure=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DataHandler=void 0;var t=a(202);class i{constructor(s,e){this.data=e,this.dataset=s.datasets||null}serialize(s){const e=[[-1,this.data[t.$getChildren]()]];for(;e.length>0;){const m=e.at(-1),[g,y]=m;if(g+1===y.length){e.pop();continue}const b=y[++m[0]],v=s.get(b[t.$uid]);if(v)b[t.$setValue](v);else{const S=b[t.$getAttributes]();for(const T of S.values()){const E=s.get(T[t.$uid]);if(E){T[t.$setValue](E);break}}}const o=b[t.$getChildren]();o.length>0&&e.push([-1,o])}const u=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const m of this.dataset[t.$getChildren]())m[t.$nodeName]!=="data"&&m[t.$toString](u);return this.data[t.$toString](u),u.push("</xfa:datasets>"),u.join("")}}l.DataHandler=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XFAParser=void 0;var t=a(202),i=a(191),c=a(214),s=a(2);class e extends i.XMLParserBase{constructor(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super(),this._builder=new c.Builder(m),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=i.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=g}parse(m){if(this.parseXml(m),this._errorCode===i.XMLParserErrorCode.NoError)return this._current[t.$finalize](),this._current.element}onText(m){if(m=m.replace(this._nbsps,g=>g.slice(1)+" "),this._richText||this._current[t.$acceptWhitespace]()){this._current[t.$onText](m,this._richText);return}this._whiteRegex.test(m)||this._current[t.$onText](m.trim())}onCdata(m){this._current[t.$onText](m)}_mkAttributes(m,g){let y=null,b=null;const v=Object.create({});for(const{name:o,value:S}of m)if(o==="xmlns")y?(0,s.warn)(`XFA - multiple namespace definition in <${g}>`):y=S;else if(o.startsWith("xmlns:")){const T=o.substring(6);b||(b=[]),b.push({prefix:T,value:S})}else{const T=o.indexOf(":");if(T===-1)v[o]=S;else{let E=v[t.$nsAttributes];E||(E=v[t.$nsAttributes]=Object.create(null));const[k,M]=[o.slice(0,T),o.slice(T+1)];let O=E[k];O||(O=E[k]=Object.create(null)),O[M]=S}}return[y,b,v]}_getNameAndPrefix(m,g){const y=m.indexOf(":");return y===-1?[m,null]:[m.substring(y+1),g?"":m.substring(0,y)]}onBeginElement(m,g,y){const[b,v,o]=this._mkAttributes(g,m),[S,T]=this._getNameAndPrefix(m,this._builder.isNsAgnostic()),E=this._builder.build({nsPrefix:T,name:S,attributes:o,namespace:b,prefixes:v});if(E[t.$globalData]=this._globalData,y){E[t.$finalize](),this._current[t.$onChild](E)&&E[t.$setId](this._ids),E[t.$clean](this._builder);return}this._stack.push(this._current),this._current=E}onEndElement(m){const g=this._current;if(g[t.$isCDATAXml]()&&typeof g[t.$content]=="string"){const y=new e;y._globalData=this._globalData;const b=y.parse(g[t.$content]);g[t.$content]=null,g[t.$onChild](b)}g[t.$finalize](),this._current=this._stack.pop(),this._current[t.$onChild](g)&&g[t.$setId](this._ids),g[t.$clean](this._builder)}onError(m){this._errorCode=m}}l.XFAParser=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Builder=void 0;var t=a(204),i=a(202),c=a(215),s=a(207),e=a(224),u=a(2);class m extends i.XFAObject{constructor(v){super(-1,"root",Object.create(null)),this.element=null,this[i.$ids]=v}[i.$onChild](v){return this.element=v,!0}[i.$finalize](){super[i.$finalize](),this.element.template instanceof s.Template&&(this[i.$ids].set(i.$root,this.element),this.element.template[i.$resolvePrototypes](this[i.$ids]),this.element.template[i.$ids]=this[i.$ids])}}class g extends i.XFAObject{constructor(){super(-1,"",Object.create(null))}[i.$onChild](v){return!1}}class y{constructor(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(t.NamespaceIds).map(o=>{let{id:S}=o;return S})),this._currentNamespace=v||new e.UnknownNamespace(++this._nextNsId)}buildRoot(v){return new m(v)}build(v){let{nsPrefix:o,name:S,attributes:T,namespace:E,prefixes:k}=v;const M=E!==null;if(M&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(E)),k&&this._addNamespacePrefix(k),T.hasOwnProperty(i.$nsAttributes)){const te=c.NamespaceSetUp.datasets,B=T[i.$nsAttributes];let G=null;for(const[R,I]of Object.entries(B))if(this._getNamespaceToUse(R)===te){G={xfa:I};break}G?T[i.$nsAttributes]=G:delete T[i.$nsAttributes]}const O=this._getNamespaceToUse(o),L=O&&O[t.$buildXFAObject](S,T)||new g;return L[i.$isNsAgnostic]()&&this._nsAgnosticLevel++,(M||k||L[i.$isNsAgnostic]())&&(L[i.$cleanup]={hasNamespace:M,prefixes:k,nsAgnostic:L[i.$isNsAgnostic]()}),L}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(v){let o=this._namespaces.get(v);if(o)return o;for(const[S,{check:T}]of Object.entries(t.NamespaceIds))if(T(v)){if(o=c.NamespaceSetUp[S],o)return this._namespaces.set(v,o),o;break}return o=new e.UnknownNamespace(++this._nextNsId),this._namespaces.set(v,o),o}_addNamespacePrefix(v){for(const{prefix:o,value:S}of v){const T=this._searchNamespace(S);let E=this._namespacePrefixes.get(o);E||(E=[],this._namespacePrefixes.set(o,E)),E.push(T)}}_getNamespaceToUse(v){if(!v)return this._currentNamespace;const o=this._namespacePrefixes.get(v);return o&&o.length>0?o.at(-1):((0,u.warn)(`Unknown namespace prefix: ${v}.`),null)}clean(v){const{hasNamespace:o,prefixes:S,nsAgnostic:T}=v;o&&(this._currentNamespace=this._namespaceStack.pop()),S&&S.forEach(E=>{let{prefix:k}=E;this._namespacePrefixes.get(k).pop()}),T&&this._nsAgnosticLevel--}}l.Builder=y},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NamespaceSetUp=void 0;var t=a(216),i=a(217),c=a(218),s=a(219),e=a(220),u=a(221),m=a(207),g=a(222),y=a(223);const b={config:t.ConfigNamespace,connection:i.ConnectionSetNamespace,datasets:c.DatasetsNamespace,localeSet:s.LocaleSetNamespace,signature:e.SignatureNamespace,stylesheet:u.StylesheetNamespace,template:m.TemplateNamespace,xdp:g.XdpNamespace,xhtml:y.XhtmlNamespace};l.NamespaceSetUp=b},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ConfigNamespace=void 0;var t=a(204),i=a(202),c=a(203),s=a(2);const e=t.NamespaceIds.config.id;class u extends i.XFAObject{constructor(me){super(e,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new i.XFAObjectArray}}class m extends i.XFAObject{constructor(me){super(e,"acrobat7",!0),this.dynamicRender=null}}class g extends i.OptionObject{constructor(me){super(e,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class y extends i.OptionObject{constructor(me){super(e,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class b extends i.Option01{constructor(me){super(e,"addSilentPrint")}}class v extends i.Option01{constructor(me){super(e,"addViewerPreferences")}}class o extends i.Option10{constructor(me){super(e,"adjustData")}}class S extends i.IntegerObject{constructor(me){super(e,"adobeExtensionLevel",0,Ve=>Ve>=1&&Ve<=8)}}class T extends i.XFAObject{constructor(me){super(e,"agent",!0),this.name=me.name?me.name.trim():"",this.common=new i.XFAObjectArray}}class E extends i.ContentObject{constructor(me){super(e,"alwaysEmbed")}}class k extends i.StringObject{constructor(me){super(e,"amd")}}class M extends i.XFAObject{constructor(me){super(e,"area"),this.level=(0,c.getInteger)({data:me.level,defaultValue:0,validate:Ve=>Ve>=1&&Ve<=3}),this.name=(0,c.getStringOption)(me.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class O extends i.OptionObject{constructor(me){super(e,"attributes",["preserve","delegate","ignore"])}}class L extends i.OptionObject{constructor(me){super(e,"autoSave",["disabled","enabled"])}}class te extends i.StringObject{constructor(me){super(e,"base")}}class B extends i.XFAObject{constructor(me){super(e,"batchOutput"),this.format=(0,c.getStringOption)(me.format,["none","concat","zip","zipCompress"])}}class G extends i.ContentObject{constructor(me){super(e,"behaviorOverride")}[i.$finalize](){this[i.$content]=new Map(this[i.$content].trim().split(/\s+/).filter(me=>me.includes(":")).map(me=>me.split(":",2)))}}class R extends i.XFAObject{constructor(me){super(e,"cache",!0),this.templateCache=null}}class I extends i.Option01{constructor(me){super(e,"change")}}class U extends i.XFAObject{constructor(me){super(e,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new i.XFAObjectArray}}class P extends i.XFAObject{constructor(me){super(e,"compress"),this.scope=(0,c.getStringOption)(me.scope,["imageOnly","document"])}}class A extends i.Option01{constructor(me){super(e,"compressLogicalStructure")}}class z extends i.Option10{constructor(me){super(e,"compressObjectStream")}}class N extends i.XFAObject{constructor(me){super(e,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class W extends i.XFAObject{constructor(me){super(e,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new i.XFAObjectArray}}class ie extends i.OptionObject{constructor(me){super(e,"conformance",["A","B"])}}class Y extends i.Option01{constructor(me){super(e,"contentCopy")}}class F extends i.IntegerObject{constructor(me){super(e,"copies",1,Ve=>Ve>=1)}}class D extends i.StringObject{constructor(me){super(e,"creator")}}class Q extends i.IntegerObject{constructor(me){super(e,"currentPage",0,Ve=>Ve>=0)}}class ee extends i.XFAObject{constructor(me){super(e,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new i.XFAObjectArray,this.transform=new i.XFAObjectArray}}class V extends i.XFAObject{constructor(me){super(e,"debug",!0),this.uri=null}}class Z extends i.ContentObject{constructor(me){super(e,"defaultTypeface"),this.writingScript=(0,c.getStringOption)(me.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class ae extends i.OptionObject{constructor(me){super(e,"destination",["pdf","pcl","ps","webClient","zpl"])}}class H extends i.Option01{constructor(me){super(e,"documentAssembly")}}class q extends i.XFAObject{constructor(me){super(e,"driver",!0),this.name=me.name?me.name.trim():"",this.fontInfo=null,this.xdc=null}}class ne extends i.OptionObject{constructor(me){super(e,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class le extends i.OptionObject{constructor(me){super(e,"dynamicRender",["forbidden","required"])}}class se extends i.Option01{constructor(me){super(e,"embed")}}class J extends i.Option01{constructor(me){super(e,"encrypt")}}class re extends i.XFAObject{constructor(me){super(e,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class oe extends i.OptionObject{constructor(me){super(e,"encryptionLevel",["40bit","128bit"])}}class ue extends i.StringObject{constructor(me){super(e,"enforce")}}class he extends i.XFAObject{constructor(me){super(e,"equate"),this.force=(0,c.getInteger)({data:me.force,defaultValue:1,validate:Ve=>Ve===0}),this.from=me.from||"",this.to=me.to||""}}class de extends i.XFAObject{constructor(me){super(e,"equateRange"),this.from=me.from||"",this.to=me.to||"",this._unicodeRange=me.unicodeRange||""}get unicodeRange(){const me=[],Ve=/U\+([0-9a-fA-F]+)/,Qe=this._unicodeRange;for(let lt of Qe.split(",").map(Et=>Et.trim()).filter(Et=>!!Et))lt=lt.split("-",2).map(Et=>{const vt=Et.match(Ve);return vt?parseInt(vt[1],16):0}),lt.length===1&&lt.push(lt[0]),me.push(lt);return(0,s.shadow)(this,"unicodeRange",me)}}class pe extends i.ContentObject{constructor(me){super(e,"exclude")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s+/).filter(me=>me&&["calculate","close","enter","exit","initialize","ready","validate"].includes(me))}}class fe extends i.StringObject{constructor(me){super(e,"excludeNS")}}class be extends i.OptionObject{constructor(me){super(e,"flipLabel",["usePrinterSetting","on","off"])}}class ge extends i.XFAObject{constructor(me){super(e,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new i.XFAObjectArray,this.defaultTypeface=new i.XFAObjectArray,this.neverEmbed=new i.XFAObjectArray}}class Se extends i.Option01{constructor(me){super(e,"formFieldFilling")}}class ve extends i.StringObject{constructor(me){super(e,"groupParent")}}class we extends i.OptionObject{constructor(me){super(e,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Fe extends i.StringObject{constructor(me){super(e,"includeXDPContent")}}class Ce extends i.OptionObject{constructor(me){super(e,"incrementalLoad",["none","forwardOnly"])}}class ye extends i.Option01{constructor(me){super(e,"incrementalMerge")}}class ke extends i.Option01{constructor(me){super(e,"interactive")}}class De extends i.OptionObject{constructor(me){super(e,"jog",["usePrinterSetting","none","pageSet"])}}class Ie extends i.XFAObject{constructor(me){super(e,"labelPrinter",!0),this.name=(0,c.getStringOption)(me.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Me extends i.OptionObject{constructor(me){super(e,"layout",["paginate","panel"])}}class Ne extends i.IntegerObject{constructor(me){super(e,"level",0,Ve=>Ve>0)}}class Re extends i.Option01{constructor(me){super(e,"linearized")}}class Oe extends i.StringObject{constructor(me){super(e,"locale")}}class Le extends i.StringObject{constructor(me){super(e,"localeSet")}}class Pe extends i.XFAObject{constructor(me){super(e,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class $e extends i.XFAObject{constructor(me){super(e,"map",!0),this.equate=new i.XFAObjectArray,this.equateRange=new i.XFAObjectArray}}class je extends i.XFAObject{constructor(me){super(e,"mediumInfo",!0),this.map=null}}class Te extends i.XFAObject{constructor(me){super(e,"message",!0),this.msgId=null,this.severity=null}}class Ae extends i.XFAObject{constructor(me){super(e,"messaging",!0),this.message=new i.XFAObjectArray}}class Ee extends i.OptionObject{constructor(me){super(e,"mode",["append","overwrite"])}}class Be extends i.Option01{constructor(me){super(e,"modifyAnnots")}}class ze extends i.IntegerObject{constructor(me){super(e,"msgId",1,Ve=>Ve>=1)}}class We extends i.StringObject{constructor(me){super(e,"nameAttr")}}class tt extends i.ContentObject{constructor(me){super(e,"neverEmbed")}}class Ze extends i.IntegerObject{constructor(me){super(e,"numberOfCopies",null,Ve=>Ve>=2&&Ve<=5)}}class Xe extends i.XFAObject{constructor(me){super(e,"openAction",!0),this.destination=null}}class st extends i.XFAObject{constructor(me){super(e,"output",!0),this.to=null,this.type=null,this.uri=null}}class gt extends i.StringObject{constructor(me){super(e,"outputBin")}}class Ge extends i.XFAObject{constructor(me){super(e,"outputXSL",!0),this.uri=null}}class ht extends i.OptionObject{constructor(me){super(e,"overprint",["none","both","draw","field"])}}class ct extends i.StringObject{constructor(me){super(e,"packets")}[i.$finalize](){this[i.$content]!=="*"&&(this[i.$content]=this[i.$content].trim().split(/\s+/).filter(me=>["config","datasets","template","xfdf","xslt"].includes(me)))}}class pt extends i.XFAObject{constructor(me){super(e,"pageOffset"),this.x=(0,c.getInteger)({data:me.x,defaultValue:"useXDCSetting",validate:Ve=>!0}),this.y=(0,c.getInteger)({data:me.y,defaultValue:"useXDCSetting",validate:Ve=>!0})}}class Ct extends i.StringObject{constructor(me){super(e,"pageRange")}[i.$finalize](){const me=this[i.$content].trim().split(/\s+/).map(Qe=>parseInt(Qe,10)),Ve=[];for(let Qe=0,lt=me.length;Qe<lt;Qe+=2)Ve.push(me.slice(Qe,Qe+2));this[i.$content]=Ve}}class kt extends i.OptionObject{constructor(me){super(e,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class mt extends i.OptionObject{constructor(me){super(e,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Wt extends i.IntegerObject{constructor(me){super(e,"part",1,Ve=>!1)}}class et extends i.XFAObject{constructor(me){super(e,"pcl",!0),this.name=me.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class qe extends i.XFAObject{constructor(me){super(e,"pdf",!0),this.name=me.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class it extends i.XFAObject{constructor(me){super(e,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class rt extends i.XFAObject{constructor(me){super(e,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class ft extends i.Option01{constructor(me){super(e,"pickTrayByPDFSize")}}class xt extends i.StringObject{constructor(me){super(e,"picture")}}class St extends i.Option01{constructor(me){super(e,"plaintextMetadata")}}class ot extends i.OptionObject{constructor(me){super(e,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class wt extends i.XFAObject{constructor(me){super(e,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new i.XFAObjectArray,this.labelPrinter=new i.XFAObjectArray,this.pcl=new i.XFAObjectArray,this.pdf=new i.XFAObjectArray,this.ps=new i.XFAObjectArray,this.submitUrl=new i.XFAObjectArray,this.webClient=new i.XFAObjectArray,this.zpl=new i.XFAObjectArray}}class yt extends i.Option01{constructor(me){super(e,"print")}}class It extends i.Option01{constructor(me){super(e,"printHighQuality")}}class Ft extends i.OptionObject{constructor(me){super(e,"printScaling",["appdefault","noScaling"])}}class At extends i.StringObject{constructor(me){super(e,"printerName")}}class Ue extends i.StringObject{constructor(me){super(e,"producer")}}class Ye extends i.XFAObject{constructor(me){super(e,"ps",!0),this.name=me.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class at extends i.ContentObject{constructor(me){super(e,"range")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s*,\s*/,2).map(me=>me.split("-").map(Ve=>parseInt(Ve.trim(),10))).filter(me=>me.every(Ve=>!isNaN(Ve))).map(me=>(me.length===1&&me.push(me[0]),me))}}class nt extends i.ContentObject{constructor(me){super(e,"record")}[i.$finalize](){this[i.$content]=this[i.$content].trim();const me=parseInt(this[i.$content],10);!isNaN(me)&&me>=0&&(this[i.$content]=me)}}class dt extends i.ContentObject{constructor(me){super(e,"relevant")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s+/)}}class Pt extends i.ContentObject{constructor(me){super(e,"rename")}[i.$finalize](){this[i.$content]=this[i.$content].trim(),(this[i.$content].toLowerCase().startsWith("xml")||this[i.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,s.warn)("XFA - Rename: invalid XFA name")}}class zt extends i.OptionObject{constructor(me){super(e,"renderPolicy",["server","client"])}}class Ot extends i.OptionObject{constructor(me){super(e,"runScripts",["both","client","none","server"])}}class Rt extends i.XFAObject{constructor(me){super(e,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Ht extends i.OptionObject{constructor(me){super(e,"scriptModel",["XFA","none"])}}class qt extends i.OptionObject{constructor(me){super(e,"severity",["ignore","error","information","trace","warning"])}}class cn extends i.XFAObject{constructor(me){super(e,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class En extends i.XFAObject{constructor(me){super(e,"staple"),this.mode=(0,c.getStringOption)(me.mode,["usePrinterSetting","on","off"])}}class gn extends i.StringObject{constructor(me){super(e,"startNode")}}class Tn extends i.IntegerObject{constructor(me){super(e,"startPage",0,Ve=>!0)}}class kn extends i.OptionObject{constructor(me){super(e,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class zn extends i.StringObject{constructor(me){super(e,"submitUrl")}}class er extends i.IntegerObject{constructor(me){super(e,"subsetBelow",100,Ve=>Ve>=0&&Ve<=100)}}class tr extends i.Option01{constructor(me){super(e,"suppressBanner")}}class nr extends i.Option01{constructor(me){super(e,"tagged")}}class rr extends i.XFAObject{constructor(me){super(e,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class ir extends i.OptionObject{constructor(me){super(e,"threshold",["trace","error","information","warning"])}}class Vn extends i.OptionObject{constructor(me){super(e,"to",["null","memory","stderr","stdout","system","uri"])}}class Gn extends i.XFAObject{constructor(me){super(e,"templateCache"),this.maxEntries=(0,c.getInteger)({data:me.maxEntries,defaultValue:5,validate:Ve=>Ve>=0})}}class Nn extends i.XFAObject{constructor(me){super(e,"trace",!0),this.area=new i.XFAObjectArray}}class ar extends i.XFAObject{constructor(me){super(e,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class vn extends i.OptionObject{constructor(me){super(e,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Yn extends i.StringObject{constructor(me){super(e,"uri")}}class Bn extends i.OptionObject{constructor(me){super(e,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class $n extends i.ContentObject{constructor(me){super(e,"validateApprovalSignatures")}[i.$finalize](){this[i.$content]=this[i.$content].trim().split(/\s+/).filter(me=>["docReady","postSign"].includes(me))}}class hn extends i.OptionObject{constructor(me){super(e,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class pn extends i.OptionObject{constructor(me){super(e,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Fn extends i.XFAObject{constructor(me){super(e,"VersionControl"),this.outputBelow=(0,c.getStringOption)(me.outputBelow,["warn","error","update"]),this.sourceAbove=(0,c.getStringOption)(me.sourceAbove,["warn","error"]),this.sourceBelow=(0,c.getStringOption)(me.sourceBelow,["update","maintain"])}}class Kn extends i.XFAObject{constructor(me){super(e,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class sr extends i.XFAObject{constructor(me){super(e,"webClient",!0),this.name=me.name?me.name.trim():"",this.fontInfo=null,this.xdc=null}}class jn extends i.OptionObject{constructor(me){super(e,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Sn extends i.ContentObject{constructor(me){super(e,"window")}[i.$finalize](){const me=this[i.$content].trim().split(/\s*,\s*/,2).map(Ve=>parseInt(Ve,10));if(me.some(Ve=>isNaN(Ve))){this[i.$content]=[0,0];return}me.length===1&&me.push(me[0]),this[i.$content]=me}}class Un extends i.XFAObject{constructor(me){super(e,"xdc",!0),this.uri=new i.XFAObjectArray,this.xsl=new i.XFAObjectArray}}class Pn extends i.XFAObject{constructor(me){super(e,"xdp",!0),this.packets=null}}class or extends i.XFAObject{constructor(me){super(e,"xsl",!0),this.debug=null,this.uri=null}}class _n extends i.XFAObject{constructor(me){super(e,"zpl",!0),this.name=me.name?me.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ke{static[t.$buildXFAObject](me,Ve){if(Ke.hasOwnProperty(me))return Ke[me](Ve)}static acrobat(me){return new u(me)}static acrobat7(me){return new m(me)}static ADBE_JSConsole(me){return new g(me)}static ADBE_JSDebugger(me){return new y(me)}static addSilentPrint(me){return new b(me)}static addViewerPreferences(me){return new v(me)}static adjustData(me){return new o(me)}static adobeExtensionLevel(me){return new S(me)}static agent(me){return new T(me)}static alwaysEmbed(me){return new E(me)}static amd(me){return new k(me)}static area(me){return new M(me)}static attributes(me){return new O(me)}static autoSave(me){return new L(me)}static base(me){return new te(me)}static batchOutput(me){return new B(me)}static behaviorOverride(me){return new G(me)}static cache(me){return new R(me)}static change(me){return new I(me)}static common(me){return new U(me)}static compress(me){return new P(me)}static compressLogicalStructure(me){return new A(me)}static compressObjectStream(me){return new z(me)}static compression(me){return new N(me)}static config(me){return new W(me)}static conformance(me){return new ie(me)}static contentCopy(me){return new Y(me)}static copies(me){return new F(me)}static creator(me){return new D(me)}static currentPage(me){return new Q(me)}static data(me){return new ee(me)}static debug(me){return new V(me)}static defaultTypeface(me){return new Z(me)}static destination(me){return new ae(me)}static documentAssembly(me){return new H(me)}static driver(me){return new q(me)}static duplexOption(me){return new ne(me)}static dynamicRender(me){return new le(me)}static embed(me){return new se(me)}static encrypt(me){return new J(me)}static encryption(me){return new re(me)}static encryptionLevel(me){return new oe(me)}static enforce(me){return new ue(me)}static equate(me){return new he(me)}static equateRange(me){return new de(me)}static exclude(me){return new pe(me)}static excludeNS(me){return new fe(me)}static flipLabel(me){return new be(me)}static fontInfo(me){return new ge(me)}static formFieldFilling(me){return new Se(me)}static groupParent(me){return new ve(me)}static ifEmpty(me){return new we(me)}static includeXDPContent(me){return new Fe(me)}static incrementalLoad(me){return new Ce(me)}static incrementalMerge(me){return new ye(me)}static interactive(me){return new ke(me)}static jog(me){return new De(me)}static labelPrinter(me){return new Ie(me)}static layout(me){return new Me(me)}static level(me){return new Ne(me)}static linearized(me){return new Re(me)}static locale(me){return new Oe(me)}static localeSet(me){return new Le(me)}static log(me){return new Pe(me)}static map(me){return new $e(me)}static mediumInfo(me){return new je(me)}static message(me){return new Te(me)}static messaging(me){return new Ae(me)}static mode(me){return new Ee(me)}static modifyAnnots(me){return new Be(me)}static msgId(me){return new ze(me)}static nameAttr(me){return new We(me)}static neverEmbed(me){return new tt(me)}static numberOfCopies(me){return new Ze(me)}static openAction(me){return new Xe(me)}static output(me){return new st(me)}static outputBin(me){return new gt(me)}static outputXSL(me){return new Ge(me)}static overprint(me){return new ht(me)}static packets(me){return new ct(me)}static pageOffset(me){return new pt(me)}static pageRange(me){return new Ct(me)}static pagination(me){return new kt(me)}static paginationOverride(me){return new mt(me)}static part(me){return new Wt(me)}static pcl(me){return new et(me)}static pdf(me){return new qe(me)}static pdfa(me){return new it(me)}static permissions(me){return new rt(me)}static pickTrayByPDFSize(me){return new ft(me)}static picture(me){return new xt(me)}static plaintextMetadata(me){return new St(me)}static presence(me){return new ot(me)}static present(me){return new wt(me)}static print(me){return new yt(me)}static printHighQuality(me){return new It(me)}static printScaling(me){return new Ft(me)}static printerName(me){return new At(me)}static producer(me){return new Ue(me)}static ps(me){return new Ye(me)}static range(me){return new at(me)}static record(me){return new nt(me)}static relevant(me){return new dt(me)}static rename(me){return new Pt(me)}static renderPolicy(me){return new zt(me)}static runScripts(me){return new Ot(me)}static script(me){return new Rt(me)}static scriptModel(me){return new Ht(me)}static severity(me){return new qt(me)}static silentPrint(me){return new cn(me)}static staple(me){return new En(me)}static startNode(me){return new gn(me)}static startPage(me){return new Tn(me)}static submitFormat(me){return new kn(me)}static submitUrl(me){return new zn(me)}static subsetBelow(me){return new er(me)}static suppressBanner(me){return new tr(me)}static tagged(me){return new nr(me)}static template(me){return new rr(me)}static templateCache(me){return new Gn(me)}static threshold(me){return new ir(me)}static to(me){return new Vn(me)}static trace(me){return new Nn(me)}static transform(me){return new ar(me)}static type(me){return new vn(me)}static uri(me){return new Yn(me)}static validate(me){return new Bn(me)}static validateApprovalSignatures(me){return new $n(me)}static validationMessaging(me){return new hn(me)}static version(me){return new pn(me)}static versionControl(me){return new Fn(me)}static viewerPreferences(me){return new Kn(me)}static webClient(me){return new sr(me)}static whitespace(me){return new jn(me)}static window(me){return new Sn(me)}static xdc(me){return new Un(me)}static xdp(me){return new Pn(me)}static xsl(me){return new or(me)}static zpl(me){return new _n(me)}}l.ConfigNamespace=Ke},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ConnectionSetNamespace=void 0;var t=a(204),i=a(202);const c=t.NamespaceIds.connectionSet.id;class s extends i.XFAObject{constructor(O){super(c,"connectionSet",!0),this.wsdlConnection=new i.XFAObjectArray,this.xmlConnection=new i.XFAObjectArray,this.xsdConnection=new i.XFAObjectArray}}class e extends i.XFAObject{constructor(O){super(c,"effectiveInputPolicy"),this.id=O.id||"",this.name=O.name||"",this.use=O.use||"",this.usehref=O.usehref||""}}class u extends i.XFAObject{constructor(O){super(c,"effectiveOutputPolicy"),this.id=O.id||"",this.name=O.name||"",this.use=O.use||"",this.usehref=O.usehref||""}}class m extends i.StringObject{constructor(O){super(c,"operation"),this.id=O.id||"",this.input=O.input||"",this.name=O.name||"",this.output=O.output||"",this.use=O.use||"",this.usehref=O.usehref||""}}class g extends i.StringObject{constructor(O){super(c,"rootElement"),this.id=O.id||"",this.name=O.name||"",this.use=O.use||"",this.usehref=O.usehref||""}}class y extends i.StringObject{constructor(O){super(c,"soapAction"),this.id=O.id||"",this.name=O.name||"",this.use=O.use||"",this.usehref=O.usehref||""}}class b extends i.StringObject{constructor(O){super(c,"soapAddress"),this.id=O.id||"",this.name=O.name||"",this.use=O.use||"",this.usehref=O.usehref||""}}class v extends i.StringObject{constructor(O){super(c,"uri"),this.id=O.id||"",this.name=O.name||"",this.use=O.use||"",this.usehref=O.usehref||""}}class o extends i.StringObject{constructor(O){super(c,"wsdlAddress"),this.id=O.id||"",this.name=O.name||"",this.use=O.use||"",this.usehref=O.usehref||""}}class S extends i.XFAObject{constructor(O){super(c,"wsdlConnection",!0),this.dataDescription=O.dataDescription||"",this.name=O.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class T extends i.XFAObject{constructor(O){super(c,"xmlConnection",!0),this.dataDescription=O.dataDescription||"",this.name=O.name||"",this.uri=null}}class E extends i.XFAObject{constructor(O){super(c,"xsdConnection",!0),this.dataDescription=O.dataDescription||"",this.name=O.name||"",this.rootElement=null,this.uri=null}}class k{static[t.$buildXFAObject](O,L){if(k.hasOwnProperty(O))return k[O](L)}static connectionSet(O){return new s(O)}static effectiveInputPolicy(O){return new e(O)}static effectiveOutputPolicy(O){return new u(O)}static operation(O){return new m(O)}static rootElement(O){return new g(O)}static soapAction(O){return new y(O)}static soapAddress(O){return new b(O)}static uri(O){return new v(O)}static wsdlAddress(O){return new o(O)}static wsdlConnection(O){return new S(O)}static xmlConnection(O){return new T(O)}static xsdConnection(O){return new E(O)}}l.ConnectionSetNamespace=k},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DatasetsNamespace=void 0;var t=a(202),i=a(204);const c=i.NamespaceIds.datasets.id;class s extends t.XmlObject{constructor(g){super(c,"data",g)}[t.$isNsAgnostic](){return!0}}class e extends t.XFAObject{constructor(g){super(c,"datasets",!0),this.data=null,this.Signature=null}[t.$onChild](g){const y=g[t.$nodeName];(y==="data"&&g[t.$namespaceId]===c||y==="Signature"&&g[t.$namespaceId]===i.NamespaceIds.signature.id)&&(this[y]=g),this[t.$appendChild](g)}}class u{static[i.$buildXFAObject](g,y){if(u.hasOwnProperty(g))return u[g](y)}static datasets(g){return new e(g)}static data(g){return new s(g)}}l.DatasetsNamespace=u},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LocaleSetNamespace=void 0;var t=a(204),i=a(202),c=a(203);const s=t.NamespaceIds.localeSet.id;class e extends i.XFAObject{constructor(ie){super(s,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new i.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new i.XFAObjectArray(2)}}class u extends i.StringObject{constructor(ie){super(s,"currencySymbol"),this.name=(0,c.getStringOption)(ie.name,["symbol","isoname","decimal"])}}class m extends i.XFAObject{constructor(ie){super(s,"currencySymbols",!0),this.currencySymbol=new i.XFAObjectArray(3)}}class g extends i.StringObject{constructor(ie){super(s,"datePattern"),this.name=(0,c.getStringOption)(ie.name,["full","long","med","short"])}}class y extends i.XFAObject{constructor(ie){super(s,"datePatterns",!0),this.datePattern=new i.XFAObjectArray(4)}}class b extends i.ContentObject{constructor(ie){super(s,"dateTimeSymbols")}}class v extends i.StringObject{constructor(ie){super(s,"day")}}class o extends i.XFAObject{constructor(ie){super(s,"dayNames",!0),this.abbr=(0,c.getInteger)({data:ie.abbr,defaultValue:0,validate:Y=>Y===1}),this.day=new i.XFAObjectArray(7)}}class S extends i.StringObject{constructor(ie){super(s,"era")}}class T extends i.XFAObject{constructor(ie){super(s,"eraNames",!0),this.era=new i.XFAObjectArray(2)}}class E extends i.XFAObject{constructor(ie){super(s,"locale",!0),this.desc=ie.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class k extends i.XFAObject{constructor(ie){super(s,"localeSet",!0),this.locale=new i.XFAObjectArray}}class M extends i.StringObject{constructor(ie){super(s,"meridiem")}}class O extends i.XFAObject{constructor(ie){super(s,"meridiemNames",!0),this.meridiem=new i.XFAObjectArray(2)}}class L extends i.StringObject{constructor(ie){super(s,"month")}}class te extends i.XFAObject{constructor(ie){super(s,"monthNames",!0),this.abbr=(0,c.getInteger)({data:ie.abbr,defaultValue:0,validate:Y=>Y===1}),this.month=new i.XFAObjectArray(12)}}class B extends i.StringObject{constructor(ie){super(s,"numberPattern"),this.name=(0,c.getStringOption)(ie.name,["full","long","med","short"])}}class G extends i.XFAObject{constructor(ie){super(s,"numberPatterns",!0),this.numberPattern=new i.XFAObjectArray(4)}}class R extends i.StringObject{constructor(ie){super(s,"numberSymbol"),this.name=(0,c.getStringOption)(ie.name,["decimal","grouping","percent","minus","zero"])}}class I extends i.XFAObject{constructor(ie){super(s,"numberSymbols",!0),this.numberSymbol=new i.XFAObjectArray(5)}}class U extends i.StringObject{constructor(ie){super(s,"timePattern"),this.name=(0,c.getStringOption)(ie.name,["full","long","med","short"])}}class P extends i.XFAObject{constructor(ie){super(s,"timePatterns",!0),this.timePattern=new i.XFAObjectArray(4)}}class A extends i.XFAObject{constructor(ie){super(s,"typeFace",!0),this.name=ie.name|""}}class z extends i.XFAObject{constructor(ie){super(s,"typeFaces",!0),this.typeFace=new i.XFAObjectArray}}class N{static[t.$buildXFAObject](ie,Y){if(N.hasOwnProperty(ie))return N[ie](Y)}static calendarSymbols(ie){return new e(ie)}static currencySymbol(ie){return new u(ie)}static currencySymbols(ie){return new m(ie)}static datePattern(ie){return new g(ie)}static datePatterns(ie){return new y(ie)}static dateTimeSymbols(ie){return new b(ie)}static day(ie){return new v(ie)}static dayNames(ie){return new o(ie)}static era(ie){return new S(ie)}static eraNames(ie){return new T(ie)}static locale(ie){return new E(ie)}static localeSet(ie){return new k(ie)}static meridiem(ie){return new M(ie)}static meridiemNames(ie){return new O(ie)}static month(ie){return new L(ie)}static monthNames(ie){return new te(ie)}static numberPattern(ie){return new B(ie)}static numberPatterns(ie){return new G(ie)}static numberSymbol(ie){return new R(ie)}static numberSymbols(ie){return new I(ie)}static timePattern(ie){return new U(ie)}static timePatterns(ie){return new P(ie)}static typeFace(ie){return new A(ie)}static typeFaces(ie){return new z(ie)}}l.LocaleSetNamespace=N},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SignatureNamespace=void 0;var t=a(204),i=a(202);const c=t.NamespaceIds.signature.id;class s extends i.XFAObject{constructor(m){super(c,"signature",!0)}}class e{static[t.$buildXFAObject](m,g){if(e.hasOwnProperty(m))return e[m](g)}static signature(m){return new s(m)}}l.SignatureNamespace=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StylesheetNamespace=void 0;var t=a(204),i=a(202);const c=t.NamespaceIds.stylesheet.id;class s extends i.XFAObject{constructor(m){super(c,"stylesheet",!0)}}class e{static[t.$buildXFAObject](m,g){if(e.hasOwnProperty(m))return e[m](g)}static stylesheet(m){return new s(m)}}l.StylesheetNamespace=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XdpNamespace=void 0;var t=a(204),i=a(202);const c=t.NamespaceIds.xdp.id;class s extends i.XFAObject{constructor(m){super(c,"xdp",!0),this.uuid=m.uuid||"",this.timeStamp=m.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new i.XFAObjectArray,this.template=null}[i.$onChildCheck](m){const g=t.NamespaceIds[m[i.$nodeName]];return g&&m[i.$namespaceId]===g.id}}class e{static[t.$buildXFAObject](m,g){if(e.hasOwnProperty(m))return e[m](g)}static xdp(m){return new s(m)}}l.XdpNamespace=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XhtmlNamespace=void 0;var t=a(202),i=a(204),c=a(209),s=a(203);const e=i.NamespaceIds.xhtml.id,u=Symbol(),m=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),g=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",W=>W==="none"?"none":"normal"],["xfa-font-horizontal-scale",W=>`scaleX(${Math.max(0,Math.min(parseInt(W)/100)).toFixed(2)})`],["xfa-font-vertical-scale",W=>`scaleY(${Math.max(0,Math.min(parseInt(W)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(W,ie)=>(W=ie.fontSize=(0,s.getMeasurement)(W),(0,c.measureToString)(.99*W))],["letter-spacing",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["line-height",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["margin",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["margin-bottom",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["margin-left",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["margin-right",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["margin-top",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["text-indent",W=>(0,c.measureToString)((0,s.getMeasurement)(W))],["font-family",W=>W],["vertical-align",W=>(0,c.measureToString)((0,s.getMeasurement)(W))]]),y=/\s+/g,b=/[\r\n]+/g,v=/\r\n?/g;function o(W,ie,Y){const F=Object.create(null);if(!W)return F;const D=Object.create(null);for(const[Q,ee]of W.split(";").map(V=>V.split(":",2))){const V=g.get(Q);if(V==="")continue;let Z=ee;V&&(typeof V=="string"?Z=V:Z=V(ee,D)),Q.endsWith("scale")?F.transform?F.transform=`${F[Q]} ${Z}`:F.transform=Z:F[Q.replaceAll(/-([a-zA-Z])/g,(ae,H)=>H.toUpperCase())]=Z}if(F.fontFamily&&(0,c.setFontFamily)({typeface:F.fontFamily,weight:F.fontWeight||"normal",posture:F.fontStyle||"normal",size:D.fontSize||0},ie,ie[t.$globalData].fontFinder,F),Y&&F.verticalAlign&&F.verticalAlign!=="0px"&&F.fontSize){const V=(0,s.getMeasurement)(F.fontSize);F.fontSize=(0,c.measureToString)(V*.583),F.verticalAlign=(0,c.measureToString)(Math.sign((0,s.getMeasurement)(F.verticalAlign))*V*.333)}return Y&&F.fontSize&&(F.fontSize=`calc(${F.fontSize} * var(--scale-factor))`),(0,c.fixTextIndent)(F),F}function S(W){return W.style?W.style.trim().split(/\s*;\s*/).filter(ie=>!!ie).map(ie=>ie.split(/\s*:\s*/,2)).filter(ie=>{let[Y,F]=ie;return Y==="font-family"&&W[t.$globalData].usedTypefaces.add(F),m.has(Y)}).map(ie=>ie.join(":")).join(";"):""}const T=new Set(["body","html"]);class E extends t.XmlObject{constructor(ie,Y){super(e,Y),this[u]=!1,this.style=ie.style||""}[t.$clean](ie){super[t.$clean](ie),this.style=S(this)}[t.$acceptWhitespace](){return!T.has(this[t.$nodeName])}[t.$onText](ie){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?this[u]=!0:(ie=ie.replace(b,""),this.style.includes("xfa-spacerun:yes")||(ie=ie.replace(y," "))),ie&&(this[t.$content]+=ie)}[t.$pushGlyphs](ie){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const F=Object.create(null),D={top:NaN,bottom:NaN,left:NaN,right:NaN};let Q=null;for(const[ee,V]of this.style.split(";").map(Z=>Z.split(":",2)))switch(ee){case"font-family":F.typeface=(0,s.stripQuotes)(V);break;case"font-size":F.size=(0,s.getMeasurement)(V);break;case"font-weight":F.weight=V;break;case"font-style":F.posture=V;break;case"letter-spacing":F.letterSpacing=(0,s.getMeasurement)(V);break;case"margin":const Z=V.split(/ \t/).map(ae=>(0,s.getMeasurement)(ae));switch(Z.length){case 1:D.top=D.bottom=D.left=D.right=Z[0];break;case 2:D.top=D.bottom=Z[0],D.left=D.right=Z[1];break;case 3:D.top=Z[0],D.bottom=Z[2],D.left=D.right=Z[1];break;case 4:D.top=Z[0],D.left=Z[1],D.bottom=Z[2],D.right=Z[3];break}break;case"margin-top":D.top=(0,s.getMeasurement)(V);break;case"margin-bottom":D.bottom=(0,s.getMeasurement)(V);break;case"margin-left":D.left=(0,s.getMeasurement)(V);break;case"margin-right":D.right=(0,s.getMeasurement)(V);break;case"line-height":Q=(0,s.getMeasurement)(V);break}if(ie.pushData(F,D,Q),this[t.$content])ie.addString(this[t.$content]);else for(const ee of this[t.$getChildren]()){if(ee[t.$nodeName]==="#text"){ie.addString(ee[t.$content]);continue}ee[t.$pushGlyphs](ie)}Y&&ie.popFont()}[t.$toHTML](ie){const Y=[];if(this[t.$extra]={children:Y},this[t.$childrenToHTML]({}),Y.length===0&&!this[t.$content])return s.HTMLResult.EMPTY;let F;return this[u]?F=this[t.$content]?this[t.$content].replace(v,`
`):void 0:F=this[t.$content]||void 0,s.HTMLResult.success({name:this[t.$nodeName],attributes:{href:this.href,style:o(this.style,this,this[u])},children:Y,value:F})}}class k extends E{constructor(ie){super(ie,"a"),this.href=(0,c.fixURL)(ie.href)||""}}class M extends E{constructor(ie){super(ie,"b")}[t.$pushGlyphs](ie){ie.pushFont({weight:"bold"}),super[t.$pushGlyphs](ie),ie.popFont()}}class O extends E{constructor(ie){super(ie,"body")}[t.$toHTML](ie){const Y=super[t.$toHTML](ie),{html:F}=Y;return F?(F.name="div",F.attributes.class=["xfaRich"],Y):s.HTMLResult.EMPTY}}class L extends E{constructor(ie){super(ie,"br")}[t.$text](){return`
`}[t.$pushGlyphs](ie){ie.addString(`
`)}[t.$toHTML](ie){return s.HTMLResult.success({name:"br"})}}class te extends E{constructor(ie){super(ie,"html")}[t.$toHTML](ie){const Y=[];if(this[t.$extra]={children:Y},this[t.$childrenToHTML]({}),Y.length===0)return s.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[t.$content]||""});if(Y.length===1){const F=Y[0];if(F.attributes&&F.attributes.class.includes("xfaRich"))return s.HTMLResult.success(F)}return s.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:Y})}}class B extends E{constructor(ie){super(ie,"i")}[t.$pushGlyphs](ie){ie.pushFont({posture:"italic"}),super[t.$pushGlyphs](ie),ie.popFont()}}class G extends E{constructor(ie){super(ie,"li")}}class R extends E{constructor(ie){super(ie,"ol")}}class I extends E{constructor(ie){super(ie,"p")}[t.$pushGlyphs](ie){super[t.$pushGlyphs](ie,!1),ie.addString(`
`),ie.addPara(),ie.popFont()}[t.$text](){return this[t.$getParent]()[t.$getChildren]().at(-1)===this?super[t.$text]():super[t.$text]()+`
`}}class U extends E{constructor(ie){super(ie,"span")}}class P extends E{constructor(ie){super(ie,"sub")}}class A extends E{constructor(ie){super(ie,"sup")}}class z extends E{constructor(ie){super(ie,"ul")}}class N{static[i.$buildXFAObject](ie,Y){if(N.hasOwnProperty(ie))return N[ie](Y)}static a(ie){return new k(ie)}static b(ie){return new M(ie)}static body(ie){return new O(ie)}static br(ie){return new L(ie)}static html(ie){return new te(ie)}static i(ie){return new B(ie)}static li(ie){return new G(ie)}static ol(ie){return new R(ie)}static p(ie){return new I(ie)}static span(ie){return new U(ie)}static sub(ie){return new P(ie)}static sup(ie){return new A(ie)}static ul(ie){return new z(ie)}}l.XhtmlNamespace=N},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnknownNamespace=void 0;var t=a(204),i=a(202);class c{constructor(e){this.namespaceId=e}[t.$buildXFAObject](e,u){return new i.XmlObject(this.namespaceId,e,u)}}l.UnknownNamespace=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DatasetReader=void 0;var t=a(2),i=a(131),c=a(191);function s(m){try{return(0,t.stringToUTF8String)(m)}catch(g){return(0,t.warn)(`UTF-8 decoding failed: "${g}".`),m}}class e extends c.SimpleXMLParser{constructor(g){super(g),this.node=null}onEndElement(g){const y=super.onEndElement(g);if(y&&g==="xfa:datasets")throw this.node=y,new Error("Aborting DatasetXMLParser.")}}class u{constructor(g){if(g.datasets)this.node=new c.SimpleXMLParser({hasAttributes:!0}).parseFromString(g.datasets).documentElement;else{const y=new e({hasAttributes:!0});try{y.parseFromString(g["xdp:xdp"])}catch{}this.node=y.node}}getValue(g){if(!this.node||!g)return"";const y=this.node.searchNode((0,i.parseXFAPath)(g),0);if(!y)return"";const b=y.firstChild;return b&&b.nodeName==="value"?y.children.map(v=>s(v.textContent)):s(y.textContent)}}l.DatasetReader=u},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XRef=void 0;var t=a(2),i=a(130),c=a(131),s=a(142),e=a(132),u=a(192);class m{constructor(y,b){this.stream=y,this.pdfManager=b,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new i.RefSet,this.stats=new c.DocStats(b.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),i.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(y){this.startXRefQueue=[y]}parse(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,b;y?((0,t.warn)("Indexing all PDF objects"),b=this.indexObjects()):b=this.readXRef(),b.assignXref(this),this.trailer=b;let v;try{v=b.get("Encrypt")}catch(S){if(S instanceof c.MissingDataException)throw S;(0,t.warn)(`XRef.parse - Invalid "Encrypt" reference: "${S}".`)}if(v instanceof i.Dict){const S=b.get("ID"),T=S&&S.length?S[0]:"";v.suppressEncryption=!0,this.encrypt=new u.CipherTransformFactory(v,T,this.pdfManager.password)}let o;try{o=b.get("Root")}catch(S){if(S instanceof c.MissingDataException)throw S;(0,t.warn)(`XRef.parse - Invalid "Root" reference: "${S}".`)}if(o instanceof i.Dict)try{if(o.get("Pages")instanceof i.Dict){this.root=o;return}}catch(S){if(S instanceof c.MissingDataException)throw S;(0,t.warn)(`XRef.parse - Invalid "Pages" reference: "${S}".`)}throw y?new t.InvalidPDFException("Invalid Root reference."):new c.XRefParseException}processXRefTable(y){"tableState"in this||(this.tableState={entryNum:0,streamPos:y.lexer.stream.pos,parserBuf1:y.buf1,parserBuf2:y.buf2});const b=this.readXRefTable(y);if(!(0,i.isCmd)(b,"trailer"))throw new t.FormatError("Invalid XRef table: could not find trailer dictionary");let v=y.getObj();if(!(v instanceof i.Dict)&&v.dict&&(v=v.dict),!(v instanceof i.Dict))throw new t.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,v}readXRefTable(y){const b=y.lexer.stream,v=this.tableState;b.pos=v.streamPos,y.buf1=v.parserBuf1,y.buf2=v.parserBuf2;let o;for(;;){if(!("firstEntryNum"in v)||!("entryCount"in v)){if((0,i.isCmd)(o=y.getObj(),"trailer"))break;v.firstEntryNum=o,v.entryCount=y.getObj()}let S=v.firstEntryNum;const T=v.entryCount;if(!Number.isInteger(S)||!Number.isInteger(T))throw new t.FormatError("Invalid XRef table: wrong types in subsection header");for(let E=v.entryNum;E<T;E++){v.streamPos=b.pos,v.entryNum=E,v.parserBuf1=y.buf1,v.parserBuf2=y.buf2;const k={};k.offset=y.getObj(),k.gen=y.getObj();const M=y.getObj();if(M instanceof i.Cmd)switch(M.cmd){case"f":k.free=!0;break;case"n":k.uncompressed=!0;break}if(!Number.isInteger(k.offset)||!Number.isInteger(k.gen)||!(k.free||k.uncompressed))throw new t.FormatError(`Invalid entry in XRef subsection: ${S}, ${T}`);E===0&&k.free&&S===1&&(S=0),this.entries[E+S]||(this.entries[E+S]=k)}v.entryNum=0,v.streamPos=b.pos,v.parserBuf1=y.buf1,v.parserBuf2=y.buf2,delete v.firstEntryNum,delete v.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new t.FormatError("Invalid XRef table: unexpected first object");return o}processXRefStream(y){if(!("streamState"in this)){const b=y.dict,v=b.get("W");let o=b.get("Index");o||(o=[0,b.get("Size")]),this.streamState={entryRanges:o,byteWidths:v,entryNum:0,streamPos:y.pos}}return this.readXRefStream(y),delete this.streamState,y.dict}readXRefStream(y){const b=this.streamState;y.pos=b.streamPos;const[v,o,S]=b.byteWidths,T=b.entryRanges;for(;T.length>0;){const[E,k]=T;if(!Number.isInteger(E)||!Number.isInteger(k))throw new t.FormatError(`Invalid XRef range fields: ${E}, ${k}`);if(!Number.isInteger(v)||!Number.isInteger(o)||!Number.isInteger(S))throw new t.FormatError(`Invalid XRef entry fields length: ${E}, ${k}`);for(let M=b.entryNum;M<k;++M){b.entryNum=M,b.streamPos=y.pos;let O=0,L=0,te=0;for(let G=0;G<v;++G){const R=y.getByte();if(R===-1)throw new t.FormatError("Invalid XRef byteWidths 'type'.");O=O<<8|R}v===0&&(O=1);for(let G=0;G<o;++G){const R=y.getByte();if(R===-1)throw new t.FormatError("Invalid XRef byteWidths 'offset'.");L=L<<8|R}for(let G=0;G<S;++G){const R=y.getByte();if(R===-1)throw new t.FormatError("Invalid XRef byteWidths 'generation'.");te=te<<8|R}const B={};switch(B.offset=L,B.gen=te,O){case 0:B.free=!0;break;case 1:B.uncompressed=!0;break;case 2:break;default:throw new t.FormatError(`Invalid XRef entry type: ${O}`)}this.entries[E+M]||(this.entries[E+M]=B)}b.entryNum=0,b.streamPos=y.pos,T.splice(0,2)}}indexObjects(){function E(Y,F){let D="",Q=Y[F];for(;Q!==10&&Q!==13&&Q!==60&&!(++F>=Y.length);)D+=String.fromCharCode(Q),Q=Y[F];return D}function k(Y,F,D){const Q=D.length,ee=Y.length;let V=0;for(;F<ee;){let Z=0;for(;Z<Q&&Y[F+Z]===D[Z];)++Z;if(Z>=Q)break;F++,V++}return V}const M=/^(\d+)\s+(\d+)\s+obj\b/,O=/\bendobj[\b\s]$/,L=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,te=25,B=new Uint8Array([116,114,97,105,108,101,114]),G=new Uint8Array([115,116,97,114,116,120,114,101,102]),R=new Uint8Array([111,98,106]),I=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const U=this.stream;U.pos=0;const P=U.getBytes(),A=P.length;let z=U.start;const N=[],W=[];for(;z<A;){let Y=P[z];if(Y===9||Y===10||Y===13||Y===32){++z;continue}if(Y===37){do{if(++z,z>=A)break;Y=P[z]}while(Y!==10&&Y!==13);continue}const F=E(P,z);let D;if(F.startsWith("xref")&&(F.length===4||/\s/.test(F[4])))z+=k(P,z,B),N.push(z),z+=k(P,z,G);else if(D=M.exec(F)){const Q=D[1]|0,ee=D[2]|0;let V,Z=z+F.length,ae=!1;if(!this.entries[Q])ae=!0;else if(this.entries[Q].gen===ee)try{new s.Parser({lexer:new s.Lexer(U.makeSubStream(Z))}).getObj(),ae=!0}catch(ne){ne instanceof c.ParserEOFException?(0,t.warn)(`indexObjects -- checking object (${F}): "${ne}".`):ae=!0}for(ae&&(this.entries[Q]={offset:z-U.start,gen:ee,uncompressed:!0});Z<P.length;){const ne=Z+k(P,Z,R)+4;V=ne-z;const le=Math.max(ne-te,Z),se=(0,t.bytesToString)(P.subarray(le,ne));if(O.test(se))break;{const J=L.exec(se);if(J&&J[1]){(0,t.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),V-=J[1].length;break}}Z=ne}const H=P.subarray(z,z+V),q=k(H,0,I);q<V&&H[q+5]<64&&(W.push(z-U.start),this.xrefstms[z-U.start]=1),z+=V}else F.startsWith("trailer")&&(F.length===7||/\s/.test(F[7]))?(N.push(z),z+=k(P,z,G)):z+=F.length+1}for(let Y=0,F=W.length;Y<F;++Y)this.startXRefQueue.push(W[Y]),this.readXRef(!0);let ie;for(let Y=0,F=N.length;Y<F;++Y){U.pos=N[Y];const D=new s.Parser({lexer:new s.Lexer(U),xref:this,allowStreams:!0,recoveryMode:!0}),Q=D.getObj();if(!(0,i.isCmd)(Q,"trailer"))continue;const ee=D.getObj();if(ee instanceof i.Dict){try{const V=ee.get("Root");if(!(V instanceof i.Dict))continue;const Z=V.get("Pages");if(!(Z instanceof i.Dict))continue;const ae=Z.get("Count");if(!Number.isInteger(ae))continue}catch{continue}if(ee.has("ID"))return ee;ie=ee}}if(ie)return ie;if(this.topDict)return this.topDict;throw new t.InvalidPDFException("Invalid PDF structure.")}readXRef(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const b=this.stream,v=new Set;try{for(;this.startXRefQueue.length;){const o=this.startXRefQueue[0];if(v.has(o)){(0,t.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}v.add(o),b.pos=o+b.start;const S=new s.Parser({lexer:new s.Lexer(b),xref:this,allowStreams:!0});let T=S.getObj(),E;if((0,i.isCmd)(T,"xref")){if(E=this.processXRefTable(S),this.topDict||(this.topDict=E),T=E.get("XRefStm"),Number.isInteger(T)){const k=T;k in this.xrefstms||(this.xrefstms[k]=1,this.startXRefQueue.push(k))}}else if(Number.isInteger(T)){if(!Number.isInteger(S.getObj())||!(0,i.isCmd)(S.getObj(),"obj")||!((T=S.getObj())instanceof e.BaseStream))throw new t.FormatError("Invalid XRef stream");if(E=this.processXRefStream(T),this.topDict||(this.topDict=E),!E)throw new t.FormatError("Failed to read XRef stream")}else throw new t.FormatError("Invalid XRef stream header");T=E.get("Prev"),Number.isInteger(T)?this.startXRefQueue.push(T):T instanceof i.Ref&&this.startXRefQueue.push(T.num),this.startXRefQueue.shift()}return this.topDict}catch(o){if(o instanceof c.MissingDataException)throw o;(0,t.info)("(while reading XRef): "+o),this.startXRefQueue.shift()}if(!y)throw new c.XRefParseException}getEntry(y){const b=this.entries[y];return b&&!b.free&&b.offset?b:null}fetchIfRef(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return y instanceof i.Ref?this.fetch(y,b):y}fetch(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(y instanceof i.Ref))throw new Error("ref object is not a reference");const v=y.num,o=this._cacheMap.get(v);if(o!==void 0)return o instanceof i.Dict&&!o.objId&&(o.objId=y.toString()),o;let S=this.getEntry(v);if(S===null)return this._cacheMap.set(v,S),S;if(this._pendingRefs.has(y))return this._pendingRefs.remove(y),(0,t.warn)(`Ignoring circular reference: ${y}.`),i.CIRCULAR_REF;this._pendingRefs.put(y);try{S.uncompressed?S=this.fetchUncompressed(y,S,b):S=this.fetchCompressed(y,S,b),this._pendingRefs.remove(y)}catch(T){throw this._pendingRefs.remove(y),T}return S instanceof i.Dict?S.objId=y.toString():S instanceof e.BaseStream&&(S.dict.objId=y.toString()),S}fetchUncompressed(y,b){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=y.gen;let S=y.num;if(b.gen!==o)throw new c.XRefEntryException(`Inconsistent generation in XRef: ${y}`);const T=this.stream.makeSubStream(b.offset+this.stream.start),E=new s.Parser({lexer:new s.Lexer(T),xref:this,allowStreams:!0}),k=E.getObj(),M=E.getObj(),O=E.getObj();if(k!==S||M!==o||!(O instanceof i.Cmd))throw new c.XRefEntryException(`Bad (uncompressed) XRef entry: ${y}`);if(O.cmd!=="obj"){if(O.cmd.startsWith("obj")&&(S=parseInt(O.cmd.substring(3),10),!Number.isNaN(S)))return S;throw new c.XRefEntryException(`Bad (uncompressed) XRef entry: ${y}`)}return this.encrypt&&!v?b=E.getObj(this.encrypt.createCipherTransform(S,o)):b=E.getObj(),b instanceof e.BaseStream||this._cacheMap.set(S,b),b}fetchCompressed(y,b){const v=b.offset,o=this.fetch(i.Ref.get(v,0));if(!(o instanceof e.BaseStream))throw new t.FormatError("bad ObjStm stream");const S=o.dict.get("First"),T=o.dict.get("N");if(!Number.isInteger(S)||!Number.isInteger(T))throw new t.FormatError("invalid first and n parameters for ObjStm stream");let E=new s.Parser({lexer:new s.Lexer(o),xref:this,allowStreams:!0});const k=new Array(T),M=new Array(T);for(let te=0;te<T;++te){const B=E.getObj();if(!Number.isInteger(B))throw new t.FormatError(`invalid object number in the ObjStm stream: ${B}`);const G=E.getObj();if(!Number.isInteger(G))throw new t.FormatError(`invalid object offset in the ObjStm stream: ${G}`);k[te]=B,M[te]=G}const O=(o.start||0)+S,L=new Array(T);for(let te=0;te<T;++te){const B=te<T-1?M[te+1]-M[te]:void 0;if(B<0)throw new t.FormatError("Invalid offset in the ObjStm stream.");E=new s.Parser({lexer:new s.Lexer(o.makeSubStream(O+M[te],B,o.dict)),xref:this,allowStreams:!0});const G=E.getObj();if(L[te]=G,G instanceof e.BaseStream)continue;const R=k[te],I=this.entries[R];I&&I.offset===v&&I.gen===te&&this._cacheMap.set(R,G)}if(b=L[b.gen],b===void 0)throw new c.XRefEntryException(`Bad (compressed) XRef entry: ${y}`);return b}async fetchIfRefAsync(y,b){return y instanceof i.Ref?this.fetchAsync(y,b):y}async fetchAsync(y,b){try{return this.fetch(y,b)}catch(v){if(!(v instanceof c.MissingDataException))throw v;return await this.pdfManager.requestRange(v.begin,v.end),this.fetchAsync(y,b)}}getCatalogObj(){return this.root}}l.XRef=m},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MessageHandler=void 0;var t=a(2);const i={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function s(u){switch(u instanceof Error||typeof u=="object"&&u!==null||(0,t.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new t.AbortException(u.message);case"MissingPDFException":return new t.MissingPDFException(u.message);case"PasswordException":return new t.PasswordException(u.message,u.code);case"UnexpectedResponseException":return new t.UnexpectedResponseException(u.message,u.status);case"UnknownErrorException":return new t.UnknownErrorException(u.message,u.details);default:return new t.UnknownErrorException(u.message,u.toString())}}class e{constructor(m,g,y){this.sourceName=m,this.targetName=g,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=b=>{const v=b.data;if(v.targetName!==this.sourceName)return;if(v.stream){this._processStreamMessage(v);return}if(v.callback){const S=v.callbackId,T=this.callbackCapabilities[S];if(!T)throw new Error(`Cannot resolve callback ${S}`);if(delete this.callbackCapabilities[S],v.callback===i.DATA)T.resolve(v.data);else if(v.callback===i.ERROR)T.reject(s(v.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[v.action];if(!o)throw new Error(`Unknown action from worker: ${v.action}`);if(v.callbackId){const S=this.sourceName,T=v.sourceName;new Promise(function(E){E(o(v.data))}).then(function(E){y.postMessage({sourceName:S,targetName:T,callback:i.DATA,callbackId:v.callbackId,data:E})},function(E){y.postMessage({sourceName:S,targetName:T,callback:i.ERROR,callbackId:v.callbackId,reason:s(E)})});return}if(v.streamId){this._createStreamSink(v);return}o(v.data)},y.addEventListener("message",this._onComObjOnMessage)}on(m,g){const y=this.actionHandler;if(y[m])throw new Error(`There is already an actionName called "${m}"`);y[m]=g}send(m,g,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,data:g},y)}sendWithPromise(m,g,y){const b=this.callbackId++,v=(0,t.createPromiseCapability)();this.callbackCapabilities[b]=v;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:m,callbackId:b,data:g},y)}catch(o){v.reject(o)}return v.promise}sendWithStream(m,g,y,b){const v=this.streamId++,o=this.sourceName,S=this.targetName,T=this.comObj;return new ReadableStream({start:E=>{const k=(0,t.createPromiseCapability)();return this.streamControllers[v]={controller:E,startCall:k,pullCall:null,cancelCall:null,isClosed:!1},T.postMessage({sourceName:o,targetName:S,action:m,streamId:v,data:g,desiredSize:E.desiredSize},b),k.promise},pull:E=>{const k=(0,t.createPromiseCapability)();return this.streamControllers[v].pullCall=k,T.postMessage({sourceName:o,targetName:S,stream:c.PULL,streamId:v,desiredSize:E.desiredSize}),k.promise},cancel:E=>{(0,t.assert)(E instanceof Error,"cancel must have a valid reason");const k=(0,t.createPromiseCapability)();return this.streamControllers[v].cancelCall=k,this.streamControllers[v].isClosed=!0,T.postMessage({sourceName:o,targetName:S,stream:c.CANCEL,streamId:v,reason:s(E)}),k.promise}},y)}_createStreamSink(m){const g=m.streamId,y=this.sourceName,b=m.sourceName,v=this.comObj,o=this,S=this.actionHandler[m.action],T={enqueue(E){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,M=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const O=this.desiredSize;this.desiredSize-=k,O>0&&this.desiredSize<=0&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise),v.postMessage({sourceName:y,targetName:b,stream:c.ENQUEUE,streamId:g,chunk:E},M)},close(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:y,targetName:b,stream:c.CLOSE,streamId:g}),delete o.streamSinks[g])},error(E){(0,t.assert)(E instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,v.postMessage({sourceName:y,targetName:b,stream:c.ERROR,streamId:g,reason:s(E)}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:m.desiredSize,ready:null};T.sinkCapability.resolve(),T.ready=T.sinkCapability.promise,this.streamSinks[g]=T,new Promise(function(E){E(S(m.data,T))}).then(function(){v.postMessage({sourceName:y,targetName:b,stream:c.START_COMPLETE,streamId:g,success:!0})},function(E){v.postMessage({sourceName:y,targetName:b,stream:c.START_COMPLETE,streamId:g,reason:s(E)})})}_processStreamMessage(m){const g=m.streamId,y=this.sourceName,b=m.sourceName,v=this.comObj,o=this.streamControllers[g],S=this.streamSinks[g];switch(m.stream){case c.START_COMPLETE:m.success?o.startCall.resolve():o.startCall.reject(s(m.reason));break;case c.PULL_COMPLETE:m.success?o.pullCall.resolve():o.pullCall.reject(s(m.reason));break;case c.PULL:if(!S){v.postMessage({sourceName:y,targetName:b,stream:c.PULL_COMPLETE,streamId:g,success:!0});break}S.desiredSize<=0&&m.desiredSize>0&&S.sinkCapability.resolve(),S.desiredSize=m.desiredSize,new Promise(function(T){T(S.onPull&&S.onPull())}).then(function(){v.postMessage({sourceName:y,targetName:b,stream:c.PULL_COMPLETE,streamId:g,success:!0})},function(T){v.postMessage({sourceName:y,targetName:b,stream:c.PULL_COMPLETE,streamId:g,reason:s(T)})});break;case c.ENQUEUE:if((0,t.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(m.chunk);break;case c.CLOSE:if((0,t.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,g);break;case c.ERROR:(0,t.assert)(o,"error should have stream controller"),o.controller.error(s(m.reason)),this._deleteStreamController(o,g);break;case c.CANCEL_COMPLETE:m.success?o.cancelCall.resolve():o.cancelCall.reject(s(m.reason)),this._deleteStreamController(o,g);break;case c.CANCEL:if(!S)break;new Promise(function(T){T(S.onCancel&&S.onCancel(s(m.reason)))}).then(function(){v.postMessage({sourceName:y,targetName:b,stream:c.CANCEL_COMPLETE,streamId:g,success:!0})},function(T){v.postMessage({sourceName:y,targetName:b,stream:c.CANCEL_COMPLETE,streamId:g,reason:s(T)})}),S.sinkCapability.reject(s(m.reason)),S.isCancelled=!0,delete this.streamSinks[g];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(m,g){await Promise.allSettled([m.startCall&&m.startCall.promise,m.pullCall&&m.pullCall.promise,m.cancelCall&&m.cancelCall.promise]),delete this.streamControllers[g]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}l.MessageHandler=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFWorkerStream=void 0;var t=a(2);class i{constructor(u){this._msgHandler=u,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._msgHandler),this._fullRequestReader}getRangeReader(u,m){const g=new s(u,m,this._msgHandler);return this._rangeRequestReaders.push(g),g}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(const m of this._rangeRequestReaders.slice(0))m.cancel(u)}}l.PDFWorkerStream=i;class c{constructor(u){this._msgHandler=u,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const m=this._msgHandler.sendWithStream("GetReader");this._reader=m.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(g=>{this._isStreamingSupported=g.isStreamingSupported,this._isRangeSupported=g.isRangeSupported,this._contentLength=g.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:u,done:m}=await this._reader.read();return m?{value:void 0,done:!0}:{value:u.buffer,done:!1}}cancel(u){this._reader.cancel(u)}}class s{constructor(u,m,g){this._msgHandler=g,this.onProgress=null;const y=this._msgHandler.sendWithStream("GetRangeReader",{begin:u,end:m});this._reader=y.getReader()}get isStreamingSupported(){return!1}async read(){const{value:u,done:m}=await this._reader.read();return m?{value:void 0,done:!0}:{value:u.buffer,done:!1}}cancel(u){this._reader.cancel(u)}}}],C={};function _($){var l=C[$];if(l!==void 0)return l.exports;var a=C[$]={exports:{}};return x[$](a,a.exports,_),a.exports}_.d=($,l)=>{for(var a in l)_.o(l,a)&&!_.o($,a)&&Object.defineProperty($,a,{enumerable:!0,get:l[a]})},_.o=($,l)=>Object.prototype.hasOwnProperty.call($,l),_.r=$=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})};var K={};return(()=>{var $=K;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"WorkerMessageHandler",{enumerable:!0,get:function(){return l.WorkerMessageHandler}});var l=_(1)})(),K})())})(pdf_worker);(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;var pdf_viewerExports={},pdf_viewer$1={get exports(){return pdf_viewerExports},set exports(r){pdf_viewerExports=r}};(function(r,n){(function(C,_){r.exports=_()})(globalThis,()=>(()=>{var x=[,($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DefaultXfaLayerFactory=l.DefaultTextLayerFactory=l.DefaultStructTreeLayerFactory=l.DefaultAnnotationLayerFactory=l.DefaultAnnotationEditorLayerFactory=void 0;var t=a(2),i=a(5),c=a(4),s=a(6),e=a(8),u=a(9),m=a(10);class g{createAnnotationLayerBuilder(T){let{pageDiv:E,pdfPage:k,annotationStorage:M=null,imageResourcesPath:O="",renderForms:L=!0,l10n:te=c.NullL10n,enableScripting:B=!1,hasJSActionsPromise:G=null,mouseState:R=null,fieldObjectsPromise:I=null,annotationCanvasMap:U=null,accessibilityManager:P=null}=T;return new i.AnnotationLayerBuilder({pageDiv:E,pdfPage:k,imageResourcesPath:O,renderForms:L,linkService:new s.SimpleLinkService,l10n:te,annotationStorage:M,enableScripting:B,hasJSActionsPromise:G,fieldObjectsPromise:I,mouseState:R,annotationCanvasMap:U,accessibilityManager:P})}}l.DefaultAnnotationLayerFactory=g;class y{createAnnotationEditorLayerBuilder(T){let{uiManager:E=null,pageDiv:k,pdfPage:M,accessibilityManager:O=null,l10n:L,annotationStorage:te=null}=T;return new t.AnnotationEditorLayerBuilder({uiManager:E,pageDiv:k,pdfPage:M,accessibilityManager:O,l10n:L,annotationStorage:te})}}l.DefaultAnnotationEditorLayerFactory=y;class b{createStructTreeLayerBuilder(T){let{pdfPage:E}=T;return new e.StructTreeLayerBuilder({pdfPage:E})}}l.DefaultStructTreeLayerFactory=b;class v{createTextLayerBuilder(T){let{textLayerDiv:E,pageIndex:k,viewport:M,enhanceTextSelection:O=!1,eventBus:L,highlighter:te,accessibilityManager:B=null}=T;return new u.TextLayerBuilder({textLayerDiv:E,pageIndex:k,viewport:M,enhanceTextSelection:O,eventBus:L,highlighter:te,accessibilityManager:B})}}l.DefaultTextLayerFactory=v;class o{createXfaLayerBuilder(T){let{pageDiv:E,pdfPage:k,annotationStorage:M=null}=T;return new m.XfaLayerBuilder({pageDiv:E,pdfPage:k,annotationStorage:M,linkService:new s.SimpleLinkService})}}l.DefaultXfaLayerFactory=o},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AnnotationEditorLayerBuilder=void 0;var t=a(3),i=a(4);function c(o,S,T){s(o,S),S.set(o,T)}function s(o,S){if(S.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(o,S){var T=g(o,S,"get");return u(o,T)}function u(o,S){return S.get?S.get.call(o):S.value}function m(o,S,T){var E=g(o,S,"set");return y(o,E,T),T}function g(o,S,T){if(!S.has(o))throw new TypeError("attempted to "+T+" private field on non-instance");return S.get(o)}function y(o,S,T){if(S.set)S.set.call(o,T);else{if(!S.writable)throw new TypeError("attempted to set read only private field");S.value=T}}var b=new WeakMap;class v{constructor(S){c(this,b,{writable:!0,value:void 0}),this.pageDiv=S.pageDiv,this.pdfPage=S.pdfPage,this.annotationStorage=S.annotationStorage||null,this.accessibilityManager=S.accessibilityManager,this.l10n=S.l10n||i.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,m(this,b,S.uiManager)}async render(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(T!=="display"||this._cancelled)return;const E=S.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:E}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new t.AnnotationEditorLayer({uiManager:e(this,b),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:E});const k={viewport:E,div:this.div,annotations:null,intent:T};this.annotationEditorLayer.render(k)}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}l.AnnotationEditorLayerBuilder=v},$=>{let l;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?l=window["pdfjs-dist/build/pdf"]:l=requirePdf(),$.exports=l},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NullL10n=void 0,l.fixupLangCode=c,l.getL10nFallback=t;const a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function t(u,m){switch(u){case"find_match_count":u=`find_match_count[${m.total===1?"one":"other"}]`;break;case"find_match_count_limit":u=`find_match_count_limit[${m.limit===1?"one":"other"}]`;break}return a[u]||""}const i={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function c(u){return i[u==null?void 0:u.toLowerCase()]||u}function s(u,m){return m?u.replace(/\{\{\s*(\w+)\s*\}\}/g,(g,y)=>y in m?m[y]:"{{"+y+"}}"):u}const e={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(u){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t(u,m);return s(g,m)},async translate(u){}};l.NullL10n=e},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AnnotationLayerBuilder=void 0;var t=a(3),i=a(4);class c{constructor(e){let{pageDiv:u,pdfPage:m,linkService:g,downloadManager:y,annotationStorage:b=null,imageResourcesPath:v="",renderForms:o=!0,l10n:S=i.NullL10n,enableScripting:T=!1,hasJSActionsPromise:E=null,fieldObjectsPromise:k=null,mouseState:M=null,annotationCanvasMap:O=null,accessibilityManager:L=null}=e;this.pageDiv=u,this.pdfPage=m,this.linkService=g,this.downloadManager=y,this.imageResourcesPath=v,this.renderForms=o,this.l10n=S,this.annotationStorage=b,this.enableScripting=T,this._hasJSActionsPromise=E,this._fieldObjectsPromise=k,this._mouseState=M,this._annotationCanvasMap=O,this._accessibilityManager=L,this.div=null,this._cancelled=!1}async render(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";const[m,g=!1,y=null]=await Promise.all([this.pdfPage.getAnnotations({intent:u}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||m.length===0)return;const b={viewport:e.clone({dontFlip:!0}),div:this.div,annotations:m,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:g,fieldObjects:y,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?t.AnnotationLayer.update(b):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),b.div=this.div,t.AnnotationLayer.render(b),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}l.AnnotationLayerBuilder=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SimpleLinkService=l.PDFLinkService=l.LinkTarget=void 0;var t=a(7);function i(te,B){s(te,B),B.add(te)}function c(te,B,G){s(te,B),B.set(te,G)}function s(te,B){if(B.has(te))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(te,B,G){return u(te,B),G}function u(te,B){if(te!==B)throw new TypeError("Private static access of wrong provenance")}function m(te,B,G){if(!B.has(te))throw new TypeError("attempted to get private field on non-instance");return G}function g(te,B){var G=y(te,B,"get");return b(te,G)}function y(te,B,G){if(!B.has(te))throw new TypeError("attempted to "+G+" private field on non-instance");return B.get(te)}function b(te,B){return B.get?B.get.call(te):B.value}const v="noopener noreferrer nofollow",o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};l.LinkTarget=o;function S(te){let{url:B,target:G,rel:R,enabled:I=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!B||typeof B!="string")throw new Error('A valid "url" parameter must provided.');const U=(0,t.removeNullCharacters)(B);I?te.href=te.title=U:(te.href="",te.title=`Disabled: ${U}`,te.onclick=()=>!1);let P="";switch(G){case o.NONE:break;case o.SELF:P="_self";break;case o.BLANK:P="_blank";break;case o.PARENT:P="_parent";break;case o.TOP:P="_top";break}te.target=P,te.rel=typeof R=="string"?R:v}var T=new WeakMap,E=new WeakSet;class k{constructor(){let{eventBus:B,externalLinkTarget:G=null,externalLinkRel:R=null,ignoreDestinationZoom:I=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i(this,E),c(this,T,{writable:!0,value:new Map}),this.eventBus=B,this.externalLinkTarget=G,this.externalLinkRel=R,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=I,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(B){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=G,this.pdfDocument=B,g(this,T).clear()}setViewer(B){this.pdfViewer=B}setHistory(B){this.pdfHistory=B}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(B){this.pdfViewer.currentPageNumber=B}get rotation(){return this.pdfViewer.pagesRotation}set rotation(B){this.pdfViewer.pagesRotation=B}async goToDestination(B){if(!this.pdfDocument)return;let G,R;if(typeof B=="string"?(G=B,R=await this.pdfDocument.getDestination(B)):(G=null,R=await B),!Array.isArray(R)){console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${B}".`);return}m(this,E,M).call(this,B,G,R)}goToPage(B){if(!this.pdfDocument)return;const G=typeof B=="string"&&this.pdfViewer.pageLabelToPageNumber(B)||B|0;if(!(Number.isInteger(G)&&G>0&&G<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${B}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(G)),this.pdfViewer.scrollPageIntoView({pageNumber:G})}addLinkAttributes(B,G){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;S(B,{url:G,target:R?o.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(B){if(typeof B=="string"){if(B.length>0)return this.getAnchorUrl("#"+escape(B))}else if(Array.isArray(B)){const G=JSON.stringify(B);if(G.length>0)return this.getAnchorUrl("#"+escape(G))}return this.getAnchorUrl("")}getAnchorUrl(B){return(this.baseUrl||"")+B}setHash(B){if(!this.pdfDocument)return;let G,R;if(B.includes("=")){const I=(0,t.parseQueryString)(B);if(I.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:I.get("search").replace(/"/g,""),phraseSearch:I.get("phrase")==="true"}),I.has("page")&&(G=I.get("page")|0||1),I.has("zoom")){const U=I.get("zoom").split(","),P=U[0],A=parseFloat(P);P.includes("Fit")?P==="Fit"||P==="FitB"?R=[null,{name:P}]:P==="FitH"||P==="FitBH"||P==="FitV"||P==="FitBV"?R=[null,{name:P},U.length>1?U[1]|0:null]:P==="FitR"?U.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):R=[null,{name:P},U[1]|0,U[2]|0,U[3]|0,U[4]|0]:console.error(`PDFLinkService.setHash: "${P}" is not a valid zoom value.`):R=[null,{name:"XYZ"},U.length>1?U[1]|0:null,U.length>2?U[2]|0:null,A?A/100:P]}R?this.pdfViewer.scrollPageIntoView({pageNumber:G||this.page,destArray:R,allowNegativeOffset:!0}):G&&(this.page=G),I.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:I.get("pagemode")}),I.has("nameddest")&&this.goToDestination(I.get("nameddest"))}else{R=unescape(B);try{R=JSON.parse(R),Array.isArray(R)||(R=R.toString())}catch{}if(typeof R=="string"||e(k,k,O).call(k,R)){this.goToDestination(R);return}console.error(`PDFLinkService.setHash: "${unescape(B)}" is not a valid destination.`)}}executeNamedAction(B){var G,R;switch(B){case"GoBack":(G=this.pdfHistory)===null||G===void 0||G.back();break;case"GoForward":(R=this.pdfHistory)===null||R===void 0||R.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:B})}cachePageRef(B,G){if(!G)return;const R=G.gen===0?`${G.num}R`:`${G.num}R${G.gen}`;g(this,T).set(R,B)}_cachedPageNumber(B){if(!B)return null;const G=B.gen===0?`${B.num}R`:`${B.num}R${B.gen}`;return g(this,T).get(G)||null}isPageVisible(B){return this.pdfViewer.isPageVisible(B)}isPageCached(B){return this.pdfViewer.isPageCached(B)}}l.PDFLinkService=k;function M(te){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,G=arguments.length>2?arguments[2]:void 0;const R=G[0];let I;if(typeof R=="object"&&R!==null){if(I=this._cachedPageNumber(R),!I){this.pdfDocument.getPageIndex(R).then(U=>{this.cachePageRef(U+1,R),m(this,E,M).call(this,te,B,G)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${te}".`)});return}}else if(Number.isInteger(R))I=R+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${te}".`);return}if(!I||I<1||I>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${I}" is not a valid page number, for dest="${te}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:B,explicitDest:G,pageNumber:I})),this.pdfViewer.scrollPageIntoView({pageNumber:I,destArray:G,ignoreDestinationZoom:this._ignoreDestinationZoom})}function O(te){if(!Array.isArray(te))return!1;const B=te.length;if(B<2)return!1;const G=te[0];if(!(typeof G=="object"&&Number.isInteger(G.num)&&Number.isInteger(G.gen))&&!(Number.isInteger(G)&&G>=0))return!1;const R=te[1];if(!(typeof R=="object"&&typeof R.name=="string"))return!1;let I=!0;switch(R.name){case"XYZ":if(B!==5)return!1;break;case"Fit":case"FitB":return B===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(B!==3)return!1;break;case"FitR":if(B!==6)return!1;I=!1;break;default:return!1}for(let U=2;U<B;U++){const P=te[U];if(!(typeof P=="number"||I&&P===null))return!1}return!0}class L{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(B){}get rotation(){return 0}set rotation(B){}async goToDestination(B){}goToPage(B){}addLinkAttributes(B,G){S(B,{url:G,enabled:this.externalLinkEnabled})}getDestinationHash(B){return"#"}getAnchorUrl(B){return"#"}setHash(B){}executeNamedAction(B){}cachePageRef(B,G){}isPageVisible(B){return!0}isPageCached(B){return!0}}l.SimpleLinkService=L},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.animationStarted=l.VERTICAL_PADDING=l.UNKNOWN_SCALE=l.TextLayerMode=l.SpreadMode=l.SidebarView=l.ScrollMode=l.SCROLLBAR_PADDING=l.RenderingStates=l.RendererType=l.ProgressBar=l.PresentationModeState=l.OutputScale=l.MIN_SCALE=l.MAX_SCALE=l.MAX_AUTO_SCALE=l.DEFAULT_SCALE_VALUE=l.DEFAULT_SCALE_DELTA=l.DEFAULT_SCALE=l.AutoPrintRegExp=void 0,l.apiPageLayoutToViewerModes=fe,l.apiPageModeToSidebarView=be,l.approximateFraction=Y,l.backtrackBeforeAllVisibleElements=Q,l.binarySearchFirstItem=ie,l.docStyle=void 0,l.getActiveOrFocusedElement=pe,l.getPageSizeInches=D,l.getVisibleElements=ee,l.isPortraitOrientation=le,l.isValidRotation=H,l.isValidScrollMode=q,l.isValidSpreadMode=ne,l.noContextMenuHandler=V,l.normalizeWheelEventDelta=ae,l.normalizeWheelEventDirection=Z,l.parseQueryString=A,l.removeNullCharacters=W,l.roundToDivide=F,l.scrollIntoView=U,l.watchScroll=P;function a(ge,Se,ve){t(ge,Se),Se.set(ge,ve)}function t(ge,Se){if(Se.has(ge))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(ge,Se){var ve=e(ge,Se,"get");return c(ge,ve)}function c(ge,Se){return Se.get?Se.get.call(ge):Se.value}function s(ge,Se,ve){var we=e(ge,Se,"set");return u(ge,we,ve),ve}function e(ge,Se,ve){if(!Se.has(ge))throw new TypeError("attempted to "+ve+" private field on non-instance");return Se.get(ge)}function u(ge,Se,ve){if(Se.set)Se.set.call(ge,ve);else{if(!Se.writable)throw new TypeError("attempted to set read only private field");Se.value=ve}}const m="auto";l.DEFAULT_SCALE_VALUE=m;const g=1;l.DEFAULT_SCALE=g;const y=1.1;l.DEFAULT_SCALE_DELTA=y;const b=.1;l.MIN_SCALE=b;const v=10;l.MAX_SCALE=v;const o=0;l.UNKNOWN_SCALE=o;const S=1.25;l.MAX_AUTO_SCALE=S;const T=40;l.SCROLLBAR_PADDING=T;const E=5;l.VERTICAL_PADDING=E;const k={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};l.RenderingStates=k;const M={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};l.PresentationModeState=M;const O={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};l.SidebarView=O;const L={CANVAS:"canvas",SVG:"svg"};l.RendererType=L;const te={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};l.TextLayerMode=te;const B={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};l.ScrollMode=B;const G={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};l.SpreadMode=G;const R=/\bprint\s*\(/;l.AutoPrintRegExp=R;class I{constructor(){const Se=window.devicePixelRatio||1;this.sx=Se,this.sy=Se}get scaled(){return this.sx!==1||this.sy!==1}}l.OutputScale=I;function U(ge,Se){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,we=ge.offsetParent;if(!we){console.error("offsetParent is not set -- cannot scroll");return}let Fe=ge.offsetTop+ge.clientTop,Ce=ge.offsetLeft+ge.clientLeft;for(;we.clientHeight===we.scrollHeight&&we.clientWidth===we.scrollWidth||ve&&(we.classList.contains("markedContent")||getComputedStyle(we).overflow==="hidden");)if(Fe+=we.offsetTop,Ce+=we.offsetLeft,we=we.offsetParent,!we)return;Se&&(Se.top!==void 0&&(Fe+=Se.top),Se.left!==void 0&&(Ce+=Se.left,we.scrollLeft=Ce)),we.scrollTop=Fe}function P(ge,Se){const ve=function(Ce){Fe||(Fe=window.requestAnimationFrame(function(){Fe=null;const ke=ge.scrollLeft,De=we.lastX;ke!==De&&(we.right=ke>De),we.lastX=ke;const Ie=ge.scrollTop,Me=we.lastY;Ie!==Me&&(we.down=Ie>Me),we.lastY=Ie,Se(we)}))},we={right:!0,down:!0,lastX:ge.scrollLeft,lastY:ge.scrollTop,_eventHandler:ve};let Fe=null;return ge.addEventListener("scroll",ve,!0),we}function A(ge){const Se=new Map;for(const[ve,we]of new URLSearchParams(ge))Se.set(ve.toLowerCase(),we);return Se}const z=/\x00/g,N=/[\x01-\x1F]/g;function W(ge){let Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof ge!="string"?(console.error("The argument must be a string."),ge):(Se&&(ge=ge.replace(N," ")),ge.replace(z,""))}function ie(ge,Se){let we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Fe=ge.length-1;if(Fe<0||!Se(ge[Fe]))return ge.length;if(Se(ge[we]))return we;for(;we<Fe;){const Ce=we+Fe>>1,ye=ge[Ce];Se(ye)?Fe=Ce:we=Ce+1}return we}function Y(ge){if(Math.floor(ge)===ge)return[ge,1];const Se=1/ge,ve=8;if(Se>ve)return[1,ve];if(Math.floor(Se)===Se)return[1,Se];const we=ge>1?Se:ge;let Fe=0,Ce=1,ye=1,ke=1;for(;;){const Ie=Fe+ye,Me=Ce+ke;if(Me>ve)break;we<=Ie/Me?(ye=Ie,ke=Me):(Fe=Ie,Ce=Me)}let De;return we-Fe/Ce<ye/ke-we?De=we===ge?[Fe,Ce]:[Ce,Fe]:De=we===ge?[ye,ke]:[ke,ye],De}function F(ge,Se){const ve=ge%Se;return ve===0?ge:Math.round(ge-ve+Se)}function D(ge){let{view:Se,userUnit:ve,rotate:we}=ge;const[Fe,Ce,ye,ke]=Se,De=we%180!==0,Ie=(ye-Fe)/72*ve,Me=(ke-Ce)/72*ve;return{width:De?Me:Ie,height:De?Ie:Me}}function Q(ge,Se,ve){if(ge<2)return ge;let we=Se[ge].div,Fe=we.offsetTop+we.clientTop;Fe>=ve&&(we=Se[ge-1].div,Fe=we.offsetTop+we.clientTop);for(let Ce=ge-2;Ce>=0&&(we=Se[Ce].div,!(we.offsetTop+we.clientTop+we.clientHeight<=Fe));--Ce)ge=Ce;return ge}function ee(ge){let{scrollEl:Se,views:ve,sortByVisibility:we=!1,horizontal:Fe=!1,rtl:Ce=!1}=ge;const ye=Se.scrollTop,ke=ye+Se.clientHeight,De=Se.scrollLeft,Ie=De+Se.clientWidth;function Me(Ae){const Ee=Ae.div;return Ee.offsetTop+Ee.clientTop+Ee.clientHeight>ye}function Ne(Ae){const Ee=Ae.div,Be=Ee.offsetLeft+Ee.clientLeft,ze=Be+Ee.clientWidth;return Ce?Be<Ie:ze>De}const Re=[],Oe=new Set,Le=ve.length;let Pe=ie(ve,Fe?Ne:Me);Pe>0&&Pe<Le&&!Fe&&(Pe=Q(Pe,ve,ye));let $e=Fe?Ie:-1;for(let Ae=Pe;Ae<Le;Ae++){const Ee=ve[Ae],Be=Ee.div,ze=Be.offsetLeft+Be.clientLeft,We=Be.offsetTop+Be.clientTop,tt=Be.clientWidth,Ze=Be.clientHeight,Xe=ze+tt,st=We+Ze;if($e===-1)st>=ke&&($e=st);else if((Fe?ze:We)>$e)break;if(st<=ye||We>=ke||Xe<=De||ze>=Ie)continue;const gt=Math.max(0,ye-We)+Math.max(0,st-ke),Ge=Math.max(0,De-ze)+Math.max(0,Xe-Ie),ht=(Ze-gt)/Ze,ct=(tt-Ge)/tt,pt=ht*ct*100|0;Re.push({id:Ee.id,x:ze,y:We,view:Ee,percent:pt,widthPercent:ct*100|0}),Oe.add(Ee.id)}const je=Re[0],Te=Re.at(-1);return we&&Re.sort(function(Ae,Ee){const Be=Ae.percent-Ee.percent;return Math.abs(Be)>.001?-Be:Ae.id-Ee.id}),{first:je,last:Te,views:Re,ids:Oe}}function V(ge){ge.preventDefault()}function Z(ge){let Se=Math.hypot(ge.deltaX,ge.deltaY);const ve=Math.atan2(ge.deltaY,ge.deltaX);return-.25*Math.PI<ve&&ve<.75*Math.PI&&(Se=-Se),Se}function ae(ge){let Se=Z(ge);const ve=0,we=1,Fe=30,Ce=30;return ge.deltaMode===ve?Se/=Fe*Ce:ge.deltaMode===we&&(Se/=Ce),Se}function H(ge){return Number.isInteger(ge)&&ge%90===0}function q(ge){return Number.isInteger(ge)&&Object.values(B).includes(ge)&&ge!==B.UNKNOWN}function ne(ge){return Number.isInteger(ge)&&Object.values(G).includes(ge)&&ge!==G.UNKNOWN}function le(ge){return ge.width<=ge.height}const se=new Promise(function(ge){window.requestAnimationFrame(ge)});l.animationStarted=se;const J=document.documentElement.style;l.docStyle=J;function re(ge,Se,ve){return Math.min(Math.max(ge,Se),ve)}var oe=new WeakMap,ue=new WeakMap,he=new WeakMap;class de{constructor(Se){if(a(this,oe,{writable:!0,value:null}),a(this,ue,{writable:!0,value:0}),a(this,he,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const ve=document.getElementById(Se);s(this,oe,ve.classList)}get percent(){return i(this,ue)}set percent(Se){if(s(this,ue,re(Se,0,100)),isNaN(Se)){i(this,oe).add("indeterminate");return}i(this,oe).remove("indeterminate"),J.setProperty("--progressBar-percent",`${i(this,ue)}%`)}setWidth(Se){if(!Se)return;const we=Se.parentNode.offsetWidth-Se.offsetWidth;we>0&&J.setProperty("--progressBar-end-offset",`${we}px`)}hide(){i(this,he)&&(s(this,he,!1),i(this,oe).add("hidden"))}show(){i(this,he)||(s(this,he,!0),i(this,oe).remove("hidden"))}}l.ProgressBar=de;function pe(){let ge=document,Se=ge.activeElement||ge.querySelector(":focus");for(;(ve=Se)!==null&&ve!==void 0&&ve.shadowRoot;){var ve;ge=Se.shadowRoot,Se=ge.activeElement||ge.querySelector(":focus")}return Se}function fe(ge){let Se=B.VERTICAL,ve=G.NONE;switch(ge){case"SinglePage":Se=B.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Se=B.PAGE;case"TwoColumnLeft":ve=G.ODD;break;case"TwoPageRight":Se=B.PAGE;case"TwoColumnRight":ve=G.EVEN;break}return{scrollMode:Se,spreadMode:ve}}function be(ge){switch(ge){case"UseNone":return O.NONE;case"UseThumbs":return O.THUMBS;case"UseOutlines":return O.OUTLINE;case"UseAttachments":return O.ATTACHMENTS;case"UseOC":return O.LAYERS}return O.NONE}},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StructTreeLayerBuilder=void 0;const a={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},t=/^H(\d+)$/;class i{constructor(s){let{pdfPage:e}=s;this.pdfPage=e}render(s){return this._walk(s)}_setAttributes(s,e){s.alt!==void 0&&e.setAttribute("aria-label",s.alt),s.id!==void 0&&e.setAttribute("aria-owns",s.id),s.lang!==void 0&&e.setAttribute("lang",s.lang)}_walk(s){if(!s)return null;const e=document.createElement("span");if("role"in s){const{role:u}=s,m=u.match(t);m?(e.setAttribute("role","heading"),e.setAttribute("aria-level",m[1])):a[u]&&e.setAttribute("role",a[u])}if(this._setAttributes(s,e),s.children)if(s.children.length===1&&"id"in s.children[0])this._setAttributes(s.children[0],e);else for(const u of s.children)e.append(this._walk(u));return e}}l.StructTreeLayerBuilder=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TextLayerBuilder=void 0;var t=a(3);const i=300;class c{constructor(e){let{textLayerDiv:u,eventBus:m,pageIndex:g,viewport:y,highlighter:b=null,enhanceTextSelection:v=!1,accessibilityManager:o=null}=e;this.textLayerDiv=u,this.eventBus=m,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=g+1,this.viewport=y,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=b,this.enhanceTextSelection=v,this.accessibilityManager=o,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.append(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var e,u;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(e=this.highlighter)===null||e===void 0||e.setTextMapping(this.textDivs,this.textContentItemsStr),(u=this.accessibilityManager)===null||u===void 0||u.setTextMapping(this.textDivs);const g=document.createDocumentFragment();this.textLayerRenderTask=(0,t.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:g,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:m,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var y,b;this.textLayerDiv.append(g),this._finishRendering(),(y=this.highlighter)===null||y===void 0||y.enable(),(b=this.accessibilityManager)===null||b===void 0||b.enable()},function(y){})}cancel(){var e,u;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(e=this.highlighter)===null||e===void 0||e.disable(),(u=this.accessibilityManager)===null||u===void 0||u.disable()}setTextContentStream(e){this.cancel(),this.textContentStream=e}setTextContent(e){this.cancel(),this.textContent=e}_bindMouse(){const e=this.textLayerDiv;let u=null;e.addEventListener("mousedown",m=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),u&&(clearTimeout(u),u=null);return}const g=e.querySelector(".endOfContent");if(!g)return;let y=m.target!==e;if(y=y&&window.getComputedStyle(g).getPropertyValue("-moz-user-select")!=="none",y){const b=e.getBoundingClientRect(),v=Math.max(0,(m.pageY-b.top)/b.height);g.style.top=(v*100).toFixed(2)+"%"}g.classList.add("active")}),e.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){u=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),u=null},i);return}const m=e.querySelector(".endOfContent");m&&(m.style.top="",m.classList.remove("active"))})}}l.TextLayerBuilder=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XfaLayerBuilder=void 0;var t=a(3);class i{constructor(s){let{pageDiv:e,pdfPage:u,annotationStorage:m=null,linkService:g,xfaHtml:y=null}=s;this.pageDiv=e,this.pdfPage=u,this.annotationStorage=m,this.linkService=g,this.xfaHtml=y,this.div=null,this._cancelled=!1}render(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(e==="print"){const u={viewport:s.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e},m=document.createElement("div");this.pageDiv.append(m),u.div=m;const g=t.XfaLayer.render(u);return Promise.resolve(g)}return this.pdfPage.getXfa().then(u=>{if(this._cancelled||!u)return{textDivs:[]};const m={viewport:s.clone({dontFlip:!0}),div:this.div,xfaHtml:u,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e};return this.div?t.XfaLayer.update(m):(this.div=document.createElement("div"),this.pageDiv.append(this.div),m.div=this.div,t.XfaLayer.render(m))}).catch(u=>{console.error(u)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}l.XfaLayerBuilder=i},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFViewer=l.PDFSinglePageViewer=void 0;var t=a(7),i=a(12);class c extends i.BaseViewer{}l.PDFViewer=c;class s extends i.BaseViewer{_resetView(){super._resetView(),this._scrollMode=t.ScrollMode.PAGE,this._spreadMode=t.SpreadMode.NONE}set scrollMode(u){}_updateScrollMode(){}set spreadMode(u){}_updateSpreadMode(){}}l.PDFSinglePageViewer=s},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PagesCountLimit=l.PDFPageViewBuffer=l.BaseViewer=void 0;var t=a(3),i=a(7),c=a(2),s=a(5),e=a(4),u=a(13),m=a(16),g=a(6),y=a(8),b=a(17),v=a(9),o=a(10);let S;function T(Ce,ye){k(Ce,ye),ye.add(Ce)}function E(Ce,ye,ke){k(Ce,ye),ye.set(Ce,ke)}function k(Ce,ye){if(ye.has(Ce))throw new TypeError("Cannot initialize the same private elements twice on an object")}function M(Ce,ye,ke){if(!ye.has(Ce))throw new TypeError("attempted to get private field on non-instance");return ke}function O(Ce,ye){var ke=B(Ce,ye,"get");return L(Ce,ke)}function L(Ce,ye){return ye.get?ye.get.call(Ce):ye.value}function te(Ce,ye,ke){var De=B(Ce,ye,"set");return G(Ce,De,ke),ke}function B(Ce,ye,ke){if(!ye.has(Ce))throw new TypeError("attempted to "+ke+" private field on non-instance");return ye.get(Ce)}function G(Ce,ye,ke){if(ye.set)ye.set.call(Ce,ke);else{if(!ye.writable)throw new TypeError("attempted to set read only private field");ye.value=ke}}const R=10,I="enablePermissions",U={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};l.PagesCountLimit=U;function P(Ce){return Object.values(t.AnnotationEditorType).includes(Ce)&&Ce!==t.AnnotationEditorType.DISABLE}var A=new WeakMap,z=new WeakMap,N=new WeakSet;S=Symbol.iterator;class W{constructor(ye){T(this,N),E(this,A,{writable:!0,value:new Set}),E(this,z,{writable:!0,value:0}),te(this,z,ye)}push(ye){const ke=O(this,A);ke.has(ye)&&ke.delete(ye),ke.add(ye),ke.size>O(this,z)&&M(this,N,ie).call(this)}resize(ye){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;te(this,z,ye);const De=O(this,A);if(ke){const Ie=De.size;let Me=1;for(const Ne of De)if(ke.has(Ne.id)&&(De.delete(Ne),De.add(Ne)),++Me>Ie)break}for(;De.size>O(this,z);)M(this,N,ie).call(this)}has(ye){return O(this,A).has(ye)}[S](){return O(this,A).keys()}}l.PDFPageViewBuffer=W;function ie(){const Ce=O(this,A).keys().next().value;Ce==null||Ce.destroy(),O(this,A).delete(Ce)}var Y=new WeakMap,F=new WeakMap,D=new WeakMap,Q=new WeakMap,ee=new WeakMap,V=new WeakMap,Z=new WeakMap,ae=new WeakMap,H=new WeakSet,q=new WeakSet,ne=new WeakSet,le=new WeakSet,se=new WeakSet,J=new WeakSet,re=new WeakSet,oe=new WeakSet,ue=new WeakSet;class he{constructor(ye){var ke,De,Ie,Me,Ne;if(T(this,ue),T(this,oe),T(this,re),T(this,J),T(this,se),T(this,le),T(this,ne),T(this,q),T(this,H),E(this,Y,{writable:!0,value:null}),E(this,F,{writable:!0,value:t.AnnotationEditorType.DISABLE}),E(this,D,{writable:!0,value:null}),E(this,Q,{writable:!0,value:t.AnnotationMode.ENABLE_FORMS}),E(this,ee,{writable:!0,value:!1}),E(this,V,{writable:!0,value:0}),E(this,Z,{writable:!0,value:null}),E(this,ae,{writable:!0,value:null}),this.constructor===he)throw new Error("Cannot initialize BaseViewer.");const Re="2.16.105";if(t.version!==Re)throw new Error(`The API version "${t.version}" does not match the Viewer version "${Re}".`);if(this.container=ye.container,this.viewer=ye.viewer||ye.container.firstElementChild,!(((ke=this.container)===null||ke===void 0?void 0:ke.tagName.toUpperCase())==="DIV"&&((De=this.viewer)===null||De===void 0?void 0:De.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=ye.eventBus,this.linkService=ye.linkService||new g.SimpleLinkService,this.downloadManager=ye.downloadManager||null,this.findController=ye.findController||null,this._scriptingManager=ye.scriptingManager||null,this.removePageBorders=ye.removePageBorders||!1,this.textLayerMode=(Ie=ye.textLayerMode)!==null&&Ie!==void 0?Ie:i.TextLayerMode.ENABLE,te(this,Q,(Me=ye.annotationMode)!==null&&Me!==void 0?Me:t.AnnotationMode.ENABLE_FORMS),te(this,F,(Ne=ye.annotationEditorMode)!==null&&Ne!==void 0?Ne:t.AnnotationEditorType.DISABLE),this.imageResourcesPath=ye.imageResourcesPath||"",this.enablePrintAutoRotate=ye.enablePrintAutoRotate||!1,this.renderer=ye.renderer||i.RendererType.CANVAS,this.useOnlyCssZoom=ye.useOnlyCssZoom||!1,this.maxCanvasPixels=ye.maxCanvasPixels,this.l10n=ye.l10n||e.NullL10n,te(this,ee,ye.enablePermissions||!1),this.pageColors=ye.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!ye.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new m.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=ye.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(ye){return this._pages[ye]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(ye){return ye==null?void 0:ye.pdfPage}):!1}get renderForms(){return O(this,Q)===t.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(ye){if(!Number.isInteger(ye))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(ye,!0)||console.error(`currentPageNumber: "${ye}" is not a valid page.`))}_setCurrentPageNumber(ye){var ke,De;let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this._currentPageNumber===ye)return Ie&&M(this,J,Se).call(this),!0;if(!(0<ye&&ye<=this.pagesCount))return!1;const Me=this._currentPageNumber;return this._currentPageNumber=ye,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:ye,pageLabel:(ke=(De=this._pageLabels)===null||De===void 0?void 0:De[ye-1])!==null&&ke!==void 0?ke:null,previous:Me}),Ie&&M(this,J,Se).call(this),!0}get currentPageLabel(){var ye,ke;return(ye=(ke=this._pageLabels)===null||ke===void 0?void 0:ke[this._currentPageNumber-1])!==null&&ye!==void 0?ye:null}set currentPageLabel(ye){if(!this.pdfDocument)return;let ke=ye|0;if(this._pageLabels){const De=this._pageLabels.indexOf(ye);De>=0&&(ke=De+1)}this._setCurrentPageNumber(ke,!0)||console.error(`currentPageLabel: "${ye}" is not a valid page.`)}get currentScale(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE}set currentScale(ye){if(isNaN(ye))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(ye,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(ye){this.pdfDocument&&this._setScale(ye,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(ye){if(!(0,i.isValidRotation)(ye))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(ye%=360,ye<0&&(ye+=360),this._pagesRotation===ye))return;this._pagesRotation=ye;const ke=this._currentPageNumber,De={rotation:ye};for(const Ie of this._pages)Ie.update(De);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:ye,pageNumber:ke}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(ye){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),O(this,D)&&(O(this,D).destroy(),te(this,D,null))),this.pdfDocument=ye,!ye)return;const ke=ye.isPureXfa,De=ye.numPages,Ie=ye.getPage(1),Me=ye.getOptionalContentConfig(),Ne=O(this,ee)?ye.getPermissions():Promise.resolve();if(De>U.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Re=this._scrollMode=i.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Re})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:De})},()=>{}),this._onBeforeDraw=Re=>{const Oe=this._pages[Re.pageNumber-1];Oe&&O(this,Y).push(Oe)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Re=>{Re.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Re.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,O(this,ae)&&(document.removeEventListener("visibilitychange",O(this,ae)),te(this,ae,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ie,Ne]).then(Re=>{let[Oe,Le]=Re;if(ye!==this.pdfDocument)return;this._firstPageCapability.resolve(Oe),this._optionalContentConfigPromise=Me;const{annotationEditorMode:Pe,annotationMode:$e,textLayerMode:je}=M(this,H,de).call(this,Le);if(Pe!==t.AnnotationEditorType.DISABLE){const Xe=Pe;ke?console.warn("Warning: XFA-editing is not implemented."):P(Xe)?(te(this,D,new t.AnnotationEditorUIManager(this.container,this.eventBus)),Xe!==t.AnnotationEditorType.NONE&&O(this,D).updateMode(Xe)):console.error(`Invalid AnnotationEditor mode: ${Xe}`)}const Te=this._scrollMode===i.ScrollMode.PAGE?null:this.viewer,Ae=this.currentScale,Ee=Oe.getViewport({scale:Ae*t.PixelsPerInch.PDF_TO_CSS_UNITS}),Be=je!==i.TextLayerMode.DISABLE&&!ke?this:null,ze=$e!==t.AnnotationMode.DISABLE?this:null,We=ke?this:null,tt=O(this,D)?this:null;for(let Xe=1;Xe<=De;++Xe){const st=new u.PDFPageView({container:Te,eventBus:this.eventBus,id:Xe,scale:Ae,defaultViewport:Ee.clone(),optionalContentConfigPromise:Me,renderingQueue:this.renderingQueue,textLayerFactory:Be,textLayerMode:je,annotationLayerFactory:ze,annotationMode:$e,xfaLayerFactory:We,annotationEditorLayerFactory:tt,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(st)}const Ze=this._pages[0];Ze&&(Ze.setPdfPage(Oe),this.linkService.cachePageRef(1,Oe.ref)),this._scrollMode===i.ScrollMode.PAGE?M(this,ne,fe).call(this):this._spreadMode!==i.SpreadMode.NONE&&this._updateSpreadMode(),M(this,q,pe).call(this).then(async()=>{if(this.findController&&this.findController.setDocument(ye),this._scriptingManager&&this._scriptingManager.setDocument(ye),O(this,D)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:O(this,F)}),ye.loadingParams.disableAutoFetch||De>U.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let Xe=De-1;if(Xe<=0){this._pagesCapability.resolve();return}for(let st=2;st<=De;++st){const gt=ye.getPage(st).then(Ge=>{const ht=this._pages[st-1];ht.pdfPage||ht.setPdfPage(Ge),this.linkService.cachePageRef(st,Ge.ref),--Xe===0&&this._pagesCapability.resolve()},Ge=>{console.error(`Unable to get page ${st} to initialize viewer`,Ge),--Xe===0&&this._pagesCapability.resolve()});st%U.PAUSE_EAGER_PAGE_INIT===0&&await gt}}),this.eventBus.dispatch("pagesinit",{source:this}),ye.getMetadata().then(Xe=>{let{info:st}=Xe;ye===this.pdfDocument&&st.Language&&(this.viewer.lang=st.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Re=>{console.error("Unable to initialize viewer",Re),this._pagesCapability.reject(Re)})}setPageLabels(ye){if(this.pdfDocument){ye?Array.isArray(ye)&&this.pdfDocument.numPages===ye.length?this._pageLabels=ye:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Ie=0,Me=this._pages.length;Ie<Me;Ie++){var ke,De;this._pages[Ie].setPageLabel((ke=(De=this._pageLabels)===null||De===void 0?void 0:De[Ie])!==null&&ke!==void 0?ke:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,te(this,Y,new W(R)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,t.createPromiseCapability)(),this._onePageRenderedCapability=(0,t.createPromiseCapability)(),this._pagesCapability=(0,t.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._previousScrollMode=i.ScrollMode.UNKNOWN,this._spreadMode=i.SpreadMode.NONE,te(this,Z,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),O(this,ae)&&(document.removeEventListener("visibilitychange",O(this,ae)),te(this,ae,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(I)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(ye,ke){let De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._currentScaleValue=ke.toString(),M(this,se,ge).call(this,ye)){Ie&&this.eventBus.dispatch("scalechanging",{source:this,scale:ye,presetValue:ke});return}i.docStyle.setProperty("--scale-factor",ye*t.PixelsPerInch.PDF_TO_CSS_UNITS);const Me={scale:ye};for(const Ne of this._pages)Ne.update(Me);if(this._currentScale=ye,!De){let Ne=this._currentPageNumber,Re;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ne=this._location.pageNumber,Re=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ne,destArray:Re,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:ye,presetValue:Ie?ke:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==i.SpreadMode.NONE&&this._scrollMode!==i.ScrollMode.HORIZONTAL?2:1}_setScale(ye){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,De=parseFloat(ye);if(De>0)this._setScaleUpdatePages(De,ye,ke,!1);else{const Ie=this._pages[this._currentPageNumber-1];if(!Ie)return;let Me=i.SCROLLBAR_PADDING,Ne=i.VERTICAL_PADDING;this.isInPresentationMode?Me=Ne=4:this.removePageBorders?Me=Ne=0:this._scrollMode===i.ScrollMode.HORIZONTAL&&([Me,Ne]=[Ne,Me]);const Re=(this.container.clientWidth-Me)/Ie.width*Ie.scale/this._pageWidthScaleFactor,Oe=(this.container.clientHeight-Ne)/Ie.height*Ie.scale;switch(ye){case"page-actual":De=1;break;case"page-width":De=Re;break;case"page-height":De=Oe;break;case"page-fit":De=Math.min(Re,Oe);break;case"auto":const Le=(0,i.isPortraitOrientation)(Ie)?Re:Math.min(Oe,Re);De=Math.min(i.MAX_AUTO_SCALE,Le);break;default:console.error(`_setScale: "${ye}" is an unknown zoom value.`);return}this._setScaleUpdatePages(De,ye,ke,!0)}}pageLabelToPageNumber(ye){if(!this._pageLabels)return null;const ke=this._pageLabels.indexOf(ye);return ke<0?null:ke+1}scrollPageIntoView(ye){let{pageNumber:ke,destArray:De=null,allowNegativeOffset:Ie=!1,ignoreDestinationZoom:Me=!1}=ye;if(!this.pdfDocument)return;const Ne=Number.isInteger(ke)&&this._pages[ke-1];if(!Ne){console.error(`scrollPageIntoView: "${ke}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!De){this._setCurrentPageNumber(ke,!0);return}let Re=0,Oe=0,Le=0,Pe=0,$e,je;const Te=Ne.rotation%180!==0,Ae=(Te?Ne.height:Ne.width)/Ne.scale/t.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=(Te?Ne.width:Ne.height)/Ne.scale/t.PixelsPerInch.PDF_TO_CSS_UNITS;let Be=0;switch(De[1].name){case"XYZ":Re=De[2],Oe=De[3],Be=De[4],Re=Re!==null?Re:0,Oe=Oe!==null?Oe:Ee;break;case"Fit":case"FitB":Be="page-fit";break;case"FitH":case"FitBH":Oe=De[2],Be="page-width",Oe===null&&this._location?(Re=this._location.left,Oe=this._location.top):(typeof Oe!="number"||Oe<0)&&(Oe=Ee);break;case"FitV":case"FitBV":Re=De[2],Le=Ae,Pe=Ee,Be="page-height";break;case"FitR":Re=De[2],Oe=De[3],Le=De[4]-Re,Pe=De[5]-Oe;const Ze=this.removePageBorders?0:i.SCROLLBAR_PADDING,Xe=this.removePageBorders?0:i.VERTICAL_PADDING;$e=(this.container.clientWidth-Ze)/Le/t.PixelsPerInch.PDF_TO_CSS_UNITS,je=(this.container.clientHeight-Xe)/Pe/t.PixelsPerInch.PDF_TO_CSS_UNITS,Be=Math.min(Math.abs($e),Math.abs(je));break;default:console.error(`scrollPageIntoView: "${De[1].name}" is not a valid destination type.`);return}if(Me||(Be&&Be!==this._currentScale?this.currentScaleValue=Be:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),Be==="page-fit"&&!De[4]){M(this,le,be).call(this,Ne);return}const ze=[Ne.viewport.convertToViewportPoint(Re,Oe),Ne.viewport.convertToViewportPoint(Re+Le,Oe+Pe)];let We=Math.min(ze[0][0],ze[1][0]),tt=Math.min(ze[0][1],ze[1][1]);Ie||(We=Math.max(We,0),tt=Math.max(tt,0)),M(this,le,be).call(this,Ne,{left:We,top:tt})}_updateLocation(ye){const ke=this._currentScale,De=this._currentScaleValue,Ie=parseFloat(De)===ke?Math.round(ke*1e4)/100:De,Me=ye.id,Ne=this._pages[Me-1],Re=this.container,Oe=Ne.getPagePoint(Re.scrollLeft-ye.x,Re.scrollTop-ye.y),Le=Math.round(Oe[0]),Pe=Math.round(Oe[1]);let $e=`#page=${Me}`;this.isInPresentationMode||($e+=`&zoom=${Ie},${Le},${Pe}`),this._location={pageNumber:Me,scale:Ie,top:Pe,left:Le,rotation:this._pagesRotation,pdfOpenParams:$e}}update(){const ye=this._getVisiblePages(),ke=ye.views,De=ke.length;if(De===0)return;const Ie=Math.max(R,2*De+1);O(this,Y).resize(Ie,ye.ids),this.renderingQueue.renderHighestPriority(ye);const Me=this._spreadMode===i.SpreadMode.NONE&&(this._scrollMode===i.ScrollMode.PAGE||this._scrollMode===i.ScrollMode.VERTICAL),Ne=this._currentPageNumber;let Re=!1;for(const Oe of ke){if(Oe.percent<100)break;if(Oe.id===Ne&&Me){Re=!0;break}}this._setCurrentPageNumber(Re?Ne:ke[0].id),this._updateLocation(ye.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(ye){return this.container.contains(ye)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===i.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const ye=this._scrollMode===i.ScrollMode.PAGE?O(this,Z).pages:this._pages,ke=this._scrollMode===i.ScrollMode.HORIZONTAL,De=ke&&this._isContainerRtl;return(0,i.getVisibleElements)({scrollEl:this.container,views:ye,sortByVisibility:!0,horizontal:ke,rtl:De})}isPageVisible(ye){return this.pdfDocument?Number.isInteger(ye)&&ye>0&&ye<=this.pagesCount?this._getVisiblePages().ids.has(ye):(console.error(`isPageVisible: "${ye}" is not a valid page.`),!1):!1}isPageCached(ye){if(!this.pdfDocument)return!1;if(!(Number.isInteger(ye)&&ye>0&&ye<=this.pagesCount))return console.error(`isPageCached: "${ye}" is not a valid page.`),!1;const ke=this._pages[ye-1];return O(this,Y).has(ke)}cleanup(){for(const ye of this._pages)ye.renderingState!==i.RenderingStates.FINISHED&&ye.reset()}_cancelRendering(){for(const ye of this._pages)ye.cancelRendering()}forceRendering(ye){const ke=ye||this._getVisiblePages(),De=M(this,oe,we).call(this,ke),Ie=this._spreadMode!==i.SpreadMode.NONE&&this._scrollMode!==i.ScrollMode.HORIZONTAL,Me=this.renderingQueue.getHighestPriority(ke,this._pages,De,Ie);return M(this,ue,Fe).call(this,ke.ids),Me?(M(this,re,ve).call(this,Me).then(()=>{this.renderingQueue.renderView(Me)}),!0):!1}createTextLayerBuilder(ye){let{textLayerDiv:ke,pageIndex:De,viewport:Ie,enhanceTextSelection:Me=!1,eventBus:Ne,highlighter:Re,accessibilityManager:Oe=null}=ye;return new v.TextLayerBuilder({textLayerDiv:ke,eventBus:Ne,pageIndex:De,viewport:Ie,enhanceTextSelection:this.isInPresentationMode?!1:Me,highlighter:Re,accessibilityManager:Oe})}createTextHighlighter(ye){let{pageIndex:ke,eventBus:De}=ye;return new b.TextHighlighter({eventBus:De,pageIndex:ke,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(ye){var ke,De,Ie,Me;let{pageDiv:Ne,pdfPage:Re,annotationStorage:Oe=(ke=this.pdfDocument)===null||ke===void 0?void 0:ke.annotationStorage,imageResourcesPath:Le="",renderForms:Pe=!0,l10n:$e=e.NullL10n,enableScripting:je=this.enableScripting,hasJSActionsPromise:Te=(De=this.pdfDocument)===null||De===void 0?void 0:De.hasJSActions(),mouseState:Ae=(Ie=this._scriptingManager)===null||Ie===void 0?void 0:Ie.mouseState,fieldObjectsPromise:Ee=(Me=this.pdfDocument)===null||Me===void 0?void 0:Me.getFieldObjects(),annotationCanvasMap:Be=null,accessibilityManager:ze=null}=ye;return new s.AnnotationLayerBuilder({pageDiv:Ne,pdfPage:Re,annotationStorage:Oe,imageResourcesPath:Le,renderForms:Pe,linkService:this.linkService,downloadManager:this.downloadManager,l10n:$e,enableScripting:je,hasJSActionsPromise:Te,mouseState:Ae,fieldObjectsPromise:Ee,annotationCanvasMap:Be,accessibilityManager:ze})}createAnnotationEditorLayerBuilder(ye){var ke;let{uiManager:De=O(this,D),pageDiv:Ie,pdfPage:Me,accessibilityManager:Ne=null,l10n:Re,annotationStorage:Oe=(ke=this.pdfDocument)===null||ke===void 0?void 0:ke.annotationStorage}=ye;return new c.AnnotationEditorLayerBuilder({uiManager:De,pageDiv:Ie,pdfPage:Me,annotationStorage:Oe,accessibilityManager:Ne,l10n:Re})}createXfaLayerBuilder(ye){var ke;let{pageDiv:De,pdfPage:Ie,annotationStorage:Me=(ke=this.pdfDocument)===null||ke===void 0?void 0:ke.annotationStorage}=ye;return new o.XfaLayerBuilder({pageDiv:De,pdfPage:Ie,annotationStorage:Me,linkService:this.linkService})}createStructTreeLayerBuilder(ye){let{pdfPage:ke}=ye;return new y.StructTreeLayerBuilder({pdfPage:ke})}get hasEqualPageSizes(){const ye=this._pages[0];for(let ke=1,De=this._pages.length;ke<De;++ke){const Ie=this._pages[ke];if(Ie.width!==ye.width||Ie.height!==ye.height)return!1}return!0}getPagesOverview(){return this._pages.map(ye=>{const ke=ye.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,i.isPortraitOrientation)(ke)?{width:ke.width,height:ke.height,rotation:ke.rotation}:{width:ke.height,height:ke.width,rotation:(ke.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(ye){if(!(ye instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${ye}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=ye;const ke={optionalContentConfigPromise:ye};for(const De of this._pages)De.update(ke);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:ye})}get scrollMode(){return this._scrollMode}set scrollMode(ye){if(this._scrollMode!==ye){if(!(0,i.isValidScrollMode)(ye))throw new Error(`Invalid scroll mode: ${ye}`);this.pagesCount>U.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=ye,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ye}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const ke=this._scrollMode,De=this.viewer;De.classList.toggle("scrollHorizontal",ke===i.ScrollMode.HORIZONTAL),De.classList.toggle("scrollWrapped",ke===i.ScrollMode.WRAPPED),!(!this.pdfDocument||!ye)&&(ke===i.ScrollMode.PAGE?M(this,ne,fe).call(this):this._previousScrollMode===i.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(ye,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(ye){if(this._spreadMode!==ye){if(!(0,i.isValidSpreadMode)(ye))throw new Error(`Invalid spread mode: ${ye}`);this._spreadMode=ye,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:ye}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.pdfDocument)return;const ke=this.viewer,De=this._pages;if(this._scrollMode===i.ScrollMode.PAGE)M(this,ne,fe).call(this);else if(ke.textContent="",this._spreadMode===i.SpreadMode.NONE)for(const Ie of this._pages)ke.append(Ie.div);else{const Ie=this._spreadMode-1;let Me=null;for(let Ne=0,Re=De.length;Ne<Re;++Ne)Me===null?(Me=document.createElement("div"),Me.className="spread",ke.append(Me)):Ne%2===Ie&&(Me=Me.cloneNode(!1),ke.append(Me)),Me.append(De[Ne].div)}ye&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(ye,!0),this.update())}_getPageAdvance(ye){let ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(this._scrollMode){case i.ScrollMode.WRAPPED:{const{views:De}=this._getVisiblePages(),Ie=new Map;for(const{id:Me,y:Ne,percent:Re,widthPercent:Oe}of De){if(Re===0||Oe<100)continue;let Le=Ie.get(Ne);Le||Ie.set(Ne,Le||(Le=[])),Le.push(Me)}for(const Me of Ie.values()){const Ne=Me.indexOf(ye);if(Ne===-1)continue;const Re=Me.length;if(Re===1)break;if(ke)for(let Oe=Ne-1,Le=0;Oe>=Le;Oe--){const Pe=Me[Oe],$e=Me[Oe+1]-1;if(Pe<$e)return ye-$e}else for(let Oe=Ne+1,Le=Re;Oe<Le;Oe++){const Pe=Me[Oe],$e=Me[Oe-1]+1;if(Pe>$e)return $e-ye}if(ke){const Oe=Me[0];if(Oe<ye)return ye-Oe+1}else{const Oe=Me[Re-1];if(Oe>ye)return Oe-ye+1}break}break}case i.ScrollMode.HORIZONTAL:break;case i.ScrollMode.PAGE:case i.ScrollMode.VERTICAL:{if(this._spreadMode===i.SpreadMode.NONE)break;const De=this._spreadMode-1;if(ke&&ye%2!==De)break;if(!ke&&ye%2===De)break;const{views:Ie}=this._getVisiblePages(),Me=ke?ye-1:ye+1;for(const{id:Ne,percent:Re,widthPercent:Oe}of Ie)if(Ne===Me){if(Re>0&&Oe===100)return 2;break}break}}return 1}nextPage(){const ye=this._currentPageNumber,ke=this.pagesCount;if(ye>=ke)return!1;const De=this._getPageAdvance(ye,!1)||1;return this.currentPageNumber=Math.min(ye+De,ke),!0}previousPage(){const ye=this._currentPageNumber;if(ye<=1)return!1;const ke=this._getPageAdvance(ye,!0)||1;return this.currentPageNumber=Math.max(ye-ke,1),!0}increaseScale(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ke=this._currentScale;do ke=(ke*i.DEFAULT_SCALE_DELTA).toFixed(2),ke=Math.ceil(ke*10)/10,ke=Math.min(i.MAX_SCALE,ke);while(--ye>0&&ke<i.MAX_SCALE);this.currentScaleValue=ke}decreaseScale(){let ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ke=this._currentScale;do ke=(ke/i.DEFAULT_SCALE_DELTA).toFixed(2),ke=Math.floor(ke*10)/10,ke=Math.max(i.MIN_SCALE,ke);while(--ye>0&&ke>i.MIN_SCALE);this.currentScaleValue=ke}updateContainerHeightCss(){const ye=this.container.clientHeight;ye!==O(this,V)&&(te(this,V,ye),i.docStyle.setProperty("--viewer-container-height",`${ye}px`))}get annotationEditorMode(){return O(this,D)?O(this,F):t.AnnotationEditorType.DISABLE}set annotationEditorMode(ye){if(!O(this,D))throw new Error("The AnnotationEditor is not enabled.");if(O(this,F)!==ye){if(!P(ye))throw new Error(`Invalid AnnotationEditor mode: ${ye}`);this.pdfDocument&&(te(this,F,ye),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:ye}),O(this,D).updateMode(ye))}}set annotationEditorParams(ye){let{type:ke,value:De}=ye;if(!O(this,D))throw new Error("The AnnotationEditor is not enabled.");O(this,D).updateParams(ke,De)}refresh(){if(!this.pdfDocument)return;const ye={};for(const ke of this._pages)ke.update(ye);this.update()}}l.BaseViewer=he;function de(Ce){const ye={annotationEditorMode:O(this,F),annotationMode:O(this,Q),textLayerMode:this.textLayerMode};return Ce&&(Ce.includes(t.PermissionFlag.COPY)||this.viewer.classList.add(I),Ce.includes(t.PermissionFlag.MODIFY_CONTENTS)||(ye.annotationEditorMode=t.AnnotationEditorType.DISABLE),!Ce.includes(t.PermissionFlag.MODIFY_ANNOTATIONS)&&!Ce.includes(t.PermissionFlag.FILL_INTERACTIVE_FORMS)&&O(this,Q)===t.AnnotationMode.ENABLE_FORMS&&(ye.annotationMode=t.AnnotationMode.ENABLE)),ye}function pe(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const Ce=new Promise(ye=>{te(this,ae,()=>{document.visibilityState==="hidden"&&(ye(),document.removeEventListener("visibilitychange",O(this,ae)),te(this,ae,null))}),document.addEventListener("visibilitychange",O(this,ae))});return Promise.race([this._onePageRenderedCapability.promise,Ce])}function fe(){if(this._scrollMode!==i.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Ce=this._currentPageNumber,ye=O(this,Z),ke=this.viewer;if(ke.textContent="",ye.pages.length=0,this._spreadMode===i.SpreadMode.NONE&&!this.isInPresentationMode){const De=this._pages[Ce-1];ke.append(De.div),ye.pages.push(De)}else{const De=new Set,Ie=this._spreadMode-1;Ie===-1?De.add(Ce-1):Ce%2!==Ie?(De.add(Ce-1),De.add(Ce)):(De.add(Ce-2),De.add(Ce-1));const Me=document.createElement("div");if(Me.className="spread",this.isInPresentationMode){const Ne=document.createElement("div");Ne.className="dummyPage",Me.append(Ne)}for(const Ne of De){const Re=this._pages[Ne];Re&&(Me.append(Re.div),ye.pages.push(Re))}ke.append(Me)}ye.scrollDown=Ce>=ye.previousPageNumber,ye.previousPageNumber=Ce}function be(Ce){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{div:ke,id:De}=Ce;if(this._scrollMode===i.ScrollMode.PAGE&&(this._setCurrentPageNumber(De),M(this,ne,fe).call(this),this.update()),!ye&&!this.isInPresentationMode){const Ie=ke.offsetLeft+ke.clientLeft,Me=Ie+ke.clientWidth,{scrollLeft:Ne,clientWidth:Re}=this.container;(this._scrollMode===i.ScrollMode.HORIZONTAL||Ie<Ne||Me>Ne+Re)&&(ye={left:0,top:0})}(0,i.scrollIntoView)(ke,ye)}function ge(Ce){return Ce===this._currentScale||Math.abs(Ce-this._currentScale)<1e-15}function Se(){const Ce=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),M(this,le,be).call(this,Ce)}async function ve(Ce){if(Ce.pdfPage)return Ce.pdfPage;try{var ye,ke;const De=await this.pdfDocument.getPage(Ce.id);return Ce.pdfPage||Ce.setPdfPage(De),(ye=(ke=this.linkService)._cachedPageNumber)!==null&&ye!==void 0&&ye.call(ke,De.ref)||this.linkService.cachePageRef(Ce.id,De.ref),De}catch(De){return console.error("Unable to get page for page view",De),null}}function we(Ce){var ye,ke;if(((ye=Ce.first)===null||ye===void 0?void 0:ye.id)===1)return!0;if(((ke=Ce.last)===null||ke===void 0?void 0:ke.id)===this.pagesCount)return!1;switch(this._scrollMode){case i.ScrollMode.PAGE:return O(this,Z).scrollDown;case i.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Fe(Ce){for(const ye of Ce){const ke=this._pages[ye-1];ke==null||ke.toggleLoadingIconSpinner(!0)}for(const ye of O(this,Y))Ce.has(ye.id)||ye.toggleLoadingIconSpinner(!1)}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFPageView=void 0;var t=a(3),i=a(7),c=a(14),s=a(4),e=a(15);function u(M,O,L){m(M,O),O.set(M,L)}function m(M,O){if(O.has(M))throw new TypeError("Cannot initialize the same private elements twice on an object")}function g(M,O){var L=v(M,O,"get");return y(M,L)}function y(M,O){return O.get?O.get.call(M):O.value}function b(M,O,L){var te=v(M,O,"set");return o(M,te,L),L}function v(M,O,L){if(!O.has(M))throw new TypeError("attempted to "+L+" private field on non-instance");return O.get(M)}function o(M,O,L){if(O.set)O.set.call(M,L);else{if(!O.writable)throw new TypeError("attempted to set read only private field");O.value=L}}const S=c.compatibilityParams.maxCanvasPixels||16777216;var T=new WeakMap,E=new WeakMap;class k{constructor(O){var L,te,B,G;u(this,T,{writable:!0,value:t.AnnotationMode.ENABLE_FORMS}),u(this,E,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const R=O.container,I=O.defaultViewport;this.id=O.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=O.scale||i.DEFAULT_SCALE,this.viewport=I,this.pdfPageRotate=I.rotation,this._optionalContentConfigPromise=O.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(L=O.textLayerMode)!==null&&L!==void 0?L:i.TextLayerMode.ENABLE,b(this,T,(te=O.annotationMode)!==null&&te!==void 0?te:t.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=O.imageResourcesPath||"",this.useOnlyCssZoom=O.useOnlyCssZoom||!1,this.maxCanvasPixels=O.maxCanvasPixels||S,this.pageColors=O.pageColors||null,this.eventBus=O.eventBus,this.renderingQueue=O.renderingQueue,this.textLayerFactory=O.textLayerFactory,this.annotationLayerFactory=O.annotationLayerFactory,this.annotationEditorLayerFactory=O.annotationEditorLayerFactory,this.xfaLayerFactory=O.xfaLayerFactory,this.textHighlighter=(B=O.textHighlighterFactory)===null||B===void 0?void 0:B.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=O.structTreeLayerFactory,this.renderer=O.renderer||i.RendererType.CANVAS,this.l10n=O.l10n||s.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=i.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((G=this.renderingQueue)!==null&&G!==void 0&&G.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const U=document.createElement("div");if(U.className="page",U.style.width=Math.floor(this.viewport.width)+"px",U.style.height=Math.floor(this.viewport.height)+"px",U.setAttribute("data-page-number",this.id),U.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(P=>{U.setAttribute("aria-label",P)}),this.div=U,R==null||R.append(U),this._isStandalone){const{optionalContentConfigPromise:P}=O;P&&P.then(A=>{P===this._optionalContentConfigPromise&&(g(this,E).initialOptionalContent=A.hasInitialVisibility)})}}setPdfPage(O){this.pdfPage=O,this.pdfPageRotate=O.rotate;const L=(this.rotation+this.pdfPageRotate)%360;this.viewport=O.getViewport({scale:this.scale*t.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:L}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}async _renderAnnotationLayer(){let O=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(L){console.error(`_renderAnnotationLayer: "${L}".`),O=L}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:O})}}async _renderAnnotationEditorLayer(){let O=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(L){console.error(`_renderAnnotationEditorLayer: "${L}".`),O=L}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:O})}}async _renderXfaLayer(){let O=null;try{const L=await this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(L.textDivs)}catch(L){console.error(`_renderXfaLayer: "${L}".`),O=L}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:O})}}async _buildXfaTextContentItems(O){const L=await this.pdfPage.getTextContent(),te=[];for(const B of L.items)te.push(B.str);this.textHighlighter.setTextMapping(O,te),this.textHighlighter.enable()}_resetZoomLayer(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.zoomLayer)return;const L=this.zoomLayer.firstChild;this.paintedViewportMap.delete(L),L.width=0,L.height=0,O&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var O,L,te;let{keepZoomLayer:B=!1,keepAnnotationLayer:G=!1,keepAnnotationEditorLayer:R=!1,keepXfaLayer:I=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:G,keepAnnotationEditorLayer:R,keepXfaLayer:I}),this.renderingState=i.RenderingStates.INITIAL;const U=this.div;U.style.width=Math.floor(this.viewport.width)+"px",U.style.height=Math.floor(this.viewport.height)+"px";const P=U.childNodes,A=B&&this.zoomLayer||null,z=G&&((O=this.annotationLayer)===null||O===void 0?void 0:O.div)||null,N=R&&((L=this.annotationEditorLayer)===null||L===void 0?void 0:L.div)||null,W=I&&((te=this.xfaLayer)===null||te===void 0?void 0:te.div)||null;for(let Y=P.length-1;Y>=0;Y--){const F=P[Y];switch(F){case A:case z:case N:case W:continue}F.remove()}if(U.removeAttribute("data-loaded"),z&&this.annotationLayer.hide(),N)this.annotationEditorLayer.hide();else{var ie;(ie=this.annotationEditorLayer)===null||ie===void 0||ie.destroy()}W&&this.xfaLayer.hide(),A||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Y=>{var F;(F=this.loadingIconDiv)===null||F===void 0||F.setAttribute("aria-label",Y)}),U.append(this.loadingIconDiv)}update(O){let{scale:L=0,rotation:te=null,optionalContentConfigPromise:B=null}=O;this.scale=L||this.scale,typeof te=="number"&&(this.rotation=te),B instanceof Promise&&(this._optionalContentConfigPromise=B,B.then(I=>{B===this._optionalContentConfigPromise&&(g(this,E).initialOptionalContent=I.hasInitialVisibility)}));const G=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*t.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:G}),this._isStandalone&&i.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let R=!1;if(this.canvas&&this.maxCanvasPixels>0){const I=this.outputScale;(Math.floor(this.viewport.width)*I.sx|0)*(Math.floor(this.viewport.height)*I.sy|0)>this.maxCanvasPixels&&(R=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&R){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering(){let{keepAnnotationLayer:O=!1,keepAnnotationEditorLayer:L=!1,keepXfaLayer:te=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!O||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!L||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!te||!this.xfaLayer.div)){var B;this.xfaLayer.cancel(),this.xfaLayer=null,(B=this.textHighlighter)===null||B===void 0||B.disable()}this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform(O){let{target:L,redrawAnnotationLayer:te=!1,redrawAnnotationEditorLayer:B=!1,redrawXfaLayer:G=!1}=O;const R=this.viewport.width,I=this.viewport.height,U=this.div;L.style.width=L.parentNode.style.width=U.style.width=Math.floor(R)+"px",L.style.height=L.parentNode.style.height=U.style.height=Math.floor(I)+"px";const P=this.viewport.rotation-this.paintedViewportMap.get(L).rotation,A=Math.abs(P);let z=1,N=1;if((A===90||A===270)&&(z=I/R,N=R/I),L.style.transform=`rotate(${P}deg) scale(${z}, ${N})`,this.textLayer){const W=this.textLayer.viewport,ie=this.viewport.rotation-W.rotation,Y=Math.abs(ie);let F=R/W.width;(Y===90||Y===270)&&(F=R/W.height);const D=this.textLayer.textLayerDiv;let Q,ee;switch(Y){case 0:Q=ee=0;break;case 90:Q=0,ee="-"+D.style.height;break;case 180:Q="-"+D.style.width,ee="-"+D.style.height;break;case 270:Q="-"+D.style.width,ee=0;break;default:console.error("Bad rotation value.");break}D.style.transform=`rotate(${Y}deg) scale(${F}) translate(${Q}, ${ee})`,D.style.transformOrigin="0% 0%"}te&&this.annotationLayer&&this._renderAnnotationLayer(),B&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),G&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(O,L){return this.viewport.convertToPdfPoint(O,L)}toggleLoadingIconSpinner(){var O;let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(O=this.loadingIconDiv)===null||O===void 0||O.classList.toggle("notVisible",!L)}draw(){var O,L,te,B=this;this.renderingState!==i.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:G,pdfPage:R}=this;if(!R)return this.renderingState=i.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=i.RenderingStates.RUNNING;const I=document.createElement("div");I.style.width=G.style.width,I.style.height=G.style.height,I.classList.add("canvasWrapper");const U=((O=this.annotationLayer)===null||O===void 0?void 0:O.div)||((L=this.annotationEditorLayer)===null||L===void 0?void 0:L.div);U?U.before(I):G.append(I);let P=null;if(this.textLayerMode!==i.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new e.TextAccessibilityManager);const ie=document.createElement("div");ie.className="textLayer",ie.style.width=I.style.width,ie.style.height=I.style.height,U?U.before(ie):G.append(ie),P=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:ie,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===i.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=P,g(this,T)!==t.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:G,pdfPage:R,imageResourcesPath:this.imageResourcesPath,renderForms:g(this,T)===t.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(te=this.xfaLayer)!==null&&te!==void 0&&te.div&&G.append(this.xfaLayer.div);let A=null;this.renderingQueue&&(A=ie=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=i.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=i.RenderingStates.RUNNING,ie()};return}ie()});const z=async function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(N===B.paintTask&&(B.paintTask=null),ie instanceof t.RenderingCancelledException){B._renderError=null;return}if(B._renderError=ie,B.renderingState=i.RenderingStates.FINISHED,B.loadingIconDiv&&(B.loadingIconDiv.remove(),delete B.loadingIconDiv),B._resetZoomLayer(!0),g(B,E).regularAnnotations=!N.separateAnnots,B.eventBus.dispatch("pagerendered",{source:B,pageNumber:B.id,cssTransform:!1,timestamp:performance.now(),error:B._renderError}),ie)throw ie},N=this.renderer===i.RendererType.SVG?this.paintOnSvg(I):this.paintOnCanvas(I);N.onRenderContinue=A,this.paintTask=N;const W=N.promise.then(()=>z(null).then(()=>{if(P){const ie=R.streamTextContent({includeMarkedContent:!0});P.setTextContentStream(ie),P.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:G,pdfPage:R,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(ie){return z(ie)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:G,pdfPage:R})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ie=>{ie.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Y=>{if(!Y||!this.canvas)return;const F=this.structTreeLayer.render(Y);F.classList.add("structTree"),this.canvas.append(F)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:R})),G.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),W}paintOnCanvas(O){const L=(0,t.createPromiseCapability)(),te={promise:L.promise,onRenderContinue(Y){Y()},cancel(){ie.cancel()},get separateAnnots(){return ie.separateAnnots}},B=this.viewport,G=document.createElement("canvas");G.setAttribute("role","presentation"),G.hidden=!0;let R=!0;const I=function(){R&&(G.hidden=!1,R=!1)};O.append(G),this.canvas=G;const U=G.getContext("2d",{alpha:!1}),P=this.outputScale=new i.OutputScale;if(this.useOnlyCssZoom){const Y=B.clone({scale:t.PixelsPerInch.PDF_TO_CSS_UNITS});P.sx*=Y.width/B.width,P.sy*=Y.height/B.height}if(this.maxCanvasPixels>0){const Y=B.width*B.height,F=Math.sqrt(this.maxCanvasPixels/Y);P.sx>F||P.sy>F?(P.sx=F,P.sy=F,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const A=(0,i.approximateFraction)(P.sx),z=(0,i.approximateFraction)(P.sy);G.width=(0,i.roundToDivide)(B.width*P.sx,A[0]),G.height=(0,i.roundToDivide)(B.height*P.sy,z[0]),G.style.width=(0,i.roundToDivide)(B.width,A[1])+"px",G.style.height=(0,i.roundToDivide)(B.height,z[1])+"px",this.paintedViewportMap.set(G,B);const N=P.scaled?[P.sx,0,0,P.sy,0,0]:null,W={canvasContext:U,transform:N,viewport:this.viewport,annotationMode:g(this,T),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ie=this.pdfPage.render(W);return ie.onContinue=function(Y){I(),te.onRenderContinue?te.onRenderContinue(Y):Y()},ie.promise.then(function(){I(),L.resolve()},function(Y){I(),L.reject(Y)}),te}paintOnSvg(O){let L=!1;const te=()=>{if(L)throw new t.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},B=this.pdfPage,G=this.viewport.clone({scale:t.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:B.getOperatorList({annotationMode:g(this,T)}).then(I=>(te(),new t.SVGGraphics(B.commonObjs,B.objs).getSVG(I,G).then(P=>{te(),this.svg=P,this.paintedViewportMap.set(P,G),P.style.width=O.style.width,P.style.height=O.style.height,this.renderingState=i.RenderingStates.FINISHED,O.append(P)}))),onRenderContinue(I){I()},cancel(){L=!0},get separateAnnots(){return!1}}}setPageLabel(O){this.pageLabel=typeof O=="string"?O:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:O,regularAnnotations:L}=g(this,E);return O&&L?this.canvas:null}}l.PDFPageView=k},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.compatibilityParams=l.OptionKind=l.AppOptions=void 0;const a=Object.create(null);l.compatibilityParams=a;{const e=navigator.userAgent||"",u=navigator.platform||"",m=navigator.maxTouchPoints||1,g=/Android/.test(e),y=/\b(iPad|iPhone|iPod)(?=;)/.test(e)||u==="MacIntel"&&m>1;(function(){(y||g)&&(a.maxCanvasPixels=5242880)})()}const t={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};l.OptionKind=t;const i={annotationEditorMode:{value:-1,kind:t.VIEWER+t.PREFERENCE},annotationMode:{value:2,kind:t.VIEWER+t.PREFERENCE},cursorToolOnLoad:{value:0,kind:t.VIEWER+t.PREFERENCE},defaultZoomValue:{value:"",kind:t.VIEWER+t.PREFERENCE},disableHistory:{value:!1,kind:t.VIEWER},disablePageLabels:{value:!1,kind:t.VIEWER+t.PREFERENCE},enablePermissions:{value:!1,kind:t.VIEWER+t.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:t.VIEWER+t.PREFERENCE},enableScripting:{value:!0,kind:t.VIEWER+t.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:t.VIEWER},externalLinkTarget:{value:0,kind:t.VIEWER+t.PREFERENCE},historyUpdateUrl:{value:!1,kind:t.VIEWER+t.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:t.VIEWER+t.PREFERENCE},imageResourcesPath:{value:"./images/",kind:t.VIEWER},maxCanvasPixels:{value:16777216,kind:t.VIEWER},forcePageColors:{value:!1,kind:t.VIEWER+t.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:t.VIEWER+t.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:t.VIEWER+t.PREFERENCE},pdfBugEnabled:{value:!1,kind:t.VIEWER+t.PREFERENCE},printResolution:{value:150,kind:t.VIEWER},sidebarViewOnLoad:{value:-1,kind:t.VIEWER+t.PREFERENCE},scrollModeOnLoad:{value:-1,kind:t.VIEWER+t.PREFERENCE},spreadModeOnLoad:{value:-1,kind:t.VIEWER+t.PREFERENCE},textLayerMode:{value:1,kind:t.VIEWER+t.PREFERENCE},useOnlyCssZoom:{value:!1,kind:t.VIEWER+t.PREFERENCE},viewerCssTheme:{value:0,kind:t.VIEWER+t.PREFERENCE},viewOnLoad:{value:0,kind:t.VIEWER+t.PREFERENCE},cMapPacked:{value:!0,kind:t.API},cMapUrl:{value:"../web/cmaps/",kind:t.API},disableAutoFetch:{value:!1,kind:t.API+t.PREFERENCE},disableFontFace:{value:!1,kind:t.API+t.PREFERENCE},disableRange:{value:!1,kind:t.API+t.PREFERENCE},disableStream:{value:!1,kind:t.API+t.PREFERENCE},docBaseUrl:{value:"",kind:t.API},enableXfa:{value:!0,kind:t.API+t.PREFERENCE},fontExtraProperties:{value:!1,kind:t.API},isEvalSupported:{value:!0,kind:t.API},maxImageSize:{value:-1,kind:t.API},pdfBug:{value:!1,kind:t.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:t.API},verbosity:{value:1,kind:t.API},workerPort:{value:null,kind:t.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:t.WORKER}};i.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:t.VIEWER},i.disablePreferences={value:!1,kind:t.VIEWER},i.locale={value:navigator.language||"en-US",kind:t.VIEWER},i.renderer={value:"canvas",kind:t.VIEWER+t.PREFERENCE},i.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:t.VIEWER};const c=Object.create(null);class s{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(u){const m=c[u];if(m!==void 0)return m;const g=i[u];if(g!==void 0){var y;return(y=a[u])!==null&&y!==void 0?y:g.value}}static getAll(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const m=Object.create(null);for(const y in i){var g;const b=i[y];if(u){if(!(u&b.kind))continue;if(u===t.PREFERENCE){const o=b.value,S=typeof o;if(S==="boolean"||S==="string"||S==="number"&&Number.isInteger(o)){m[y]=o;continue}throw new Error(`Invalid type for preference: ${y}`)}}const v=c[y];m[y]=v!==void 0?v:(g=a[y])!==null&&g!==void 0?g:b.value}return m}static set(u,m){c[u]=m}static setAll(u){for(const m in u)c[m]=u[m]}static remove(u){delete c[u]}static _hasUserOptions(){return Object.keys(c).length>0}}l.AppOptions=s},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TextAccessibilityManager=void 0;var t=a(7);function i(B,G){s(B,G),G.add(B)}function c(B,G,R){s(B,G),G.set(B,R)}function s(B,G){if(G.has(B))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(B,G,R){if(!G.has(B))throw new TypeError("attempted to get private field on non-instance");return R}function u(B,G,R){return m(B,G),R}function m(B,G){if(B!==G)throw new TypeError("Private static access of wrong provenance")}function g(B,G){var R=v(B,G,"get");return y(B,R)}function y(B,G){return G.get?G.get.call(B):G.value}function b(B,G,R){var I=v(B,G,"set");return o(B,I,R),R}function v(B,G,R){if(!G.has(B))throw new TypeError("attempted to "+R+" private field on non-instance");return G.get(B)}function o(B,G,R){if(G.set)G.set.call(B,R);else{if(!G.writable)throw new TypeError("attempted to set read only private field");G.value=R}}var S=new WeakMap,T=new WeakMap,E=new WeakMap,k=new WeakMap,M=new WeakSet;class O{constructor(){i(this,M),c(this,S,{writable:!0,value:!1}),c(this,T,{writable:!0,value:null}),c(this,E,{writable:!0,value:new Map}),c(this,k,{writable:!0,value:new Map})}setTextMapping(G){b(this,T,G)}enable(){if(g(this,S))throw new Error("TextAccessibilityManager is already enabled.");if(!g(this,T))throw new Error("Text divs and strings have not been set.");if(b(this,S,!0),b(this,T,g(this,T).slice()),g(this,T).sort(u(O,O,L)),g(this,E).size>0){const G=g(this,T);for(const[R,I]of g(this,E)){if(!document.getElementById(R)){g(this,E).delete(R);continue}e(this,M,te).call(this,R,G[I])}}for(const[G,R]of g(this,k))this.addPointerInTextLayer(G,R);g(this,k).clear()}disable(){g(this,S)&&(g(this,k).clear(),b(this,T,null),b(this,S,!1))}removePointerInTextLayer(G){var R;if(!g(this,S)){g(this,k).delete(G);return}const I=g(this,T);if(!I||I.length===0)return;const{id:U}=G,P=g(this,E).get(U);if(P===void 0)return;const A=I[P];g(this,E).delete(U);let z=A.getAttribute("aria-owns");(R=z)!==null&&R!==void 0&&R.includes(U)&&(z=z.split(" ").filter(N=>N!==U).join(" "),z?A.setAttribute("aria-owns",z):(A.removeAttribute("aria-owns"),A.setAttribute("role","presentation")))}addPointerInTextLayer(G,R){const{id:I}=G;if(!I)return;if(!g(this,S)){g(this,k).set(G,R);return}R&&this.removePointerInTextLayer(G);const U=g(this,T);if(!U||U.length===0)return;const P=(0,t.binarySearchFirstItem)(U,z=>u(O,O,L).call(O,G,z)<0),A=Math.max(0,P-1);e(this,M,te).call(this,I,U[A]),g(this,E).set(I,A)}moveElementInDOM(G,R,I,U){if(this.addPointerInTextLayer(I,U),!G.hasChildNodes()){G.append(R);return}const P=Array.from(G.childNodes).filter(N=>N!==R);if(P.length===0)return;const A=I||R,z=(0,t.binarySearchFirstItem)(P,N=>u(O,O,L).call(O,A,N)<0);z===0?P[0].before(R):P[z-1].after(R)}}l.TextAccessibilityManager=O;function L(B,G){const R=B.getBoundingClientRect(),I=G.getBoundingClientRect();if(R.width===0&&R.height===0)return 1;if(I.width===0&&I.height===0)return-1;const U=R.y,P=R.y+R.height,A=R.y+R.height/2,z=I.y,N=I.y+I.height,W=I.y+I.height/2;if(A<=z&&W>=P)return-1;if(W<=U&&A>=N)return 1;const ie=R.x+R.width/2,Y=I.x+I.width/2;return ie-Y}function te(B,G){const R=G.getAttribute("aria-owns");R!=null&&R.includes(B)||G.setAttribute("aria-owns",R?`${R} ${B}`:B),G.removeAttribute("role")}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFRenderingQueue=void 0;var t=a(3),i=a(7);const c=3e4;class s{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(u){this.pdfViewer=u}setThumbnailViewer(u){this.pdfThumbnailViewer=u}isHighestPriority(u){return this.highestPriorityPage===u.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(u){var m;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(u)&&(this.isThumbnailViewEnabled&&(m=this.pdfThumbnailViewer)!==null&&m!==void 0&&m.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),c)))}getHighestPriority(u,m,g){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const b=u.views,v=b.length;if(v===0)return null;for(let k=0;k<v;k++){const M=b[k].view;if(!this.isViewFinished(M))return M}const o=u.first.id,S=u.last.id;if(S-o+1>v){const k=u.ids;for(let M=1,O=S-o;M<O;M++){const L=g?o+M:S-M;if(k.has(L))continue;const te=m[L-1];if(!this.isViewFinished(te))return te}}let T=g?S:o-2,E=m[T];return E&&!this.isViewFinished(E)||y&&(T+=g?1:-1,E=m[T],E&&!this.isViewFinished(E))?E:null}isViewFinished(u){return u.renderingState===i.RenderingStates.FINISHED}renderView(u){switch(u.renderingState){case i.RenderingStates.FINISHED:return!1;case i.RenderingStates.PAUSED:this.highestPriorityPage=u.renderingId,u.resume();break;case i.RenderingStates.RUNNING:this.highestPriorityPage=u.renderingId;break;case i.RenderingStates.INITIAL:this.highestPriorityPage=u.renderingId,u.draw().finally(()=>{this.renderHighestPriority()}).catch(m=>{m instanceof t.RenderingCancelledException||console.error(`renderView: "${m}"`)});break}return!0}}l.PDFRenderingQueue=s},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TextHighlighter=void 0;class a{constructor(i){let{findController:c,eventBus:s,pageIndex:e}=i;this.findController=c,this.matches=[],this.eventBus=s,this.pageIdx=e,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(i,c){this.textDivs=i,this.textContentItemsStr=c}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=i=>{(i.pageIndex===this.pageIdx||i.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(i,c){if(!i)return[];const{textContentItemsStr:s}=this;let e=0,u=0;const m=s.length-1,g=[];for(let y=0,b=i.length;y<b;y++){let v=i[y];for(;e!==m&&v>=u+s[e].length;)u+=s[e].length,e++;e===s.length&&console.error("Could not find a matching mapping");const o={begin:{divIdx:e,offset:v-u}};for(v+=c[y];e!==m&&v>u+s[e].length;)u+=s[e].length,e++;o.end={divIdx:e,offset:v-u},g.push(o)}return g}_renderMatches(i){if(i.length===0)return;const{findController:c,pageIdx:s}=this,{textContentItemsStr:e,textDivs:u}=this,m=s===c.selected.pageIdx,g=c.selected.matchIdx,y=c.state.highlightAll;let b=null;const v={divIdx:-1,offset:void 0};function o(k,M){const O=k.divIdx;return u[O].textContent="",S(O,0,k.offset,M)}function S(k,M,O,L){let te=u[k];if(te.nodeType===Node.TEXT_NODE){const R=document.createElement("span");te.before(R),R.append(te),u[k]=R,te=R}const B=e[k].substring(M,O),G=document.createTextNode(B);if(L){const R=document.createElement("span");return R.className=`${L} appended`,R.append(G),te.append(R),L.includes("selected")?R.offsetLeft:0}return te.append(G),0}let T=g,E=T+1;if(y)T=0,E=i.length;else if(!m)return;for(let k=T;k<E;k++){const M=i[k],O=M.begin,L=M.end,te=m&&k===g,B=te?" selected":"";let G=0;if(!b||O.divIdx!==b.divIdx?(b!==null&&S(b.divIdx,b.offset,v.offset),o(O)):S(b.divIdx,b.offset,O.offset),O.divIdx===L.divIdx)G=S(O.divIdx,O.offset,L.offset,"highlight"+B);else{G=S(O.divIdx,O.offset,v.offset,"highlight begin"+B);for(let R=O.divIdx+1,I=L.divIdx;R<I;R++)u[R].className="highlight middle"+B;o(L,"highlight end"+B)}b=L,te&&c.scrollMatchIntoView({element:u[O.divIdx],selectedLeft:G,pageIndex:s,matchIndex:g})}b&&S(b.divIdx,b.offset,v.offset)}_updateMatches(){if(!this.enabled)return;const{findController:i,matches:c,pageIdx:s}=this,{textContentItemsStr:e,textDivs:u}=this;let m=-1;for(let b=0,v=c.length;b<v;b++){const o=c[b],S=Math.max(m,o.begin.divIdx);for(let T=S,E=o.end.divIdx;T<=E;T++){const k=u[T];k.textContent=e[T],k.className=""}m=o.end.divIdx+1}if(!(i!=null&&i.highlightMatches))return;const g=i.pageMatches[s]||null,y=i.pageMatchesLength[s]||null;this.matches=this._convertMatches(g,y),this._renderMatches(this.matches)}}l.TextHighlighter=a},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DownloadManager=void 0;var t=a(3);function i(s,e){const u=document.createElement("a");if(!u.click)throw new Error('DownloadManager: "a.click()" is not supported.');u.href=s,u.target="_parent","download"in u&&(u.download=e),(document.body||document.documentElement).append(u),u.click(),u.remove()}class c{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(e,u){if(!(0,t.createValidAbsoluteUrl)(e,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${e}`);return}i(e+"#pdfjs.action=download",u)}downloadData(e,u,m){const g=URL.createObjectURL(new Blob([e],{type:m}));i(g,u)}openOrDownloadData(e,u,m){const g=(0,t.isPdfFile)(m),y=g?"application/pdf":"";if(g){let b=this._openBlobUrls.get(e);b||(b=URL.createObjectURL(new Blob([u],{type:y})),this._openBlobUrls.set(e,b));let v;v="?file="+encodeURIComponent(b+"#"+m);try{return window.open(v),!0}catch(o){console.error(`openOrDownloadData: ${o}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(e)}}return this.downloadData(u,m,y),!1}download(e,u,m){const g=URL.createObjectURL(e);i(g,m)}}l.DownloadManager=c},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WaitOnType=l.EventBus=l.AutomationEventBus=void 0,l.waitOnEventOrTimeout=t;const a={EVENT:"event",TIMEOUT:"timeout"};l.WaitOnType=a;function t(s){let{target:e,name:u,delay:m=0}=s;return new Promise(function(g,y){if(typeof e!="object"||!(u&&typeof u=="string")||!(Number.isInteger(m)&&m>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function b(T){e instanceof i?e._off(u,v):e.removeEventListener(u,v),S&&clearTimeout(S),g(T)}const v=b.bind(null,a.EVENT);e instanceof i?e._on(u,v):e.addEventListener(u,v);const o=b.bind(null,a.TIMEOUT),S=setTimeout(o,m)})}class i{constructor(){this._listeners=Object.create(null)}on(e,u){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(e,u,{external:!0,once:m==null?void 0:m.once})}off(e,u){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(e,u,{external:!0,once:m==null?void 0:m.once})}dispatch(e,u){const m=this._listeners[e];if(!m||m.length===0)return;let g;for(const{listener:y,external:b,once:v}of m.slice(0)){if(v&&this._off(e,y),b){(g||(g=[])).push(y);continue}y(u)}if(g){for(const y of g)y(u);g=null}}_on(e,u){var m;let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;((m=this._listeners)[e]||(m[e]=[])).push({listener:u,external:(g==null?void 0:g.external)===!0,once:(g==null?void 0:g.once)===!0})}_off(e,u){const m=this._listeners[e];if(m){for(let g=0,y=m.length;g<y;g++)if(m[g].listener===u){m.splice(g,1);return}}}}l.EventBus=i;class c extends i{dispatch(e,u){throw new Error("Not implemented: AutomationEventBus.dispatch")}}l.AutomationEventBus=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GenericL10n=void 0,a(21);var t=a(4);const i=document.webL10n;class c{constructor(e){this._lang=e,this._ready=new Promise((u,m)=>{i.setLanguage((0,t.fixupLangCode)(e),()=>{u(i)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,t.getL10nFallback)(e,u);return(await this._ready).get(e,u,m)}async translate(e){return(await this._ready).translate(e)}}l.GenericL10n=c},()=>{document.webL10n=function($,l,a){var t={},i="",c="textContent",s="",e={},u="loading",m=!0;function g(){return l.querySelectorAll('link[type="application/l10n"]')}function y(){var R=l.querySelector('script[type="application/l10n"]');return R?JSON.parse(R.innerHTML):null}function b(R){return R?R.querySelectorAll("*[data-l10n-id]"):[]}function v(R){if(!R)return{};var I=R.getAttribute("data-l10n-id"),U=R.getAttribute("data-l10n-args"),P={};if(U)try{P=JSON.parse(U)}catch{console.warn("could not parse arguments for #"+I)}return{id:I,args:P}}function o(R,I,U){I=I||function(z){},U=U||function(){};var P=new XMLHttpRequest;P.open("GET",R,m),P.overrideMimeType&&P.overrideMimeType("text/plain; charset=utf-8"),P.onreadystatechange=function(){P.readyState==4&&(P.status==200||P.status===0?I(P.responseText):U())},P.onerror=U,P.ontimeout=U;try{P.send(null)}catch{U()}}function S(R,I,U,P){var A=R.replace(/[^\/]*$/,"")||"./";function z(W){return W.lastIndexOf("\\")<0?W:W.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function N(W,ie){var Y={},F=/^\s*|\s*$/,D=/^\s*#|^\s*$/,Q=/^\s*\[(.*)\]\s*$/,ee=/^\s*@import\s+url\((.*)\)\s*$/i,V=/^([^=\s]*)\s*=\s*(.+)$/;function Z(H,q,ne){var le=H.replace(F,"").split(/[\r\n]+/),se="*",J=I.split("-",1)[0],re=!1,oe="";function ue(){for(;;){if(!le.length){ne();return}var he=le.shift();if(!D.test(he)){if(q){if(oe=Q.exec(he),oe){se=oe[1].toLowerCase(),re=se!=="*"&&se!==I&&se!==J;continue}else if(re)continue;if(oe=ee.exec(he),oe){ae(A+oe[1],ue);return}}var de=he.match(V);de&&de.length==3&&(Y[de[1]]=z(de[2]))}}}ue()}function ae(H,q){o(H,function(ne){Z(ne,!1,q)},function(){console.warn(H+" not found."),q()})}Z(W,!0,function(){ie(Y)})}o(R,function(W){i+=W,N(W,function(ie){for(var Y in ie){var F,D,Q=Y.lastIndexOf(".");Q>0?(F=Y.substring(0,Q),D=Y.substring(Q+1)):(F=Y,D=c),t[F]||(t[F]={}),t[F][D]=ie[Y]}U&&U()})},P)}function T(R,I){R&&(R=R.toLowerCase()),I=I||function(){},E(),s=R;var U=g(),P=U.length;if(P===0){var A=y();if(A&&A.locales&&A.default_locale){if(console.log("using the embedded JSON directory, early way out"),t=A.locales[R],!t){var z=A.default_locale.toLowerCase();for(var N in A.locales)if(N=N.toLowerCase(),N===R){t=A.locales[R];break}else N===z&&(t=A.locales[z])}I()}else console.log("no resource to load, early way out");u="complete";return}var W=null,ie=0;W=function(){ie++,ie>=P&&(I(),u="complete")};function Y(Q){var ee=Q.href;this.load=function(V,Z){S(ee,V,Z,function(){console.warn(ee+" not found."),console.warn('"'+V+'" resource not found'),s="",Z()})}}for(var F=0;F<P;F++){var D=new Y(U[F]);D.load(R,W)}}function E(){t={},i="",s=""}function k(R){var I={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function U(N,W){return W.indexOf(N)!==-1}function P(N,W,ie){return W<=N&&N<=ie}var A={0:function(N){return"other"},1:function(N){return P(N%100,3,10)?"few":N===0?"zero":P(N%100,11,99)?"many":N==2?"two":N==1?"one":"other"},2:function(N){return N!==0&&N%10===0?"many":N==2?"two":N==1?"one":"other"},3:function(N){return N==1?"one":"other"},4:function(N){return P(N,0,1)?"one":"other"},5:function(N){return P(N,0,2)&&N!=2?"one":"other"},6:function(N){return N===0?"zero":N%10==1&&N%100!=11?"one":"other"},7:function(N){return N==2?"two":N==1?"one":"other"},8:function(N){return P(N,3,6)?"few":P(N,7,10)?"many":N==2?"two":N==1?"one":"other"},9:function(N){return N===0||N!=1&&P(N%100,1,19)?"few":N==1?"one":"other"},10:function(N){return P(N%10,2,9)&&!P(N%100,11,19)?"few":N%10==1&&!P(N%100,11,19)?"one":"other"},11:function(N){return P(N%10,2,4)&&!P(N%100,12,14)?"few":N%10===0||P(N%10,5,9)||P(N%100,11,14)?"many":N%10==1&&N%100!=11?"one":"other"},12:function(N){return P(N,2,4)?"few":N==1?"one":"other"},13:function(N){return P(N%10,2,4)&&!P(N%100,12,14)?"few":N!=1&&P(N%10,0,1)||P(N%10,5,9)||P(N%100,12,14)?"many":N==1?"one":"other"},14:function(N){return P(N%100,3,4)?"few":N%100==2?"two":N%100==1?"one":"other"},15:function(N){return N===0||P(N%100,2,10)?"few":P(N%100,11,19)?"many":N==1?"one":"other"},16:function(N){return N%10==1&&N!=11?"one":"other"},17:function(N){return N==3?"few":N===0?"zero":N==6?"many":N==2?"two":N==1?"one":"other"},18:function(N){return N===0?"zero":P(N,0,2)&&N!==0&&N!=2?"one":"other"},19:function(N){return P(N,2,10)?"few":P(N,0,1)?"one":"other"},20:function(N){return(P(N%10,3,4)||N%10==9)&&!(P(N%100,10,19)||P(N%100,70,79)||P(N%100,90,99))?"few":N%1e6===0&&N!==0?"many":N%10==2&&!U(N%100,[12,72,92])?"two":N%10==1&&!U(N%100,[11,71,91])?"one":"other"},21:function(N){return N===0?"zero":N==1?"one":"other"},22:function(N){return P(N,0,1)||P(N,11,99)?"one":"other"},23:function(N){return P(N%10,1,2)||N%20===0?"one":"other"},24:function(N){return P(N,3,10)||P(N,13,19)?"few":U(N,[2,12])?"two":U(N,[1,11])?"one":"other"}},z=I[R.replace(/-.*$/,"")];return z in A?A[z]:(console.warn("plural form unknown for ["+R+"]"),function(){return"other"})}e.plural=function(R,I,U,P){var A=parseFloat(I);if(isNaN(A)||P!=c)return R;e._pluralRules||(e._pluralRules=k(s));var z="["+e._pluralRules(A)+"]";return A===0&&U+"[zero]"in t?R=t[U+"[zero]"][P]:A==1&&U+"[one]"in t?R=t[U+"[one]"][P]:A==2&&U+"[two]"in t?R=t[U+"[two]"][P]:U+z in t?R=t[U+z][P]:U+"[other]"in t&&(R=t[U+"[other]"][P]),R};function M(R,I,U){var P=t[R];if(!P){if(console.warn("#"+R+" is undefined."),!U)return null;P=U}var A={};for(var z in P){var N=P[z];N=O(N,I,R,z),N=L(N,I,R),A[z]=N}return A}function O(R,I,U,P){var A=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,z=A.exec(R);if(!z||!z.length)return R;var N=z[1],W=z[2],ie;if(I&&W in I?ie=I[W]:W in t&&(ie=t[W]),N in e){var Y=e[N];R=Y(R,ie,U,P)}return R}function L(R,I,U){var P=/\{\{\s*(.+?)\s*\}\}/g;return R.replace(P,function(A,z){return I&&z in I?I[z]:z in t?t[z]:(console.log("argument {{"+z+"}} for #"+U+" is undefined."),A)})}function te(R){var I=v(R);if(I.id){var U=M(I.id,I.args);if(!U){console.warn("#"+I.id+" is undefined.");return}if(U[c]){if(B(R)===0)R[c]=U[c];else{for(var P=R.childNodes,A=!1,z=0,N=P.length;z<N;z++)P[z].nodeType===3&&/\S/.test(P[z].nodeValue)&&(A?P[z].nodeValue="":(P[z].nodeValue=U[c],A=!0));if(!A){var W=l.createTextNode(U[c]);R.prepend(W)}}delete U[c]}for(var ie in U)R[ie]=U[ie]}}function B(R){if(R.children)return R.children.length;if(typeof R.childElementCount<"u")return R.childElementCount;for(var I=0,U=0;U<R.childNodes.length;U++)I+=R.nodeType===1?1:0;return I}function G(R){R=R||l.documentElement;for(var I=b(R),U=I.length,P=0;P<U;P++)te(I[P]);te(R)}return{get:function(R,I,U){var P=R.lastIndexOf("."),A=c;P>0&&(A=R.substring(P+1),R=R.substring(0,P));var z;U&&(z={},z[A]=U);var N=M(R,I,z);return N&&A in N?N[A]:"{{"+R+"}}"},getData:function(){return t},getText:function(){return i},getLanguage:function(){return s},setLanguage:function(R,I){T(R,function(){I&&I()})},getDirection:function(){var R=["ar","he","fa","ps","ur"],I=s.split("-",1)[0];return R.indexOf(I)>=0?"rtl":"ltr"},translate:G,getReadyState:function(){return u},ready:function(R){if(R)u=="complete"||u=="interactive"?$.setTimeout(function(){R()}):l.addEventListener&&l.addEventListener("localized",function I(){l.removeEventListener("localized",I),R()});else return}}}(window,document)},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFFindController=l.FindState=void 0;var t=a(7),i=a(3),c=a(23);function s($e,je,Te){u($e,je),je.set($e,Te)}function e($e,je){u($e,je),je.add($e)}function u($e,je){if(je.has($e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m($e,je){var Te=g($e,je,"get");return y($e,Te)}function g($e,je,Te){if(!je.has($e))throw new TypeError("attempted to "+Te+" private field on non-instance");return je.get($e)}function y($e,je){return je.get?je.get.call($e):je.value}function b($e,je,Te){if(!je.has($e))throw new TypeError("attempted to get private field on non-instance");return Te}const v={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};l.FindState=v;const o=250,S=-50,T=-400,E={"":"-","":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},k=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),M=[...k.values()].map($e=>String.fromCharCode($e)).join(""),O=/\p{M}+/gu,L=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,te=/([^\p{M}])\p{M}*$/u,B=/^\p{M}*([^\p{M}])/u,G=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,R=new Map,I="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let U=null,P=null;function A($e){const je=[];let Te;for(;(Te=G.exec($e))!==null;){let{index:Ge}=Te;for(const ht of Te[0]){let ct=R.get(ht);ct||(ct=ht.normalize("NFD").length,R.set(ht,ct)),je.push([ct,Ge++])}}let Ae;if(je.length===0&&U)Ae=U;else if(je.length>0&&P)Ae=P;else{const ht=`([${Object.keys(E).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;je.length===0?Ae=U=new RegExp(ht+"|(\\u0000)","gum"):Ae=P=new RegExp(ht+`|(${I})`,"gum")}const Ee=[];for(;(Te=O.exec($e))!==null;)Ee.push([Te[0].length,Te.index]);let Be=$e.normalize("NFD");const ze=[[0,0]];let We=0,tt=0,Ze=0,Xe=0,st=0,gt=!1;return Be=Be.replace(Ae,(Ge,ht,ct,pt,Ct,kt,mt)=>{var Wt;if(mt-=Xe,ht){const qe=E[Ge],it=qe.length;for(let rt=1;rt<it;rt++)ze.push([mt-Ze+rt,Ze-rt]);return Ze-=it-1,qe}if(ct){var et;const qe=ct.endsWith(`
`),it=qe?ct.length-2:ct.length;gt=!0;let rt=it;mt+st===((et=Ee[We])===null||et===void 0?void 0:et[1])&&(rt-=Ee[We][0],++We);for(let ft=1;ft<=rt;ft++)ze.push([mt-1-Ze+ft,Ze-ft]);return Ze-=rt,Xe+=rt,qe?(mt+=it-1,ze.push([mt-Ze+1,1+Ze]),Ze+=1,Xe+=1,st+=1,ct.slice(0,it)):ct}if(pt)return ze.push([mt-Ze+1,1+Ze]),Ze+=1,Xe+=1,st+=1,pt.charAt(0);if(Ct)return ze.push([mt-Ze+1,Ze-1]),Ze-=1,Xe+=1,st+=1," ";if(mt+st===((Wt=je[tt])===null||Wt===void 0?void 0:Wt[1])){const qe=je[tt][0]-1;++tt;for(let it=1;it<=qe;it++)ze.push([mt-(Ze-it),Ze-it]);Ze-=qe,Xe+=qe}return kt}),ze.push([Be.length,Ze]),[Be,ze,gt]}function z($e,je,Te){if(!$e)return[je,Te];const Ae=je,Ee=je+Te;let Be=(0,t.binarySearchFirstItem)($e,We=>We[0]>=Ae);$e[Be][0]>Ae&&--Be;let ze=(0,t.binarySearchFirstItem)($e,We=>We[0]>=Ee,Be);return $e[ze][0]>Ee&&--ze,[Ae+$e[Be][1],Te+$e[ze][1]-$e[Be][1]]}var N=new WeakSet,W=new WeakSet,ie=new WeakMap,Y=new WeakSet,F=new WeakSet,D=new WeakSet,Q=new WeakSet,ee=new WeakSet,V=new WeakSet,Z=new WeakSet,ae=new WeakSet,H=new WeakSet,q=new WeakSet,ne=new WeakSet,le=new WeakSet,se=new WeakSet,J=new WeakSet,re=new WeakSet,oe=new WeakSet,ue=new WeakSet;class he{constructor(je){let{linkService:Te,eventBus:Ae}=je;e(this,ue),e(this,oe),e(this,re),e(this,J),e(this,se),e(this,le),e(this,ne),e(this,q),e(this,H),e(this,ae),e(this,Z),e(this,V),e(this,ee),e(this,Q),e(this,D),e(this,F),e(this,Y),s(this,ie,{get:fe,set:void 0}),e(this,W),e(this,N),this._linkService=Te,this._eventBus=Ae,b(this,W,pe).call(this),Ae._on("find",b(this,N,de).bind(this)),Ae._on("findbarclose",b(this,J,Re).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(je){this._pdfDocument&&b(this,W,pe).call(this),je&&(this._pdfDocument=je,this._firstPageCapability.resolve())}scrollMatchIntoView(je){let{element:Te=null,selectedLeft:Ae=0,pageIndex:Ee=-1,matchIndex:Be=-1}=je;if(!this._scrollMatches||!Te)return;if(Be===-1||Be!==this._selected.matchIdx)return;if(Ee===-1||Ee!==this._selected.pageIdx)return;this._scrollMatches=!1;const ze={top:S,left:Ae+T};(0,t.scrollIntoView)(Te,ze,!0)}}l.PDFFindController=he;function de($e){if(!$e)return;const je=this._pdfDocument,{type:Te}=$e;(this._state===null||b(this,Y,be).call(this,$e))&&(this._dirtyMatch=!0),this._state=$e,Te!=="highlightallchange"&&b(this,ue,Pe).call(this,v.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||je&&this._pdfDocument!==je)return;b(this,V,Fe).call(this);const Ae=!this._highlightMatches,Ee=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Te?this._dirtyMatch?b(this,H,ke).call(this):Te==="again"?(b(this,H,ke).call(this),Ae&&this._state.highlightAll&&b(this,ae,ye).call(this)):Te==="highlightallchange"?(Ee?b(this,H,ke).call(this):this._highlightMatches=!0,b(this,ae,ye).call(this)):b(this,H,ke).call(this):this._findTimeout=setTimeout(()=>{b(this,H,ke).call(this),this._findTimeout=null},o)})}function pe(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}function fe(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=A(this._state.query)),this._normalizedQuery}function be($e){if($e.query!==this._state.query)return!0;switch($e.type){case"again":const je=this._selected.pageIdx+1,Te=this._linkService;return je>=1&&je<=Te.pagesCount&&je!==Te.page&&!Te.isPageVisible(je);case"highlightallchange":return!1}return!0}function ge($e,je,Te){let Ae=$e.slice(0,je).match(te);if(Ae){const Ee=$e.charCodeAt(je),Be=Ae[1].charCodeAt(0);if((0,c.getCharacterType)(Ee)===(0,c.getCharacterType)(Be))return!1}if(Ae=$e.slice(je+Te).match(B),Ae){const Ee=$e.charCodeAt(je+Te-1),Be=Ae[1].charCodeAt(0);if((0,c.getCharacterType)(Ee)===(0,c.getCharacterType)(Be))return!1}return!0}function Se($e,je,Te,Ae){const Ee=[],Be=[],ze=this._pageDiffs[Te];let We;for(;(We=$e.exec(Ae))!==null;){if(je&&!b(this,F,ge).call(this,Ae,We.index,We[0].length))continue;const[tt,Ze]=z(ze,We.index,We[0].length);Ze&&(Ee.push(tt),Be.push(Ze))}this._pageMatches[Te]=Ee,this._pageMatchesLength[Te]=Be}function ve($e,je){const{matchDiacritics:Te}=this._state;let Ae=!1;$e=$e.replace(L,(Be,ze,We,tt,Ze,Xe)=>ze?`[ ]*\\${ze}[ ]*`:We?`[ ]*${We}[ ]*`:tt?"[ ]+":Te?Ze||Xe:Ze?k.has(Ze.charCodeAt(0))?Ze:"":je?(Ae=!0,`${Xe}\\p{M}*`):Xe);const Ee="[ ]*";return $e.endsWith(Ee)&&($e=$e.slice(0,$e.length-Ee.length)),Te&&je&&(Ae=!0,$e=`${$e}(?=[${M}]|[^\\p{M}]|$)`),[Ae,$e]}function we($e){let je=m(this,ie);if(je.length===0)return;const{caseSensitive:Te,entireWord:Ae,phraseSearch:Ee}=this._state,Be=this._pageContents[$e],ze=this._hasDiacritics[$e];let We=!1;if(Ee)[We,je]=b(this,Q,ve).call(this,je,ze);else{const Xe=je.match(/\S+/g);Xe&&(je=Xe.sort().reverse().map(st=>{const[gt,Ge]=b(this,Q,ve).call(this,st,ze);return We||(We=gt),`(${Ge})`}).join("|"))}const tt=`g${We?"u":""}${Te?"":"i"}`;je=new RegExp(je,tt),b(this,D,Se).call(this,je,Ae,$e,Be),this._state.highlightAll&&b(this,Z,Ce).call(this,$e),this._resumePageIdx===$e&&(this._resumePageIdx=null,b(this,ne,Ie).call(this));const Ze=this._pageMatches[$e].length;Ze>0&&(this._matchesCountTotal+=Ze,b(this,oe,Le).call(this))}function Fe(){if(this._extractTextPromises.length>0)return;let $e=Promise.resolve();for(let je=0,Te=this._linkService.pagesCount;je<Te;je++){const Ae=(0,i.createPromiseCapability)();this._extractTextPromises[je]=Ae.promise,$e=$e.then(()=>this._pdfDocument.getPage(je+1).then(Ee=>Ee.getTextContent()).then(Ee=>{const Be=[];for(const ze of Ee.items)Be.push(ze.str),ze.hasEOL&&Be.push(`
`);[this._pageContents[je],this._pageDiffs[je],this._hasDiacritics[je]]=A(Be.join("")),Ae.resolve()},Ee=>{console.error(`Unable to get text content for page ${je+1}`,Ee),this._pageContents[je]="",this._pageDiffs[je]=null,this._hasDiacritics[je]=!1,Ae.resolve()}))}}function Ce($e){this._scrollMatches&&this._selected.pageIdx===$e&&(this._linkService.page=$e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:$e})}function ye(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function ke(){const $e=this._state.findPrevious,je=this._linkService.page-1,Te=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=je,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,b(this,ae,ye).call(this);for(let Ee=0;Ee<Te;Ee++)this._pendingFindMatches.has(Ee)||(this._pendingFindMatches.add(Ee),this._extractTextPromises[Ee].then(()=>{this._pendingFindMatches.delete(Ee),b(this,ee,we).call(this,Ee)}))}if(m(this,ie)===""){b(this,ue,Pe).call(this,v.FOUND);return}if(this._resumePageIdx)return;const Ae=this._offset;if(this._pagesToSearch=Te,Ae.matchIdx!==null){const Ee=this._pageMatches[Ae.pageIdx].length;if(!$e&&Ae.matchIdx+1<Ee||$e&&Ae.matchIdx>0){Ae.matchIdx=$e?Ae.matchIdx-1:Ae.matchIdx+1,b(this,se,Ne).call(this,!0);return}b(this,le,Me).call(this,$e)}b(this,ne,Ie).call(this)}function De($e){const je=this._offset,Te=$e.length,Ae=this._state.findPrevious;return Te?(je.matchIdx=Ae?Te-1:0,b(this,se,Ne).call(this,!0),!0):(b(this,le,Me).call(this,Ae),je.wrapped&&(je.matchIdx=null,this._pagesToSearch<0)?(b(this,se,Ne).call(this,!1),!0):!1)}function Ie(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let $e=null;do{const je=this._offset.pageIdx;if($e=this._pageMatches[je],!$e){this._resumePageIdx=je;break}}while(!b(this,q,De).call(this,$e))}function Me($e){const je=this._offset,Te=this._linkService.pagesCount;je.pageIdx=$e?je.pageIdx-1:je.pageIdx+1,je.matchIdx=null,this._pagesToSearch--,(je.pageIdx>=Te||je.pageIdx<0)&&(je.pageIdx=$e?Te-1:0,je.wrapped=!0)}function Ne(){let $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,je=v.NOT_FOUND;const Te=this._offset.wrapped;if(this._offset.wrapped=!1,$e){const Ae=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,je=Te?v.WRAPPED:v.FOUND,Ae!==-1&&Ae!==this._selected.pageIdx&&b(this,Z,Ce).call(this,Ae)}b(this,ue,Pe).call(this,je,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,b(this,Z,Ce).call(this,this._selected.pageIdx))}function Re($e){const je=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||je&&this._pdfDocument!==je||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),b(this,ue,Pe).call(this,v.FOUND),this._highlightMatches=!1,b(this,ae,ye).call(this))})}function Oe(){const{pageIdx:$e,matchIdx:je}=this._selected;let Te=0,Ae=this._matchesCountTotal;if(je!==-1){for(let Be=0;Be<$e;Be++){var Ee;Te+=((Ee=this._pageMatches[Be])===null||Ee===void 0?void 0:Ee.length)||0}Te+=je+1}return(Te<1||Te>Ae)&&(Te=Ae=0),{current:Te,total:Ae}}function Le(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:b(this,re,Oe).call(this)})}function Pe($e){var je,Te;let Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:$e,previous:Ae,matchesCount:b(this,re,Oe).call(this),rawQuery:(je=(Te=this._state)===null||Te===void 0?void 0:Te.query)!==null&&je!==void 0?je:null})}},($,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterType=void 0,l.getCharacterType=v;const a={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};l.CharacterType=a;function t(o){return o<11904}function i(o){return(o&65408)===0}function c(o){return o>=97&&o<=122||o>=65&&o<=90}function s(o){return o>=48&&o<=57}function e(o){return o===32||o===9||o===13||o===10}function u(o){return o>=13312&&o<=40959||o>=63744&&o<=64255}function m(o){return o>=12448&&o<=12543}function g(o){return o>=12352&&o<=12447}function y(o){return o>=65376&&o<=65439}function b(o){return(o&65408)===3584}function v(o){return t(o)?i(o)?e(o)?a.SPACE:c(o)||s(o)||o===95?a.ALPHA_LETTER:a.PUNCT:b(o)?a.THAI_LETTER:o===160?a.SPACE:a.ALPHA_LETTER:u(o)?a.HAN_LETTER:m(o)?a.KATAKANA_LETTER:g(o)?a.HIRAGANA_LETTER:y(o)?a.HALFWIDTH_KATAKANA_LETTER:a.ALPHA_LETTER}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFHistory=void 0,l.isDestArraysEqual=y,l.isDestHashesEqual=g;var t=a(7),i=a(19);const c=1e3,s=50,e=1e3;function u(){return document.location.hash}class m{constructor(v){let{linkService:o,eventBus:S}=v;this.linkService=o,this.eventBus=S,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",T=>{this._isPagesLoaded=!!T.pagesCount},{once:!0})})}initialize(v){let{fingerprint:o,resetHistory:S=!1,updateUrl:T=!1}=v;if(!o||typeof o!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const E=this._fingerprint!==""&&this._fingerprint!==o;this._fingerprint=o,this._updateUrl=T===!0,this._initialized=!0,this._bindEvents();const k=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=u(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(k,!0)||S){const{hash:O,page:L,rotation:te}=this._parseCurrentHash(!0);if(!O||E||S){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:O,page:L,rotation:te},!0);return}const M=k.destination;this._updateInternalState(M,k.uid,!0),M.rotation!==void 0&&(this._initialRotation=M.rotation),M.dest?(this._initialBookmark=JSON.stringify(M.dest),this._destination.page=null):M.hash?this._initialBookmark=M.hash:M.page&&(this._initialBookmark=`page=${M.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(v){let{namedDest:o=null,explicitDest:S,pageNumber:T}=v;if(!this._initialized)return;if(o&&typeof o!="string"){console.error(`PDFHistory.push: "${o}" is not a valid namedDest parameter.`);return}else if(Array.isArray(S)){if(!this._isValidPage(T)&&(T!==null||this._destination)){console.error(`PDFHistory.push: "${T}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${S}" is not a valid explicitDest parameter.`);return}const E=o||JSON.stringify(S);if(!E)return;let k=!1;if(this._destination&&(g(this._destination.hash,E)||y(this._destination.dest,S))){if(this._destination.page)return;k=!0}this._popStateInProgress&&!k||(this._pushOrReplaceState({dest:S,hash:E,page:T,rotation:this.linkService.rotation},k),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(v){var o;if(this._initialized){if(!this._isValidPage(v)){console.error(`PDFHistory.pushPage: "${v}" is not a valid page number.`);return}((o=this._destination)===null||o===void 0?void 0:o.page)!==v&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${v}`,page:v,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const v=window.history.state;this._isValidState(v)&&v.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(v){const S=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||!this._destination,T={fingerprint:this._fingerprint,uid:S?this._uid:this._uid+1,destination:v};this._updateInternalState(v,T.uid);let E;if(this._updateUrl&&v!==null&&v!==void 0&&v.hash){const k=document.location.href.split("#")[0];k.startsWith("file://")||(E=`${k}#${v.hash}`)}S?window.history.replaceState(T,"",E):window.history.pushState(T,"",E)}_tryPushCurrentPosition(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._position)return;let o=this._position;if(v&&(o=Object.assign(Object.create(null),this._position),o.temporary=!0),!this._destination){this._pushOrReplaceState(o);return}if(this._destination.temporary){this._pushOrReplaceState(o,!0);return}if(this._destination.hash===o.hash||!this._destination.page&&this._numPositionUpdates<=s)return;let S=!1;if(this._destination.page>=o.first&&this._destination.page<=o.page){if(this._destination.dest!==void 0||!this._destination.first)return;S=!0}this._pushOrReplaceState(o,S)}_isValidPage(v){return Number.isInteger(v)&&v>0&&v<=this.linkService.pagesCount}_isValidState(v){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!v)return!1;if(v.fingerprint!==this._fingerprint)if(o){if(typeof v.fingerprint!="string"||v.fingerprint.length!==this._fingerprint.length)return!1;const[S]=performance.getEntriesByType("navigation");if((S==null?void 0:S.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(v.uid)||v.uid<0||v.destination===null||typeof v.destination!="object")}_updateInternalState(v,o){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),S&&v!==null&&v!==void 0&&v.temporary&&delete v.temporary,this._destination=v,this._uid=o,this._maxUid=Math.max(this._maxUid,o),this._numPositionUpdates=0}_parseCurrentHash(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const o=unescape(u()).substring(1),S=(0,t.parseQueryString)(o),T=S.get("nameddest")||"";let E=S.get("page")|0;return(!this._isValidPage(E)||v&&T.length>0)&&(E=null),{hash:o,page:E,rotation:this.linkService.rotation}}_updateViewarea(v){let{location:o}=v;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:o.pdfOpenParams.substring(1),page:this.linkService.page,first:o.pageNumber,rotation:o.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},e))}_popState(v){let{state:o}=v;const S=u(),T=this._currentHash!==S;if(this._currentHash=S,!o){this._uid++;const{hash:k,page:M,rotation:O}=this._parseCurrentHash();this._pushOrReplaceState({hash:k,page:M,rotation:O},!0);return}if(!this._isValidState(o))return;this._popStateInProgress=!0,T&&(this._blockHashChange++,(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:c}).then(()=>{this._blockHashChange--}));const E=o.destination;this._updateInternalState(E,o.uid,!0),(0,t.isValidRotation)(E.rotation)&&(this.linkService.rotation=E.rotation),E.dest?this.linkService.goToDestination(E.dest):E.hash?this.linkService.setHash(E.hash):E.page&&(this.linkService.page=E.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}l.PDFHistory=m;function g(b,v){return typeof b!="string"||typeof v!="string"?!1:b===v||(0,t.parseQueryString)(b).get("nameddest")===v}function y(b,v){function o(S,T){if(typeof S!=typeof T||Array.isArray(S)||Array.isArray(T))return!1;if(S!==null&&typeof S=="object"&&T!==null){if(Object.keys(S).length!==Object.keys(T).length)return!1;for(const E in S)if(!o(S[E],T[E]))return!1;return!0}return S===T||Number.isNaN(S)&&Number.isNaN(T)}if(!(Array.isArray(b)&&Array.isArray(v))||b.length!==v.length)return!1;for(let S=0,T=b.length;S<T;S++)if(!o(b[S],v[S]))return!1;return!0}},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFScriptingManager=void 0;var t=a(7),i=a(3);class c{constructor(e){let{eventBus:u,sandboxBundleSrc:m=null,scriptingFactory:g=null,docPropertiesLookup:y=null}=e;this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=u,this._sandboxBundleSrc=m,this._scriptingFactory=g,this._docPropertiesLookup=y,this._scriptingFactory||window.addEventListener("updatefromsandbox",b=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:b.detail})})}setViewer(e){this._pdfViewer=e}async setDocument(e){var u;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=e,!e)return;const[m,g,y]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!m&&!y){await this._destroyScripting();return}if(e===this._pdfDocument){try{this._scripting=this._createScripting()}catch(b){console.error(`PDFScriptingManager.setDocument: "${b==null?void 0:b.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",b=>{(b==null?void 0:b.source)===window&&this._updateFromSandbox(b.detail)}),this._internalEvents.set("dispatcheventinsandbox",b=>{var v;(v=this._scripting)===null||v===void 0||v.dispatchEventInSandbox(b.detail)}),this._internalEvents.set("pagechanging",b=>{let{pageNumber:v,previous:o}=b;v!==o&&(this._dispatchPageClose(o),this._dispatchPageOpen(v))}),this._internalEvents.set("pagerendered",b=>{let{pageNumber:v}=b;this._pageOpenPending.has(v)&&v===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(v)}),this._internalEvents.set("pagesdestroy",async b=>{var v,o;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((v=this._scripting)===null||v===void 0?void 0:v.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(o=this._closeCapability)===null||o===void 0||o.resolve()}),this._domEvents.set("mousedown",b=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",b=>{this._mouseState.isDown=!1});for(const[b,v]of this._internalEvents)this._eventBus._on(b,v);for(const[b,v]of this._domEvents)window.addEventListener(b,v,!0);try{const b=await this._getDocProperties();if(e!==this._pdfDocument)return;await this._scripting.createSandbox({objects:m,calculationOrder:g,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...b,actions:y}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(b){console.error(`PDFScriptingManager.setDocument: "${b==null?void 0:b.message}".`),await this._destroyScripting();return}await((u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{e===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(e){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(e){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(e){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(e){var u;return(u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var e;return((e=this._destroyCapability)===null||e===void 0?void 0:e.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,i.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,i.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,i.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,i.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(e){const u=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:m,siblings:g,command:y,value:b}=e;if(!m){switch(y){case"clear":console.clear();break;case"error":console.error(b);break;case"layout":if(u)return;const S=(0,t.apiPageLayoutToViewerModes)(b);this._pdfViewer.spreadMode=S.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=b+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(b);break;case"zoom":if(u)return;this._pdfViewer.currentScaleValue=b;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(u)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(u)return;this._pdfViewer.decreaseScale();break}return}if(u&&e.focus)return;delete e.id,delete e.siblings;const v=g?[m,...g]:[m];for(const S of v){const T=document.querySelector(`[data-element-id="${S}"]`);if(T)T.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e}));else{var o;(o=this._pdfDocument)===null||o===void 0||o.annotationStorage.setValue(S,e)}}}async _dispatchPageOpen(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const m=this._pdfDocument,g=this._visitedPages;if(u&&(this._closeCapability=(0,i.createPromiseCapability)()),!this._closeCapability)return;const y=this._pdfViewer.getPageView(e-1);if((y==null?void 0:y.renderingState)!==t.RenderingStates.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const b=(async()=>{var v,o;const S=await(g.has(e)?null:(v=y.pdfPage)===null||v===void 0?void 0:v.getJSActions());m===this._pdfDocument&&await((o=this._scripting)===null||o===void 0?void 0:o.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:S}))})();g.set(e,b)}async _dispatchPageClose(e){var u;const m=this._pdfDocument,g=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(e))return;const y=g.get(e);y&&(g.set(e,null),await y,m===this._pdfDocument&&await((u=this._scripting)===null||u===void 0?void 0:u.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:e}=a(26);return e(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,i.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:e}=a(26);return new e(this._sandboxBundleSrc)}async _destroyScripting(){var e;if(!this._scripting){var u;this._pdfDocument=null,(u=this._destroyCapability)===null||u===void 0||u.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(m=>{setTimeout(m,1e3)})]).catch(m=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[m,g]of this._internalEvents)this._eventBus._off(m,g);this._internalEvents.clear();for(const[m,g]of this._domEvents)window.removeEventListener(m,g,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(e=this._destroyCapability)===null||e===void 0||e.resolve()}}l.PDFScriptingManager=c},($,l,a)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GenericScripting=void 0,l.docPropertiesLookup=i;var t=a(3);async function i(s){const e="",u=e.split("#")[0];let{info:m,metadata:g,contentDispositionFilename:y,contentLength:b}=await s.getMetadata();if(!b){const{length:v}=await s.getDownloadInfo();b=v}return{...m,baseURL:u,filesize:b,filename:y||(0,t.getPdfFilenameFromUrl)(e),metadata:g==null?void 0:g.getRaw(),authors:g==null?void 0:g.get("dc:creator"),numPages:s.numPages,URL:e}}class c{constructor(e){this._ready=(0,t.loadScript)(e,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const u=await this._ready;setTimeout(()=>u.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}l.GenericScripting=c}],C={};function _($){var l=C[$];if(l!==void 0)return l.exports;var a=C[$]={exports:{}};return x[$](a,a.exports,_),a.exports}var K={};return(()=>{var $=K;Object.defineProperty($,"__esModule",{value:!0}),Object.defineProperty($,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return c.AnnotationLayerBuilder}}),Object.defineProperty($,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return l.DefaultAnnotationLayerFactory}}),Object.defineProperty($,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return l.DefaultStructTreeLayerFactory}}),Object.defineProperty($,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return l.DefaultTextLayerFactory}}),Object.defineProperty($,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return l.DefaultXfaLayerFactory}}),Object.defineProperty($,"DownloadManager",{enumerable:!0,get:function(){return s.DownloadManager}}),Object.defineProperty($,"EventBus",{enumerable:!0,get:function(){return e.EventBus}}),Object.defineProperty($,"GenericL10n",{enumerable:!0,get:function(){return u.GenericL10n}}),Object.defineProperty($,"LinkTarget",{enumerable:!0,get:function(){return a.LinkTarget}}),Object.defineProperty($,"NullL10n",{enumerable:!0,get:function(){return m.NullL10n}}),Object.defineProperty($,"PDFFindController",{enumerable:!0,get:function(){return g.PDFFindController}}),Object.defineProperty($,"PDFHistory",{enumerable:!0,get:function(){return y.PDFHistory}}),Object.defineProperty($,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}}),Object.defineProperty($,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty($,"PDFScriptingManager",{enumerable:!0,get:function(){return v.PDFScriptingManager}}),Object.defineProperty($,"PDFSinglePageViewer",{enumerable:!0,get:function(){return i.PDFSinglePageViewer}}),Object.defineProperty($,"PDFViewer",{enumerable:!0,get:function(){return i.PDFViewer}}),Object.defineProperty($,"ProgressBar",{enumerable:!0,get:function(){return t.ProgressBar}}),Object.defineProperty($,"RenderingStates",{enumerable:!0,get:function(){return t.RenderingStates}}),Object.defineProperty($,"ScrollMode",{enumerable:!0,get:function(){return t.ScrollMode}}),Object.defineProperty($,"SimpleLinkService",{enumerable:!0,get:function(){return a.SimpleLinkService}}),Object.defineProperty($,"SpreadMode",{enumerable:!0,get:function(){return t.SpreadMode}}),Object.defineProperty($,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return o.StructTreeLayerBuilder}}),Object.defineProperty($,"TextLayerBuilder",{enumerable:!0,get:function(){return S.TextLayerBuilder}}),Object.defineProperty($,"XfaLayerBuilder",{enumerable:!0,get:function(){return T.XfaLayerBuilder}}),Object.defineProperty($,"parseQueryString",{enumerable:!0,get:function(){return t.parseQueryString}});var l=_(1),a=_(6),t=_(7),i=_(11),c=_(5),s=_(18),e=_(19),u=_(20),m=_(4),g=_(22),y=_(24),b=_(13),v=_(25),o=_(8),S=_(9),T=_(10)})(),K})())})(pdf_viewer$1);const pdf_viewer="";var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(r,n,x){return x={path:n,exports:{},require:function(C,_){return commonjsRequire(C,_??x.path)}},r(x,x.exports),x.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var check=function(r){return r&&r.Math==Math&&r},global_1=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),fails=function(r){try{return!!r()}catch{return!0}},descriptors=!fails(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1),f$4=NASHORN_BUG?function r(n){var x=getOwnPropertyDescriptor$2(this,n);return!!x&&x.enumerable}:$propertyIsEnumerable,objectPropertyIsEnumerable={f:f$4},createPropertyDescriptor=function(r,n){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:n}},toString={}.toString,classofRaw=function(r){return toString.call(r).slice(8,-1)},split="".split,indexedObject=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return classofRaw(r)=="String"?split.call(r,""):Object(r)}:Object,requireObjectCoercible=function(r){if(r==null)throw TypeError("Can't call method on "+r);return r},toIndexedObject=function(r){return indexedObject(requireObjectCoercible(r))},isObject$1=function(r){return typeof r=="object"?r!==null:typeof r=="function"},aFunction$1=function(r){return typeof r=="function"?r:void 0},getBuiltIn=function(r,n){return arguments.length<2?aFunction$1(global_1[r]):global_1[r]&&global_1[r][n]},engineUserAgent=getBuiltIn("navigator","userAgent")||"",process$1=global_1.process,Deno$1=global_1.Deno,versions=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version$3;v8?(match=v8.split("."),version$3=match[0]<4?1:match[0]+match[1]):engineUserAgent&&(match=engineUserAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=engineUserAgent.match(/Chrome\/(\d+)/),match&&(version$3=match[1])));var engineV8Version=version$3&&+version$3,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&engineV8Version&&engineV8Version<41}),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&typeof Symbol.iterator=="symbol",isSymbol=useSymbolAsUid?function(r){return typeof r=="symbol"}:function(r){var n=getBuiltIn("Symbol");return typeof n=="function"&&Object(r)instanceof n},ordinaryToPrimitive=function(r,n){var x,C;if(n==="string"&&typeof(x=r.toString)=="function"&&!isObject$1(C=x.call(r))||typeof(x=r.valueOf)=="function"&&!isObject$1(C=x.call(r))||n!=="string"&&typeof(x=r.toString)=="function"&&!isObject$1(C=x.call(r)))return C;throw TypeError("Can't convert object to primitive value")},setGlobal=function(r,n){try{Object.defineProperty(global_1,r,{value:n,configurable:!0,writable:!0})}catch{global_1[r]=n}return n},SHARED="__core-js_shared__",store$1=global_1[SHARED]||setGlobal(SHARED,{}),sharedStore=store$1,shared=createCommonjsModule(function(r){(r.exports=function(n,x){return sharedStore[n]||(sharedStore[n]=x!==void 0?x:{})})("versions",[]).push({version:"3.17.3",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),toObject=function(r){return Object(requireObjectCoercible(r))},hasOwnProperty={}.hasOwnProperty,has$1=Object.hasOwn||function r(n,x){return hasOwnProperty.call(toObject(n),x)},id=0,postfix=Math.random(),uid=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++id+postfix).toString(36)},WellKnownSymbolsStore=shared("wks"),Symbol$1=global_1.Symbol,createWellKnownSymbol=useSymbolAsUid?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid,wellKnownSymbol=function(r){return(!has$1(WellKnownSymbolsStore,r)||!(nativeSymbol||typeof WellKnownSymbolsStore[r]=="string"))&&(nativeSymbol&&has$1(Symbol$1,r)?WellKnownSymbolsStore[r]=Symbol$1[r]:WellKnownSymbolsStore[r]=createWellKnownSymbol("Symbol."+r)),WellKnownSymbolsStore[r]},TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),toPrimitive=function(r,n){if(!isObject$1(r)||isSymbol(r))return r;var x=r[TO_PRIMITIVE],C;if(x!==void 0){if(n===void 0&&(n="default"),C=x.call(r,n),!isObject$1(C)||isSymbol(C))return C;throw TypeError("Can't convert object to primitive value")}return n===void 0&&(n="number"),ordinaryToPrimitive(r,n)},toPropertyKey=function(r){var n=toPrimitive(r,"string");return isSymbol(n)?n:String(n)},document$1=global_1.document,EXISTS=isObject$1(document$1)&&isObject$1(document$1.createElement),documentCreateElement=function(r){return EXISTS?document$1.createElement(r):{}},ie8DomDefine=!descriptors&&!fails(function(){return Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a!=7}),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$3=descriptors?$getOwnPropertyDescriptor:function r(n,x){if(n=toIndexedObject(n),x=toPropertyKey(x),ie8DomDefine)try{return $getOwnPropertyDescriptor(n,x)}catch{}if(has$1(n,x))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(n,x),n[x])},objectGetOwnPropertyDescriptor={f:f$3},anObject=function(r){if(!isObject$1(r))throw TypeError(String(r)+" is not an object");return r},$defineProperty=Object.defineProperty,f$2=descriptors?$defineProperty:function r(n,x,C){if(anObject(n),x=toPropertyKey(x),anObject(C),ie8DomDefine)try{return $defineProperty(n,x,C)}catch{}if("get"in C||"set"in C)throw TypeError("Accessors not supported");return"value"in C&&(n[x]=C.value),n},objectDefineProperty={f:f$2},createNonEnumerableProperty=descriptors?function(r,n,x){return objectDefineProperty.f(r,n,createPropertyDescriptor(1,x))}:function(r,n,x){return r[n]=x,r},functionToString=Function.toString;typeof sharedStore.inspectSource!="function"&&(sharedStore.inspectSource=function(r){return functionToString.call(r)});var inspectSource=sharedStore.inspectSource,WeakMap$1=global_1.WeakMap,nativeWeakMap=typeof WeakMap$1=="function"&&/native code/.test(inspectSource(WeakMap$1)),keys$1=shared("keys"),sharedKey=function(r){return keys$1[r]||(keys$1[r]=uid(r))},hiddenKeys$1={},OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap$2=global_1.WeakMap,set,get,has,enforce=function(r){return has(r)?get(r):set(r,{})},getterFor=function(r){return function(n){var x;if(!isObject$1(n)||(x=get(n)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return x}};if(nativeWeakMap||sharedStore.state){var store=sharedStore.state||(sharedStore.state=new WeakMap$2),wmget=store.get,wmhas=store.has,wmset=store.set;set=function(r,n){if(wmhas.call(store,r))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return n.facade=r,wmset.call(store,r,n),n},get=function(r){return wmget.call(store,r)||{}},has=function(r){return wmhas.call(store,r)}}else{var STATE=sharedKey("state");hiddenKeys$1[STATE]=!0,set=function(r,n){if(has$1(r,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return n.facade=r,createNonEnumerableProperty(r,STATE,n),n},get=function(r){return has$1(r,STATE)?r[STATE]:{}},has=function(r){return has$1(r,STATE)}}var internalState={set,get,has,enforce,getterFor},redefine=createCommonjsModule(function(r){var n=internalState.get,x=internalState.enforce,C=String(String).split("String");(r.exports=function(_,K,$,l){var a=l?!!l.unsafe:!1,t=l?!!l.enumerable:!1,i=l?!!l.noTargetGet:!1,c;if(typeof $=="function"&&(typeof K=="string"&&!has$1($,"name")&&createNonEnumerableProperty($,"name",K),c=x($),c.source||(c.source=C.join(typeof K=="string"?K:""))),_===global_1){t?_[K]=$:setGlobal(K,$);return}else a?!i&&_[K]&&(t=!0):delete _[K];t?_[K]=$:createNonEnumerableProperty(_,K,$)})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||inspectSource(this)})}),ceil=Math.ceil,floor=Math.floor,toInteger=function(r){return isNaN(r=+r)?0:(r>0?floor:ceil)(r)},min$1=Math.min,toLength=function(r){return r>0?min$1(toInteger(r),9007199254740991):0},max=Math.max,min=Math.min,toAbsoluteIndex=function(r,n){var x=toInteger(r);return x<0?max(x+n,0):min(x,n)},createMethod$3=function(r){return function(n,x,C){var _=toIndexedObject(n),K=toLength(_.length),$=toAbsoluteIndex(C,K),l;if(r&&x!=x){for(;K>$;)if(l=_[$++],l!=l)return!0}else for(;K>$;$++)if((r||$ in _)&&_[$]===x)return r||$||0;return!r&&-1}},arrayIncludes={includes:createMethod$3(!0),indexOf:createMethod$3(!1)},indexOf=arrayIncludes.indexOf,objectKeysInternal=function(r,n){var x=toIndexedObject(r),C=0,_=[],K;for(K in x)!has$1(hiddenKeys$1,K)&&has$1(x,K)&&_.push(K);for(;n.length>C;)has$1(x,K=n[C++])&&(~indexOf(_,K)||_.push(K));return _},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys=enumBugKeys.concat("length","prototype"),f$1=Object.getOwnPropertyNames||function r(n){return objectKeysInternal(n,hiddenKeys)},objectGetOwnPropertyNames={f:f$1},f=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols={f},ownKeys$2=getBuiltIn("Reflect","ownKeys")||function r(n){var x=objectGetOwnPropertyNames.f(anObject(n)),C=objectGetOwnPropertySymbols.f;return C?x.concat(C(n)):x},copyConstructorProperties=function(r,n){for(var x=ownKeys$2(n),C=objectDefineProperty.f,_=objectGetOwnPropertyDescriptor.f,K=0;K<x.length;K++){var $=x[K];has$1(r,$)||C(r,$,_(n,$))}},replacement=/#|\.prototype\./,isForced=function(r,n){var x=data[normalize(r)];return x==POLYFILL?!0:x==NATIVE?!1:typeof n=="function"?fails(n):!!n},normalize=isForced.normalize=function(r){return String(r).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,_export=function(r,n){var x=r.target,C=r.global,_=r.stat,K,$,l,a,t,i;if(C?$=global_1:_?$=global_1[x]||setGlobal(x,{}):$=(global_1[x]||{}).prototype,$)for(l in n){if(t=n[l],r.noTargetGet?(i=getOwnPropertyDescriptor$1($,l),a=i&&i.value):a=$[l],K=isForced_1(C?l:x+(_?".":"#")+l,r.forced),!K&&a!==void 0){if(typeof t==typeof a)continue;copyConstructorProperties(t,a)}(r.sham||a&&a.sham)&&createNonEnumerableProperty(t,"sham",!0),redefine($,l,t,r)}},aFunction=function(r){if(typeof r!="function")throw TypeError(String(r)+" is not a function");return r},functionBindContext=function(r,n,x){if(aFunction(r),n===void 0)return r;switch(x){case 0:return function(){return r.call(n)};case 1:return function(C){return r.call(n,C)};case 2:return function(C,_){return r.call(n,C,_)};case 3:return function(C,_,K){return r.call(n,C,_,K)}}return function(){return r.apply(n,arguments)}},isArray=Array.isArray||function r(n){return classofRaw(n)=="Array"},SPECIES=wellKnownSymbol("species"),arraySpeciesConstructor=function(r){var n;return isArray(r)&&(n=r.constructor,typeof n=="function"&&(n===Array||isArray(n.prototype))?n=void 0:isObject$1(n)&&(n=n[SPECIES],n===null&&(n=void 0))),n===void 0?Array:n},arraySpeciesCreate=function(r,n){return new(arraySpeciesConstructor(r))(n===0?0:n)},push=[].push,createMethod$2=function(r){var n=r==1,x=r==2,C=r==3,_=r==4,K=r==6,$=r==7,l=r==5||K;return function(a,t,i,c){for(var s=toObject(a),e=indexedObject(s),u=functionBindContext(t,i,3),m=toLength(e.length),g=0,y=c||arraySpeciesCreate,b=n?y(a,m):x||$?y(a,0):void 0,v,o;m>g;g++)if((l||g in e)&&(v=e[g],o=u(v,g,s),r))if(n)b[g]=o;else if(o)switch(r){case 3:return!0;case 5:return v;case 6:return g;case 2:push.call(b,v)}else switch(r){case 4:return!1;case 7:push.call(b,v)}return K?-1:C||_?_:b}},arrayIteration={forEach:createMethod$2(0),map:createMethod$2(1),filter:createMethod$2(2),some:createMethod$2(3),every:createMethod$2(4),find:createMethod$2(5),findIndex:createMethod$2(6),filterReject:createMethod$2(7)},arrayMethodIsStrict=function(r,n){var x=[][r];return!!x&&fails(function(){x.call(null,n||function(){throw 1},1)})},$forEach=arrayIteration.forEach,STRICT_METHOD=arrayMethodIsStrict("forEach"),arrayForEach=STRICT_METHOD?[].forEach:function r(n){return $forEach(this,n,arguments.length>1?arguments[1]:void 0)};_export({target:"Array",proto:!0,forced:[].forEach!=arrayForEach},{forEach:arrayForEach});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},classList$1=documentCreateElement("span").classList,DOMTokenListPrototype=classList$1&&classList$1.constructor&&classList$1.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype===Object.prototype?void 0:DOMTokenListPrototype,handlePrototype=function(r){if(r&&r.forEach!==arrayForEach)try{createNonEnumerableProperty(r,"forEach",arrayForEach)}catch{r.forEach=arrayForEach}};for(var COLLECTION_NAME in domIterables)handlePrototype(global_1[COLLECTION_NAME]&&global_1[COLLECTION_NAME].prototype);handlePrototype(domTokenListPrototype);var objectKeys=Object.keys||function r(n){return objectKeysInternal(n,enumBugKeys)},propertyIsEnumerable=objectPropertyIsEnumerable.f,createMethod$1=function(r){return function(n){for(var x=toIndexedObject(n),C=objectKeys(x),_=C.length,K=0,$=[],l;_>K;)l=C[K++],(!descriptors||propertyIsEnumerable.call(x,l))&&$.push(r?[l,x[l]]:x[l]);return $}},objectToArray={entries:createMethod$1(!0),values:createMethod$1(!1)},$entries=objectToArray.entries;_export({target:"Object",stat:!0},{entries:function r(n){return $entries(n)}});var aPossiblePrototype=function(r){if(!isObject$1(r)&&r!==null)throw TypeError("Can't set "+String(r)+" as a prototype");return r},objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,n={},x;try{x=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,x.call(n,[]),r=n instanceof Array}catch{}return function(_,K){return anObject(_),aPossiblePrototype(K),r?x.call(_,K):_.__proto__=K,_}}():void 0),inheritIfRequired=function(r,n,x){var C,_;return objectSetPrototypeOf&&typeof(C=n.constructor)=="function"&&C!==x&&isObject$1(_=C.prototype)&&_!==x.prototype&&objectSetPrototypeOf(r,_),r},objectDefineProperties=descriptors?Object.defineProperties:function r(n,x){anObject(n);for(var C=objectKeys(x),_=C.length,K=0,$;_>K;)objectDefineProperty.f(n,$=C[K++],x[$]);return n},html=getBuiltIn("document","documentElement"),GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(r){return LT+SCRIPT+GT+r+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(r){r.write(scriptTag("")),r.close();var n=r.parentWindow.Object;return r=null,n},NullProtoObjectViaIFrame=function(){var r=documentCreateElement("iframe"),n="java"+SCRIPT+":",x;return r.style.display="none",html.appendChild(r),r.src=String(n),x=r.contentWindow.document,x.open(),x.write(scriptTag("document.F=Object")),x.close(),x.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var r=enumBugKeys.length;r--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[r]];return NullProtoObject()};hiddenKeys$1[IE_PROTO]=!0;var objectCreate=Object.create||function r(n,x){var C;return n!==null?(EmptyConstructor[PROTOTYPE]=anObject(n),C=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,C[IE_PROTO]=n):C=NullProtoObject(),x===void 0?C:objectDefineProperties(C,x)},toString_1=function(r){if(isSymbol(r))throw TypeError("Cannot convert a Symbol value to a string");return String(r)},whitespaces=`	
\v\f\r \u2028\u2029\uFEFF`,whitespace="["+whitespaces+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod=function(r){return function(n){var x=toString_1(requireObjectCoercible(n));return r&1&&(x=x.replace(ltrim,"")),r&2&&(x=x.replace(rtrim,"")),x}},stringTrim={start:createMethod(1),end:createMethod(2),trim:createMethod(3)},getOwnPropertyNames=objectGetOwnPropertyNames.f,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,defineProperty=objectDefineProperty.f,trim$1=stringTrim.trim,NUMBER="Number",NativeNumber=global_1[NUMBER],NumberPrototype=NativeNumber.prototype,BROKEN_CLASSOF=classofRaw(objectCreate(NumberPrototype))==NUMBER,toNumber=function(r){if(isSymbol(r))throw TypeError("Cannot convert a Symbol value to a number");var n=toPrimitive(r,"number"),x,C,_,K,$,l,a,t;if(typeof n=="string"&&n.length>2){if(n=trim$1(n),x=n.charCodeAt(0),x===43||x===45){if(C=n.charCodeAt(2),C===88||C===120)return NaN}else if(x===48){switch(n.charCodeAt(1)){case 66:case 98:_=2,K=49;break;case 79:case 111:_=8,K=55;break;default:return+n}for($=n.slice(2),l=$.length,a=0;a<l;a++)if(t=$.charCodeAt(a),t<48||t>K)return NaN;return parseInt($,_)}}return+n};if(isForced_1(NUMBER,!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1"))){for(var NumberWrapper=function(n){var x=arguments.length<1?0:n,C=this;return C instanceof NumberWrapper&&(BROKEN_CLASSOF?fails(function(){NumberPrototype.valueOf.call(C)}):classofRaw(C)!=NUMBER)?inheritIfRequired(new NativeNumber(toNumber(x)),C,NumberWrapper):toNumber(x)},keys=descriptors?getOwnPropertyNames(NativeNumber):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),j=0,key;keys.length>j;j++)has$1(NativeNumber,key=keys[j])&&!has$1(NumberWrapper,key)&&defineProperty(NumberWrapper,key,getOwnPropertyDescriptor(NativeNumber,key));NumberWrapper.prototype=NumberPrototype,NumberPrototype.constructor=NumberWrapper,redefine(global_1,NUMBER,NumberWrapper)}var trim=stringTrim.trim,$parseFloat=global_1.parseFloat,FORCED=1/$parseFloat(whitespaces+"-0")!==-1/0,numberParseFloat=FORCED?function r(n){var x=trim(toString_1(n)),C=$parseFloat(x);return C===0&&x.charAt(0)=="-"?-0:C}:$parseFloat;_export({global:!0,forced:parseFloat!=numberParseFloat},{parseFloat:numberParseFloat});var slice=[].slice,MSIE=/MSIE .\./.test(engineUserAgent),wrap$1=function(r){return function(n,x){var C=arguments.length>2,_=C?slice.call(arguments,2):void 0;return r(C?function(){(typeof n=="function"?n:Function(n)).apply(this,_)}:n,x)}};_export({global:!0,bind:!0,forced:MSIE},{setTimeout:wrap$1(global_1.setTimeout),setInterval:wrap$1(global_1.setInterval)});function __awaiter(r,n,x,C){function _(K){return K instanceof x?K:new x(function($){$(K)})}return new(x||(x=Promise))(function(K,$){function l(i){try{t(C.next(i))}catch(c){$(c)}}function a(i){try{t(C.throw(i))}catch(c){$(c)}}function t(i){i.done?K(i.value):_(i.value).then(l,a)}t((C=C.apply(r,n||[])).next())})}function __generator(r,n){var x={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},C,_,K,$;return $={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function l(t){return function(i){return a([t,i])}}function a(t){if(C)throw new TypeError("Generator is already executing.");for(;x;)try{if(C=1,_&&(K=t[0]&2?_.return:t[0]?_.throw||((K=_.return)&&K.call(_),0):_.next)&&!(K=K.call(_,t[1])).done)return K;switch(_=0,K&&(t=[t[0]&2,K.value]),t[0]){case 0:case 1:K=t;break;case 4:return x.label++,{value:t[1],done:!1};case 5:x.label++,_=t[1],t=[0];continue;case 7:t=x.ops.pop(),x.trys.pop();continue;default:if(K=x.trys,!(K=K.length>0&&K[K.length-1])&&(t[0]===6||t[0]===2)){x=0;continue}if(t[0]===3&&(!K||t[1]>K[0]&&t[1]<K[3])){x.label=t[1];break}if(t[0]===6&&x.label<K[1]){x.label=K[1],K=t;break}if(K&&x.label<K[2]){x.label=K[2],x.ops.push(t);break}K[2]&&x.ops.pop(),x.trys.pop();continue}t=n.call(r,x)}catch(i){t=[6,i],_=0}finally{C=K=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}var createLoadingTask=function r(n){pdfExports.GlobalWorkerOptions.workerSrc=pdf_worker_entry;var x=pdfExports.getDocument(n);return x},script=defineComponent({name:"vue-pdf",props:{src:{type:[String,Object],required:!0},page:{type:Number,default:1},scale:{type:Number,default:null},enableTextSelection:{type:Boolean,default:!0},enableAnnotations:{type:Boolean,default:!0}},setup:function r(n,x){var C=this,_=ref(!1),K=ref(null),$=ref(null),l=ref(null),a=ref(0),t=ref(null),i=computed(function(){return n.page||1}),c=function(){_.value=!0,pdfExports.GlobalWorkerOptions.workerSrc=pdf_worker_entry;var g=createLoadingTask(n.src);g.promise.then(function(y){x.emit("pdfLoaded",y),l.value=y,a.value=y.numPages,x.emit("totalPages",a.value),i.value<=a.value&&y.getPage(i.value).then(function(b){return s(b)})})},s=function(g){return __awaiter(C,void 0,void 0,function(){var y,b,v,o,S,T,E,k,M,O=this;return __generator(this,function(L){switch(L.label){case 0:return _.value=!0,y=K.value,b=$.value,v=document.createElement("div"),v.classList.add("vue-pdf__wrapper"),v.id="vue-pdf-page-"+n.page,o=document.createElement("canvas"),v.appendChild(o),S=document.createElement("div"),n.enableAnnotations&&(S.classList.add("vue-pdf__wrapper-annotation-layer"),v.appendChild(S)),T=document.createElement("div"),n.enableTextSelection&&(T.classList.add("textLayer","vue-pdf__wrapper-text-layer"),v.appendChild(T)),y==null||y.appendChild(v),E=g.getViewport({scale:1}),k=o.getContext("2d"),[4,e(y,E,g,o,k,T,S)];case 1:return L.sent(),n.scale?(b.style.display="inline-block",y.style.display="inline-block"):(M=u(function(){return __awaiter(O,void 0,void 0,function(){return __generator(this,function(te){switch(te.label){case 0:return[4,e(y,E,g,o,k,T,S)];case 1:return[2,te.sent()]}})})}),window.addEventListener("resize",M)),[2]}})})},e=function(g,y,b,v,o,S,T){return __awaiter(C,void 0,void 0,function(){var E,k,M,O,L,te,B;return __generator(this,function(G){switch(G.label){case 0:return S.innerHTML="",T.innerHTML="",E=window.getComputedStyle(g),k=parseFloat(E.width),M=n.scale?n.scale:k/y.width,O=b.getViewport({scale:M}),L=window.devicePixelRatio||1,te=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1,B=L/te,L!==te?(v.width=n.scale?O.width*B:k*B,v.height=O.height*B,v.style.width=n.scale?"":"100%",v.style.height=O.height+"px"):(v.width=n.scale?O.width:k,v.height=O.height,v.style.width="",v.style.height=""),[4,o.scale(B,B)];case 1:return G.sent(),o&&b.render({canvasContext:o,viewport:O}).promise.then(function(){n.enableTextSelection&&b.getTextContent().then(function(R){t.value||(t.value=new pdf_viewerExports.EventBus);var I=new pdf_viewerExports.TextLayerBuilder({textLayerDiv:S,pageIndex:b._pageIndex,eventBus:t.value,viewport:O,enhanceTextSelection:!0});I.setTextContent(R),x.emit("textContent",R),I.render()}),n.enableAnnotations&&b.getAnnotations().then(function(R){T.style.cssText="left: 0; top: 0; height: "+O.height+"px; width: "+(n.scale?O.width:k)+"px;",pdfExports.AnnotationLayer.render({viewport:O.clone({dontFlip:!0}),div:T,annotations:R,page:b,linkService:"",downloadManager:"",renderInteractiveForms:!1})}),_.value=!1}),[2]}})})},u=function(g,y){y===void 0&&(y=300);var b;return function(){for(var v=[],o=0;o<arguments.length;o++)v[o]=arguments[o];clearTimeout(b),b=setTimeout(function(){g.apply(C,v)},y)}};return onMounted(function(){c()}),{props:n,pdfWrapperRef:K,parentWrapperRef:$}}}),_hoisted_1={class:"vue-pdf-main",ref:"parentWrapperRef"},_hoisted_2={class:"vue-pdf",ref:"pdfWrapperRef"};function render$1(r,n,x,C,_,K){return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,null,512)],512)}function styleInject(r,n){n===void 0&&(n={});var x=n.insertAt;if(!(!r||typeof document>"u")){var C=document.head||document.getElementsByTagName("head")[0],_=document.createElement("style");_.type="text/css",x==="top"&&C.firstChild?C.insertBefore(_,C.firstChild):C.appendChild(_),_.styleSheet?_.styleSheet.cssText=r:_.appendChild(document.createTextNode(r))}}var css_248z=".vue-pdf__wrapper{position:relative}.vue-pdf__wrapper-text-layer br{display:none}.vue-pdf__wrapper-annotation-layer{position:absolute}.vue-pdf__wrapper-annotation-layer .linkAnnotation{position:absolute;z-index:1}.vue-pdf__wrapper-annotation-layer .linkAnnotation a{width:100%;height:100%;display:inline-block}";styleInject(css_248z);script.render=render$1;var components=Object.freeze({__proto__:null,VuePdf:script,createLoadingTask}),install=function r(n){Object.entries(components).forEach(function(x){var C=x[0],_=x[1];n.component(C,_)})},fabric={};(function(r){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var n=n||{version:"5.3.0"};if(r.fabric=n,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?n.document=document:n.document=document.implementation.createHTMLDocument(""),n.window=window;else{var x=require$$5,C=new x.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;n.document=C.document,n.jsdomImplForWrapper=require$$5.implForWrapper,n.nodeCanvas=require$$5.Canvas,n.window=C,DOMParser=n.window.DOMParser}n.isTouchSupported="ontouchstart"in n.window||"ontouchstart"in n.document||n.window&&n.window.navigator&&n.window.navigator.maxTouchPoints>0,n.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",n.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],n.DPI=96,n.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",n.commaWsp="(?:\\s+,?\\s*|,\\s*)",n.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,n.reNonWord=/[ \n\.,;!\?\-]/,n.fontPaths={},n.iMatrix=[1,0,0,1,0,0],n.svgNS="http://www.w3.org/2000/svg",n.perfLimitSizeTotal=2097152,n.maxCacheSideLimit=4096,n.minCacheSideLimit=256,n.charWidthsCache={},n.textureSize=2048,n.disableStyleCopyPaste=!1,n.enableGLFiltering=!0,n.devicePixelRatio=n.window.devicePixelRatio||n.window.webkitDevicePixelRatio||n.window.mozDevicePixelRatio||1,n.browserShadowBlurConstant=1,n.arcToSegmentsCache={},n.boundsOfCurveCache={},n.cachesBoundsOfCurve=!0,n.forceGLPutImageData=!1,n.initFilterBackend=function(){if(n.enableGLFiltering&&n.isWebglSupported&&n.isWebglSupported(n.textureSize))return console.log("max texture size: "+n.maxTextureSize),new n.WebglFilterBackend({tileSize:n.textureSize});if(n.Canvas2dFilterBackend)return new n.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=n),function(){function l(e,u){if(this.__eventListeners[e]){var m=this.__eventListeners[e];u?m[m.indexOf(u)]=!1:n.util.array.fill(m,!1)}}function a(e,u){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var m in e)this.on(m,e[m]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(u);return this}function t(e,u){var m=function(){u.apply(this,arguments),this.off(e,m)}.bind(this);this.on(e,m)}function i(e,u){if(arguments.length===1)for(var m in e)t.call(this,m,e[m]);else t.call(this,e,u);return this}function c(e,u){if(!this.__eventListeners)return this;if(arguments.length===0)for(e in this.__eventListeners)l.call(this,e);else if(arguments.length===1&&typeof arguments[0]=="object")for(var m in e)l.call(this,m,e[m]);else l.call(this,e,u);return this}function s(e,u){if(!this.__eventListeners)return this;var m=this.__eventListeners[e];if(!m)return this;for(var g=0,y=m.length;g<y;g++)m[g]&&m[g].call(this,u||{});return this.__eventListeners[e]=m.filter(function(b){return b!==!1}),this}n.Observable={fire:s,on:a,once:i,off:c}}(),n.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var l=0,a=arguments.length;l<a;l++)this._onObjectAdded(arguments[l]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(l,a,t){var i=this._objects;return t?i[a]=l:i.splice(a,0,l),this._onObjectAdded&&this._onObjectAdded(l),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var l=this._objects,a,t=!1,i=0,c=arguments.length;i<c;i++)a=l.indexOf(arguments[i]),a!==-1&&(t=!0,l.splice(a,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&t&&this.requestRenderAll(),this},forEachObject:function(l,a){for(var t=this.getObjects(),i=0,c=t.length;i<c;i++)l.call(a,t[i],i,t);return this},getObjects:function(l){return typeof l>"u"?this._objects.concat():this._objects.filter(function(a){return a.type===l})},item:function(l){return this._objects[l]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(l,a){return this._objects.indexOf(l)>-1?!0:a?this._objects.some(function(t){return typeof t.contains=="function"&&t.contains(l,!0)}):!1},complexity:function(){return this._objects.reduce(function(l,a){return l+=a.complexity?a.complexity():0,l},0)}},n.CommonMethods={_setOptions:function(l){for(var a in l)this.set(a,l[a])},_initGradient:function(l,a){l&&l.colorStops&&!(l instanceof n.Gradient)&&this.set(a,new n.Gradient(l))},_initPattern:function(l,a,t){l&&l.source&&!(l instanceof n.Pattern)?this.set(a,new n.Pattern(l,t)):t&&t()},_setObject:function(l){for(var a in l)this._set(a,l[a])},set:function(l,a){return typeof l=="object"?this._setObject(l):this._set(l,a),this},_set:function(l,a){this[l]=a},toggle:function(l){var a=this.get(l);return typeof a=="boolean"&&this.set(l,!a),this},get:function(l){return this[l]}},function(l){var a=Math.sqrt,t=Math.atan2,i=Math.pow,c=Math.PI/180,s=Math.PI/2;n.util={cos:function(e){if(e===0)return 1;e<0&&(e=-e);var u=e/s;switch(u){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(e===0)return 0;var u=e/s,m=1;switch(e<0&&(m=-1),u){case 1:return m;case 2:return 0;case 3:return-m}return Math.sin(e)},removeFromArray:function(e,u){var m=e.indexOf(u);return m!==-1&&e.splice(m,1),e},getRandomInt:function(e,u){return Math.floor(Math.random()*(u-e+1))+e},degreesToRadians:function(e){return e*c},radiansToDegrees:function(e){return e/c},rotatePoint:function(e,u,m){var g=new n.Point(e.x-u.x,e.y-u.y),y=n.util.rotateVector(g,m);return new n.Point(y.x,y.y).addEquals(u)},rotateVector:function(e,u){var m=n.util.sin(u),g=n.util.cos(u),y=e.x*g-e.y*m,b=e.x*m+e.y*g;return{x:y,y:b}},createVector:function(e,u){return new n.Point(u.x-e.x,u.y-e.y)},calcAngleBetweenVectors:function(e,u){return Math.acos((e.x*u.x+e.y*u.y)/(Math.hypot(e.x,e.y)*Math.hypot(u.x,u.y)))},getHatVector:function(e){return new n.Point(e.x,e.y).multiply(1/Math.hypot(e.x,e.y))},getBisector:function(e,u,m){var g=n.util.createVector(e,u),y=n.util.createVector(e,m),b=n.util.calcAngleBetweenVectors(g,y),v=n.util.calcAngleBetweenVectors(n.util.rotateVector(g,b),y),o=b*(v===0?1:-1)/2;return{vector:n.util.getHatVector(n.util.rotateVector(g,o)),angle:b}},projectStrokeOnPoints:function(e,u,m){var g=[],y=u.strokeWidth/2,b=u.strokeUniform?new n.Point(1/u.scaleX,1/u.scaleY):new n.Point(1,1),v=function(o){var S=y/Math.hypot(o.x,o.y);return new n.Point(o.x*S*b.x,o.y*S*b.y)};return e.length<=1||e.forEach(function(o,S){var T=new n.Point(o.x,o.y),E,k;S===0?(k=e[S+1],E=m?v(n.util.createVector(k,T)).addEquals(T):e[e.length-1]):S===e.length-1?(E=e[S-1],k=m?v(n.util.createVector(E,T)).addEquals(T):e[0]):(E=e[S-1],k=e[S+1]);var M=n.util.getBisector(T,E,k),O=M.vector,L=M.angle,te,B;if(u.strokeLineJoin==="miter"&&(te=-y/Math.sin(L/2),B=new n.Point(O.x*te*b.x,O.y*te*b.y),Math.hypot(B.x,B.y)/y<=u.strokeMiterLimit)){g.push(T.add(B)),g.push(T.subtract(B));return}te=-y*Math.SQRT2,B=new n.Point(O.x*te*b.x,O.y*te*b.y),g.push(T.add(B)),g.push(T.subtract(B))}),g},transformPoint:function(e,u,m){return m?new n.Point(u[0]*e.x+u[2]*e.y,u[1]*e.x+u[3]*e.y):new n.Point(u[0]*e.x+u[2]*e.y+u[4],u[1]*e.x+u[3]*e.y+u[5])},makeBoundingBoxFromPoints:function(e,u){if(u)for(var m=0;m<e.length;m++)e[m]=n.util.transformPoint(e[m],u);var g=[e[0].x,e[1].x,e[2].x,e[3].x],y=n.util.array.min(g),b=n.util.array.max(g),v=b-y,o=[e[0].y,e[1].y,e[2].y,e[3].y],S=n.util.array.min(o),T=n.util.array.max(o),E=T-S;return{left:y,top:S,width:v,height:E}},invertTransform:function(e){var u=1/(e[0]*e[3]-e[1]*e[2]),m=[u*e[3],-u*e[1],-u*e[2],u*e[0]],g=n.util.transformPoint({x:e[4],y:e[5]},m,!0);return m[4]=-g.x,m[5]=-g.y,m},toFixed:function(e,u){return parseFloat(Number(e).toFixed(u))},parseUnit:function(e,u){var m=/\D{0,2}$/.exec(e),g=parseFloat(e);switch(u||(u=n.Text.DEFAULT_SVG_FONT_SIZE),m[0]){case"mm":return g*n.DPI/25.4;case"cm":return g*n.DPI/2.54;case"in":return g*n.DPI;case"pt":return g*n.DPI/72;case"pc":return g*n.DPI/72*12;case"em":return g*u;default:return g}},falseFunction:function(){return!1},getKlass:function(e,u){return e=n.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),n.util.resolveNamespace(u)[e]},getSvgAttributes:function(e){var u=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":u=u.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":u=u.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":u=u.concat(["offset","stop-color","stop-opacity"]);break}return u},resolveNamespace:function(e){if(!e)return n;var u=e.split("."),m=u.length,g,y=l||n.window;for(g=0;g<m;++g)y=y[u[g]];return y},loadImage:function(e,u,m,g){if(!e){u&&u.call(m,e);return}var y=n.util.createImage(),b=function(){u&&u.call(m,y,!1),y=y.onload=y.onerror=null};y.onload=b,y.onerror=function(){n.log("Error loading "+y.src),u&&u.call(m,null,!0),y=y.onload=y.onerror=null},e.indexOf("data")!==0&&g!==void 0&&g!==null&&(y.crossOrigin=g),e.substring(0,14)==="data:image/svg"&&(y.onload=null,n.util.loadImageInDom(y,b)),y.src=e},loadImageInDom:function(e,u){var m=n.document.createElement("div");m.style.width=m.style.height="1px",m.style.left=m.style.top="-100%",m.style.position="absolute",m.appendChild(e),n.document.querySelector("body").appendChild(m),e.onload=function(){u(),m.parentNode.removeChild(m),m=null}},enlivenObjects:function(e,u,m,g){e=e||[];var y=[],b=0,v=e.length;function o(){++b===v&&u&&u(y.filter(function(S){return S}))}if(!v){u&&u(y);return}e.forEach(function(S,T){if(!S||!S.type){o();return}var E=n.util.getKlass(S.type,m);E.fromObject(S,function(k,M){M||(y[T]=k),g&&g(S,k,M),o()})})},enlivenObjectEnlivables:function(e,u,m){var g=n.Object.ENLIVEN_PROPS.filter(function(y){return!!e[y]});n.util.enlivenObjects(g.map(function(y){return e[y]}),function(y){var b={};g.forEach(function(v,o){b[v]=y[o],u&&(u[v]=y[o])}),m&&m(b)})},enlivenPatterns:function(e,u){e=e||[];function m(){++y===b&&u&&u(g)}var g=[],y=0,b=e.length;if(!b){u&&u(g);return}e.forEach(function(v,o){v&&v.source?new n.Pattern(v,function(S){g[o]=S,m()}):(g[o]=v,m())})},groupSVGElements:function(e,u,m){var g;return e&&e.length===1?(typeof m<"u"&&(e[0].sourcePath=m),e[0]):(u&&(u.width&&u.height?u.centerPoint={x:u.width/2,y:u.height/2}:(delete u.width,delete u.height)),g=new n.Group(e,u),typeof m<"u"&&(g.sourcePath=m),g)},populateWithProperties:function(e,u,m){if(m&&Array.isArray(m))for(var g=0,y=m.length;g<y;g++)m[g]in e&&(u[m[g]]=e[m[g]])},createCanvasElement:function(){return n.document.createElement("canvas")},copyCanvasElement:function(e){var u=n.util.createCanvasElement();return u.width=e.width,u.height=e.height,u.getContext("2d").drawImage(e,0,0),u},toDataURL:function(e,u,m){return e.toDataURL("image/"+u,m)},createImage:function(){return n.document.createElement("img")},multiplyTransformMatrices:function(e,u,m){return[e[0]*u[0]+e[2]*u[1],e[1]*u[0]+e[3]*u[1],e[0]*u[2]+e[2]*u[3],e[1]*u[2]+e[3]*u[3],m?0:e[0]*u[4]+e[2]*u[5]+e[4],m?0:e[1]*u[4]+e[3]*u[5]+e[5]]},qrDecompose:function(e){var u=t(e[1],e[0]),m=i(e[0],2)+i(e[1],2),g=a(m),y=(e[0]*e[3]-e[2]*e[1])/g,b=t(e[0]*e[2]+e[1]*e[3],m);return{angle:u/c,scaleX:g,scaleY:y,skewX:b/c,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return n.iMatrix.concat();var u=n.util.degreesToRadians(e.angle),m=n.util.cos(u),g=n.util.sin(u);return[m,g,-g,m,0,0]},calcDimensionsMatrix:function(e){var u=typeof e.scaleX>"u"?1:e.scaleX,m=typeof e.scaleY>"u"?1:e.scaleY,g=[e.flipX?-u:u,0,0,e.flipY?-m:m,0,0],y=n.util.multiplyTransformMatrices,b=n.util.degreesToRadians;return e.skewX&&(g=y(g,[1,0,Math.tan(b(e.skewX)),1],!0)),e.skewY&&(g=y(g,[1,Math.tan(b(e.skewY)),0,1],!0)),g},composeMatrix:function(e){var u=[1,0,0,1,e.translateX||0,e.translateY||0],m=n.util.multiplyTransformMatrices;return e.angle&&(u=m(u,n.util.calcRotateMatrix(e))),(e.scaleX!==1||e.scaleY!==1||e.skewX||e.skewY||e.flipX||e.flipY)&&(u=m(u,n.util.calcDimensionsMatrix(e))),u},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,u,m,g){g>0&&(u>g?u-=g:u=0,m>g?m-=g:m=0);var y=!0,b,v,o=e.getImageData(u,m,g*2||1,g*2||1),S=o.data.length;for(b=3;b<S&&(v=o.data[b],y=v<=0,y!==!1);b+=4);return o=null,y},parsePreserveAspectRatioAttribute:function(e){var u="meet",m="Mid",g="Mid",y=e.split(" "),b;return y&&y.length&&(u=y.pop(),u!=="meet"&&u!=="slice"?(b=u,u="meet"):y.length&&(b=y.pop())),m=b!=="none"?b.slice(1,4):"none",g=b!=="none"?b.slice(5,8):"none",{meetOrSlice:u,alignX:m,alignY:g}},clearFabricFontCache:function(e){e=(e||"").toLowerCase(),e?n.charWidthsCache[e]&&delete n.charWidthsCache[e]:n.charWidthsCache={}},limitDimsByArea:function(e,u){var m=Math.sqrt(u*e),g=Math.floor(u/m);return{x:Math.floor(m),y:g}},capValue:function(e,u,m){return Math.max(e,Math.min(u,m))},findScaleToFit:function(e,u){return Math.min(u.width/e.width,u.height/e.height)},findScaleToCover:function(e,u){return Math.max(u.width/e.width,u.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map(function(u){return n.util.toFixed(u,n.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(e,u){var m=n.util.invertTransform(u),g=n.util.multiplyTransformMatrices(m,e.calcOwnMatrix());n.util.applyTransformToObject(e,g)},addTransformToObject:function(e,u){n.util.applyTransformToObject(e,n.util.multiplyTransformMatrices(u,e.calcOwnMatrix()))},applyTransformToObject:function(e,u){var m=n.util.qrDecompose(u),g=new n.Point(m.translateX,m.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",m.scaleX),e.set("scaleY",m.scaleY),e.skewX=m.skewX,e.skewY=m.skewY,e.angle=m.angle,e.setPositionByOrigin(g,"center","center")},sizeAfterTransform:function(e,u,m){var g=e/2,y=u/2,b=[{x:-g,y:-y},{x:g,y:-y},{x:-g,y},{x:g,y}],v=n.util.calcDimensionsMatrix(m),o=n.util.makeBoundingBoxFromPoints(b,v);return{x:o.width,y:o.height}},mergeClipPaths:function(e,u){var m=e,g=u;m.inverted&&!g.inverted&&(m=u,g=e),n.util.applyTransformToObject(g,n.util.multiplyTransformMatrices(n.util.invertTransform(m.calcTransformMatrix()),g.calcTransformMatrix()));var y=m.inverted&&g.inverted;return y&&(m.inverted=g.inverted=!1),new n.Group([m],{clipPath:g,inverted:y})},hasStyleChanged:function(e,u,m){return m=m||!1,e.fill!==u.fill||e.stroke!==u.stroke||e.strokeWidth!==u.strokeWidth||e.fontSize!==u.fontSize||e.fontFamily!==u.fontFamily||e.fontWeight!==u.fontWeight||e.fontStyle!==u.fontStyle||e.textBackgroundColor!==u.textBackgroundColor||e.deltaY!==u.deltaY||m&&(e.overline!==u.overline||e.underline!==u.underline||e.linethrough!==u.linethrough)},stylesToArray:function(m,u){for(var m=n.util.object.clone(m,!0),g=u.split(`
`),y=-1,b={},v=[],o=0;o<g.length;o++){if(!m[o]){y+=g[o].length;continue}for(var S=0;S<g[o].length;S++){y++;var T=m[o][S];if(T&&Object.keys(T).length>0){var E=n.util.hasStyleChanged(b,T,!0);E?v.push({start:y,end:y+1,style:T}):v[v.length-1].end++}b=T||{}}}return v},stylesFromArray:function(e,u){if(!Array.isArray(e))return e;for(var m=u.split(`
`),g=-1,y=0,b={},v=0;v<m.length;v++)for(var o=0;o<m[v].length;o++)g++,e[y]&&e[y].start<=g&&g<e[y].end&&(b[v]=b[v]||{},b[v][o]=Object.assign({},e[y].style),g===e[y].end-1&&y++);return b}}}(r),function(){var l=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},t={m:"l",M:"L"};function i(A,z,N,W,ie,Y,F,D,Q,ee,V){var Z=n.util.cos(A),ae=n.util.sin(A),H=n.util.cos(z),q=n.util.sin(z),ne=N*ie*H-W*Y*q+F,le=W*ie*H+N*Y*q+D,se=ee+Q*(-N*ie*ae-W*Y*Z),J=V+Q*(-W*ie*ae+N*Y*Z),re=ne+Q*(N*ie*q+W*Y*H),oe=le+Q*(W*ie*q-N*Y*H);return["C",se,J,re,oe,ne,le]}function c(A,z,N,W,ie,Y,F){var D=Math.PI,Q=F*D/180,ee=n.util.sin(Q),V=n.util.cos(Q),Z=0,ae=0;N=Math.abs(N),W=Math.abs(W);var H=-V*A*.5-ee*z*.5,q=-V*z*.5+ee*A*.5,ne=N*N,le=W*W,se=q*q,J=H*H,re=ne*le-ne*se-le*J,oe=0;if(re<0){var ue=Math.sqrt(1-re/(ne*le));N*=ue,W*=ue}else oe=(ie===Y?-1:1)*Math.sqrt(re/(ne*se+le*J));var he=oe*N*q/W,de=-oe*W*H/N,pe=V*he-ee*de+A*.5,fe=ee*he+V*de+z*.5,be=s(1,0,(H-he)/N,(q-de)/W),ge=s((H-he)/N,(q-de)/W,(-H-he)/N,(-q-de)/W);Y===0&&ge>0?ge-=2*D:Y===1&&ge<0&&(ge+=2*D);for(var Se=Math.ceil(Math.abs(ge/D*2)),ve=[],we=ge/Se,Fe=8/3*Math.sin(we/4)*Math.sin(we/4)/Math.sin(we/2),Ce=be+we,ye=0;ye<Se;ye++)ve[ye]=i(be,Ce,V,ee,N,W,pe,fe,Fe,Z,ae),Z=ve[ye][5],ae=ve[ye][6],be=Ce,Ce+=we;return ve}function s(A,z,N,W){var ie=Math.atan2(z,A),Y=Math.atan2(W,N);return Y>=ie?Y-ie:2*Math.PI-(ie-Y)}function e(A,z,N,W,ie,Y,F,D){var Q;if(n.cachesBoundsOfCurve&&(Q=l.call(arguments),n.boundsOfCurveCache[Q]))return n.boundsOfCurveCache[Q];var ee=Math.sqrt,V=Math.min,Z=Math.max,ae=Math.abs,H=[],q=[[],[]],ne,le,se,J,re,oe,ue,he;le=6*A-12*N+6*ie,ne=-3*A+9*N-9*ie+3*F,se=3*N-3*A;for(var de=0;de<2;++de){if(de>0&&(le=6*z-12*W+6*Y,ne=-3*z+9*W-9*Y+3*D,se=3*W-3*z),ae(ne)<1e-12){if(ae(le)<1e-12)continue;J=-se/le,0<J&&J<1&&H.push(J);continue}ue=le*le-4*se*ne,!(ue<0)&&(he=ee(ue),re=(-le+he)/(2*ne),0<re&&re<1&&H.push(re),oe=(-le-he)/(2*ne),0<oe&&oe<1&&H.push(oe))}for(var pe,fe,be=H.length,ge=be,Se;be--;)J=H[be],Se=1-J,pe=Se*Se*Se*A+3*Se*Se*J*N+3*Se*J*J*ie+J*J*J*F,q[0][be]=pe,fe=Se*Se*Se*z+3*Se*Se*J*W+3*Se*J*J*Y+J*J*J*D,q[1][be]=fe;q[0][ge]=A,q[1][ge]=z,q[0][ge+1]=F,q[1][ge+1]=D;var ve=[{x:V.apply(null,q[0]),y:V.apply(null,q[1])},{x:Z.apply(null,q[0]),y:Z.apply(null,q[1])}];return n.cachesBoundsOfCurve&&(n.boundsOfCurveCache[Q]=ve),ve}function u(A,z,N){for(var W=N[1],ie=N[2],Y=N[3],F=N[4],D=N[5],Q=N[6],ee=N[7],V=c(Q-A,ee-z,W,ie,F,D,Y),Z=0,ae=V.length;Z<ae;Z++)V[Z][1]+=A,V[Z][2]+=z,V[Z][3]+=A,V[Z][4]+=z,V[Z][5]+=A,V[Z][6]+=z;return V}function m(A){var z=0,N=0,W=A.length,ie=0,Y=0,F,D,Q,ee=[],V,Z,ae;for(D=0;D<W;++D){switch(Q=!1,F=A[D].slice(0),F[0]){case"l":F[0]="L",F[1]+=z,F[2]+=N;case"L":z=F[1],N=F[2];break;case"h":F[1]+=z;case"H":F[0]="L",F[2]=N,z=F[1];break;case"v":F[1]+=N;case"V":F[0]="L",N=F[1],F[1]=z,F[2]=N;break;case"m":F[0]="M",F[1]+=z,F[2]+=N;case"M":z=F[1],N=F[2],ie=F[1],Y=F[2];break;case"c":F[0]="C",F[1]+=z,F[2]+=N,F[3]+=z,F[4]+=N,F[5]+=z,F[6]+=N;case"C":Z=F[3],ae=F[4],z=F[5],N=F[6];break;case"s":F[0]="S",F[1]+=z,F[2]+=N,F[3]+=z,F[4]+=N;case"S":V==="C"?(Z=2*z-Z,ae=2*N-ae):(Z=z,ae=N),z=F[3],N=F[4],F[0]="C",F[5]=F[3],F[6]=F[4],F[3]=F[1],F[4]=F[2],F[1]=Z,F[2]=ae,Z=F[3],ae=F[4];break;case"q":F[0]="Q",F[1]+=z,F[2]+=N,F[3]+=z,F[4]+=N;case"Q":Z=F[1],ae=F[2],z=F[3],N=F[4];break;case"t":F[0]="T",F[1]+=z,F[2]+=N;case"T":V==="Q"?(Z=2*z-Z,ae=2*N-ae):(Z=z,ae=N),F[0]="Q",z=F[1],N=F[2],F[1]=Z,F[2]=ae,F[3]=z,F[4]=N;break;case"a":F[0]="A",F[6]+=z,F[7]+=N;case"A":Q=!0,ee=ee.concat(u(z,N,F)),z=F[6],N=F[7];break;case"z":case"Z":z=ie,N=Y;break}Q||ee.push(F),V=F[0]}return ee}function g(A,z,N,W){return Math.sqrt((N-A)*(N-A)+(W-z)*(W-z))}function y(A){return A*A*A}function b(A){return 3*A*A*(1-A)}function v(A){return 3*A*(1-A)*(1-A)}function o(A){return(1-A)*(1-A)*(1-A)}function S(A,z,N,W,ie,Y,F,D){return function(Q){var ee=y(Q),V=b(Q),Z=v(Q),ae=o(Q);return{x:F*ee+ie*V+N*Z+A*ae,y:D*ee+Y*V+W*Z+z*ae}}}function T(A,z,N,W,ie,Y,F,D){return function(Q){var ee=1-Q,V=3*ee*ee*(N-A)+6*ee*Q*(ie-N)+3*Q*Q*(F-ie),Z=3*ee*ee*(W-z)+6*ee*Q*(Y-W)+3*Q*Q*(D-Y);return Math.atan2(Z,V)}}function E(A){return A*A}function k(A){return 2*A*(1-A)}function M(A){return(1-A)*(1-A)}function O(A,z,N,W,ie,Y){return function(F){var D=E(F),Q=k(F),ee=M(F);return{x:ie*D+N*Q+A*ee,y:Y*D+W*Q+z*ee}}}function L(A,z,N,W,ie,Y){return function(F){var D=1-F,Q=2*D*(N-A)+2*F*(ie-N),ee=2*D*(W-z)+2*F*(Y-W);return Math.atan2(ee,Q)}}function te(A,z,N){var W={x:z,y:N},ie,Y=0,F;for(F=1;F<=100;F+=1)ie=A(F/100),Y+=g(W.x,W.y,ie.x,ie.y),W=ie;return Y}function B(A,z){for(var N=0,W=0,ie=A.iterator,Y={x:A.x,y:A.y},F,D,Q=.01,ee=A.angleFinder,V;W<z&&Q>1e-4;)F=ie(N),V=N,D=g(Y.x,Y.y,F.x,F.y),D+W>z?(N-=Q,Q/=2):(Y=F,N+=Q,W+=D);return F.angle=ee(V),F}function G(A){for(var z=0,N=A.length,W,ie=0,Y=0,F=0,D=0,Q=[],ee,V,Z,ae=0;ae<N;ae++){switch(W=A[ae],V={x:ie,y:Y,command:W[0]},W[0]){case"M":V.length=0,F=ie=W[1],D=Y=W[2];break;case"L":V.length=g(ie,Y,W[1],W[2]),ie=W[1],Y=W[2];break;case"C":ee=S(ie,Y,W[1],W[2],W[3],W[4],W[5],W[6]),Z=T(ie,Y,W[1],W[2],W[3],W[4],W[5],W[6]),V.iterator=ee,V.angleFinder=Z,V.length=te(ee,ie,Y),ie=W[5],Y=W[6];break;case"Q":ee=O(ie,Y,W[1],W[2],W[3],W[4]),Z=L(ie,Y,W[1],W[2],W[3],W[4]),V.iterator=ee,V.angleFinder=Z,V.length=te(ee,ie,Y),ie=W[3],Y=W[4];break;case"Z":case"z":V.destX=F,V.destY=D,V.length=g(ie,Y,F,D),ie=F,Y=D;break}z+=V.length,Q.push(V)}return Q.push({length:z,x:ie,y:Y}),Q}function R(A,z,N){N||(N=G(A));for(var W=0;z-N[W].length>0&&W<N.length-2;)z-=N[W].length,W++;var ie=N[W],Y=z/ie.length,F=ie.command,D=A[W],Q;switch(F){case"M":return{x:ie.x,y:ie.y,angle:0};case"Z":case"z":return Q=new n.Point(ie.x,ie.y).lerp(new n.Point(ie.destX,ie.destY),Y),Q.angle=Math.atan2(ie.destY-ie.y,ie.destX-ie.x),Q;case"L":return Q=new n.Point(ie.x,ie.y).lerp(new n.Point(D[1],D[2]),Y),Q.angle=Math.atan2(D[2]-ie.y,D[1]-ie.x),Q;case"C":return B(ie,z);case"Q":return B(ie,z)}}function I(A){var z=[],N=[],W,ie,Y=n.rePathCommand,F="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",D="("+F+")"+n.commaWsp,Q="([01])"+n.commaWsp+"?",ee=D+"?"+D+"?"+D+Q+Q+D+"?("+F+")",V=new RegExp(ee,"g"),Z,ae,H;if(!A||!A.match)return z;H=A.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var q=0,ne,le=H.length;q<le;q++){W=H[q],ae=W.slice(1).trim(),N.length=0;var se=W.charAt(0);if(ne=[se],se.toLowerCase()==="a")for(var J;J=V.exec(ae);)for(var re=1;re<J.length;re++)N.push(J[re]);else for(;Z=Y.exec(ae);)N.push(Z[0]);for(var re=0,oe=N.length;re<oe;re++)ie=parseFloat(N[re]),isNaN(ie)||ne.push(ie);var ue=a[se.toLowerCase()],he=t[se]||se;if(ne.length-1>ue)for(var de=1,pe=ne.length;de<pe;de+=ue)z.push([se].concat(ne.slice(de,de+ue))),se=he;else z.push(ne)}return z}function U(A,z){var N=[],W,ie=new n.Point(A[0].x,A[0].y),Y=new n.Point(A[1].x,A[1].y),F=A.length,D=1,Q=0,ee=F>2;for(z=z||0,ee&&(D=A[2].x<Y.x?-1:A[2].x===Y.x?0:1,Q=A[2].y<Y.y?-1:A[2].y===Y.y?0:1),N.push(["M",ie.x-D*z,ie.y-Q*z]),W=1;W<F;W++){if(!ie.eq(Y)){var V=ie.midPointFrom(Y);N.push(["Q",ie.x,ie.y,V.x,V.y])}ie=A[W],W+1<A.length&&(Y=A[W+1])}return ee&&(D=ie.x>A[W-2].x?1:ie.x===A[W-2].x?0:-1,Q=ie.y>A[W-2].y?1:ie.y===A[W-2].y?0:-1),N.push(["L",ie.x+D*z,ie.y+Q*z]),N}function P(A,z,N){return N&&(z=n.util.multiplyTransformMatrices(z,[1,0,0,1,-N.x,-N.y])),A.map(function(W){for(var ie=W.slice(0),Y={},F=1;F<W.length-1;F+=2)Y.x=W[F],Y.y=W[F+1],Y=n.util.transformPoint(Y,z),ie[F]=Y.x,ie[F+1]=Y.y;return ie})}n.util.joinPath=function(A){return A.map(function(z){return z.join(" ")}).join(" ")},n.util.parsePath=I,n.util.makePathSimpler=m,n.util.getSmoothPathFromPoints=U,n.util.getPathSegmentsInfo=G,n.util.getBoundsOfCurve=e,n.util.getPointOnPath=R,n.util.transformPath=P}(),function(){var l=Array.prototype.slice;function a(e,u){for(var m=l.call(arguments,2),g=[],y=0,b=e.length;y<b;y++)g[y]=m.length?e[y][u].apply(e[y],m):e[y][u].call(e[y]);return g}function t(e,u){return s(e,u,function(m,g){return m>=g})}function i(e,u){return s(e,u,function(m,g){return m<g})}function c(e,u){for(var m=e.length;m--;)e[m]=u;return e}function s(e,u,m){if(!(!e||e.length===0)){var g=e.length-1,y=u?e[g][u]:e[g];if(u)for(;g--;)m(e[g][u],y)&&(y=e[g][u]);else for(;g--;)m(e[g],y)&&(y=e[g]);return y}}n.util.array={fill:c,invoke:a,min:i,max:t}}(),function(){function l(t,i,c){if(c)if(!n.isLikelyNode&&i instanceof Element)t=i;else if(i instanceof Array){t=[];for(var s=0,e=i.length;s<e;s++)t[s]=l({},i[s],c)}else if(i&&typeof i=="object")for(var u in i)u==="canvas"||u==="group"?t[u]=null:i.hasOwnProperty(u)&&(t[u]=l({},i[u],c));else t=i;else for(var u in i)t[u]=i[u];return t}function a(t,i){return l({},t,i)}n.util.object={extend:l,clone:a},n.util.object.extend(n.util,n.Observable)}(),function(){function l(s){return s.replace(/-+(.)?/g,function(e,u){return u?u.toUpperCase():""})}function a(s,e){return s.charAt(0).toUpperCase()+(e?s.slice(1):s.slice(1).toLowerCase())}function t(s){return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(s){var e=0,u,m=[];for(e=0,u;e<s.length;e++)(u=c(s,e))!==!1&&m.push(u);return m}function c(s,e){var u=s.charCodeAt(e);if(isNaN(u))return"";if(u<55296||u>57343)return s.charAt(e);if(55296<=u&&u<=56319){if(s.length<=e+1)throw"High surrogate without following low surrogate";var m=s.charCodeAt(e+1);if(56320>m||m>57343)throw"High surrogate without following low surrogate";return s.charAt(e)+s.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";var g=s.charCodeAt(e-1);if(55296>g||g>56319)throw"Low surrogate without preceding high surrogate";return!1}n.util.string={camelize:l,capitalize:a,escapeXml:t,graphemeSplit:i}}(),function(){var l=Array.prototype.slice,a=function(){},t=function(){for(var u in{toString:1})if(u==="toString")return!1;return!0}(),i=function(u,m,g){for(var y in m)y in u.prototype&&typeof u.prototype[y]=="function"&&(m[y]+"").indexOf("callSuper")>-1?u.prototype[y]=function(b){return function(){var v=this.constructor.superclass;this.constructor.superclass=g;var o=m[b].apply(this,arguments);if(this.constructor.superclass=v,b!=="initialize")return o}}(y):u.prototype[y]=m[y],t&&(m.toString!==Object.prototype.toString&&(u.prototype.toString=m.toString),m.valueOf!==Object.prototype.valueOf&&(u.prototype.valueOf=m.valueOf))};function c(){}function s(u){for(var m=null,g=this;g.constructor.superclass;){var y=g.constructor.superclass.prototype[u];if(g[u]!==y){m=y;break}g=g.constructor.superclass.prototype}return m?arguments.length>1?m.apply(this,l.call(arguments,1)):m.call(this):console.log("tried to callSuper "+u+", method not found in prototype chain",this)}function e(){var u=null,m=l.call(arguments,0);typeof m[0]=="function"&&(u=m.shift());function g(){this.initialize.apply(this,arguments)}g.superclass=u,g.subclasses=[],u&&(c.prototype=u.prototype,g.prototype=new c,u.subclasses.push(g));for(var y=0,b=m.length;y<b;y++)i(g,m[y],u);return g.prototype.initialize||(g.prototype.initialize=a),g.prototype.constructor=g,g.prototype.callSuper=s,g}n.util.createClass=e}(),function(){var l=!!n.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];n.util.addListener=function(i,c,s,e){i&&i.addEventListener(c,s,l?!1:e)},n.util.removeListener=function(i,c,s,e){i&&i.removeEventListener(c,s,l?!1:e)};function t(i){var c=i.changedTouches;return c&&c[0]?c[0]:i}n.util.getPointer=function(i){var c=i.target,s=n.util.getScrollLeftTop(c),e=t(i);return{x:e.clientX+s.left,y:e.clientY+s.top}},n.util.isTouchEvent=function(i){return a.indexOf(i.type)>-1||i.pointerType==="touch"}}(),function(){function l(e,u){var m=e.style;if(!m)return e;if(typeof u=="string")return e.style.cssText+=";"+u,u.indexOf("opacity")>-1?s(e,u.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var g in u)if(g==="opacity")s(e,u[g]);else{var y=g==="float"||g==="cssFloat"?typeof m.styleFloat>"u"?"cssFloat":"styleFloat":g;m.setProperty(y,u[g])}return e}var a=n.document.createElement("div"),t=typeof a.style.opacity=="string",i=typeof a.style.filter=="string",c=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,s=function(e){return e};t?s=function(e,u){return e.style.opacity=u,e}:i&&(s=function(e,u){var m=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(m.zoom=1),c.test(m.filter)?(u=u>=.9999?"":"alpha(opacity="+u*100+")",m.filter=m.filter.replace(c,u)):m.filter+=" alpha(opacity="+u*100+")",e}),n.util.setStyle=l}(),function(){var l=Array.prototype.slice;function a(o){return typeof o=="string"?n.document.getElementById(o):o}var t,i=function(o){return l.call(o,0)};try{t=i(n.document.childNodes)instanceof Array}catch{}t||(i=function(o){for(var S=new Array(o.length),T=o.length;T--;)S[T]=o[T];return S});function c(o,S){var T=n.document.createElement(o);for(var E in S)E==="class"?T.className=S[E]:E==="for"?T.htmlFor=S[E]:T.setAttribute(E,S[E]);return T}function s(o,S){o&&(" "+o.className+" ").indexOf(" "+S+" ")===-1&&(o.className+=(o.className?" ":"")+S)}function e(o,S,T){return typeof S=="string"&&(S=c(S,T)),o.parentNode&&o.parentNode.replaceChild(S,o),S.appendChild(o),S}function u(o){for(var S=0,T=0,E=n.document.documentElement,k=n.document.body||{scrollLeft:0,scrollTop:0};o&&(o.parentNode||o.host)&&(o=o.parentNode||o.host,o===n.document?(S=k.scrollLeft||E.scrollLeft||0,T=k.scrollTop||E.scrollTop||0):(S+=o.scrollLeft||0,T+=o.scrollTop||0),!(o.nodeType===1&&o.style.position==="fixed")););return{left:S,top:T}}function m(o){var S,T=o&&o.ownerDocument,E={left:0,top:0},k={left:0,top:0},M,O={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!T)return k;for(var L in O)k[O[L]]+=parseInt(g(o,L),10)||0;return S=T.documentElement,typeof o.getBoundingClientRect<"u"&&(E=o.getBoundingClientRect()),M=u(o),{left:E.left+M.left-(S.clientLeft||0)+k.left,top:E.top+M.top-(S.clientTop||0)+k.top}}var g;n.document.defaultView&&n.document.defaultView.getComputedStyle?g=function(o,S){var T=n.document.defaultView.getComputedStyle(o,null);return T?T[S]:void 0}:g=function(o,S){var T=o.style[S];return!T&&o.currentStyle&&(T=o.currentStyle[S]),T},function(){var o=n.document.documentElement.style,S="userSelect"in o?"userSelect":"MozUserSelect"in o?"MozUserSelect":"WebkitUserSelect"in o?"WebkitUserSelect":"KhtmlUserSelect"in o?"KhtmlUserSelect":"";function T(k){return typeof k.onselectstart<"u"&&(k.onselectstart=n.util.falseFunction),S?k.style[S]="none":typeof k.unselectable=="string"&&(k.unselectable="on"),k}function E(k){return typeof k.onselectstart<"u"&&(k.onselectstart=null),S?k.style[S]="":typeof k.unselectable=="string"&&(k.unselectable=""),k}n.util.makeElementUnselectable=T,n.util.makeElementSelectable=E}();function y(o){var S=n.jsdomImplForWrapper(o);return S._canvas||S._image}function b(o){if(n.isLikelyNode){var S=n.jsdomImplForWrapper(o);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function v(o,S){o.imageSmoothingEnabled=o.imageSmoothingEnabled||o.webkitImageSmoothingEnabled||o.mozImageSmoothingEnabled||o.msImageSmoothingEnabled||o.oImageSmoothingEnabled,o.imageSmoothingEnabled=S}n.util.setImageSmoothing=v,n.util.getById=a,n.util.toArray=i,n.util.addClass=s,n.util.makeElement=c,n.util.wrapElement=e,n.util.getScrollLeftTop=u,n.util.getElementOffset=m,n.util.getNodeCanvas=y,n.util.cleanUpJsdomNode=b}(),function(){function l(i,c){return i+(/\?/.test(i)?"&":"?")+c}function a(){}function t(i,c){c||(c={});var s=c.method?c.method.toUpperCase():"GET",e=c.onComplete||function(){},u=new n.window.XMLHttpRequest,m=c.body||c.parameters;return u.onreadystatechange=function(){u.readyState===4&&(e(u),u.onreadystatechange=a)},s==="GET"&&(m=null,typeof c.parameters=="string"&&(i=l(i,c.parameters))),u.open(s,i,!0),(s==="POST"||s==="PUT")&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(m),u}n.util.request=t}(),n.log=console.log,n.warn=console.warn,function(){var l=n.util.object.extend,a=n.util.object.clone,t=[];n.util.object.extend(t,{cancelAll:function(){var y=this.splice(0);return y.forEach(function(b){b.cancel()}),y},cancelByCanvas:function(y){if(!y)return[];var b=this.filter(function(v){return typeof v.target=="object"&&v.target.canvas===y});return b.forEach(function(v){v.cancel()}),b},cancelByTarget:function(y){var b=this.findAnimationsByTarget(y);return b.forEach(function(v){v.cancel()}),b},findAnimationIndex:function(y){return this.indexOf(this.findAnimation(y))},findAnimation:function(y){return this.find(function(b){return b.cancel===y})},findAnimationsByTarget:function(y){return y?this.filter(function(b){return b.target===y}):[]}});function i(){return!1}function c(y,b,v,o){return-v*Math.cos(y/o*(Math.PI/2))+v+b}function s(y){y||(y={});var b=!1,v,o=function(){var S=n.runningAnimations.indexOf(v);return S>-1&&n.runningAnimations.splice(S,1)[0]};return v=l(a(y),{cancel:function(){return b=!0,o()},currentValue:"startValue"in y?y.startValue:0,completionRate:0,durationRate:0}),n.runningAnimations.push(v),m(function(S){var T=S||+new Date,E=y.duration||500,k=T+E,M,O=y.onChange||i,L=y.abort||i,te=y.onComplete||i,B=y.easing||c,G="startValue"in y?y.startValue.length>0:!1,R="startValue"in y?y.startValue:0,I="endValue"in y?y.endValue:100,U=y.byValue||(G?R.map(function(P,A){return I[A]-R[A]}):I-R);y.onStart&&y.onStart(),function P(A){M=A||+new Date;var z=M>k?E:M-T,N=z/E,W=G?R.map(function(Y,F){return B(z,R[F],U[F],E)}):B(z,R,U,E),ie=Math.abs(G?(W[0]-R[0])/U[0]:(W-R)/U);if(v.currentValue=G?W.slice():W,v.completionRate=ie,v.durationRate=N,!b){if(L(W,ie,N)){o();return}if(M>k){v.currentValue=G?I.slice():I,v.completionRate=1,v.durationRate=1,O(G?I.slice():I,1,1),te(I,1,1),o();return}else O(W,ie,N),m(P)}}(T)}),v.cancel}var e=n.window.requestAnimationFrame||n.window.webkitRequestAnimationFrame||n.window.mozRequestAnimationFrame||n.window.oRequestAnimationFrame||n.window.msRequestAnimationFrame||function(y){return n.window.setTimeout(y,1e3/60)},u=n.window.cancelAnimationFrame||n.window.clearTimeout;function m(){return e.apply(n.window,arguments)}function g(){return u.apply(n.window,arguments)}n.util.animate=s,n.util.requestAnimFrame=m,n.util.cancelAnimFrame=g,n.runningAnimations=t}(),function(){function l(t,i,c){var s="rgba("+parseInt(t[0]+c*(i[0]-t[0]),10)+","+parseInt(t[1]+c*(i[1]-t[1]),10)+","+parseInt(t[2]+c*(i[2]-t[2]),10);return s+=","+(t&&i?parseFloat(t[3]+c*(i[3]-t[3])):1),s+=")",s}function a(t,i,c,s){var e=new n.Color(t).getSource(),u=new n.Color(i).getSource(),m=s.onComplete,g=s.onChange;return s=s||{},n.util.animate(n.util.object.extend(s,{duration:c||500,startValue:e,endValue:u,byValue:u,easing:function(y,b,v,o){var S=s.colorEasing?s.colorEasing(y,o):1-Math.cos(y/o*(Math.PI/2));return l(b,v,S)},onComplete:function(y,b,v){if(m)return m(l(u,u,0),b,v)},onChange:function(y,b,v){if(g){if(Array.isArray(y))return g(l(y,y,0),b,v);g(y,b,v)}}}))}n.util.animateColor=a}(),function(){function l(A,z,N,W){return A<Math.abs(z)?(A=z,W=N/4):z===0&&A===0?W=N/(2*Math.PI)*Math.asin(1):W=N/(2*Math.PI)*Math.asin(z/A),{a:A,c:z,p:N,s:W}}function a(A,z,N){return A.a*Math.pow(2,10*(z-=1))*Math.sin((z*N-A.s)*(2*Math.PI)/A.p)}function t(A,z,N,W){return N*((A=A/W-1)*A*A+1)+z}function i(A,z,N,W){return A/=W/2,A<1?N/2*A*A*A+z:N/2*((A-=2)*A*A+2)+z}function c(A,z,N,W){return N*(A/=W)*A*A*A+z}function s(A,z,N,W){return-N*((A=A/W-1)*A*A*A-1)+z}function e(A,z,N,W){return A/=W/2,A<1?N/2*A*A*A*A+z:-N/2*((A-=2)*A*A*A-2)+z}function u(A,z,N,W){return N*(A/=W)*A*A*A*A+z}function m(A,z,N,W){return N*((A=A/W-1)*A*A*A*A+1)+z}function g(A,z,N,W){return A/=W/2,A<1?N/2*A*A*A*A*A+z:N/2*((A-=2)*A*A*A*A+2)+z}function y(A,z,N,W){return-N*Math.cos(A/W*(Math.PI/2))+N+z}function b(A,z,N,W){return N*Math.sin(A/W*(Math.PI/2))+z}function v(A,z,N,W){return-N/2*(Math.cos(Math.PI*A/W)-1)+z}function o(A,z,N,W){return A===0?z:N*Math.pow(2,10*(A/W-1))+z}function S(A,z,N,W){return A===W?z+N:N*(-Math.pow(2,-10*A/W)+1)+z}function T(A,z,N,W){return A===0?z:A===W?z+N:(A/=W/2,A<1?N/2*Math.pow(2,10*(A-1))+z:N/2*(-Math.pow(2,-10*--A)+2)+z)}function E(A,z,N,W){return-N*(Math.sqrt(1-(A/=W)*A)-1)+z}function k(A,z,N,W){return N*Math.sqrt(1-(A=A/W-1)*A)+z}function M(A,z,N,W){return A/=W/2,A<1?-N/2*(Math.sqrt(1-A*A)-1)+z:N/2*(Math.sqrt(1-(A-=2)*A)+1)+z}function O(A,z,N,W){var ie=1.70158,Y=0,F=N;if(A===0)return z;if(A/=W,A===1)return z+N;Y||(Y=W*.3);var D=l(F,N,Y,ie);return-a(D,A,W)+z}function L(A,z,N,W){var ie=1.70158,Y=0,F=N;if(A===0)return z;if(A/=W,A===1)return z+N;Y||(Y=W*.3);var D=l(F,N,Y,ie);return D.a*Math.pow(2,-10*A)*Math.sin((A*W-D.s)*(2*Math.PI)/D.p)+D.c+z}function te(A,z,N,W){var ie=1.70158,Y=0,F=N;if(A===0)return z;if(A/=W/2,A===2)return z+N;Y||(Y=W*(.3*1.5));var D=l(F,N,Y,ie);return A<1?-.5*a(D,A,W)+z:D.a*Math.pow(2,-10*(A-=1))*Math.sin((A*W-D.s)*(2*Math.PI)/D.p)*.5+D.c+z}function B(A,z,N,W,ie){return ie===void 0&&(ie=1.70158),N*(A/=W)*A*((ie+1)*A-ie)+z}function G(A,z,N,W,ie){return ie===void 0&&(ie=1.70158),N*((A=A/W-1)*A*((ie+1)*A+ie)+1)+z}function R(A,z,N,W,ie){return ie===void 0&&(ie=1.70158),A/=W/2,A<1?N/2*(A*A*(((ie*=1.525)+1)*A-ie))+z:N/2*((A-=2)*A*(((ie*=1.525)+1)*A+ie)+2)+z}function I(A,z,N,W){return N-U(W-A,0,N,W)+z}function U(A,z,N,W){return(A/=W)<1/2.75?N*(7.5625*A*A)+z:A<2/2.75?N*(7.5625*(A-=1.5/2.75)*A+.75)+z:A<2.5/2.75?N*(7.5625*(A-=2.25/2.75)*A+.9375)+z:N*(7.5625*(A-=2.625/2.75)*A+.984375)+z}function P(A,z,N,W){return A<W/2?I(A*2,0,N,W)*.5+z:U(A*2-W,0,N,W)*.5+N*.5+z}n.util.ease={easeInQuad:function(A,z,N,W){return N*(A/=W)*A+z},easeOutQuad:function(A,z,N,W){return-N*(A/=W)*(A-2)+z},easeInOutQuad:function(A,z,N,W){return A/=W/2,A<1?N/2*A*A+z:-N/2*(--A*(A-2)-1)+z},easeInCubic:function(A,z,N,W){return N*(A/=W)*A*A+z},easeOutCubic:t,easeInOutCubic:i,easeInQuart:c,easeOutQuart:s,easeInOutQuart:e,easeInQuint:u,easeOutQuint:m,easeInOutQuint:g,easeInSine:y,easeOutSine:b,easeInOutSine:v,easeInExpo:o,easeOutExpo:S,easeInOutExpo:T,easeInCirc:E,easeOutCirc:k,easeInOutCirc:M,easeInElastic:O,easeOutElastic:L,easeInOutElastic:te,easeInBack:B,easeOutBack:G,easeInOutBack:R,easeInBounce:I,easeOutBounce:U,easeInOutBounce:P}}(),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend,i=a.util.object.clone,c=a.util.toFixed,s=a.util.parseUnit,e=a.util.multiplyTransformMatrices,u=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],m=["symbol","image","marker","pattern","view","svg"],g=["pattern","defs","symbol","metadata","clipPath","mask","desc"],y=["symbol","g","a","svg","clipPath","defs"],b={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},v={stroke:"strokeOpacity",fill:"fillOpacity"},o="font-size",S="clip-path";a.svgValidTagNamesRegEx=k(u),a.svgViewBoxElementsRegEx=k(m),a.svgInvalidAncestorsRegEx=k(g),a.svgValidParentsRegEx=k(y),a.cssRules={},a.gradientDefs={},a.clipPaths={};function T(Y){return Y in b?b[Y]:Y}function E(Y,F,D,Q){var ee=Array.isArray(F),V;if((Y==="fill"||Y==="stroke")&&F==="none")F="";else{if(Y==="strokeUniform")return F==="non-scaling-stroke";if(Y==="strokeDashArray")F==="none"?F=null:F=F.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Y==="transformMatrix")D&&D.transformMatrix?F=e(D.transformMatrix,a.parseTransformAttribute(F)):F=a.parseTransformAttribute(F);else if(Y==="visible")F=F!=="none"&&F!=="hidden",D&&D.visible===!1&&(F=!1);else if(Y==="opacity")F=parseFloat(F),D&&typeof D.opacity<"u"&&(F*=D.opacity);else if(Y==="textAnchor")F=F==="start"?"left":F==="end"?"right":"center";else if(Y==="charSpacing")V=s(F,Q)/Q*1e3;else if(Y==="paintFirst"){var Z=F.indexOf("fill"),ae=F.indexOf("stroke"),F="fill";(Z>-1&&ae>-1&&ae<Z||Z===-1&&ae>-1)&&(F="stroke")}else{if(Y==="href"||Y==="xlink:href"||Y==="font")return F;if(Y==="imageSmoothing")return F==="optimizeQuality";V=ee?F.map(s):s(F,Q)}}return!ee&&isNaN(V)?F:V}function k(Y){return new RegExp("^("+Y.join("|")+")\\b","i")}function M(Y){for(var F in v)if(!(typeof Y[v[F]]>"u"||Y[F]==="")){if(typeof Y[F]>"u"){if(!a.Object.prototype[F])continue;Y[F]=a.Object.prototype[F]}if(Y[F].indexOf("url(")!==0){var D=new a.Color(Y[F]);Y[F]=D.setAlpha(c(D.getAlpha()*Y[v[F]],2)).toRgba()}}return Y}function O(Y,F){var D,Q=[],ee,V,Z;for(V=0,Z=F.length;V<Z;V++)D=F[V],ee=Y.getElementsByTagName(D),Q=Q.concat(Array.prototype.slice.call(ee));return Q}a.parseTransformAttribute=function(){function Y(de,pe){var fe=a.util.cos(pe[0]),be=a.util.sin(pe[0]),ge=0,Se=0;pe.length===3&&(ge=pe[1],Se=pe[2]),de[0]=fe,de[1]=be,de[2]=-be,de[3]=fe,de[4]=ge-(fe*ge-be*Se),de[5]=Se-(be*ge+fe*Se)}function F(de,pe){var fe=pe[0],be=pe.length===2?pe[1]:pe[0];de[0]=fe,de[3]=be}function D(de,pe,fe){de[fe]=Math.tan(a.util.degreesToRadians(pe[0]))}function Q(de,pe){de[4]=pe[0],pe.length===2&&(de[5]=pe[1])}var ee=a.iMatrix,V=a.reNum,Z=a.commaWsp,ae="(?:(skewX)\\s*\\(\\s*("+V+")\\s*\\))",H="(?:(skewY)\\s*\\(\\s*("+V+")\\s*\\))",q="(?:(rotate)\\s*\\(\\s*("+V+")(?:"+Z+"("+V+")"+Z+"("+V+"))?\\s*\\))",ne="(?:(scale)\\s*\\(\\s*("+V+")(?:"+Z+"("+V+"))?\\s*\\))",le="(?:(translate)\\s*\\(\\s*("+V+")(?:"+Z+"("+V+"))?\\s*\\))",se="(?:(matrix)\\s*\\(\\s*("+V+")"+Z+"("+V+")"+Z+"("+V+")"+Z+"("+V+")"+Z+"("+V+")"+Z+"("+V+")\\s*\\))",J="(?:"+se+"|"+le+"|"+ne+"|"+q+"|"+ae+"|"+H+")",re="(?:"+J+"(?:"+Z+"*"+J+")*)",oe="^\\s*(?:"+re+"?)\\s*$",ue=new RegExp(oe),he=new RegExp(J,"g");return function(de){var pe=ee.concat(),fe=[];if(!de||de&&!ue.test(de))return pe;de.replace(he,function(ge){var Se=new RegExp(J).exec(ge).filter(function(Fe){return!!Fe}),ve=Se[1],we=Se.slice(2).map(parseFloat);switch(ve){case"translate":Q(pe,we);break;case"rotate":we[0]=a.util.degreesToRadians(we[0]),Y(pe,we);break;case"scale":F(pe,we);break;case"skewX":D(pe,we,2);break;case"skewY":D(pe,we,1);break;case"matrix":pe=we;break}fe.push(pe.concat()),pe=ee.concat()});for(var be=fe[0];fe.length>1;)fe.shift(),be=a.util.multiplyTransformMatrices(be,fe[0]);return be}}();function L(Y,F){var D,Q;Y.replace(/;\s*$/,"").split(";").forEach(function(ee){var V=ee.split(":");D=V[0].trim().toLowerCase(),Q=V[1].trim(),F[D]=Q})}function te(Y,F){var D,Q;for(var ee in Y)typeof Y[ee]>"u"||(D=ee.toLowerCase(),Q=Y[ee],F[D]=Q)}function B(Y,F){var D={};for(var Q in a.cssRules[F])if(G(Y,Q.split(" ")))for(var ee in a.cssRules[F][Q])D[ee]=a.cssRules[F][Q][ee];return D}function G(Y,F){var D,Q=!0;return D=I(Y,F.pop()),D&&F.length&&(Q=R(Y,F)),D&&Q&&F.length===0}function R(Y,F){for(var D,Q=!0;Y.parentNode&&Y.parentNode.nodeType===1&&F.length;)Q&&(D=F.pop()),Y=Y.parentNode,Q=I(Y,D);return F.length===0}function I(Y,F){var D=Y.nodeName,Q=Y.getAttribute("class"),ee=Y.getAttribute("id"),V,Z;if(V=new RegExp("^"+D,"i"),F=F.replace(V,""),ee&&F.length&&(V=new RegExp("#"+ee+"(?![a-zA-Z\\-]+)","i"),F=F.replace(V,"")),Q&&F.length)for(Q=Q.split(" "),Z=Q.length;Z--;)V=new RegExp("\\."+Q[Z]+"(?![a-zA-Z\\-]+)","i"),F=F.replace(V,"");return F.length===0}function U(Y,F){var D;if(Y.getElementById&&(D=Y.getElementById(F)),D)return D;var Q,ee,V,Z=Y.getElementsByTagName("*");for(ee=0,V=Z.length;ee<V;ee++)if(Q=Z[ee],F===Q.getAttribute("id"))return Q}function P(Y){for(var F=O(Y,["use","svg:use"]),D=0;F.length&&D<F.length;){var Q=F[D],ee=Q.getAttribute("xlink:href")||Q.getAttribute("href");if(ee===null)return;var V=ee.slice(1),Z=Q.getAttribute("x")||0,ae=Q.getAttribute("y")||0,H=U(Y,V).cloneNode(!0),q=(H.getAttribute("transform")||"")+" translate("+Z+", "+ae+")",ne,le=F.length,se,J,re,oe,ue=a.svgNS;if(z(H),/^svg$/i.test(H.nodeName)){var he=H.ownerDocument.createElementNS(ue,"g");for(J=0,re=H.attributes,oe=re.length;J<oe;J++)se=re.item(J),he.setAttributeNS(ue,se.nodeName,se.nodeValue);for(;H.firstChild;)he.appendChild(H.firstChild);H=he}for(J=0,re=Q.attributes,oe=re.length;J<oe;J++)se=re.item(J),!(se.nodeName==="x"||se.nodeName==="y"||se.nodeName==="xlink:href"||se.nodeName==="href")&&(se.nodeName==="transform"?q=se.nodeValue+" "+q:H.setAttribute(se.nodeName,se.nodeValue));H.setAttribute("transform",q),H.setAttribute("instantiated_by_use","1"),H.removeAttribute("id"),ne=Q.parentNode,ne.replaceChild(H,Q),F.length===le&&D++}}var A=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function z(Y){if(!a.svgViewBoxElementsRegEx.test(Y.nodeName))return{};var F=Y.getAttribute("viewBox"),D=1,Q=1,ee=0,V=0,Z,ae,H,q,ne=Y.getAttribute("width"),le=Y.getAttribute("height"),se=Y.getAttribute("x")||0,J=Y.getAttribute("y")||0,re=Y.getAttribute("preserveAspectRatio")||"",oe=!F||!(F=F.match(A)),ue=!ne||!le||ne==="100%"||le==="100%",he=oe&&ue,de={},pe="",fe=0,be=0;if(de.width=0,de.height=0,de.toBeParsed=he,oe&&(se||J)&&Y.parentNode&&Y.parentNode.nodeName!=="#document"&&(pe=" translate("+s(se)+" "+s(J)+") ",H=(Y.getAttribute("transform")||"")+pe,Y.setAttribute("transform",H),Y.removeAttribute("x"),Y.removeAttribute("y")),he)return de;if(oe)return de.width=s(ne),de.height=s(le),de;if(ee=-parseFloat(F[1]),V=-parseFloat(F[2]),Z=parseFloat(F[3]),ae=parseFloat(F[4]),de.minX=ee,de.minY=V,de.viewBoxWidth=Z,de.viewBoxHeight=ae,ue?(de.width=Z,de.height=ae):(de.width=s(ne),de.height=s(le),D=de.width/Z,Q=de.height/ae),re=a.util.parsePreserveAspectRatioAttribute(re),re.alignX!=="none"&&(re.meetOrSlice==="meet"&&(Q=D=D>Q?Q:D),re.meetOrSlice==="slice"&&(Q=D=D>Q?D:Q),fe=de.width-Z*D,be=de.height-ae*D,re.alignX==="Mid"&&(fe/=2),re.alignY==="Mid"&&(be/=2),re.alignX==="Min"&&(fe=0),re.alignY==="Min"&&(be=0)),D===1&&Q===1&&ee===0&&V===0&&se===0&&J===0)return de;if((se||J)&&Y.parentNode.nodeName!=="#document"&&(pe=" translate("+s(se)+" "+s(J)+") "),H=pe+" matrix("+D+" 0 0 "+Q+" "+(ee*D+fe)+" "+(V*Q+be)+") ",Y.nodeName==="svg"){for(q=Y.ownerDocument.createElementNS(a.svgNS,"g");Y.firstChild;)q.appendChild(Y.firstChild);Y.appendChild(q)}else q=Y,q.removeAttribute("x"),q.removeAttribute("y"),H=q.getAttribute("transform")+H;return q.setAttribute("transform",H),de}function N(Y,F){for(;Y&&(Y=Y.parentNode);)if(Y.nodeName&&F.test(Y.nodeName.replace("svg:",""))&&!Y.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(Y,F,D,Q){if(Y){P(Y);var ee=a.Object.__uid++,V,Z,ae=z(Y),H=a.util.toArray(Y.getElementsByTagName("*"));if(ae.crossOrigin=Q&&Q.crossOrigin,ae.svgUid=ee,H.length===0&&a.isLikelyNode){H=Y.selectNodes('//*[name(.)!="svg"]');var q=[];for(V=0,Z=H.length;V<Z;V++)q[V]=H[V];H=q}var ne=H.filter(function(se){return z(se),a.svgValidTagNamesRegEx.test(se.nodeName.replace("svg:",""))&&!N(se,a.svgInvalidAncestorsRegEx)});if(!ne||ne&&!ne.length){F&&F([],{});return}var le={};H.filter(function(se){return se.nodeName.replace("svg:","")==="clipPath"}).forEach(function(se){var J=se.getAttribute("id");le[J]=a.util.toArray(se.getElementsByTagName("*")).filter(function(re){return a.svgValidTagNamesRegEx.test(re.nodeName.replace("svg:",""))})}),a.gradientDefs[ee]=a.getGradientDefs(Y),a.cssRules[ee]=a.getCSSRules(Y),a.clipPaths[ee]=le,a.parseElements(ne,function(se,J){F&&(F(se,ae,J,H),delete a.gradientDefs[ee],delete a.cssRules[ee],delete a.clipPaths[ee])},i(ae),D,Q)}};function W(Y,F){var D=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Q="xlink:href",ee=F.getAttribute(Q).slice(1),V=U(Y,ee);if(V&&V.getAttribute(Q)&&W(Y,V),D.forEach(function(ae){V&&!F.hasAttribute(ae)&&V.hasAttribute(ae)&&F.setAttribute(ae,V.getAttribute(ae))}),!F.children.length)for(var Z=V.cloneNode(!0);Z.firstChild;)F.appendChild(Z.firstChild);F.removeAttribute(Q)}var ie=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");t(a,{parseFontDeclaration:function(Y,F){var D=Y.match(ie);if(D){var Q=D[1],ee=D[3],V=D[4],Z=D[5],ae=D[6];Q&&(F.fontStyle=Q),ee&&(F.fontWeight=isNaN(parseFloat(ee))?ee:parseFloat(ee)),V&&(F.fontSize=s(V)),ae&&(F.fontFamily=ae),Z&&(F.lineHeight=Z==="normal"?1:Z)}},getGradientDefs:function(Y){var F=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],D=O(Y,F),Q,ee=0,V={};for(ee=D.length;ee--;)Q=D[ee],Q.getAttribute("xlink:href")&&W(Y,Q),V[Q.getAttribute("id")]=Q;return V},parseAttributes:function(Y,F,D){if(Y){var Q,ee={},V,Z;typeof D>"u"&&(D=Y.getAttribute("svgUid")),Y.parentNode&&a.svgValidParentsRegEx.test(Y.parentNode.nodeName)&&(ee=a.parseAttributes(Y.parentNode,F,D));var ae=F.reduce(function(re,oe){return Q=Y.getAttribute(oe),Q&&(re[oe]=Q),re},{}),H=t(B(Y,D),a.parseStyleAttribute(Y));ae=t(ae,H),H[S]&&Y.setAttribute(S,H[S]),V=Z=ee.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,ae[o]&&(ae[o]=V=s(ae[o],Z));var q,ne,le={};for(var se in ae)q=T(se),ne=E(q,ae[se],ee,V),le[q]=ne;le&&le.font&&a.parseFontDeclaration(le.font,le);var J=t(ee,le);return a.svgValidParentsRegEx.test(Y.nodeName)?J:M(J)}},parseElements:function(Y,F,D,Q,ee){new a.ElementsParser(Y,F,D,Q,ee).parse()},parseStyleAttribute:function(Y){var F={},D=Y.getAttribute("style");return D&&(typeof D=="string"?L(D,F):te(D,F)),F},parsePointsAttribute:function(Y){if(!Y)return null;Y=Y.replace(/,/g," ").trim(),Y=Y.split(/\s+/);var F=[],D,Q;for(D=0,Q=Y.length;D<Q;D+=2)F.push({x:parseFloat(Y[D]),y:parseFloat(Y[D+1])});return F},getCSSRules:function(Y){var F=Y.getElementsByTagName("style"),D,Q,ee={},V;for(D=0,Q=F.length;D<Q;D++){var Z=F[D].textContent;Z=Z.replace(/\/\*[\s\S]*?\*\//g,""),Z.trim()!==""&&(V=Z.split("}"),V=V.filter(function(ae){return ae.trim()}),V.forEach(function(ae){var H=ae.split("{"),q={},ne=H[1].trim(),le=ne.split(";").filter(function(oe){return oe.trim()});for(D=0,Q=le.length;D<Q;D++){var se=le[D].split(":"),J=se[0].trim(),re=se[1].trim();q[J]=re}ae=H[0].trim(),ae.split(",").forEach(function(oe){oe=oe.replace(/^svg/i,"").trim(),oe!==""&&(ee[oe]?a.util.object.extend(ee[oe],q):ee[oe]=a.util.object.clone(q))})}))}return ee},loadSVGFromURL:function(Y,F,D,Q){Y=Y.replace(/^\n\s*/,"").trim(),new a.util.request(Y,{method:"get",onComplete:ee});function ee(V){var Z=V.responseXML;if(!Z||!Z.documentElement)return F&&F(null),!1;a.parseSVGDocument(Z.documentElement,function(ae,H,q,ne){F&&F(ae,H,q,ne)},D,Q)}},loadSVGFromString:function(Y,F,D,Q){var ee=new a.window.DOMParser,V=ee.parseFromString(Y.trim(),"text/xml");a.parseSVGDocument(V.documentElement,function(Z,ae,H,q){F(Z,ae,H,q)},D,Q)}})}(r),n.ElementsParser=function(l,a,t,i,c,s){this.elements=l,this.callback=a,this.options=t,this.reviver=i,this.svgUid=t&&t.svgUid||0,this.parsingOptions=c,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},function(l){l.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},l.createObjects=function(){var a=this;this.elements.forEach(function(t,i){t.setAttribute("svgUid",a.svgUid),a.createObject(t,i)})},l.findTag=function(a){return n[n.util.string.capitalize(a.tagName.replace("svg:",""))]},l.createObject=function(a,t){var i=this.findTag(a);if(i&&i.fromElement)try{i.fromElement(a,this.createCallback(t,a),this.options)}catch(c){n.log(c)}else this.checkIfDone()},l.createCallback=function(a,t){var i=this;return function(c){var s;i.resolveGradient(c,t,"fill"),i.resolveGradient(c,t,"stroke"),c instanceof n.Image&&c._originalElement&&(s=c.parsePreserveAspectRatioAttribute(t)),c._removeTransformMatrix(s),i.resolveClipPath(c,t),i.reviver&&i.reviver(t,c),i.instances[a]=c,i.checkIfDone()}},l.extractPropertyDefinition=function(a,t,i){var c=a[t],s=this.regexUrl;if(s.test(c)){s.lastIndex=0;var e=s.exec(c)[1];return s.lastIndex=0,n[i][this.svgUid][e]}},l.resolveGradient=function(a,t,i){var c=this.extractPropertyDefinition(a,i,"gradientDefs");if(c){var s=t.getAttribute(i+"-opacity"),e=n.Gradient.fromElement(c,a,s,this.options);a.set(i,e)}},l.createClipPathCallback=function(a,t){return function(i){i._removeTransformMatrix(),i.fillRule=i.clipRule,t.push(i)}},l.resolveClipPath=function(a,t){var i=this.extractPropertyDefinition(a,"clipPath","clipPaths"),c,s,e,u,m,g;if(i){u=[],e=n.util.invertTransform(a.calcTransformMatrix());for(var y=i[0].parentNode,b=t;b.parentNode&&b.getAttribute("clip-path")!==a.clipPath;)b=b.parentNode;b.parentNode.appendChild(y);for(var v=0;v<i.length;v++)c=i[v],s=this.findTag(c),s.fromElement(c,this.createClipPathCallback(a,u),this.options);u.length===1?i=u[0]:i=new n.Group(u),m=n.util.multiplyTransformMatrices(e,i.calcTransformMatrix()),i.clipPath&&this.resolveClipPath(i,b);var g=n.util.qrDecompose(m);i.flipX=!1,i.flipY=!1,i.set("scaleX",g.scaleX),i.set("scaleY",g.scaleY),i.angle=g.angle,i.skewX=g.skewX,i.skewY=0,i.setPositionByOrigin({x:g.translateX,y:g.translateY},"center","center"),a.clipPath=i}else delete a.clipPath},l.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}}(n.ElementsParser.prototype),function(l){var a=l.fabric||(l.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=t;function t(i,c){this.x=i,this.y=c}t.prototype={type:"point",constructor:t,add:function(i){return new t(this.x+i.x,this.y+i.y)},addEquals:function(i){return this.x+=i.x,this.y+=i.y,this},scalarAdd:function(i){return new t(this.x+i,this.y+i)},scalarAddEquals:function(i){return this.x+=i,this.y+=i,this},subtract:function(i){return new t(this.x-i.x,this.y-i.y)},subtractEquals:function(i){return this.x-=i.x,this.y-=i.y,this},scalarSubtract:function(i){return new t(this.x-i,this.y-i)},scalarSubtractEquals:function(i){return this.x-=i,this.y-=i,this},multiply:function(i){return new t(this.x*i,this.y*i)},multiplyEquals:function(i){return this.x*=i,this.y*=i,this},divide:function(i){return new t(this.x/i,this.y/i)},divideEquals:function(i){return this.x/=i,this.y/=i,this},eq:function(i){return this.x===i.x&&this.y===i.y},lt:function(i){return this.x<i.x&&this.y<i.y},lte:function(i){return this.x<=i.x&&this.y<=i.y},gt:function(i){return this.x>i.x&&this.y>i.y},gte:function(i){return this.x>=i.x&&this.y>=i.y},lerp:function(i,c){return typeof c>"u"&&(c=.5),c=Math.max(Math.min(1,c),0),new t(this.x+(i.x-this.x)*c,this.y+(i.y-this.y)*c)},distanceFrom:function(i){var c=this.x-i.x,s=this.y-i.y;return Math.sqrt(c*c+s*s)},midPointFrom:function(i){return this.lerp(i)},min:function(i){return new t(Math.min(this.x,i.x),Math.min(this.y,i.y))},max:function(i){return new t(Math.max(this.x,i.x),Math.max(this.y,i.y))},toString:function(){return this.x+","+this.y},setXY:function(i,c){return this.x=i,this.y=c,this},setX:function(i){return this.x=i,this},setY:function(i){return this.y=i,this},setFromPoint:function(i){return this.x=i.x,this.y=i.y,this},swap:function(i){var c=this.x,s=this.y;this.x=i.x,this.y=i.y,i.x=c,i.y=s},clone:function(){return new t(this.x,this.y)}}}(r),function(l){var a=l.fabric||(l.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function t(i){this.status=i,this.points=[]}a.Intersection=t,a.Intersection.prototype={constructor:t,appendPoint:function(i){return this.points.push(i),this},appendPoints:function(i){return this.points=this.points.concat(i),this}},a.Intersection.intersectLineLine=function(i,c,s,e){var u,m=(e.x-s.x)*(i.y-s.y)-(e.y-s.y)*(i.x-s.x),g=(c.x-i.x)*(i.y-s.y)-(c.y-i.y)*(i.x-s.x),y=(e.y-s.y)*(c.x-i.x)-(e.x-s.x)*(c.y-i.y);if(y!==0){var b=m/y,v=g/y;0<=b&&b<=1&&0<=v&&v<=1?(u=new t("Intersection"),u.appendPoint(new a.Point(i.x+b*(c.x-i.x),i.y+b*(c.y-i.y)))):u=new t}else m===0||g===0?u=new t("Coincident"):u=new t("Parallel");return u},a.Intersection.intersectLinePolygon=function(i,c,s){var e=new t,u=s.length,m,g,y,b;for(b=0;b<u;b++)m=s[b],g=s[(b+1)%u],y=t.intersectLineLine(i,c,m,g),e.appendPoints(y.points);return e.points.length>0&&(e.status="Intersection"),e},a.Intersection.intersectPolygonPolygon=function(i,c){var s=new t,e=i.length,u;for(u=0;u<e;u++){var m=i[u],g=i[(u+1)%e],y=t.intersectLinePolygon(m,g,c);s.appendPoints(y.points)}return s.points.length>0&&(s.status="Intersection"),s},a.Intersection.intersectPolygonRectangle=function(i,c,s){var e=c.min(s),u=c.max(s),m=new a.Point(u.x,e.y),g=new a.Point(e.x,u.y),y=t.intersectLinePolygon(e,m,i),b=t.intersectLinePolygon(m,u,i),v=t.intersectLinePolygon(u,g,i),o=t.intersectLinePolygon(g,e,i),S=new t;return S.appendPoints(y.points),S.appendPoints(b.points),S.appendPoints(v.points),S.appendPoints(o.points),S.points.length>0&&(S.status="Intersection"),S}}(r),function(l){var a=l.fabric||(l.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function t(c){c?this._tryParsingColor(c):this.setSource([0,0,0,1])}a.Color=t,a.Color.prototype={_tryParsingColor:function(c){var s;c in t.colorNameMap&&(c=t.colorNameMap[c]),c==="transparent"&&(s=[255,255,255,0]),s||(s=t.sourceFromHex(c)),s||(s=t.sourceFromRgb(c)),s||(s=t.sourceFromHsl(c)),s||(s=[0,0,0,1]),s&&this.setSource(s)},_rgbToHsl:function(c,s,e){c/=255,s/=255,e/=255;var u,m,g,y=a.util.array.max([c,s,e]),b=a.util.array.min([c,s,e]);if(g=(y+b)/2,y===b)u=m=0;else{var v=y-b;switch(m=g>.5?v/(2-y-b):v/(y+b),y){case c:u=(s-e)/v+(s<e?6:0);break;case s:u=(e-c)/v+2;break;case e:u=(c-s)/v+4;break}u/=6}return[Math.round(u*360),Math.round(m*100),Math.round(g*100)]},getSource:function(){return this._source},setSource:function(c){this._source=c},toRgb:function(){var c=this.getSource();return"rgb("+c[0]+","+c[1]+","+c[2]+")"},toRgba:function(){var c=this.getSource();return"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+")"},toHsl:function(){var c=this.getSource(),s=this._rgbToHsl(c[0],c[1],c[2]);return"hsl("+s[0]+","+s[1]+"%,"+s[2]+"%)"},toHsla:function(){var c=this.getSource(),s=this._rgbToHsl(c[0],c[1],c[2]);return"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+c[3]+")"},toHex:function(){var c=this.getSource(),s,e,u;return s=c[0].toString(16),s=s.length===1?"0"+s:s,e=c[1].toString(16),e=e.length===1?"0"+e:e,u=c[2].toString(16),u=u.length===1?"0"+u:u,s.toUpperCase()+e.toUpperCase()+u.toUpperCase()},toHexa:function(){var c=this.getSource(),s;return s=Math.round(c[3]*255),s=s.toString(16),s=s.length===1?"0"+s:s,this.toHex()+s.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(c){var s=this.getSource();return s[3]=c,this.setSource(s),this},toGrayscale:function(){var c=this.getSource(),s=parseInt((c[0]*.3+c[1]*.59+c[2]*.11).toFixed(0),10),e=c[3];return this.setSource([s,s,s,e]),this},toBlackWhite:function(c){var s=this.getSource(),e=(s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),u=s[3];return c=c||127,e=Number(e)<Number(c)?0:255,this.setSource([e,e,e,u]),this},overlayWith:function(c){c instanceof t||(c=new t(c));var s=[],e=this.getAlpha(),u=.5,m=this.getSource(),g=c.getSource(),y;for(y=0;y<3;y++)s.push(Math.round(m[y]*(1-u)+g[y]*u));return s[3]=e,this.setSource(s),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function i(c,s,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?c+(s-c)*6*e:e<1/2?s:e<2/3?c+(s-c)*(2/3-e)*6:c}a.Color.fromRgb=function(c){return t.fromSource(t.sourceFromRgb(c))},a.Color.sourceFromRgb=function(c){var s=c.match(t.reRGBa);if(s){var e=parseInt(s[1],10)/(/%$/.test(s[1])?100:1)*(/%$/.test(s[1])?255:1),u=parseInt(s[2],10)/(/%$/.test(s[2])?100:1)*(/%$/.test(s[2])?255:1),m=parseInt(s[3],10)/(/%$/.test(s[3])?100:1)*(/%$/.test(s[3])?255:1);return[parseInt(e,10),parseInt(u,10),parseInt(m,10),s[4]?parseFloat(s[4]):1]}},a.Color.fromRgba=t.fromRgb,a.Color.fromHsl=function(c){return t.fromSource(t.sourceFromHsl(c))},a.Color.sourceFromHsl=function(c){var s=c.match(t.reHSLa);if(s){var e=(parseFloat(s[1])%360+360)%360/360,u=parseFloat(s[2])/(/%$/.test(s[2])?100:1),m=parseFloat(s[3])/(/%$/.test(s[3])?100:1),g,y,b;if(u===0)g=y=b=m;else{var v=m<=.5?m*(u+1):m+u-m*u,o=m*2-v;g=i(o,v,e+1/3),y=i(o,v,e),b=i(o,v,e-1/3)}return[Math.round(g*255),Math.round(y*255),Math.round(b*255),s[4]?parseFloat(s[4]):1]}},a.Color.fromHsla=t.fromHsl,a.Color.fromHex=function(c){return t.fromSource(t.sourceFromHex(c))},a.Color.sourceFromHex=function(c){if(c.match(t.reHex)){var s=c.slice(c.indexOf("#")+1),e=s.length===3||s.length===4,u=s.length===8||s.length===4,m=e?s.charAt(0)+s.charAt(0):s.substring(0,2),g=e?s.charAt(1)+s.charAt(1):s.substring(2,4),y=e?s.charAt(2)+s.charAt(2):s.substring(4,6),b=u?e?s.charAt(3)+s.charAt(3):s.substring(6,8):"FF";return[parseInt(m,16),parseInt(g,16),parseInt(y,16),parseFloat((parseInt(b,16)/255).toFixed(2))]}},a.Color.fromSource=function(c){var s=new t;return s.setSource(c),s}}(r),function(l){var a=l.fabric||(l.fabric={}),t=["e","se","s","sw","w","nw","n","ne","e"],i=["ns","nesw","ew","nwse"],c={},s="left",e="top",u="right",m="bottom",g="center",y={top:m,bottom:e,left:u,right:s,center:g},b=a.util.radiansToDegrees,v=Math.sign||function(q){return(q>0)-(q<0)||+q};function o(q,ne){var le=q.angle+b(Math.atan2(ne.y,ne.x))+360;return Math.round(le%360/45)}function S(q,ne){var le=ne.transform.target,se=le.canvas,J=a.util.object.clone(ne);J.target=le,se&&se.fire("object:"+q,J),le.fire(q,ne)}function T(q,ne){var le=ne.canvas,se=le.uniScaleKey,J=q[se];return le.uniformScaling&&!J||!le.uniformScaling&&J}function E(q){return q.originX===g&&q.originY===g}function k(q,ne,le){var se=q.lockScalingX,J=q.lockScalingY;return!!(se&&J||!ne&&(se||J)&&le||se&&ne==="x"||J&&ne==="y")}function M(q,ne,le){var se="not-allowed",J=T(q,le),re="";if(ne.x!==0&&ne.y===0?re="x":ne.x===0&&ne.y!==0&&(re="y"),k(le,re,J))return se;var oe=o(le,ne);return t[oe]+"-resize"}function O(q,ne,le){var se="not-allowed";if(ne.x!==0&&le.lockSkewingY||ne.y!==0&&le.lockSkewingX)return se;var J=o(le,ne)%4;return i[J]+"-resize"}function L(q,ne,le){return q[le.canvas.altActionKey]?c.skewCursorStyleHandler(q,ne,le):c.scaleCursorStyleHandler(q,ne,le)}function te(q,ne,le){var se=q[le.canvas.altActionKey];if(ne.x===0)return se?"skewX":"scaleY";if(ne.y===0)return se?"skewY":"scaleX"}function B(q,ne,le){return le.lockRotation?"not-allowed":ne.cursorStyle}function G(q,ne,le,se){return{e:q,transform:ne,pointer:{x:le,y:se}}}function R(q){return function(ne,le,se,J){var re=le.target,oe=re.getCenterPoint(),ue=re.translateToOriginPoint(oe,le.originX,le.originY),he=q(ne,le,se,J);return re.setPositionByOrigin(ue,le.originX,le.originY),he}}function I(q,ne){return function(le,se,J,re){var oe=ne(le,se,J,re);return oe&&S(q,G(le,se,J,re)),oe}}function U(q,ne,le,se,J){var re=q.target,oe=re.controls[q.corner],ue=re.canvas.getZoom(),he=re.padding/ue,de=re.toLocalPoint(new a.Point(se,J),ne,le);return de.x>=he&&(de.x-=he),de.x<=-he&&(de.x+=he),de.y>=he&&(de.y-=he),de.y<=he&&(de.y+=he),de.x-=oe.offsetX,de.y-=oe.offsetY,de}function P(q){return q.flipX!==q.flipY}function A(q,ne,le,se,J){if(q[ne]!==0){var re=q._getTransformedDimensions()[se],oe=J/re*q[le];q.set(le,oe)}}function z(q,ne,le,se){var J=ne.target,re=J._getTransformedDimensions(0,J.skewY),oe=U(ne,ne.originX,ne.originY,le,se),ue=Math.abs(oe.x*2)-re.x,he=J.skewX,de;ue<2?de=0:(de=b(Math.atan2(ue/J.scaleX,re.y/J.scaleY)),ne.originX===s&&ne.originY===m&&(de=-de),ne.originX===u&&ne.originY===e&&(de=-de),P(J)&&(de=-de));var pe=he!==de;if(pe){var fe=J._getTransformedDimensions().y;J.set("skewX",de),A(J,"skewY","scaleY","y",fe)}return pe}function N(q,ne,le,se){var J=ne.target,re=J._getTransformedDimensions(J.skewX,0),oe=U(ne,ne.originX,ne.originY,le,se),ue=Math.abs(oe.y*2)-re.y,he=J.skewY,de;ue<2?de=0:(de=b(Math.atan2(ue/J.scaleY,re.x/J.scaleX)),ne.originX===s&&ne.originY===m&&(de=-de),ne.originX===u&&ne.originY===e&&(de=-de),P(J)&&(de=-de));var pe=he!==de;if(pe){var fe=J._getTransformedDimensions().x;J.set("skewY",de),A(J,"skewX","scaleX","x",fe)}return pe}function W(q,ne,le,se){var J=ne.target,re=J.skewX,oe,ue=ne.originY;if(J.lockSkewingX)return!1;if(re===0){var he=U(ne,g,g,le,se);he.x>0?oe=s:oe=u}else re>0&&(oe=ue===e?s:u),re<0&&(oe=ue===e?u:s),P(J)&&(oe=oe===s?u:s);ne.originX=oe;var de=I("skewing",R(z));return de(q,ne,le,se)}function ie(q,ne,le,se){var J=ne.target,re=J.skewY,oe,ue=ne.originX;if(J.lockSkewingY)return!1;if(re===0){var he=U(ne,g,g,le,se);he.y>0?oe=e:oe=m}else re>0&&(oe=ue===s?e:m),re<0&&(oe=ue===s?m:e),P(J)&&(oe=oe===e?m:e);ne.originY=oe;var de=I("skewing",R(N));return de(q,ne,le,se)}function Y(q,ne,le,se){var J=ne,re=J.target,oe=re.translateToOriginPoint(re.getCenterPoint(),J.originX,J.originY);if(re.lockRotation)return!1;var ue=Math.atan2(J.ey-oe.y,J.ex-oe.x),he=Math.atan2(se-oe.y,le-oe.x),de=b(he-ue+J.theta),pe=!0;if(re.snapAngle>0){var fe=re.snapAngle,be=re.snapThreshold||fe,ge=Math.ceil(de/fe)*fe,Se=Math.floor(de/fe)*fe;Math.abs(de-Se)<be?de=Se:Math.abs(de-ge)<be&&(de=ge)}return de<0&&(de=360+de),de%=360,pe=re.angle!==de,re.angle=de,pe}function F(q,ne,le,se,J){J=J||{};var re=ne.target,oe=re.lockScalingX,ue=re.lockScalingY,he=J.by,de,pe,fe,be,ge=T(q,re),Se=k(re,he,ge),ve,we,Fe=ne.gestureScale;if(Se)return!1;if(Fe)pe=ne.scaleX*Fe,fe=ne.scaleY*Fe;else{if(de=U(ne,ne.originX,ne.originY,le,se),ve=he!=="y"?v(de.x):1,we=he!=="x"?v(de.y):1,ne.signX||(ne.signX=ve),ne.signY||(ne.signY=we),re.lockScalingFlip&&(ne.signX!==ve||ne.signY!==we))return!1;if(be=re._getTransformedDimensions(),ge&&!he){var Ce=Math.abs(de.x)+Math.abs(de.y),ye=ne.original,ke=Math.abs(be.x*ye.scaleX/re.scaleX)+Math.abs(be.y*ye.scaleY/re.scaleY),De=Ce/ke;pe=ye.scaleX*De,fe=ye.scaleY*De}else pe=Math.abs(de.x*re.scaleX/be.x),fe=Math.abs(de.y*re.scaleY/be.y);E(ne)&&(pe*=2,fe*=2),ne.signX!==ve&&he!=="y"&&(ne.originX=y[ne.originX],pe*=-1,ne.signX=ve),ne.signY!==we&&he!=="x"&&(ne.originY=y[ne.originY],fe*=-1,ne.signY=we)}var Ie=re.scaleX,Me=re.scaleY;return he?(he==="x"&&re.set("scaleX",pe),he==="y"&&re.set("scaleY",fe)):(!oe&&re.set("scaleX",pe),!ue&&re.set("scaleY",fe)),Ie!==re.scaleX||Me!==re.scaleY}function D(q,ne,le,se){return F(q,ne,le,se)}function Q(q,ne,le,se){return F(q,ne,le,se,{by:"x"})}function ee(q,ne,le,se){return F(q,ne,le,se,{by:"y"})}function V(q,ne,le,se){return q[ne.target.canvas.altActionKey]?c.skewHandlerX(q,ne,le,se):c.scalingY(q,ne,le,se)}function Z(q,ne,le,se){return q[ne.target.canvas.altActionKey]?c.skewHandlerY(q,ne,le,se):c.scalingX(q,ne,le,se)}function ae(q,ne,le,se){var J=ne.target,re=U(ne,ne.originX,ne.originY,le,se),oe=J.strokeWidth/(J.strokeUniform?J.scaleX:1),ue=E(ne)?2:1,he=J.width,de=Math.abs(re.x*ue/J.scaleX)-oe;return J.set("width",Math.max(de,0)),he!==de}function H(q,ne,le,se){var J=ne.target,re=le-ne.offsetX,oe=se-ne.offsetY,ue=!J.get("lockMovementX")&&J.left!==re,he=!J.get("lockMovementY")&&J.top!==oe;return ue&&J.set("left",re),he&&J.set("top",oe),(ue||he)&&S("moving",G(q,ne,le,se)),ue||he}c.scaleCursorStyleHandler=M,c.skewCursorStyleHandler=O,c.scaleSkewCursorStyleHandler=L,c.rotationWithSnapping=I("rotating",R(Y)),c.scalingEqually=I("scaling",R(D)),c.scalingX=I("scaling",R(Q)),c.scalingY=I("scaling",R(ee)),c.scalingYOrSkewingX=V,c.scalingXOrSkewingY=Z,c.changeWidth=I("resizing",R(ae)),c.skewHandlerX=W,c.skewHandlerY=ie,c.dragHandler=H,c.scaleOrSkewActionName=te,c.rotationStyleHandler=B,c.fireEvent=S,c.wrapWithFixedAnchor=R,c.wrapWithFireEvent=I,c.getLocalPoint=U,a.controlsUtils=c}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.degreesToRadians,i=a.controlsUtils;function c(e,u,m,g,y){g=g||{};var b=this.sizeX||g.cornerSize||y.cornerSize,v=this.sizeY||g.cornerSize||y.cornerSize,o=typeof g.transparentCorners<"u"?g.transparentCorners:y.transparentCorners,S=o?"stroke":"fill",T=!o&&(g.cornerStrokeColor||y.cornerStrokeColor),E=u,k=m,M;e.save(),e.fillStyle=g.cornerColor||y.cornerColor,e.strokeStyle=g.cornerStrokeColor||y.cornerStrokeColor,b>v?(M=b,e.scale(1,v/b),k=m*b/v):v>b?(M=v,e.scale(b/v,1),E=u*v/b):M=b,e.lineWidth=1,e.beginPath(),e.arc(E,k,M/2,0,2*Math.PI,!1),e[S](),T&&e.stroke(),e.restore()}function s(e,u,m,g,y){g=g||{};var b=this.sizeX||g.cornerSize||y.cornerSize,v=this.sizeY||g.cornerSize||y.cornerSize,o=typeof g.transparentCorners<"u"?g.transparentCorners:y.transparentCorners,S=o?"stroke":"fill",T=!o&&(g.cornerStrokeColor||y.cornerStrokeColor),E=b/2,k=v/2;e.save(),e.fillStyle=g.cornerColor||y.cornerColor,e.strokeStyle=g.cornerStrokeColor||y.cornerStrokeColor,e.lineWidth=1,e.translate(u,m),e.rotate(t(y.angle)),e[S+"Rect"](-E,-k,b,v),T&&e.strokeRect(-E,-k,b,v),e.restore()}i.renderCircleControl=c,i.renderSquareControl=s}(r),function(l){var a=l.fabric||(l.fabric={});function t(i){for(var c in i)this[c]=i[c]}a.Control=t,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(i,c){return c.cursorStyle},getActionName:function(i,c){return c.actionName},getVisibility:function(i,c){var s=i._controlsVisibility;return s&&typeof s[c]<"u"?s[c]:this.visible},setVisibility:function(i){this.visible=i},positionHandler:function(i,c){var s=a.util.transformPoint({x:this.x*i.x+this.offsetX,y:this.y*i.y+this.offsetY},c);return s},calcCornerCoords:function(i,c,s,e,u){var m,g,y,b,v=u?this.touchSizeX:this.sizeX,o=u?this.touchSizeY:this.sizeY;if(v&&o&&v!==o){var S=Math.atan2(o,v),T=Math.sqrt(v*v+o*o)/2,E=S-a.util.degreesToRadians(i),k=Math.PI/2-S-a.util.degreesToRadians(i);m=T*a.util.cos(E),g=T*a.util.sin(E),y=T*a.util.cos(k),b=T*a.util.sin(k)}else{var M=v&&o?v:c;T=M*.7071067812;var E=a.util.degreesToRadians(45-i);m=y=T*a.util.cos(E),g=b=T*a.util.sin(E)}return{tl:{x:s-b,y:e-y},tr:{x:s+m,y:e-g},bl:{x:s-m,y:e+g},br:{x:s+b,y:e+y}}},render:function(i,c,s,e,u){switch(e=e||{},e.cornerStyle||u.cornerStyle){case"circle":a.controlsUtils.renderCircleControl.call(this,i,c,s,e,u);break;default:a.controlsUtils.renderSquareControl.call(this,i,c,s,e,u)}}}}(r),function(){function l(s,e){var u=s.getAttribute("style"),m=s.getAttribute("offset")||0,g,y,b,v;if(m=parseFloat(m)/(/%$/.test(m)?100:1),m=m<0?0:m>1?1:m,u){var o=u.split(/\s*;\s*/);for(o[o.length-1]===""&&o.pop(),v=o.length;v--;){var S=o[v].split(/\s*:\s*/),T=S[0].trim(),E=S[1].trim();T==="stop-color"?g=E:T==="stop-opacity"&&(b=E)}}return g||(g=s.getAttribute("stop-color")||"rgb(0,0,0)"),b||(b=s.getAttribute("stop-opacity")),g=new n.Color(g),y=g.getAlpha(),b=isNaN(parseFloat(b))?1:parseFloat(b),b*=y*e,{offset:m,color:g.toRgb(),opacity:b}}function a(s){return{x1:s.getAttribute("x1")||0,y1:s.getAttribute("y1")||0,x2:s.getAttribute("x2")||"100%",y2:s.getAttribute("y2")||0}}function t(s){return{x1:s.getAttribute("fx")||s.getAttribute("cx")||"50%",y1:s.getAttribute("fy")||s.getAttribute("cy")||"50%",r1:0,x2:s.getAttribute("cx")||"50%",y2:s.getAttribute("cy")||"50%",r2:s.getAttribute("r")||"50%"}}var i=n.util.object.clone;n.Gradient=n.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(s){s||(s={}),s.coords||(s.coords={});var e,u=this;Object.keys(s).forEach(function(m){u[m]=s[m]}),this.id?this.id+="_"+n.Object.__uid++:this.id=n.Object.__uid++,e={x1:s.coords.x1||0,y1:s.coords.y1||0,x2:s.coords.x2||0,y2:s.coords.y2||0},this.type==="radial"&&(e.r1=s.coords.r1||0,e.r2=s.coords.r2||0),this.coords=e,this.colorStops=s.colorStops.slice()},addColorStop:function(s){for(var e in s){var u=new n.Color(s[e]);this.colorStops.push({offset:parseFloat(e),color:u.toRgb(),opacity:u.getAlpha()})}return this},toObject:function(s){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return n.util.populateWithProperties(this,e,s),e},toSVG:function(s,y){var u=i(this.coords,!0),m,g,y=y||{},b,v,o=i(this.colorStops,!0),S=u.r1>u.r2,T=this.gradientTransform?this.gradientTransform.concat():n.iMatrix.concat(),E=-this.offsetX,k=-this.offsetY,M=!!y.additionalTransform,O=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(o.sort(function(R,I){return R.offset-I.offset}),O==="objectBoundingBox"?(E/=s.width,k/=s.height):(E+=s.width/2,k+=s.height/2),s.type==="path"&&this.gradientUnits!=="percentage"&&(E-=s.pathOffset.x,k-=s.pathOffset.y),T[4]-=E,T[5]-=k,v='id="SVGID_'+this.id+'" gradientUnits="'+O+'"',v+=' gradientTransform="'+(M?y.additionalTransform+" ":"")+n.util.matrixToSVG(T)+'" ',this.type==="linear"?b=["<linearGradient ",v,' x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`">
`]:this.type==="radial"&&(b=["<radialGradient ",v,' cx="',S?u.x1:u.x2,'" cy="',S?u.y1:u.y2,'" r="',S?u.r1:u.r2,'" fx="',S?u.x2:u.x1,'" fy="',S?u.y2:u.y1,`">
`]),this.type==="radial"){if(S)for(o=o.concat(),o.reverse(),m=0,g=o.length;m<g;m++)o[m].offset=1-o[m].offset;var L=Math.min(u.r1,u.r2);if(L>0){var te=Math.max(u.r1,u.r2),B=L/te;for(m=0,g=o.length;m<g;m++)o[m].offset+=B*(1-o[m].offset)}}for(m=0,g=o.length;m<g;m++){var G=o[m];b.push("<stop ",'offset="',G.offset*100+"%",'" style="stop-color:',G.color,typeof G.opacity<"u"?";stop-opacity: "+G.opacity:";",`"/>
`)}return b.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),b.join("")},toLive:function(s){var e,u=n.util.object.clone(this.coords),m,g;if(this.type){for(this.type==="linear"?e=s.createLinearGradient(u.x1,u.y1,u.x2,u.y2):this.type==="radial"&&(e=s.createRadialGradient(u.x1,u.y1,u.r1,u.x2,u.y2,u.r2)),m=0,g=this.colorStops.length;m<g;m++){var y=this.colorStops[m].color,b=this.colorStops[m].opacity,v=this.colorStops[m].offset;typeof b<"u"&&(y=new n.Color(y).setAlpha(b).toRgba()),e.addColorStop(v,y)}return e}}}),n.util.object.extend(n.Gradient,{fromElement:function(s,e,u,m){var g=parseFloat(u)/(/%$/.test(u)?100:1);g=g<0?0:g>1?1:g,isNaN(g)&&(g=1);var y=s.getElementsByTagName("stop"),b,v=s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",o=s.getAttribute("gradientTransform")||"",S=[],T,E,k=0,M=0,O;for(s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?(b="linear",T=a(s)):(b="radial",T=t(s)),E=y.length;E--;)S.push(l(y[E],g));O=n.parseTransformAttribute(o),c(e,T,m,v),v==="pixels"&&(k=-e.left,M=-e.top);var L=new n.Gradient({id:s.getAttribute("id"),type:b,coords:T,colorStops:S,gradientUnits:v,gradientTransform:O,offsetX:k,offsetY:M});return L}});function c(s,e,u,m){var g,y;Object.keys(e).forEach(function(b){g=e[b],g==="Infinity"?y=1:g==="-Infinity"?y=0:(y=parseFloat(e[b],10),typeof g=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(g)&&(y*=.01,m==="pixels"&&((b==="x1"||b==="x2"||b==="r2")&&(y*=u.viewBoxWidth||u.width),(b==="y1"||b==="y2")&&(y*=u.viewBoxHeight||u.height)))),e[b]=y})}}(),function(){var l=n.util.toFixed;n.Pattern=n.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(a,t){if(a||(a={}),this.id=n.Object.__uid++,this.setOptions(a),!a.source||a.source&&typeof a.source!="string"){t&&t(this);return}else{var i=this;this.source=n.util.createImage(),n.util.loadImage(a.source,function(c,s){i.source=c,t&&t(i,s)},null,this.crossOrigin)}},toObject:function(a){var t=n.Object.NUM_FRACTION_DIGITS,i,c;return typeof this.source.src=="string"?i=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(i=this.source.toDataURL()),c={type:"pattern",source:i,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:l(this.offsetX,t),offsetY:l(this.offsetY,t),patternTransform:this.patternTransform?this.patternTransform.concat():null},n.util.populateWithProperties(this,c,a),c},toSVG:function(a){var t=typeof this.source=="function"?this.source():this.source,i=t.width/a.width,c=t.height/a.height,s=this.offsetX/a.width,e=this.offsetY/a.height,u="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(c=1,e&&(c+=Math.abs(e))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(i=1,s&&(i+=Math.abs(s))),t.src?u=t.src:t.toDataURL&&(u=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+s+'" y="'+e+'" width="'+i+'" height="'+c+`">
<image x="0" y="0" width="`+t.width+'" height="'+t.height+'" xlink:href="'+u+`"></image>
</pattern>
`},setOptions:function(a){for(var t in a)this[t]=a[t]},toLive:function(a){var t=this.source;return!t||typeof t.src<"u"&&(!t.complete||t.naturalWidth===0||t.naturalHeight===0)?"":a.createPattern(t,this.repeat)}})}(),function(l){var a=l.fabric||(l.fabric={}),t=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(i){typeof i=="string"&&(i=this._parseShadow(i));for(var c in i)this[c]=i[c];this.id=a.Object.__uid++},_parseShadow:function(i){var c=i.trim(),s=a.Shadow.reOffsetsAndBlur.exec(c)||[],e=c.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:e.trim(),offsetX:parseFloat(s[1],10)||0,offsetY:parseFloat(s[2],10)||0,blur:parseFloat(s[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(i){var c=40,s=40,e=a.Object.NUM_FRACTION_DIGITS,u=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-i.angle)),m=20,g=new a.Color(this.color);return i.width&&i.height&&(c=t((Math.abs(u.x)+this.blur)/i.width,e)*100+m,s=t((Math.abs(u.y)+this.blur)/i.height,e)*100+m),i.flipX&&(u.x*=-1),i.flipY&&(u.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+s+'%" height="'+(100+2*s)+'%" x="-'+c+'%" width="'+(100+2*c)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+t(this.blur?this.blur/2:0,e)+`"></feGaussianBlur>
	<feOffset dx="`+t(u.x,e)+'" dy="'+t(u.y,e)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+g.toRgb()+'" flood-opacity="'+g.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var i={},c=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(s){this[s]!==c[s]&&(i[s]=this[s])},this),i}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(r),function(){if(n.StaticCanvas){n.warn("fabric.StaticCanvas is already defined.");return}var l=n.util.object.extend,a=n.util.getElementOffset,t=n.util.removeFromArray,i=n.util.toFixed,c=n.util.transformPoint,s=n.util.invertTransform,e=n.util.getNodeCanvas,u=n.util.createCanvasElement,m=new Error("Could not initialize `canvas` element");n.StaticCanvas=n.util.createClass(n.CommonMethods,{initialize:function(g,y){y||(y={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(g,y)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:n.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(g,y){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(g),this._initOptions(y),this.interactive||this._initRetinaScaling(),y.overlayImage&&this.setOverlayImage(y.overlayImage,b),y.backgroundImage&&this.setBackgroundImage(y.backgroundImage,b),y.backgroundColor&&this.setBackgroundColor(y.backgroundColor,b),y.overlayColor&&this.setOverlayColor(y.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return n.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,n.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var g=n.devicePixelRatio;this.__initRetinaScaling(g,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(g,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(g,y,b){y.setAttribute("width",this.width*g),y.setAttribute("height",this.height*g),b.scale(g,g)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(g,y,b){return this.__setBgOverlayImage("overlayImage",g,y,b)},setBackgroundImage:function(g,y,b){return this.__setBgOverlayImage("backgroundImage",g,y,b)},setOverlayColor:function(g,y){return this.__setBgOverlayColor("overlayColor",g,y)},setBackgroundColor:function(g,y){return this.__setBgOverlayColor("backgroundColor",g,y)},__setBgOverlayImage:function(g,y,b,v){return typeof y=="string"?n.util.loadImage(y,function(o,S){if(o){var T=new n.Image(o,v);this[g]=T,T.canvas=this}b&&b(o,S)},this,v&&v.crossOrigin):(v&&y.setOptions(v),this[g]=y,y&&(y.canvas=this),b&&b(y,!1)),this},__setBgOverlayColor:function(g,y,b){return this[g]=y,this._initGradient(y,g),this._initPattern(y,g,b),this},_createCanvasElement:function(){var g=u();if(!g||(g.style||(g.style={}),typeof g.getContext>"u"))throw m;return g},_initOptions:function(g){var y=this.lowerCanvasEl;this._setOptions(g),this.width=this.width||parseInt(y.width,10)||0,this.height=this.height||parseInt(y.height,10)||0,this.lowerCanvasEl.style&&(y.width=this.width,y.height=this.height,y.style.width=this.width+"px",y.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(g){g&&g.getContext?this.lowerCanvasEl=g:this.lowerCanvasEl=n.util.getById(g)||this._createCanvasElement(),n.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(g,y){return this.setDimensions({width:g},y)},setHeight:function(g,y){return this.setDimensions({height:g},y)},setDimensions:function(g,y){var b;y=y||{};for(var v in g)b=g[v],y.cssOnly||(this._setBackstoreDimension(v,g[v]),b+="px",this.hasLostContext=!0),y.backstoreOnly||this._setCssDimension(v,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),y.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(g,y){return this.lowerCanvasEl[g]=y,this.upperCanvasEl&&(this.upperCanvasEl[g]=y),this.cacheCanvasEl&&(this.cacheCanvasEl[g]=y),this[g]=y,this},_setCssDimension:function(g,y){return this.lowerCanvasEl.style[g]=y,this.upperCanvasEl&&(this.upperCanvasEl.style[g]=y),this.wrapperEl&&(this.wrapperEl.style[g]=y),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(g){var y=this._activeObject,b=this.backgroundImage,v=this.overlayImage,o,S,T;for(this.viewportTransform=g,S=0,T=this._objects.length;S<T;S++)o=this._objects[S],o.group||o.setCoords(!0);return y&&y.setCoords(),b&&b.setCoords(!0),v&&v.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(g,y){var b=g,v=this.viewportTransform.slice(0);g=c(g,s(this.viewportTransform)),v[0]=y,v[3]=y;var o=c(g,v);return v[4]+=b.x-o.x,v[5]+=b.y-o.y,this.setViewportTransform(v)},setZoom:function(g){return this.zoomToPoint(new n.Point(0,0),g),this},absolutePan:function(g){var y=this.viewportTransform.slice(0);return y[4]=-g.x,y[5]=-g.y,this.setViewportTransform(y)},relativePan:function(g){return this.absolutePan(new n.Point(-g.x-this.viewportTransform[4],-g.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(g){this.stateful&&g.setupState(),g._set("canvas",this),g.setCoords(),this.fire("object:added",{target:g}),g.fire("added")},_onObjectRemoved:function(g){this.fire("object:removed",{target:g}),g.fire("removed"),delete g.canvas},clearContext:function(g){return g.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var g=this.contextContainer;return this.renderCanvas(g,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=n.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var g={},y=this.width,b=this.height,v=s(this.viewportTransform);return g.tl=c({x:0,y:0},v),g.br=c({x:y,y:b},v),g.tr=new n.Point(g.br.x,g.tl.y),g.bl=new n.Point(g.tl.x,g.br.y),this.vptCoords=g,g},cancelRequestedRender:function(){this.isRendering&&(n.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(g,y){var b=this.viewportTransform,v=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(g),n.util.setImageSmoothing(g,this.imageSmoothingEnabled),this.fire("before:render",{ctx:g}),this._renderBackground(g),g.save(),g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(g,y),g.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),v&&(v.canvas=this,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(g)),this._renderOverlay(g),this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),this.fire("after:render",{ctx:g})},drawClipPathOnCanvas:function(g){var y=this.viewportTransform,b=this.clipPath;g.save(),g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),g.globalCompositeOperation="destination-in",b.transform(g),g.scale(1/b.zoomX,1/b.zoomY),g.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),g.restore()},_renderObjects:function(g,y){var b,v;for(b=0,v=y.length;b<v;++b)y[b]&&y[b].render(g)},_renderBackgroundOrOverlay:function(g,y){var b=this[y+"Color"],v=this[y+"Image"],o=this.viewportTransform,S=this[y+"Vpt"];if(!(!b&&!v)){if(b){g.save(),g.beginPath(),g.moveTo(0,0),g.lineTo(this.width,0),g.lineTo(this.width,this.height),g.lineTo(0,this.height),g.closePath(),g.fillStyle=b.toLive?b.toLive(g,this):b,S&&g.transform(o[0],o[1],o[2],o[3],o[4],o[5]),g.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var T=b.gradientTransform||b.patternTransform;T&&g.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g.fill(),g.restore()}v&&(g.save(),S&&g.transform(o[0],o[1],o[2],o[3],o[4],o[5]),v.render(g),g.restore())}},_renderBackground:function(g){this._renderBackgroundOrOverlay(g,"background")},_renderOverlay:function(g){this._renderBackgroundOrOverlay(g,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new n.Point(this.width/2,this.height/2)},centerObjectH:function(g){return this._centerObject(g,new n.Point(this.getCenterPoint().x,g.getCenterPoint().y))},centerObjectV:function(g){return this._centerObject(g,new n.Point(g.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(g){var y=this.getCenterPoint();return this._centerObject(g,y)},viewportCenterObject:function(g){var y=this.getVpCenter();return this._centerObject(g,y)},viewportCenterObjectH:function(g){var y=this.getVpCenter();return this._centerObject(g,new n.Point(y.x,g.getCenterPoint().y)),this},viewportCenterObjectV:function(g){var y=this.getVpCenter();return this._centerObject(g,new n.Point(g.getCenterPoint().x,y.y))},getVpCenter:function(){var g=this.getCenterPoint(),y=s(this.viewportTransform);return c(g,y)},_centerObject:function(g,y){return g.setPositionByOrigin(y,"center","center"),g.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(g){return this.toDatalessObject(g)},toObject:function(g){return this._toObjectMethod("toObject",g)},toDatalessObject:function(g){return this._toObjectMethod("toDatalessObject",g)},_toObjectMethod:function(g,y){var b=this.clipPath,v={version:n.version,objects:this._toObjects(g,y)};return b&&!b.excludeFromExport&&(v.clipPath=this._toObject(this.clipPath,g,y)),l(v,this.__serializeBgOverlay(g,y)),n.util.populateWithProperties(this,v,y),v},_toObjects:function(g,y){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,g,y)},this)},_toObject:function(g,y,b){var v;this.includeDefaultValues||(v=g.includeDefaultValues,g.includeDefaultValues=!1);var o=g[y](b);return this.includeDefaultValues||(g.includeDefaultValues=v),o},__serializeBgOverlay:function(g,y){var b={},v=this.backgroundImage,o=this.overlayImage,S=this.backgroundColor,T=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(b.background=S.toObject(y)):S&&(b.background=S),T&&T.toObject?T.excludeFromExport||(b.overlay=T.toObject(y)):T&&(b.overlay=T),v&&!v.excludeFromExport&&(b.backgroundImage=this._toObject(v,g,y)),o&&!o.excludeFromExport&&(b.overlayImage=this._toObject(o,g,y)),b},svgViewportTransformation:!0,toSVG:function(g,y){g||(g={}),g.reviver=y;var b=[];return this._setSVGPreamble(b,g),this._setSVGHeader(b,g),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",y),this._setSVGObjects(b,y),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",y),b.push("</svg>"),b.join("")},_setSVGPreamble:function(g,y){y.suppressPreamble||g.push('<?xml version="1.0" encoding="',y.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(g,y){var b=y.width||this.width,v=y.height||this.height,o,S='viewBox="0 0 '+this.width+" "+this.height+'" ',T=n.Object.NUM_FRACTION_DIGITS;y.viewBox?S='viewBox="'+y.viewBox.x+" "+y.viewBox.y+" "+y.viewBox.width+" "+y.viewBox.height+'" ':this.svgViewportTransformation&&(o=this.viewportTransform,S='viewBox="'+i(-o[4]/o[0],T)+" "+i(-o[5]/o[3],T)+" "+i(this.width/o[0],T)+" "+i(this.height/o[3],T)+'" '),g.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',v,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",n.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(y),`</defs>
`)},createSVGClipPathMarkup:function(g){var y=this.clipPath;return y?(y.clipPathId="CLIPPATH_"+n.Object.__uid++,'<clipPath id="'+y.clipPathId+`" >
`+this.clipPath.toClipPathSVG(g.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var g=this,y=["background","overlay"].map(function(b){var v=g[b+"Color"];if(v&&v.toLive){var o=g[b+"Vpt"],S=g.viewportTransform,T={width:g.width/(o?S[0]:1),height:g.height/(o?S[3]:1)};return v.toSVG(T,{additionalTransform:o?n.util.matrixToSVG(S):""})}});return y.join("")},createSVGFontFacesMarkup:function(){var g="",y={},b,v,o,S,T,E,k,M,O,L=n.fontPaths,te=[];for(this._objects.forEach(function G(R){te.push(R),R._objects&&R._objects.forEach(G)}),M=0,O=te.length;M<O;M++)if(b=te[M],v=b.fontFamily,!(b.type.indexOf("text")===-1||y[v]||!L[v])&&(y[v]=!0,!!b.styles)){o=b.styles;for(T in o){S=o[T];for(k in S)E=S[k],v=E.fontFamily,!y[v]&&L[v]&&(y[v]=!0)}}for(var B in y)g+=[`		@font-face {
`,"			font-family: '",B,`';
`,"			src: url('",L[B],`');
`,`		}
`].join("");return g&&(g=['	<style type="text/css">',`<![CDATA[
`,g,"]]>",`</style>
`].join("")),g},_setSVGObjects:function(g,y){var b,v,o,S=this._objects;for(v=0,o=S.length;v<o;v++)b=S[v],!b.excludeFromExport&&this._setSVGObject(g,b,y)},_setSVGObject:function(g,y,b){g.push(y.toSVG(b))},_setSVGBgOverlayImage:function(g,y,b){this[y]&&!this[y].excludeFromExport&&this[y].toSVG&&g.push(this[y].toSVG(b))},_setSVGBgOverlayColor:function(g,y){var b=this[y+"Color"],v=this.viewportTransform,o=this.width,S=this.height;if(b)if(b.toLive){var T=b.repeat,E=n.util.invertTransform(v),k=this[y+"Vpt"],M=k?n.util.matrixToSVG(E):"";g.push('<rect transform="'+M+" translate(",o/2,",",S/2,')"',' x="',b.offsetX-o/2,'" y="',b.offsetY-S/2,'" ','width="',T==="repeat-y"||T==="no-repeat"?b.source.width:o,'" height="',T==="repeat-x"||T==="no-repeat"?b.source.height:S,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else g.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(g){if(!g)return this;var y=this._activeObject,b,v,o;if(g===y&&g.type==="activeSelection")for(o=y._objects,b=o.length;b--;)v=o[b],t(this._objects,v),this._objects.unshift(v);else t(this._objects,g),this._objects.unshift(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(g){if(!g)return this;var y=this._activeObject,b,v,o;if(g===y&&g.type==="activeSelection")for(o=y._objects,b=0;b<o.length;b++)v=o[b],t(this._objects,v),this._objects.push(v);else t(this._objects,g),this._objects.push(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(g,y){if(!g)return this;var b=this._activeObject,v,o,S,T,E,k=0;if(g===b&&g.type==="activeSelection")for(E=b._objects,v=0;v<E.length;v++)o=E[v],S=this._objects.indexOf(o),S>0+k&&(T=S-1,t(this._objects,o),this._objects.splice(T,0,o)),k++;else S=this._objects.indexOf(g),S!==0&&(T=this._findNewLowerIndex(g,S,y),t(this._objects,g),this._objects.splice(T,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(g,y,b){var v,o;if(b)for(v=y,o=y-1;o>=0;--o){var S=g.intersectsWithObject(this._objects[o])||g.isContainedWithinObject(this._objects[o])||this._objects[o].isContainedWithinObject(g);if(S){v=o;break}}else v=y-1;return v},bringForward:function(g,y){if(!g)return this;var b=this._activeObject,v,o,S,T,E,k=0;if(g===b&&g.type==="activeSelection")for(E=b._objects,v=E.length;v--;)o=E[v],S=this._objects.indexOf(o),S<this._objects.length-1-k&&(T=S+1,t(this._objects,o),this._objects.splice(T,0,o)),k++;else S=this._objects.indexOf(g),S!==this._objects.length-1&&(T=this._findNewUpperIndex(g,S,y),t(this._objects,g),this._objects.splice(T,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(g,y,b){var v,o,S;if(b)for(v=y,o=y+1,S=this._objects.length;o<S;++o){var T=g.intersectsWithObject(this._objects[o])||g.isContainedWithinObject(this._objects[o])||this._objects[o].isContainedWithinObject(g);if(T){v=o;break}}else v=y+1;return v},moveTo:function(g,y){return t(this._objects,g),this._objects.splice(y,0,g),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(n.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(g){g.dispose&&g.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),n.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),n.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),l(n.StaticCanvas.prototype,n.Observable),l(n.StaticCanvas.prototype,n.Collection),l(n.StaticCanvas.prototype,n.DataURLExporter),l(n.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(g){var y=u();if(!y||!y.getContext)return null;var b=y.getContext("2d");if(!b)return null;switch(g){case"setLineDash":return typeof b.setLineDash<"u";default:return null}}}),n.StaticCanvas.prototype.toJSON=n.StaticCanvas.prototype.toObject,n.isLikelyNode&&(n.StaticCanvas.prototype.createPNGStream=function(){var g=e(this.lowerCanvasEl);return g&&g.createPNGStream()},n.StaticCanvas.prototype.createJPEGStream=function(g){var y=e(this.lowerCanvasEl);return y&&y.createJPEGStream(g)})}(),n.BaseBrush=n.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(l){l.strokeStyle=this.color,l.lineWidth=this.width,l.lineCap=this.strokeLineCap,l.miterLimit=this.strokeMiterLimit,l.lineJoin=this.strokeLineJoin,l.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(l){var a=this.canvas.viewportTransform;l.save(),l.transform(a[0],a[1],a[2],a[3],a[4],a[5])},_setShadow:function(){if(this.shadow){var l=this.canvas,a=this.shadow,t=l.contextTop,i=l.getZoom();l&&l._isRetinaScaling()&&(i*=n.devicePixelRatio),t.shadowColor=a.color,t.shadowBlur=a.blur*i,t.shadowOffsetX=a.offsetX*i,t.shadowOffsetY=a.offsetY*i}},needsFullRender:function(){var l=new n.Color(this.color);return l.getAlpha()<1||!!this.shadow},_resetShadow:function(){var l=this.canvas.contextTop;l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0},_isOutSideCanvas:function(l){return l.x<0||l.x>this.canvas.getWidth()||l.y<0||l.y>this.canvas.getHeight()}}),function(){n.PencilBrush=n.util.createClass(n.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(l){this.canvas=l,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(l,a,t){var i=a.midPointFrom(t);return l.quadraticCurveTo(a.x,a.y,i.x,i.y),i},onMouseDown:function(l,a){this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],this._prepareForDrawing(l),this._captureDrawingPath(l),this._render())},onMouseMove:function(l,a){if(this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l))&&this._captureDrawingPath(l)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var t=this._points,i=t.length,c=this.canvas.contextTop;this._saveAndTransform(c),this.oldEnd&&(c.beginPath(),c.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(c,t[i-2],t[i-1],!0),c.stroke(),c.restore()}},onMouseUp:function(l){return this.canvas._isMainEvent(l.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(l){var a=new n.Point(l.x,l.y);this._reset(),this._addPoint(a),this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(l){return this._points.length>1&&l.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(l),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(l){var a=new n.Point(l.x,l.y);return this._addPoint(a)},_render:function(l){var a,t,i=this._points[0],c=this._points[1];if(l=l||this.canvas.contextTop,this._saveAndTransform(l),l.beginPath(),this._points.length===2&&i.x===c.x&&i.y===c.y){var s=this.width/1e3;i=new n.Point(i.x,i.y),c=new n.Point(c.x,c.y),i.x-=s,c.x+=s}for(l.moveTo(i.x,i.y),a=1,t=this._points.length;a<t;a++)this._drawSegment(l,i,c),i=this._points[a],c=this._points[a+1];l.lineTo(i.x,i.y),l.stroke(),l.restore()},convertPointsToSVGPath:function(l){var a=this.width/1e3;return n.util.getSmoothPathFromPoints(l,a)},_isEmptySVGPath:function(l){var a=n.util.joinPath(l);return a==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(l){var a=new n.Path(l,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,a.shadow=new n.Shadow(this.shadow)),a},decimatePoints:function(l,a){if(l.length<=2)return l;var t=this.canvas.getZoom(),i=Math.pow(a/t,2),c,s=l.length-1,e=l[0],u=[e],m;for(c=1;c<s-1;c++)m=Math.pow(e.x-l[c].x,2)+Math.pow(e.y-l[c].y,2),m>=i&&(e=l[c],u.push(e));return u.push(l[s]),u},_finalizeAndAddPath:function(){var l=this.canvas.contextTop;l.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var a=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(a)){this.canvas.requestRenderAll();return}var t=this.createPath(a);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}})}(),n.CircleBrush=n.util.createClass(n.BaseBrush,{width:10,initialize:function(l){this.canvas=l,this.points=[]},drawDot:function(l){var a=this.addPoint(l),t=this.canvas.contextTop;this._saveAndTransform(t),this.dot(t,a),t.restore()},dot:function(l,a){l.fillStyle=a.fill,l.beginPath(),l.arc(a.x,a.y,a.radius,0,Math.PI*2,!1),l.closePath(),l.fill()},onMouseDown:function(l){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(l)},_render:function(){var l=this.canvas.contextTop,a,t,i=this.points;for(this._saveAndTransform(l),a=0,t=i.length;a<t;a++)this.dot(l,i[a]);l.restore()},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(l),this._render()):this.drawDot(l))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove,a,t;this.canvas.renderOnAddRemove=!1;var i=[];for(a=0,t=this.points.length;a<t;a++){var c=this.points[a],s=new n.Circle({radius:c.radius,left:c.x,top:c.y,originX:"center",originY:"center",fill:c.fill});this.shadow&&(s.shadow=new n.Shadow(this.shadow)),i.push(s)}var e=new n.Group(i);e.canvas=this.canvas,this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.fire("path:created",{path:e}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},addPoint:function(l){var a=new n.Point(l.x,l.y),t=n.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new n.Color(this.color).setAlpha(n.util.getRandomInt(0,100)/100).toRgba();return a.radius=t,a.fill=i,this.points.push(a),a}}),n.SprayBrush=n.util.createClass(n.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(l){this.canvas=l,this.sprayChunks=[]},onMouseDown:function(l){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(l),this.render(this.sprayChunkPoints)},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.addSprayChunk(l),this.render(this.sprayChunkPoints))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var a=[],t=0,i=this.sprayChunks.length;t<i;t++)for(var c=this.sprayChunks[t],s=0,e=c.length;s<e;s++){var u=new n.Rect({width:c[s].width,height:c[s].width,left:c[s].x+1,top:c[s].y+1,originX:"center",originY:"center",fill:this.color});a.push(u)}this.optimizeOverlapping&&(a=this._getOptimizedRects(a));var m=new n.Group(a);this.shadow&&m.set("shadow",new n.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.fire("path:created",{path:m}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},_getOptimizedRects:function(l){var a={},t,i,c;for(i=0,c=l.length;i<c;i++)t=l[i].left+""+l[i].top,a[t]||(a[t]=l[i]);var s=[];for(t in a)s.push(a[t]);return s},render:function(l){var a=this.canvas.contextTop,t,i;for(a.fillStyle=this.color,this._saveAndTransform(a),t=0,i=l.length;t<i;t++){var c=l[t];typeof c.opacity<"u"&&(a.globalAlpha=c.opacity),a.fillRect(c.x,c.y,c.width,c.width)}a.restore()},_render:function(){var l=this.canvas.contextTop,a,t;for(l.fillStyle=this.color,this._saveAndTransform(l),a=0,t=this.sprayChunks.length;a<t;a++)this.render(this.sprayChunks[a]);l.restore()},addSprayChunk:function(l){this.sprayChunkPoints=[];var a,t,i,c=this.width/2,s;for(s=0;s<this.density;s++){a=n.util.getRandomInt(l.x-c,l.x+c),t=n.util.getRandomInt(l.y-c,l.y+c),this.dotWidthVariance?i=n.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):i=this.dotWidth;var e=new n.Point(a,t);e.width=i,this.randomOpacity&&(e.opacity=n.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(e)}this.sprayChunks.push(this.sprayChunkPoints)}}),n.PatternBrush=n.util.createClass(n.PencilBrush,{getPatternSrc:function(){var l=20,a=5,t=n.util.createCanvasElement(),i=t.getContext("2d");return t.width=t.height=l+a,i.fillStyle=this.color,i.beginPath(),i.arc(l/2,l/2,l/2,0,Math.PI*2,!1),i.closePath(),i.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(l){return l.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(l){this.callSuper("_setBrushStyles",l),l.strokeStyle=this.getPattern(l)},createPath:function(l){var a=this.callSuper("createPath",l),t=a._getLeftTopCoords().scalarAdd(a.strokeWidth/2);return a.stroke=new n.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-t.x,offsetY:-t.y}),a}}),function(){var l=n.util.getPointer,a=n.util.degreesToRadians,t=n.util.isTouchEvent;n.Canvas=n.util.createClass(n.StaticCanvas,{initialize:function(c,s){s||(s={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(c,s),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=n.PencilBrush&&new n.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var c=this.getActiveObjects(),s,e,u;if(c.length>0&&!this.preserveObjectStacking){e=[],u=[];for(var m=0,g=this._objects.length;m<g;m++)s=this._objects[m],c.indexOf(s)===-1?e.push(s):u.push(s);c.length>1&&(this._activeObject._objects=u),e.push.apply(e,u)}else e=this._objects;return e},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var c=this.contextContainer;return this.renderCanvas(c,this._chooseObjectsToRender()),this},renderTopLayer:function(c){c.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(c),this.contextTopDirty=!0),c.restore()},renderTop:function(){var c=this.contextTop;return this.clearContext(c),this.renderTopLayer(c),this.fire("after:render"),this},_normalizePointer:function(c,s){var e=c.calcTransformMatrix(),u=n.util.invertTransform(e),m=this.restorePointerVpt(s);return n.util.transformPoint(m,u)},isTargetTransparent:function(c,s,e){if(c.shouldCache()&&c._cacheCanvas&&c!==this._activeObject){var u=this._normalizePointer(c,{x:s,y:e}),m=Math.max(c.cacheTranslationX+u.x*c.zoomX,0),g=Math.max(c.cacheTranslationY+u.y*c.zoomY,0),o=n.util.isTransparent(c._cacheContext,Math.round(m),Math.round(g),this.targetFindTolerance);return o}var y=this.contextCache,b=c.selectionBackgroundColor,v=this.viewportTransform;c.selectionBackgroundColor="",this.clearContext(y),y.save(),y.transform(v[0],v[1],v[2],v[3],v[4],v[5]),c.render(y),y.restore(),c.selectionBackgroundColor=b;var o=n.util.isTransparent(y,s,e,this.targetFindTolerance);return o},_isSelectionKeyPressed:function(c){var s=!1;return Array.isArray(this.selectionKey)?s=!!this.selectionKey.find(function(e){return c[e]===!0}):s=c[this.selectionKey],s},_shouldClearSelection:function(c,s){var e=this.getActiveObjects(),u=this._activeObject;return!s||s&&u&&e.length>1&&e.indexOf(s)===-1&&u!==s&&!this._isSelectionKeyPressed(c)||s&&!s.evented||s&&!s.selectable&&u&&u!==s},_shouldCenterTransform:function(c,s,e){if(c){var u;return s==="scale"||s==="scaleX"||s==="scaleY"||s==="resizing"?u=this.centeredScaling||c.centeredScaling:s==="rotate"&&(u=this.centeredRotation||c.centeredRotation),u?!e:e}},_getOriginFromCorner:function(c,s){var e={x:c.originX,y:c.originY};return s==="ml"||s==="tl"||s==="bl"?e.x="right":(s==="mr"||s==="tr"||s==="br")&&(e.x="left"),s==="tl"||s==="mt"||s==="tr"?e.y="bottom":(s==="bl"||s==="mb"||s==="br")&&(e.y="top"),e},_getActionFromCorner:function(c,s,e,u){if(!s||!c)return"drag";var m=u.controls[s];return m.getActionName(e,m,u)},_setupCurrentTransform:function(c,s,e){if(s){var u=this.getPointer(c),m=s.__corner,g=s.controls[m],y=e&&m?g.getActionHandler(c,s,g):n.controlsUtils.dragHandler,b=this._getActionFromCorner(e,m,c,s),v=this._getOriginFromCorner(s,m),o=c[this.centeredKey],S={target:s,action:b,actionHandler:y,corner:m,scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,offsetX:u.x-s.left,offsetY:u.y-s.top,originX:v.x,originY:v.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:a(s.angle),width:s.width*s.scaleX,shiftKey:c.shiftKey,altKey:o,original:n.util.saveObjectTransform(s)};this._shouldCenterTransform(s,b,o)&&(S.originX="center",S.originY="center"),S.original.originX=v.x,S.original.originY=v.y,this._currentTransform=S,this._beforeTransform(c)}},setCursor:function(c){this.upperCanvasEl.style.cursor=c},_drawSelection:function(c){var s=this._groupSelector,e=new n.Point(s.ex,s.ey),u=n.util.transformPoint(e,this.viewportTransform),m=new n.Point(s.ex+s.left,s.ey+s.top),g=n.util.transformPoint(m,this.viewportTransform),y=Math.min(u.x,g.x),b=Math.min(u.y,g.y),v=Math.max(u.x,g.x),o=Math.max(u.y,g.y),S=this.selectionLineWidth/2;this.selectionColor&&(c.fillStyle=this.selectionColor,c.fillRect(y,b,v-y,o-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(c.lineWidth=this.selectionLineWidth,c.strokeStyle=this.selectionBorderColor,y+=S,b+=S,v-=S,o-=S,n.Object.prototype._setLineDash.call(this,c,this.selectionDashArray),c.strokeRect(y,b,v-y,o-b))},findTarget:function(c,s){if(!this.skipTargetFind){var e=!0,u=this.getPointer(c,e),m=this._activeObject,g=this.getActiveObjects(),y,b,v=t(c),o=g.length>1&&!s||g.length===1;if(this.targets=[],o&&m._findTargetCorner(u,v)||g.length>1&&!s&&m===this._searchPossibleTargets([m],u))return m;if(g.length===1&&m===this._searchPossibleTargets([m],u))if(this.preserveObjectStacking)y=m,b=this.targets,this.targets=[];else return m;var S=this._searchPossibleTargets(this._objects,u);return c[this.altSelectionKey]&&S&&y&&S!==y&&(S=y,this.targets=b),S}},_checkTarget:function(c,s,e){if(s&&s.visible&&s.evented&&s.containsPoint(c))if((this.perPixelTargetFind||s.perPixelTargetFind)&&!s.isEditing){var u=this.isTargetTransparent(s,e.x,e.y);if(!u)return!0}else return!0},_searchPossibleTargets:function(c,s){for(var e,u=c.length,m;u--;){var g=c[u],y=g.group?this._normalizePointer(g.group,s):s;if(this._checkTarget(y,g,s)){e=c[u],e.subTargetCheck&&e instanceof n.Group&&(m=this._searchPossibleTargets(e._objects,s),m&&this.targets.push(m));break}}return e},restorePointerVpt:function(c){return n.util.transformPoint(c,n.util.invertTransform(this.viewportTransform))},getPointer:function(c,s){if(this._absolutePointer&&!s)return this._absolutePointer;if(this._pointer&&s)return this._pointer;var e=l(c),u=this.upperCanvasEl,m=u.getBoundingClientRect(),g=m.width||0,y=m.height||0,b;(!g||!y)&&("top"in m&&"bottom"in m&&(y=Math.abs(m.top-m.bottom)),"right"in m&&"left"in m&&(g=Math.abs(m.right-m.left))),this.calcOffset(),e.x=e.x-this._offset.left,e.y=e.y-this._offset.top,s||(e=this.restorePointerVpt(e));var v=this.getRetinaScaling();return v!==1&&(e.x/=v,e.y/=v),g===0||y===0?b={width:1,height:1}:b={width:u.width/g,height:u.height/y},{x:e.x*b.width,y:e.y*b.height}},_createUpperCanvas:function(){var c=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),s=this.lowerCanvasEl,e=this.upperCanvasEl;e?e.className="":(e=this._createCanvasElement(),this.upperCanvasEl=e),n.util.addClass(e,"upper-canvas "+c),this.wrapperEl.appendChild(e),this._copyCanvasStyle(s,e),this._applyCanvasStyle(e),this.contextTop=e.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=n.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),n.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),n.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(c){var s=this.width||c.width,e=this.height||c.height;n.util.setStyle(c,{position:"absolute",width:s+"px",height:e+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),c.width=s,c.height=e,n.util.makeElementUnselectable(c)},_copyCanvasStyle:function(c,s){s.style.cssText=c.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var c=this._activeObject;return c?c.type==="activeSelection"&&c._objects?c._objects.slice(0):[c]:[]},_onObjectRemoved:function(c){c===this._activeObject&&(this.fire("before:selection:cleared",{target:c}),this._discardActiveObject(),this.fire("selection:cleared",{target:c}),c.fire("deselected")),c===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",c)},_fireSelectionEvents:function(c,s){var e=!1,u=this.getActiveObjects(),m=[],g=[];c.forEach(function(y){u.indexOf(y)===-1&&(e=!0,y.fire("deselected",{e:s,target:y}),g.push(y))}),u.forEach(function(y){c.indexOf(y)===-1&&(e=!0,y.fire("selected",{e:s,target:y}),m.push(y))}),c.length>0&&u.length>0?e&&this.fire("selection:updated",{e:s,selected:m,deselected:g}):u.length>0?this.fire("selection:created",{e:s,selected:m}):c.length>0&&this.fire("selection:cleared",{e:s,deselected:g})},setActiveObject:function(c,s){var e=this.getActiveObjects();return this._setActiveObject(c,s),this._fireSelectionEvents(e,s),this},_setActiveObject:function(c,s){return this._activeObject===c||!this._discardActiveObject(s,c)||c.onSelect({e:s})?!1:(this._activeObject=c,!0)},_discardActiveObject:function(c,s){var e=this._activeObject;if(e){if(e.onDeselect({e:c,object:s}))return!1;this._activeObject=null}return!0},discardActiveObject:function(c){var s=this.getActiveObjects(),e=this.getActiveObject();return s.length&&this.fire("before:selection:cleared",{target:e,e:c}),this._discardActiveObject(c),this._fireSelectionEvents(s,c),this},dispose:function(){var c=this.wrapperEl;return this.removeListeners(),c.removeChild(this.upperCanvasEl),c.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(s){n.util.cleanUpJsdomNode(this[s]),this[s]=void 0}.bind(this)),c.parentNode&&c.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,n.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(c){var s=this._activeObject;s&&s._renderControls(c)},_toObject:function(c,s,e){var u=this._realizeGroupTransformOnObject(c),m=this.callSuper("_toObject",c,s,e);return this._unwindGroupTransformOnObject(c,u),m},_realizeGroupTransformOnObject:function(c){if(c.group&&c.group.type==="activeSelection"&&this._activeObject===c.group){var s=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],e={};return s.forEach(function(u){e[u]=c[u]}),n.util.addTransformToObject(c,this._activeObject.calcOwnMatrix()),e}else return null},_unwindGroupTransformOnObject:function(c,s){s&&c.set(s)},_setSVGObject:function(c,s,e){var u=this._realizeGroupTransformOnObject(s);this.callSuper("_setSVGObject",c,s,e),this._unwindGroupTransformOnObject(s,u)},setViewportTransform:function(c){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),n.StaticCanvas.prototype.setViewportTransform.call(this,c)}});for(var i in n.StaticCanvas)i!=="prototype"&&(n.Canvas[i]=n.StaticCanvas[i])}(),function(){var l=n.util.addListener,a=n.util.removeListener,t=3,i=2,c=1,s={passive:!1};function e(u,m){return u.button&&u.button===m-1}n.util.object.extend(n.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(l,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(u,m){var g=this.upperCanvasEl,y=this._getEventPrefix();u(n.window,"resize",this._onResize),u(g,y+"down",this._onMouseDown),u(g,y+"move",this._onMouseMove,s),u(g,y+"out",this._onMouseOut),u(g,y+"enter",this._onMouseEnter),u(g,"wheel",this._onMouseWheel),u(g,"contextmenu",this._onContextMenu),u(g,"dblclick",this._onDoubleClick),u(g,"dragover",this._onDragOver),u(g,"dragenter",this._onDragEnter),u(g,"dragleave",this._onDragLeave),u(g,"drop",this._onDrop),this.enablePointerEvents||u(g,"touchstart",this._onTouchStart,s),typeof eventjs<"u"&&m in eventjs&&(eventjs[m](g,"gesture",this._onGesture),eventjs[m](g,"drag",this._onDrag),eventjs[m](g,"orientation",this._onOrientationChange),eventjs[m](g,"shake",this._onShake),eventjs[m](g,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var u=this._getEventPrefix();a(n.document,u+"up",this._onMouseUp),a(n.document,"touchend",this._onTouchEnd,s),a(n.document,u+"move",this._onMouseMove,s),a(n.document,"touchmove",this._onMouseMove,s)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(u,m){this.__onTransformGesture&&this.__onTransformGesture(u,m)},_onDrag:function(u,m){this.__onDrag&&this.__onDrag(u,m)},_onMouseWheel:function(u){this.__onMouseWheel(u)},_onMouseOut:function(u){var m=this._hoveredTarget;this.fire("mouse:out",{target:m,e:u}),this._hoveredTarget=null,m&&m.fire("mouseout",{e:u});var g=this;this._hoveredTargets.forEach(function(y){g.fire("mouse:out",{target:m,e:u}),y&&m.fire("mouseout",{e:u})}),this._hoveredTargets=[]},_onMouseEnter:function(u){!this._currentTransform&&!this.findTarget(u)&&(this.fire("mouse:over",{target:null,e:u}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(u,m){this.__onOrientationChange&&this.__onOrientationChange(u,m)},_onShake:function(u,m){this.__onShake&&this.__onShake(u,m)},_onLongPress:function(u,m){this.__onLongPress&&this.__onLongPress(u,m)},_onDragOver:function(u){u.preventDefault();var m=this._simpleEventHandler("dragover",u);this._fireEnterLeaveEvents(m,u)},_onDrop:function(u){return this._simpleEventHandler("drop:before",u),this._simpleEventHandler("drop",u)},_onContextMenu:function(u){return this.stopContextMenu&&(u.stopPropagation(),u.preventDefault()),!1},_onDoubleClick:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"dblclick"),this._resetTransformEventData(u)},getPointerId:function(u){var m=u.changedTouches;return m?m[0]&&m[0].identifier:this.enablePointerEvents?u.pointerId:-1},_isMainEvent:function(u){return u.isPrimary===!0?!0:u.isPrimary===!1?!1:u.type==="touchend"&&u.touches.length===0?!0:u.changedTouches?u.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(u){u.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(u)),this.__onMouseDown(u),this._resetTransformEventData();var m=this.upperCanvasEl,g=this._getEventPrefix();l(n.document,"touchend",this._onTouchEnd,s),l(n.document,"touchmove",this._onMouseMove,s),a(m,g+"down",this._onMouseDown)},_onMouseDown:function(u){this.__onMouseDown(u),this._resetTransformEventData();var m=this.upperCanvasEl,g=this._getEventPrefix();a(m,g+"move",this._onMouseMove,s),l(n.document,g+"up",this._onMouseUp),l(n.document,g+"move",this._onMouseMove,s)},_onTouchEnd:function(u){if(!(u.touches.length>0)){this.__onMouseUp(u),this._resetTransformEventData(),this.mainTouchId=null;var m=this._getEventPrefix();a(n.document,"touchend",this._onTouchEnd,s),a(n.document,"touchmove",this._onMouseMove,s);var g=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){l(g.upperCanvasEl,m+"down",g._onMouseDown),g._willAddMouseDown=0},400)}},_onMouseUp:function(u){this.__onMouseUp(u),this._resetTransformEventData();var m=this.upperCanvasEl,g=this._getEventPrefix();this._isMainEvent(u)&&(a(n.document,g+"up",this._onMouseUp),a(n.document,g+"move",this._onMouseMove,s),l(m,g+"move",this._onMouseMove,s))},_onMouseMove:function(u){!this.allowTouchScrolling&&u.preventDefault&&u.preventDefault(),this.__onMouseMove(u)},_onResize:function(){this.calcOffset()},_shouldRender:function(u){var m=this._activeObject;return!!m!=!!u||m&&u&&m!==u?!0:(m&&m.isEditing,!1)},__onMouseUp:function(u){var m,g=this._currentTransform,y=this._groupSelector,b=!1,v=!y||y.left===0&&y.top===0;if(this._cacheTransformEventData(u),m=this._target,this._handleEvent(u,"up:before"),e(u,t)){this.fireRightClick&&this._handleEvent(u,"up",t,v);return}if(e(u,i)){this.fireMiddleClick&&this._handleEvent(u,"up",i,v),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(u);return}if(this._isMainEvent(u)){if(g&&(this._finalizeCurrentTransform(u),b=g.actionPerformed),!v){var o=m===this._activeObject;this._maybeGroupObjects(u),b||(b=this._shouldRender(m)||!o&&m===this._activeObject)}var S,T;if(m){if(S=m._findTargetCorner(this.getPointer(u,!0),n.util.isTouchEvent(u)),m.selectable&&m!==this._activeObject&&m.activeOn==="up")this.setActiveObject(m,u),b=!0;else{var E=m.controls[S],k=E&&E.getMouseUpHandler(u,m,E);k&&(T=this.getPointer(u),k(u,g,T.x,T.y))}m.isMoving=!1}if(g&&(g.target!==m||g.corner!==S)){var M=g.target&&g.target.controls[g.corner],O=M&&M.getMouseUpHandler(u,m,E);T=T||this.getPointer(u),O&&O(u,g,T.x,T.y)}this._setCursorFromEvent(u,m),this._handleEvent(u,"up",c,v),this._groupSelector=null,this._currentTransform=null,m&&(m.__corner=0),b?this.requestRenderAll():v||this.renderTop()}},_simpleEventHandler:function(u,m){var g=this.findTarget(m),y=this.targets,b={e:m,target:g,subTargets:y};if(this.fire(u,b),g&&g.fire(u,b),!y)return g;for(var v=0;v<y.length;v++)y[v].fire(u,b);return g},_handleEvent:function(u,m,g,y){var b=this._target,v=this.targets||[],o={e:u,target:b,subTargets:v,button:g||c,isClick:y||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};m==="up"&&(o.currentTarget=this.findTarget(u),o.currentSubTargets=this.targets),this.fire("mouse:"+m,o),b&&b.fire("mouse"+m,o);for(var S=0;S<v.length;S++)v[S].fire("mouse"+m,o)},_finalizeCurrentTransform:function(u){var m=this._currentTransform,g=m.target,y={e:u,target:g,transform:m,action:m.action};g._scaling&&(g._scaling=!1),g.setCoords(),(m.actionPerformed||this.stateful&&g.hasStateChanged())&&this._fire("modified",y)},_onMouseDownInDrawingMode:function(u){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(u).requestRenderAll();var m=this.getPointer(u);this.freeDrawingBrush.onMouseDown(m,{e:u,pointer:m}),this._handleEvent(u,"down")},_onMouseMoveInDrawingMode:function(u){if(this._isCurrentlyDrawing){var m=this.getPointer(u);this.freeDrawingBrush.onMouseMove(m,{e:u,pointer:m})}this.setCursor(this.freeDrawingCursor),this._handleEvent(u,"move")},_onMouseUpInDrawingMode:function(u){var m=this.getPointer(u);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:u,pointer:m}),this._handleEvent(u,"up")},__onMouseDown:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"down:before");var m=this._target;if(e(u,t)){this.fireRightClick&&this._handleEvent(u,"down",t);return}if(e(u,i)){this.fireMiddleClick&&this._handleEvent(u,"down",i);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(u);return}if(this._isMainEvent(u)&&!this._currentTransform){var g=this._pointer;this._previousPointer=g;var y=this._shouldRender(m),b=this._shouldGroup(u,m);if(this._shouldClearSelection(u,m)?this.discardActiveObject(u):b&&(this._handleGrouping(u,m),m=this._activeObject),this.selection&&(!m||!m.selectable&&!m.isEditing&&m!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),m){var v=m===this._activeObject;m.selectable&&m.activeOn==="down"&&this.setActiveObject(m,u);var o=m._findTargetCorner(this.getPointer(u,!0),n.util.isTouchEvent(u));if(m.__corner=o,m===this._activeObject&&(o||!b)){this._setupCurrentTransform(u,m,v);var S=m.controls[o],g=this.getPointer(u),T=S&&S.getMouseDownHandler(u,m,S);T&&T(u,this._currentTransform,g.x,g.y)}}this._handleEvent(u,"down"),(y||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(u){this._resetTransformEventData(),this._pointer=this.getPointer(u,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(u)||null},_beforeTransform:function(u){var m=this._currentTransform;this.stateful&&m.target.saveState(),this.fire("before:transform",{e:u,transform:m})},__onMouseMove:function(u){this._handleEvent(u,"move:before"),this._cacheTransformEventData(u);var m,g;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(u);return}if(this._isMainEvent(u)){var y=this._groupSelector;y?(g=this._absolutePointer,y.left=g.x-y.ex,y.top=g.y-y.ey,this.renderTop()):this._currentTransform?this._transformObject(u):(m=this.findTarget(u)||null,this._setCursorFromEvent(u,m),this._fireOverOutEvents(m,u)),this._handleEvent(u,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(u,m){var g=this._hoveredTarget,y=this._hoveredTargets,b=this.targets,v=Math.max(y.length,b.length);this.fireSyntheticInOutEvents(u,m,{oldTarget:g,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var o=0;o<v;o++)this.fireSyntheticInOutEvents(b[o],m,{oldTarget:y[o],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(u,m){var g=this._draggedoverTarget,y=this._hoveredTargets,b=this.targets,v=Math.max(y.length,b.length);this.fireSyntheticInOutEvents(u,m,{oldTarget:g,evtOut:"dragleave",evtIn:"dragenter"});for(var o=0;o<v;o++)this.fireSyntheticInOutEvents(b[o],m,{oldTarget:y[o],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=u},fireSyntheticInOutEvents:function(u,m,g){var y,b,v=g.oldTarget,o,S,T=v!==u,E=g.canvasEvtIn,k=g.canvasEvtOut;T&&(y={e:m,target:u,previousTarget:v},b={e:m,target:v,nextTarget:u}),S=u&&T,o=v&&T,o&&(k&&this.fire(k,b),v.fire(g.evtOut,b)),S&&(E&&this.fire(E,y),u.fire(g.evtIn,y))},__onMouseWheel:function(u){this._cacheTransformEventData(u),this._handleEvent(u,"wheel"),this._resetTransformEventData()},_transformObject:function(u){var m=this.getPointer(u),g=this._currentTransform;g.reset=!1,g.shiftKey=u.shiftKey,g.altKey=u[this.centeredKey],this._performTransformAction(u,g,m),g.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(u,m,g){var y=g.x,b=g.y,v=m.action,o=!1,S=m.actionHandler;S&&(o=S(u,m,y,b)),v==="drag"&&o&&(m.target.isMoving=!0,this.setCursor(m.target.moveCursor||this.moveCursor)),m.actionPerformed=m.actionPerformed||o},_fire:n.controlsUtils.fireEvent,_setCursorFromEvent:function(u,m){if(!m)return this.setCursor(this.defaultCursor),!1;var g=m.hoverCursor||this.hoverCursor,y=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!y||!y.contains(m))&&m._findTargetCorner(this.getPointer(u,!0));b?this.setCursor(this.getCornerCursor(b,m,u)):(m.subTargetCheck&&this.targets.concat().reverse().map(function(v){g=v.hoverCursor||g}),this.setCursor(g))},getCornerCursor:function(u,m,g){var y=m.controls[u];return y.cursorStyleHandler(g,y,m)}})}(),function(){var l=Math.min,a=Math.max;n.util.object.extend(n.Canvas.prototype,{_shouldGroup:function(t,i){var c=this._activeObject;return c&&this._isSelectionKeyPressed(t)&&i&&i.selectable&&this.selection&&(c!==i||c.type==="activeSelection")&&!i.onSelect({e:t})},_handleGrouping:function(t,i){var c=this._activeObject;c.__corner||i===c&&(i=this.findTarget(t,!0),!i||!i.selectable)||(c&&c.type==="activeSelection"?this._updateActiveSelection(i,t):this._createActiveSelection(i,t))},_updateActiveSelection:function(t,i){var c=this._activeObject,s=c._objects.slice(0);c.contains(t)?(c.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),c.size()===1&&this._setActiveObject(c.item(0),i)):(c.addWithUpdate(t),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(s,i)},_createActiveSelection:function(t,i){var c=this.getActiveObjects(),s=this._createGroup(t);this._hoveredTarget=s,this._setActiveObject(s,i),this._fireSelectionEvents(c,i)},_createGroup:function(t){var i=this._objects,c=i.indexOf(this._activeObject)<i.indexOf(t),s=c?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new n.ActiveSelection(s,{canvas:this})},_groupSelectedObjects:function(t){var i=this._collectObjects(t),c;i.length===1?this.setActiveObject(i[0],t):i.length>1&&(c=new n.ActiveSelection(i.reverse(),{canvas:this}),this.setActiveObject(c,t))},_collectObjects:function(t){for(var i=[],c,s=this._groupSelector.ex,e=this._groupSelector.ey,u=s+this._groupSelector.left,m=e+this._groupSelector.top,g=new n.Point(l(s,u),l(e,m)),y=new n.Point(a(s,u),a(e,m)),b=!this.selectionFullyContained,v=s===u&&e===m,o=this._objects.length;o--&&(c=this._objects[o],!(!(!c||!c.selectable||!c.visible)&&(b&&c.intersectsWithRect(g,y,!0)||c.isContainedWithinRect(g,y,!0)||b&&c.containsPoint(g,null,!0)||b&&c.containsPoint(y,null,!0))&&(i.push(c),v))););return i.length>1&&(i=i.filter(function(S){return!S.onSelect({e:t})})),i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){n.util.object.extend(n.StaticCanvas.prototype,{toDataURL:function(l){l||(l={});var a=l.format||"png",t=l.quality||1,i=(l.multiplier||1)*(l.enableRetinaScaling?this.getRetinaScaling():1),c=this.toCanvasElement(i,l);return n.util.toDataURL(c,a,t)},toCanvasElement:function(l,a){l=l||1,a=a||{};var t=(a.width||this.width)*l,i=(a.height||this.height)*l,c=this.getZoom(),s=this.width,e=this.height,u=c*l,m=this.viewportTransform,g=(m[4]-(a.left||0))*l,y=(m[5]-(a.top||0))*l,b=this.interactive,v=[u,0,0,u,g,y],o=this.enableRetinaScaling,S=n.util.createCanvasElement(),T=this.contextTop;return S.width=t,S.height=i,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=v,this.width=t,this.height=i,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=m,this.width=s,this.height=e,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=o,this.contextTop=T,S}})}(),n.util.object.extend(n.StaticCanvas.prototype,{loadFromJSON:function(l,a,t){if(l){var i=typeof l=="string"?JSON.parse(l):n.util.object.clone(l),c=this,s=i.clipPath,e=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete i.clipPath,this._enlivenObjects(i.objects,function(u){c.clear(),c._setBgOverlay(i,function(){s?c._enlivenObjects([s],function(m){c.clipPath=m[0],c.__setupCanvas.call(c,i,u,e,a)}):c.__setupCanvas.call(c,i,u,e,a)})},t),this}},__setupCanvas:function(l,a,t,i){var c=this;a.forEach(function(s,e){c.insertAt(s,e)}),this.renderOnAddRemove=t,delete l.objects,delete l.backgroundImage,delete l.overlayImage,delete l.background,delete l.overlay,this._setOptions(l),this.renderAll(),i&&i()},_setBgOverlay:function(l,a){var t={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!l.backgroundImage&&!l.overlayImage&&!l.background&&!l.overlay){a&&a();return}var i=function(){t.backgroundImage&&t.overlayImage&&t.backgroundColor&&t.overlayColor&&a&&a()};this.__setBgOverlay("backgroundImage",l.backgroundImage,t,i),this.__setBgOverlay("overlayImage",l.overlayImage,t,i),this.__setBgOverlay("backgroundColor",l.background,t,i),this.__setBgOverlay("overlayColor",l.overlay,t,i)},__setBgOverlay:function(l,a,t,i){var c=this;if(!a){t[l]=!0,i&&i();return}l==="backgroundImage"||l==="overlayImage"?n.util.enlivenObjects([a],function(s){c[l]=s[0],t[l]=!0,i&&i()}):this["set"+n.util.string.capitalize(l,!0)](a,function(){t[l]=!0,i&&i()})},_enlivenObjects:function(l,a,t){if(!l||l.length===0){a&&a([]);return}n.util.enlivenObjects(l,function(i){a&&a(i)},null,t)},_toDataURL:function(l,a){this.clone(function(t){a(t.toDataURL(l))})},_toDataURLWithMultiplier:function(l,a,t){this.clone(function(i){t(i.toDataURLWithMultiplier(l,a))})},clone:function(l,a){var t=JSON.stringify(this.toJSON(a));this.cloneWithoutData(function(i){i.loadFromJSON(t,function(){l&&l(i)})})},cloneWithoutData:function(l){var a=n.util.createCanvasElement();a.width=this.width,a.height=this.height;var t=new n.Canvas(a);this.backgroundImage?(t.setBackgroundImage(this.backgroundImage.src,function(){t.renderAll(),l&&l(t)}),t.backgroundImageOpacity=this.backgroundImageOpacity,t.backgroundImageStretch=this.backgroundImageStretch):l&&l(t)}}),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend,i=a.util.object.clone,c=a.util.toFixed,s=a.util.string.capitalize,e=a.util.degreesToRadians,u=!a.isLikelyNode,m=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:u,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(g){g&&this.setOptions(g)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(g){var y=a.perfLimitSizeTotal,b=g.width,v=g.height,o=a.maxCacheSideLimit,S=a.minCacheSideLimit;if(b<=o&&v<=o&&b*v<=y)return b<S&&(g.width=S),v<S&&(g.height=S),g;var T=b/v,E=a.util.limitDimsByArea(T,y),k=a.util.capValue,M=k(S,E.x,o),O=k(S,E.y,o);return b>M&&(g.zoomX/=b/M,g.width=M,g.capped=!0),v>O&&(g.zoomY/=v/O,g.height=O,g.capped=!0),g},_getCacheCanvasDimensions:function(){var g=this.getTotalObjectScaling(),y=this._getTransformedDimensions(0,0),b=y.x*g.scaleX/this.scaleX,v=y.y*g.scaleY/this.scaleY;return{width:b+m,height:v+m,zoomX:g.scaleX,zoomY:g.scaleY,x:b,y:v}},_updateCacheCanvas:function(){var g=this.canvas;if(this.noScaleCache&&g&&g._currentTransform){var y=g._currentTransform.target,b=g._currentTransform.action;if(this===y&&b.slice&&b.slice(0,5)==="scale")return!1}var v=this._cacheCanvas,o=this._limitCacheSize(this._getCacheCanvasDimensions()),S=a.minCacheSideLimit,T=o.width,E=o.height,k,M,O=o.zoomX,L=o.zoomY,te=T!==this.cacheWidth||E!==this.cacheHeight,B=this.zoomX!==O||this.zoomY!==L,G=te||B,R=0,I=0,U=!1;if(te){var P=this._cacheCanvas.width,A=this._cacheCanvas.height,z=T>P||E>A,N=(T<P*.9||E<A*.9)&&P>S&&A>S;U=z||N,z&&!o.capped&&(T>S||E>S)&&(R=T*.1,I=E*.1)}return this instanceof a.Text&&this.path&&(G=!0,U=!0,R+=this.getHeightOfLine(0)*this.zoomX,I+=this.getHeightOfLine(0)*this.zoomY),G?(U?(v.width=Math.ceil(T+R),v.height=Math.ceil(E+I)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,v.width,v.height)),k=o.x/2,M=o.y/2,this.cacheTranslationX=Math.round(v.width/2-k)+k,this.cacheTranslationY=Math.round(v.height/2-M)+M,this.cacheWidth=T,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(O,L),this.zoomX=O,this.zoomY=L,!0):!1},setOptions:function(g){this._setOptions(g),this._initGradient(g.fill,"fill"),this._initGradient(g.stroke,"stroke"),this._initPattern(g.fill,"fill"),this._initPattern(g.stroke,"stroke")},transform:function(g){var y=this.group&&!this.group._transformDone||this.group&&this.canvas&&g===this.canvas.contextTop,b=this.calcTransformMatrix(!y);g.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(g){var y=a.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:c(this.left,y),top:c(this.top,y),width:c(this.width,y),height:c(this.height,y),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:c(this.strokeWidth,y),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:c(this.strokeMiterLimit,y),scaleX:c(this.scaleX,y),scaleY:c(this.scaleY,y),angle:c(this.angle,y),flipX:this.flipX,flipY:this.flipY,opacity:c(this.opacity,y),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:c(this.skewX,y),skewY:c(this.skewY,y)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(g),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,b,g),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(g){return this.toObject(g)},_removeDefaultValues:function(g){var y=a.util.getKlass(g.type).prototype,b=y.stateProperties;return b.forEach(function(v){v==="left"||v==="top"||(g[v]===y[v]&&delete g[v],Array.isArray(g[v])&&Array.isArray(y[v])&&g[v].length===0&&y[v].length===0&&delete g[v])}),g},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var g=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(g.scaleX),scaleY:Math.abs(g.scaleY)}},getTotalObjectScaling:function(){var g=this.getObjectScaling(),y=g.scaleX,b=g.scaleY;if(this.canvas){var v=this.canvas.getZoom(),o=this.canvas.getRetinaScaling();y*=v*o,b*=v*o}return{scaleX:y,scaleY:b}},getObjectOpacity:function(){var g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g},_set:function(g,y){var b=g==="scaleX"||g==="scaleY",v=this[g]!==y,o=!1;return b&&(y=this._constrainScale(y)),g==="scaleX"&&y<0?(this.flipX=!this.flipX,y*=-1):g==="scaleY"&&y<0?(this.flipY=!this.flipY,y*=-1):g==="shadow"&&y&&!(y instanceof a.Shadow)?y=new a.Shadow(y):g==="dirty"&&this.group&&this.group.set("dirty",y),this[g]=y,v&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(g)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(g)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(g),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),g.restore())},renderCache:function(g){g=g||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,g.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(g,y){if(g.save(),y.inverted?g.globalCompositeOperation="destination-out":g.globalCompositeOperation="destination-in",y.absolutePositioned){var b=a.util.invertTransform(this.calcTransformMatrix());g.transform(b[0],b[1],b[2],b[3],b[4],b[5])}y.transform(g),g.scale(1/y.zoomX,1/y.zoomY),g.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),g.restore()},drawObject:function(g,y){var b=this.fill,v=this.stroke;y?(this.fill="black",this.stroke="",this._setClippingProperties(g)):this._renderBackground(g),this._render(g),this._drawClipPath(g,this.clipPath),this.fill=b,this.stroke=v},_drawClipPath:function(g,y){y&&(y.canvas=this.canvas,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCache(g,y))},drawCacheOnCanvas:function(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(g){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!g&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!g){var y=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-y/2,-b/2,y,b)}return!0}return!1},_renderBackground:function(g){if(this.backgroundColor){var y=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-y.x/2,-y.y/2,y.x,y.y),this._removeShadow(g)}},_setOpacity:function(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity},_setStrokeStyles:function(g,y){var b=y.stroke;b&&(g.lineWidth=y.strokeWidth,g.lineCap=y.strokeLineCap,g.lineDashOffset=y.strokeDashOffset,g.lineJoin=y.strokeLineJoin,g.miterLimit=y.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(g,b):(g.strokeStyle=b.toLive(g,this),this._applyPatternGradientTransform(g,b)):g.strokeStyle=y.stroke)},_setFillStyles:function(g,y){var b=y.fill;b&&(b.toLive?(g.fillStyle=b.toLive(g,this),this._applyPatternGradientTransform(g,y.fill)):g.fillStyle=b)},_setClippingProperties:function(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"},_setLineDash:function(g,y){!y||y.length===0||(1&y.length&&y.push.apply(y,y),g.setLineDash(y))},_renderControls:function(g,y){var b=this.getViewportTransform(),v=this.calcTransformMatrix(),o,S,T;y=y||{},S=typeof y.hasBorders<"u"?y.hasBorders:this.hasBorders,T=typeof y.hasControls<"u"?y.hasControls:this.hasControls,v=a.util.multiplyTransformMatrices(b,v),o=a.util.qrDecompose(v),g.save(),g.translate(o.translateX,o.translateY),g.lineWidth=1*this.borderScaleFactor,this.group||(g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(o.angle-=180),g.rotate(e(this.group?o.angle:this.angle)),y.forActiveSelection||this.group?S&&this.drawBordersInGroup(g,o,y):S&&this.drawBorders(g,y),T&&this.drawControls(g,y),g.restore()},_setShadow:function(g){if(this.shadow){var y=this.shadow,b=this.canvas,v,o=b&&b.viewportTransform[0]||1,S=b&&b.viewportTransform[3]||1;y.nonScaling?v={scaleX:1,scaleY:1}:v=this.getObjectScaling(),b&&b._isRetinaScaling()&&(o*=a.devicePixelRatio,S*=a.devicePixelRatio),g.shadowColor=y.color,g.shadowBlur=y.blur*a.browserShadowBlurConstant*(o+S)*(v.scaleX+v.scaleY)/4,g.shadowOffsetX=y.offsetX*o*v.scaleX,g.shadowOffsetY=y.offsetY*S*v.scaleY}},_removeShadow:function(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)},_applyPatternGradientTransform:function(g,y){if(!y||!y.toLive)return{offsetX:0,offsetY:0};var b=y.gradientTransform||y.patternTransform,v=-this.width/2+y.offsetX||0,o=-this.height/2+y.offsetY||0;return y.gradientUnits==="percentage"?g.transform(this.width,0,0,this.height,v,o):g.transform(1,0,0,1,v,o),b&&g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:v,offsetY:o}},_renderPaintInOrder:function(g){this.paintFirst==="stroke"?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))},_render:function(){},_renderFill:function(g){this.fill&&(g.save(),this._setFillStyles(g,this),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())},_renderStroke:function(g){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this.strokeUniform&&this.group){var y=this.getObjectScaling();g.scale(1/y.scaleX,1/y.scaleY)}else this.strokeUniform&&g.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(g,this.strokeDashArray),this._setStrokeStyles(g,this),g.stroke(),g.restore()}},_applyPatternForTransformedGradient:function(g,y){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),v=a.util.createCanvasElement(),o,S=this.canvas.getRetinaScaling(),T=b.x/this.scaleX/S,E=b.y/this.scaleY/S;v.width=T,v.height=E,o=v.getContext("2d"),o.beginPath(),o.moveTo(0,0),o.lineTo(T,0),o.lineTo(T,E),o.lineTo(0,E),o.closePath(),o.translate(T/2,E/2),o.scale(b.zoomX/this.scaleX/S,b.zoomY/this.scaleY/S),this._applyPatternGradientTransform(o,y),o.fillStyle=y.toLive(g),o.fill(),g.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),g.scale(S*this.scaleX/b.zoomX,S*this.scaleY/b.zoomY),g.strokeStyle=o.createPattern(v,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var g=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",g.scaleX),this.set("scaleY",g.scaleY),this.angle=g.angle,this.skewX=g.skewX,this.skewY=0}},_removeTransformMatrix:function(g){var y=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),y=a.util.transformPoint(y,this.transformMatrix)),this.transformMatrix=null,g&&(this.scaleX*=g.scaleX,this.scaleY*=g.scaleY,this.cropX=g.cropX,this.cropY=g.cropY,y.x+=g.offsetLeft,y.y+=g.offsetTop,this.width=g.width,this.height=g.height),this.setPositionByOrigin(y,"center","center")},clone:function(g,y){var b=this.toObject(y);this.constructor.fromObject?this.constructor.fromObject(b,g):a.Object._fromObject("Object",b,g)},cloneAsImage:function(g,y){var b=this.toCanvasElement(y);return g&&g(new a.Image(b)),this},toCanvasElement:function(g){g||(g={});var y=a.util,b=y.saveObjectTransform(this),v=this.group,o=this.shadow,S=Math.abs,T=(g.multiplier||1)*(g.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,g.withoutTransform&&y.resetObjectTransform(this),g.withoutShadow&&(this.shadow=null);var E=a.util.createCanvasElement(),k=this.getBoundingRect(!0,!0),M=this.shadow,O,L={x:0,y:0},te,B,G;M&&(te=M.blur,M.nonScaling?O={scaleX:1,scaleY:1}:O=this.getObjectScaling(),L.x=2*Math.round(S(M.offsetX)+te)*S(O.scaleX),L.y=2*Math.round(S(M.offsetY)+te)*S(O.scaleY)),B=k.width+L.x,G=k.height+L.y,E.width=Math.ceil(B),E.height=Math.ceil(G);var R=new a.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});g.format==="jpeg"&&(R.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(R.width/2,R.height/2),"center","center");var I=this.canvas;R.add(this);var U=R.toCanvasElement(T||1,g);return this.shadow=o,this.set("canvas",I),v&&(this.group=v),this.set(b).setCoords(),R._objects=[],R.dispose(),R=null,U},toDataURL:function(g){return g||(g={}),a.util.toDataURL(this.toCanvasElement(g),g.format||"png",g.quality||1)},isType:function(g){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===g},complexity:function(){return 1},toJSON:function(g){return this.toObject(g)},rotate:function(g){var y=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return y&&this._setOriginToCenter(),this.set("angle",g),y&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(g,y){y=y||this.canvas.getPointer(g);var b=new a.Point(y.x,y.y),v=this._getLeftTopCoords();return this.angle&&(b=a.util.rotatePoint(b,v,e(-this.angle))),{x:b.x-v.x,y:b.y-v.y}},_setupCompositeOperation:function(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){a.runningAnimations&&a.runningAnimations.cancelByTarget(this)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),t(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object.ENLIVEN_PROPS=["clipPath"],a.Object._fromObject=function(g,y,b,v){var o=a[g];y=i(y,!0),a.util.enlivenPatterns([y.fill,y.stroke],function(S){typeof S[0]<"u"&&(y.fill=S[0]),typeof S[1]<"u"&&(y.stroke=S[1]),a.util.enlivenObjectEnlivables(y,y,function(){var T=v?new o(y[v],y):new o(y);b&&b(T)})})},a.Object.__uid=0)}(r),function(){var l=n.util.degreesToRadians,a={left:-.5,center:0,right:.5},t={top:-.5,center:0,bottom:.5};n.util.object.extend(n.Object.prototype,{translateToGivenOrigin:function(i,c,s,e,u){var m=i.x,g=i.y,y,b,v;return typeof c=="string"?c=a[c]:c-=.5,typeof e=="string"?e=a[e]:e-=.5,y=e-c,typeof s=="string"?s=t[s]:s-=.5,typeof u=="string"?u=t[u]:u-=.5,b=u-s,(y||b)&&(v=this._getTransformedDimensions(),m=i.x+y*v.x,g=i.y+b*v.y),new n.Point(m,g)},translateToCenterPoint:function(i,c,s){var e=this.translateToGivenOrigin(i,c,s,"center","center");return this.angle?n.util.rotatePoint(e,i,l(this.angle)):e},translateToOriginPoint:function(i,c,s){var e=this.translateToGivenOrigin(i,"center","center",c,s);return this.angle?n.util.rotatePoint(e,i,l(this.angle)):e},getCenterPoint:function(){var i=new n.Point(this.left,this.top);return this.translateToCenterPoint(i,this.originX,this.originY)},getPointByOrigin:function(i,c){var s=this.getCenterPoint();return this.translateToOriginPoint(s,i,c)},toLocalPoint:function(i,c,s){var e=this.getCenterPoint(),u,m;return typeof c<"u"&&typeof s<"u"?u=this.translateToGivenOrigin(e,"center","center",c,s):u=new n.Point(this.left,this.top),m=new n.Point(i.x,i.y),this.angle&&(m=n.util.rotatePoint(m,e,-l(this.angle))),m.subtractEquals(u)},setPositionByOrigin:function(i,c,s){var e=this.translateToCenterPoint(i,c,s),u=this.translateToOriginPoint(e,this.originX,this.originY);this.set("left",u.x),this.set("top",u.y)},adjustPosition:function(i){var c=l(this.angle),s=this.getScaledWidth(),e=n.util.cos(c)*s,u=n.util.sin(c)*s,m,g;typeof this.originX=="string"?m=a[this.originX]:m=this.originX-.5,typeof i=="string"?g=a[i]:g=i-.5,this.left+=e*(g-m),this.top+=u*(g-m),this.setCoords(),this.originX=i},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var i=this.getCenterPoint();this.originX="center",this.originY="center",this.left=i.x,this.top=i.y},_resetOrigin:function(){var i=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=i.x,this.top=i.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function l(s){return[new n.Point(s.tl.x,s.tl.y),new n.Point(s.tr.x,s.tr.y),new n.Point(s.br.x,s.br.y),new n.Point(s.bl.x,s.bl.y)]}var a=n.util,t=a.degreesToRadians,i=a.multiplyTransformMatrices,c=a.transformPoint;a.object.extend(n.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(s,e){return e?s?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),s?this.aCoords:this.lineCoords)},getCoords:function(s,e){return l(this._getCoords(s,e))},intersectsWithRect:function(s,e,u,m){var g=this.getCoords(u,m),y=n.Intersection.intersectPolygonRectangle(g,s,e);return y.status==="Intersection"},intersectsWithObject:function(s,e,u){var m=n.Intersection.intersectPolygonPolygon(this.getCoords(e,u),s.getCoords(e,u));return m.status==="Intersection"||s.isContainedWithinObject(this,e,u)||this.isContainedWithinObject(s,e,u)},isContainedWithinObject:function(s,e,u){for(var m=this.getCoords(e,u),g=e?s.aCoords:s.lineCoords,y=0,b=s._getImageLines(g);y<4;y++)if(!s.containsPoint(m[y],b))return!1;return!0},isContainedWithinRect:function(s,e,u,m){var g=this.getBoundingRect(u,m);return g.left>=s.x&&g.left+g.width<=e.x&&g.top>=s.y&&g.top+g.height<=e.y},containsPoint:function(s,y,u,m){var g=this._getCoords(u,m),y=y||this._getImageLines(g),b=this._findCrossPoints(s,y);return b!==0&&b%2===1},isOnScreen:function(s){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br,m=this.getCoords(!0,s);return m.some(function(g){return g.x<=u.x&&g.x>=e.x&&g.y<=u.y&&g.y>=e.y})||this.intersectsWithRect(e,u,!0,s)?!0:this._containsCenterOfCanvas(e,u,s)},_containsCenterOfCanvas:function(s,e,u){var m={x:(s.x+e.x)/2,y:(s.y+e.y)/2};return!!this.containsPoint(m,null,!0,u)},isPartiallyOnScreen:function(s){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,u=this.canvas.vptCoords.br;if(this.intersectsWithRect(e,u,!0,s))return!0;var m=this.getCoords(!0,s).every(function(g){return(g.x>=u.x||g.x<=e.x)&&(g.y>=u.y||g.y<=e.y)});return m&&this._containsCenterOfCanvas(e,u,s)},_getImageLines:function(s){var e={topline:{o:s.tl,d:s.tr},rightline:{o:s.tr,d:s.br},bottomline:{o:s.br,d:s.bl},leftline:{o:s.bl,d:s.tl}};return e},_findCrossPoints:function(s,e){var u,m,g,y,b,v=0,o;for(var S in e)if(o=e[S],!(o.o.y<s.y&&o.d.y<s.y)&&!(o.o.y>=s.y&&o.d.y>=s.y)&&(o.o.x===o.d.x&&o.o.x>=s.x?b=o.o.x:(u=0,m=(o.d.y-o.o.y)/(o.d.x-o.o.x),g=s.y-u*s.x,y=o.o.y-m*o.o.x,b=-(g-y)/(u-m)),b>=s.x&&(v+=1),v===2))break;return v},getBoundingRect:function(s,e){var u=this.getCoords(s,e);return a.makeBoundingBoxFromPoints(u)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(s){return Math.abs(s)<this.minScaleLimit?s<0?-this.minScaleLimit:this.minScaleLimit:s===0?1e-4:s},scale:function(s){return this._set("scaleX",s),this._set("scaleY",s),this.setCoords()},scaleToWidth:function(s,e){var u=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(s/this.width/u)},scaleToHeight:function(s,e){var u=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(s/this.height/u)},calcLineCoords:function(){var s=this.getViewportTransform(),e=this.padding,u=t(this.angle),m=a.cos(u),g=a.sin(u),y=m*e,b=g*e,v=y+b,o=y-b,S=this.calcACoords(),T={tl:c(S.tl,s),tr:c(S.tr,s),bl:c(S.bl,s),br:c(S.br,s)};return e&&(T.tl.x-=o,T.tl.y-=v,T.tr.x+=v,T.tr.y-=o,T.bl.x-=v,T.bl.y+=o,T.br.x+=o,T.br.y+=v),T},calcOCoords:function(){var s=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),u=this.getViewportTransform(),m=i(u,e),g=i(m,s),g=i(g,[1/u[0],0,0,1/u[3],0,0]),y=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(v,o,S){b[o]=v.positionHandler(y,g,S)}),b},calcACoords:function(){var s=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),u=i(e,s),m=this._getTransformedDimensions(),g=m.x/2,y=m.y/2;return{tl:c({x:-g,y:-y},u),tr:c({x:g,y:-y},u),bl:c({x:-g,y},u),br:c({x:g,y},u)}},setCoords:function(s){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),s?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var s=this.getCenterPoint();return[1,0,0,1,s.x,s.y]},transformMatrixKey:function(s){var e="_",u="";return!s&&this.group&&(u=this.group.transformMatrixKey(s)+e),u+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(s){var e=this.calcOwnMatrix();if(s||!this.group)return e;var u=this.transformMatrixKey(s),m=this.matrixCache||(this.matrixCache={});return m.key===u?m.value:(this.group&&(e=i(this.group.calcTransformMatrix(!1),e)),m.key=u,m.value=e,e)},calcOwnMatrix:function(){var s=this.transformMatrixKey(!0),e=this.ownMatrixCache||(this.ownMatrixCache={});if(e.key===s)return e.value;var u=this._calcTranslateMatrix(),m={angle:this.angle,translateX:u[4],translateY:u[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return e.key=s,e.value=a.composeMatrix(m),e.value},_getNonTransformedDimensions:function(){var s=this.strokeWidth,e=this.width+s,u=this.height+s;return{x:e,y:u}},_getTransformedDimensions:function(s,e){typeof s>"u"&&(s=this.skewX),typeof e>"u"&&(e=this.skewY);var u,m,g,y=s===0&&e===0;if(this.strokeUniform?(m=this.width,g=this.height):(u=this._getNonTransformedDimensions(),m=u.x,g=u.y),y)return this._finalizeDimensions(m*this.scaleX,g*this.scaleY);var b=a.sizeAfterTransform(m,g,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:s,skewY:e});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(s,e){return this.strokeUniform?{x:s+this.strokeWidth,y:e+this.strokeWidth}:{x:s,y:e}},_calculateCurrentDimensions:function(){var s=this.getViewportTransform(),e=this._getTransformedDimensions(),u=c(e,s,!0);return u.scalarAdd(2*this.padding)}})}(),n.util.object.extend(n.Object.prototype,{sendToBack:function(){return this.group?n.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?n.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(l){return this.group?n.StaticCanvas.prototype.sendBackwards.call(this.group,this,l):this.canvas&&this.canvas.sendBackwards(this,l),this},bringForward:function(l){return this.group?n.StaticCanvas.prototype.bringForward.call(this.group,this,l):this.canvas&&this.canvas.bringForward(this,l),this},moveTo:function(l){return this.group&&this.group.type!=="activeSelection"?n.StaticCanvas.prototype.moveTo.call(this.group,this,l):this.canvas&&this.canvas.moveTo(this,l),this}}),function(){function l(t,i){if(i){if(i.toLive)return t+": url(#SVGID_"+i.id+"); ";var c=new n.Color(i),s=t+": "+c.toRgb()+"; ",e=c.getAlpha();return e!==1&&(s+=t+"-opacity: "+e.toString()+"; "),s}else return t+": none; "}var a=n.util.toFixed;n.util.object.extend(n.Object.prototype,{getSvgStyles:function(t){var i=this.fillRule?this.fillRule:"nonzero",c=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):"none",e=this.strokeDashOffset?this.strokeDashOffset:"0",u=this.strokeLineCap?this.strokeLineCap:"butt",m=this.strokeLineJoin?this.strokeLineJoin:"miter",g=this.strokeMiterLimit?this.strokeMiterLimit:"4",y=typeof this.opacity<"u"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",v=t?"":this.getSvgFilter(),o=l("fill",this.fill),S=l("stroke",this.stroke);return[S,"stroke-width: ",c,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",u,"; ","stroke-dashoffset: ",e,"; ","stroke-linejoin: ",m,"; ","stroke-miterlimit: ",g,"; ",o,"fill-rule: ",i,"; ","opacity: ",y,";",v,b].join("")},getSvgSpanStyles:function(t,i){var c="; ",e=t.fontFamily?"font-family: "+(t.fontFamily.indexOf("'")===-1&&t.fontFamily.indexOf('"')===-1?"'"+t.fontFamily+"'":t.fontFamily)+c:"",s=t.strokeWidth?"stroke-width: "+t.strokeWidth+c:"",e=e,u=t.fontSize?"font-size: "+t.fontSize+"px"+c:"",m=t.fontStyle?"font-style: "+t.fontStyle+c:"",g=t.fontWeight?"font-weight: "+t.fontWeight+c:"",y=t.fill?l("fill",t.fill):"",b=t.stroke?l("stroke",t.stroke):"",v=this.getSvgTextDecoration(t),o=t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"";return v&&(v="text-decoration: "+v+c),[b,s,e,u,m,g,v,y,o,i?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter(function(i){return t[i.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,i){var c=t?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'+n.util.matrixToSVG(c);return s+(i||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var i=n.Object.NUM_FRACTION_DIGITS;t.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,i),'" y="',a(-this.height/2,i),'" width="',a(this.width,i),'" height="',a(this.height,i),`"></rect>
`)}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,i){i=i||{};var c=i.reviver,s=i.additionalTransform||"",e=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(""),u=t.indexOf("COMMON_PARTS");return t[u]=e,c?c(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,i){i=i||{};var c=i.noStyle,s=i.reviver,e=c?"":'style="'+this.getSvgStyles()+'" ',u=i.withShadow?'style="'+this.getSvgFilter()+'" ':"",m=this.clipPath,g=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",y=m&&m.absolutePositioned,b=this.stroke,v=this.fill,o=this.shadow,S,T=[],E,k=t.indexOf("COMMON_PARTS"),M=i.additionalTransform;return m&&(m.clipPathId="CLIPPATH_"+n.Object.__uid++,E='<clipPath id="'+m.clipPathId+`" >
`+m.toClipPathSVG(s)+`</clipPath>
`),y&&T.push("<g ",u,this.getSvgCommons(),` >
`),T.push("<g ",this.getSvgTransform(!1),y?"":u+this.getSvgCommons(),` >
`),S=[e,g,c?"":this.addPaintOrder()," ",M?'transform="'+M+'" ':""].join(""),t[k]=S,v&&v.toLive&&T.push(v.toSVG(this)),b&&b.toLive&&T.push(b.toSVG(this)),o&&T.push(o.toSVG(this)),m&&T.push(E),T.push(t.join("")),T.push(`</g>
`),y&&T.push(`</g>
`),s?s(T.join("")):T.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var l=n.util.object.extend,a="stateProperties";function t(c,s,e){var u={},m=!0;e.forEach(function(g){u[g]=c[g]}),l(c[s],u,m)}function i(c,s,e){if(c===s)return!0;if(Array.isArray(c)){if(!Array.isArray(s)||c.length!==s.length)return!1;for(var u=0,m=c.length;u<m;u++)if(!i(c[u],s[u]))return!1;return!0}else if(c&&typeof c=="object"){var g=Object.keys(c),y;if(!s||typeof s!="object"||!e&&g.length!==Object.keys(s).length)return!1;for(var u=0,m=g.length;u<m;u++)if(y=g[u],!(y==="canvas"||y==="group")&&!i(c[y],s[y]))return!1;return!0}}n.util.object.extend(n.Object.prototype,{hasStateChanged:function(c){c=c||a;var s="_"+c;return Object.keys(this[s]).length<this[c].length?!0:!i(this[s],this,!0)},saveState:function(c){var s=c&&c.propertySet||a,e="_"+s;return this[e]?(t(this,e,this[s]),c&&c.stateProperties&&t(this,e,c.stateProperties),this):this.setupState(c)},setupState:function(c){c=c||{};var s=c.propertySet||a;return c.propertySet=s,this["_"+s]={},this.saveState(c),this}})}(),function(){var l=n.util.degreesToRadians;n.util.object.extend(n.Object.prototype,{_findTargetCorner:function(a,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var i=a.x,c=a.y,s,e,u=Object.keys(this.oCoords),m=u.length-1,g;for(this.__corner=0;m>=0;m--)if(g=u[m],!!this.isControlVisible(g)&&(e=this._getImageLines(t?this.oCoords[g].touchCorner:this.oCoords[g].corner),s=this._findCrossPoints({x:i,y:c},e),s!==0&&s%2===1))return this.__corner=g,g;return!1},forEachControl:function(a){for(var t in this.controls)a(this.controls[t],t,this)},_setCornerCoords:function(){var a=this.oCoords;for(var t in a){var i=this.controls[t];a[t].corner=i.calcCornerCoords(this.angle,this.cornerSize,a[t].x,a[t].y,!1),a[t].touchCorner=i.calcCornerCoords(this.angle,this.touchCornerSize,a[t].x,a[t].y,!0)}},drawSelectionBackground:function(a){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;a.save();var t=this.getCenterPoint(),i=this._calculateCurrentDimensions(),c=this.canvas.viewportTransform;return a.translate(t.x,t.y),a.scale(1/c[0],1/c[3]),a.rotate(l(this.angle)),a.fillStyle=this.selectionBackgroundColor,a.fillRect(-i.x/2,-i.y/2,i.x,i.y),a.restore(),this},drawBorders:function(a,t){t=t||{};var i=this._calculateCurrentDimensions(),c=this.borderScaleFactor,s=i.x+c,e=i.y+c,u=typeof t.hasControls<"u"?t.hasControls:this.hasControls,m=!1;return a.save(),a.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(a,t.borderDashArray||this.borderDashArray),a.strokeRect(-s/2,-e/2,s,e),u&&(a.beginPath(),this.forEachControl(function(g,y,b){g.withConnection&&g.getVisibility(b,y)&&(m=!0,a.moveTo(g.x*s,g.y*e),a.lineTo(g.x*s+g.offsetX,g.y*e+g.offsetY))}),m&&a.stroke()),a.restore(),this},drawBordersInGroup:function(a,t,i){i=i||{};var c=n.util.sizeAfterTransform(this.width,this.height,t),s=this.strokeWidth,e=this.strokeUniform,u=this.borderScaleFactor,m=c.x+s*(e?this.canvas.getZoom():t.scaleX)+u,g=c.y+s*(e?this.canvas.getZoom():t.scaleY)+u;return a.save(),this._setLineDash(a,i.borderDashArray||this.borderDashArray),a.strokeStyle=i.borderColor||this.borderColor,a.strokeRect(-m/2,-g/2,m,g),a.restore(),this},drawControls:function(a,t){t=t||{},a.save();var i=this.canvas.getRetinaScaling(),c,s;return a.setTransform(i,0,0,i,0,0),a.strokeStyle=a.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(a.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(a,t.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(c=this.group.calcTransformMatrix()),this.forEachControl(function(e,u,m){s=m.oCoords[u],e.getVisibility(m,u)&&(c&&(s=n.util.transformPoint(s,c)),e.render(a,s.x,s.y,t,m))}),a.restore(),this},isControlVisible:function(a){return this.controls[a]&&this.controls[a].getVisibility(this,a)},setControlVisible:function(a,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[a]=t,this},setControlsVisibility:function(a){a||(a={});for(var t in a)this.setControlVisible(t,a[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),n.util.object.extend(n.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(l,a){a=a||{};var t=function(){},i=a.onComplete||t,c=a.onChange||t,s=this;return n.util.animate({target:this,startValue:l.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(e){l.set("left",e),s.requestRenderAll(),c()},onComplete:function(){l.setCoords(),i()}})},fxCenterObjectV:function(l,a){a=a||{};var t=function(){},i=a.onComplete||t,c=a.onChange||t,s=this;return n.util.animate({target:this,startValue:l.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(e){l.set("top",e),s.requestRenderAll(),c()},onComplete:function(){l.setCoords(),i()}})},fxRemove:function(l,a){a=a||{};var t=function(){},i=a.onComplete||t,c=a.onChange||t,s=this;return n.util.animate({target:this,startValue:l.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){l.set("opacity",e),s.requestRenderAll(),c()},onComplete:function(){s.remove(l),i()}})}}),n.util.object.extend(n.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var l=[],a,t,i=[];for(a in arguments[0])l.push(a);for(var c=0,s=l.length;c<s;c++)a=l[c],t=c!==s-1,i.push(this._animate(a,arguments[0][a],arguments[1],t));return i}else return this._animate.apply(this,arguments)},_animate:function(l,a,t,i){var c=this,s;a=a.toString(),t?t=n.util.object.clone(t):t={},~l.indexOf(".")&&(s=l.split("."));var e=c.colorProperties.indexOf(l)>-1||s&&c.colorProperties.indexOf(s[1])>-1,u=s?this.get(s[0])[s[1]]:this.get(l);"from"in t||(t.from=u),e||(~a.indexOf("=")?a=u+parseFloat(a.replace("=","")):a=parseFloat(a));var m={target:this,startValue:t.from,endValue:a,byValue:t.by,easing:t.easing,duration:t.duration,abort:t.abort&&function(g,y,b){return t.abort.call(c,g,y,b)},onChange:function(g,y,b){s?c[s[0]][s[1]]=g:c.set(l,g),!i&&t.onChange&&t.onChange(g,y,b)},onComplete:function(g,y,b){i||(c.setCoords(),t.onComplete&&t.onComplete(g,y,b))}};return e?n.util.animateColor(m.startValue,m.endValue,m.duration,m):n.util.animate(m)}}),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend,i=a.util.object.clone,c={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,u){e||(e=[0,0,0,0]),this.callSuper("initialize",u),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(u)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,u){return this.callSuper("_set",e,u),typeof c[e]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){e.beginPath();var u=this.calcLinePoints();e.moveTo(u.x1,u.y1),e.lineTo(u.x2,u.y2),e.lineWidth=this.strokeWidth;var m=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=m},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return t(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,u=this.y1<=this.y2?-1:1,m=e*this.width*.5,g=u*this.height*.5,y=e*this.width*-.5,b=u*this.height*-.5;return{x1:m,x2:y,y1:g,y2:b}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(e,u,m){m=m||{};var g=a.parseAttributes(e,a.Line.ATTRIBUTE_NAMES),y=[g.x1||0,g.y1||0,g.x2||0,g.y2||0];u(new a.Line(y,t(g,m)))},a.Line.fromObject=function(e,u){function m(y){delete y.points,u&&u(y)}var g=i(e,!0);g.points=[e.x1,e.y1,e.x2,e.y2],a.Object._fromObject("Line",g,m,"points")};function s(e,u){var m=e.origin,g=e.axis1,y=e.axis2,b=e.dimension,v=u.nearest,o=u.center,S=u.farthest;return function(){switch(this.get(m)){case v:return Math.min(this.get(g),this.get(y));case o:return Math.min(this.get(g),this.get(y))+.5*this.get(b);case S:return Math.max(this.get(g),this.get(y))}}}}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.degreesToRadians;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(c,s){return this.callSuper("_set",c,s),c==="radius"&&this.setRadius(s),this},toObject:function(c){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(c))},_toSVG:function(){var c,s=0,e=0,u=(this.endAngle-this.startAngle)%360;if(u===0)c=["<circle ","COMMON_PARTS",'cx="'+s+'" cy="'+e+'" ','r="',this.radius,`" />
`];else{var m=t(this.startAngle),g=t(this.endAngle),y=this.radius,b=a.util.cos(m)*y,v=a.util.sin(m)*y,o=a.util.cos(g)*y,S=a.util.sin(g)*y,T=u>180?"1":"0";c=['<path d="M '+b+" "+v," A "+y+" "+y," 0 ",+T+" 1"," "+o+" "+S,'" ',"COMMON_PARTS",` />
`]}return c},_render:function(c){c.beginPath(),c.arc(0,0,this.radius,t(this.startAngle),t(this.endAngle),!1),this._renderPaintInOrder(c)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(c){return this.radius=c,this.set("width",c*2).set("height",c*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(c,s){var e=a.parseAttributes(c,a.Circle.ATTRIBUTE_NAMES);if(!i(e))throw new Error("value of `r` attribute is required and can not be negative");e.left=(e.left||0)-e.radius,e.top=(e.top||0)-e.radius,s(new a.Circle(e))};function i(c){return"radius"in c&&c.radius>=0}a.Circle.fromObject=function(c,s){a.Object._fromObject("Circle",c,s)}}(r),function(l){var a=l.fabric||(l.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(t){var i=this.width/2,c=this.height/2;t.beginPath(),t.moveTo(-i,c),t.lineTo(0,-c),t.lineTo(i,c),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,i=this.height/2,c=[-t+" "+i,"0 "+-i,t+" "+i].join(",");return["<polygon ","COMMON_PARTS",'points="',c,'" />']}}),a.Triangle.fromObject=function(t,i){return a.Object._fromObject("Triangle",t,i)}}(r),function(l){var a=l.fabric||(l.fabric={}),t=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(i){this.callSuper("initialize",i),this.set("rx",i&&i.rx||0),this.set("ry",i&&i.ry||0)},_set:function(i,c){switch(this.callSuper("_set",i,c),i){case"rx":this.rx=c,this.set("width",c*2);break;case"ry":this.ry=c,this.set("height",c*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(i){return this.callSuper("toObject",["rx","ry"].concat(i))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(i){i.beginPath(),i.save(),i.transform(1,0,0,this.ry/this.rx,0,0),i.arc(0,0,this.rx,0,t,!1),i.restore(),this._renderPaintInOrder(i)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(i,c){var s=a.parseAttributes(i,a.Ellipse.ATTRIBUTE_NAMES);s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,c(new a.Ellipse(s))},a.Ellipse.fromObject=function(i,c){a.Object._fromObject("Ellipse",i,c)}}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(i){this.callSuper("initialize",i),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(i){var c=this.rx?Math.min(this.rx,this.width/2):0,s=this.ry?Math.min(this.ry,this.height/2):0,e=this.width,u=this.height,m=-this.width/2,g=-this.height/2,y=c!==0||s!==0,b=1-.5522847498;i.beginPath(),i.moveTo(m+c,g),i.lineTo(m+e-c,g),y&&i.bezierCurveTo(m+e-b*c,g,m+e,g+b*s,m+e,g+s),i.lineTo(m+e,g+u-s),y&&i.bezierCurveTo(m+e,g+u-b*s,m+e-b*c,g+u,m+e-c,g+u),i.lineTo(m+c,g+u),y&&i.bezierCurveTo(m+b*c,g+u,m,g+u-b*s,m,g+u-s),i.lineTo(m,g+s),y&&i.bezierCurveTo(m,g+b*s,m+b*c,g,m+c,g),i.closePath(),this._renderPaintInOrder(i)},toObject:function(i){return this.callSuper("toObject",["rx","ry"].concat(i))},_toSVG:function(){var i=-this.width/2,c=-this.height/2;return["<rect ","COMMON_PARTS",'x="',i,'" y="',c,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(i,c,s){if(!i)return c(null);s=s||{};var e=a.parseAttributes(i,a.Rect.ATTRIBUTE_NAMES);e.left=e.left||0,e.top=e.top||0,e.height=e.height||0,e.width=e.width||0;var u=new a.Rect(t(s?a.util.object.clone(s):{},e));u.visible=u.visible&&u.width>0&&u.height>0,c(u)},a.Rect.fromObject=function(i,c){return a.Object._fromObject("Rect",i,c)}}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend,i=a.util.array.min,c=a.util.array.max,s=a.util.toFixed,e=a.util.projectStrokeOnPoints;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(u,m){m=m||{},this.points=u||[],this.callSuper("initialize",m),this._setPositionDimensions(m)},_projectStrokeOnPoints:function(){return e(this.points,this,!0)},_setPositionDimensions:function(u){var m=this._calcDimensions(u),g,y=this.exactBoundingBox?this.strokeWidth:0;this.width=m.width-y,this.height=m.height-y,u.fromSVG||(g=this.translateToGivenOrigin({x:m.left-this.strokeWidth/2+y/2,y:m.top-this.strokeWidth/2+y/2},"left","top",this.originX,this.originY)),typeof u.left>"u"&&(this.left=u.fromSVG?m.left:g.x),typeof u.top>"u"&&(this.top=u.fromSVG?m.top:g.y),this.pathOffset={x:m.left+this.width/2+y/2,y:m.top+this.height/2+y/2}},_calcDimensions:function(){var u=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,m=i(u,"x")||0,g=i(u,"y")||0,y=c(u,"x")||0,b=c(u,"y")||0,v=y-m,o=b-g;return{left:m,top:g,width:v,height:o}},toObject:function(u){return t(this.callSuper("toObject",u),{points:this.points.concat()})},_toSVG:function(){for(var u=[],m=this.pathOffset.x,g=this.pathOffset.y,y=a.Object.NUM_FRACTION_DIGITS,b=0,v=this.points.length;b<v;b++)u.push(s(this.points[b].x-m,y),",",s(this.points[b].y-g,y)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',u.join(""),`" />
`]},commonRender:function(u){var m,g=this.points.length,y=this.pathOffset.x,b=this.pathOffset.y;if(!g||isNaN(this.points[g-1].y))return!1;u.beginPath(),u.moveTo(this.points[0].x-y,this.points[0].y-b);for(var v=0;v<g;v++)m=this.points[v],u.lineTo(m.x-y,m.y-b);return!0},_render:function(u){this.commonRender(u)&&this._renderPaintInOrder(u)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(u){return function(m,g,y){if(!m)return g(null);y||(y={});var b=a.parsePointsAttribute(m.getAttribute("points")),v=a.parseAttributes(m,a[u].ATTRIBUTE_NAMES);v.fromSVG=!0,g(new a[u](b,t(v,y)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(u,m){return a.Object._fromObject("Polyline",u,m,"points")}}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.projectStrokeOnPoints;if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return t(this.points,this)},_render:function(i){this.commonRender(i)&&(i.closePath(),this._renderPaintInOrder(i))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(i,c){a.Object._fromObject("Polygon",i,c,"points")}}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.array.min,i=a.util.array.max,c=a.util.object.extend,s=a.util.object.clone,e=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(u,m){m=s(m||{}),delete m.path,this.callSuper("initialize",m),this._setPath(u||[],m)},_setPath:function(u,m){this.path=a.util.makePathSimpler(Array.isArray(u)?u:a.util.parsePath(u)),a.Polyline.prototype._setPositionDimensions.call(this,m||{})},_renderPathCommands:function(u){var m,g=0,y=0,b=0,v=0,o=0,S=0,T=-this.pathOffset.x,E=-this.pathOffset.y;u.beginPath();for(var k=0,M=this.path.length;k<M;++k)switch(m=this.path[k],m[0]){case"L":b=m[1],v=m[2],u.lineTo(b+T,v+E);break;case"M":b=m[1],v=m[2],g=b,y=v,u.moveTo(b+T,v+E);break;case"C":b=m[5],v=m[6],o=m[3],S=m[4],u.bezierCurveTo(m[1]+T,m[2]+E,o+T,S+E,b+T,v+E);break;case"Q":u.quadraticCurveTo(m[1]+T,m[2]+E,m[3]+T,m[4]+E),b=m[3],v=m[4],o=m[1],S=m[2];break;case"z":case"Z":b=g,v=y,u.closePath();break}},_render:function(u){this._renderPathCommands(u),this._renderPaintInOrder(u)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(u){return c(this.callSuper("toObject",u),{path:this.path.map(function(m){return m.slice()})})},toDatalessObject:function(u){var m=this.toObject(["sourcePath"].concat(u));return m.sourcePath&&delete m.path,m},_toSVG:function(){var u=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',u,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var u=a.Object.NUM_FRACTION_DIGITS;return" translate("+e(-this.pathOffset.x,u)+", "+e(-this.pathOffset.y,u)+")"},toClipPathSVG:function(u){var m=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:m})},toSVG:function(u){var m=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,additionalTransform:m})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var u=[],m=[],g,y=0,b=0,v=0,o=0,S,T=0,E=this.path.length;T<E;++T){switch(g=this.path[T],g[0]){case"L":v=g[1],o=g[2],S=[];break;case"M":v=g[1],o=g[2],y=v,b=o,S=[];break;case"C":S=a.util.getBoundsOfCurve(v,o,g[1],g[2],g[3],g[4],g[5],g[6]),v=g[5],o=g[6];break;case"Q":S=a.util.getBoundsOfCurve(v,o,g[1],g[2],g[1],g[2],g[3],g[4]),v=g[3],o=g[4];break;case"z":case"Z":v=y,o=b;break}S.forEach(function(G){u.push(G.x),m.push(G.y)}),u.push(v),m.push(o)}var k=t(u)||0,M=t(m)||0,O=i(u)||0,L=i(m)||0,te=O-k,B=L-M;return{left:k,top:M,width:te,height:B}}}),a.Path.fromObject=function(u,m){if(typeof u.sourcePath=="string"){var g=u.sourcePath;a.loadSVGFromURL(g,function(y){var b=y[0];b.setOptions(u),u.clipPath?a.util.enlivenObjects([u.clipPath],function(v){b.clipPath=v[0],m&&m(b)}):m&&m(b)})}else a.Object._fromObject("Path",u,m,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(u,m,g){var y=a.parseAttributes(u,a.Path.ATTRIBUTE_NAMES);y.fromSVG=!0,m(new a.Path(y.d,c(y,g)))}}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.array.min,i=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(c,s,e){s=s||{},this._objects=[],e&&this.callSuper("initialize",s),this._objects=c||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;if(e)this._updateObjectsACoords();else{var m=s&&s.centerPoint;s.originX!==void 0&&(this.originX=s.originX),s.originY!==void 0&&(this.originY=s.originY),m||this._calcBounds(),this._updateObjectsCoords(m),delete s.centerPoint,this.callSuper("initialize",s)}this.setCoords()},_updateObjectsACoords:function(){for(var c=!0,s=this._objects.length;s--;)this._objects[s].setCoords(c)},_updateObjectsCoords:function(s){for(var s=s||this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],s)},_updateObjectCoords:function(c,s){var e=c.left,u=c.top,m=!0;c.set({left:e-s.x,top:u-s.y}),c.group=this,c.setCoords(m)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(c){var s=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),c&&(s&&a.util.removeTransformFromObject(c,this.group.calcTransformMatrix()),this._objects.push(c),c.group=this,c._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,s?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(c){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(c),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(c){this.dirty=!0,c.group=this,c._set("canvas",this.canvas)},_onObjectRemoved:function(c){this.dirty=!0,delete c.group},_set:function(c,s){var e=this._objects.length;if(this.useSetOnGroup)for(;e--;)this._objects[e].setOnGroup(c,s);if(c==="canvas")for(;e--;)this._objects[e]._set(c,s);a.Object.prototype._set.call(this,c,s)},toObject:function(c){var s=this.includeDefaultValues,e=this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){var g=m.includeDefaultValues;m.includeDefaultValues=s;var y=m.toObject(c);return m.includeDefaultValues=g,y}),u=a.Object.prototype.toObject.call(this,c);return u.objects=e,u},toDatalessObject:function(c){var s,e=this.sourcePath;if(e)s=e;else{var u=this.includeDefaultValues;s=this._objects.map(function(g){var y=g.includeDefaultValues;g.includeDefaultValues=u;var b=g.toDatalessObject(c);return g.includeDefaultValues=y,b})}var m=a.Object.prototype.toDatalessObject.call(this,c);return m.objects=s,m},render:function(c){this._transformDone=!0,this.callSuper("render",c),this._transformDone=!1},shouldCache:function(){var c=a.Object.prototype.shouldCache.call(this);if(c){for(var s=0,e=this._objects.length;s<e;s++)if(this._objects[s].willDrawShadow())return this.ownCaching=!1,!1}return c},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var c=0,s=this._objects.length;c<s;c++)if(this._objects[c].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(c){for(var s=0,e=this._objects.length;s<e;s++)this._objects[s].render(c);this._drawClipPath(c,this.clipPath)},isCacheDirty:function(c){if(this.callSuper("isCacheDirty",c))return!0;if(!this.statefullCache)return!1;for(var s=0,e=this._objects.length;s<e;s++)if(this._objects[s].isCacheDirty(!0)){if(this._cacheCanvas){var u=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-u/2,-m/2,u,m)}return!0}return!1},_restoreObjectsState:function(){var c=this.calcOwnMatrix();return this._objects.forEach(function(s){a.util.addTransformToObject(s,c),delete s.group,s.setCoords()}),this},destroy:function(){return this._objects.forEach(function(c){c.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(c){c.dispose&&c.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var c=this._objects,s=this.canvas;this._objects=[];var e=this.toObject();delete e.objects;var u=new a.ActiveSelection([]);return u.set(e),u.type="activeSelection",s.remove(this),c.forEach(function(m){m.group=u,m.dirty=!0,s.add(m)}),u.canvas=s,u._objects=c,s._activeObject=u,u.setCoords(),u}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var c=!0;return this.forEachObject(function(s){s.setCoords(c)}),this},_calcBounds:function(c){for(var s=[],e=[],u,m,g,y=["tr","br","bl","tl"],b=0,v=this._objects.length,o,S=y.length;b<v;++b){for(u=this._objects[b],g=u.calcACoords(),o=0;o<S;o++)m=y[o],s.push(g[m].x),e.push(g[m].y);u.aCoords=g}this._getBounds(s,e,c)},_getBounds:function(c,s,e){var u=new a.Point(t(c),t(s)),m=new a.Point(i(c),i(s)),g=u.y||0,y=u.x||0,b=m.x-u.x||0,v=m.y-u.y||0;this.width=b,this.height=v,e||this.setPositionByOrigin({x:y,y:g},"left","top")},_toSVG:function(c){for(var s=["<g ","COMMON_PARTS",` >
`],e=0,u=this._objects.length;e<u;e++)s.push("		",this._objects[e].toSVG(c));return s.push(`</g>
`),s},getSvgStyles:function(){var c=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",s=this.visible?"":" visibility: hidden;";return[c,this.getSvgFilter(),s].join("")},toClipPathSVG:function(c){for(var s=[],e=0,u=this._objects.length;e<u;e++)s.push("	",this._objects[e].toClipPathSVG(c));return this._createBaseClipPathSVGMarkup(s,{reviver:c})}}),a.Group.fromObject=function(c,s){var e=c.objects,u=a.util.object.clone(c,!0);if(delete u.objects,typeof e=="string"){a.loadSVGFromURL(e,function(m){var g=a.util.groupSVGElements(m,c,e),y=u.clipPath;delete u.clipPath,g.set(u),y?a.util.enlivenObjects([y],function(b){g.clipPath=b[0],s&&s(g)}):s&&s(g)});return}a.util.enlivenObjects(e,function(m){a.util.enlivenObjectEnlivables(c,u,function(){s&&s(new a.Group(m,u,!0))})})})}(r),function(l){var a=l.fabric||(l.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(t,i){i=i||{},this._objects=t||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;i.originX&&(this.originX=i.originX),i.originY&&(this.originY=i.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,i),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var i=a.Object.prototype.toObject.call(this),c=new a.Group([]);if(delete i.type,c.set(i),t.forEach(function(e){e.canvas.remove(e),e.group=c}),c._objects=t,!this.canvas)return c;var s=this.canvas;return s.add(c),s._activeObject=c,c.setCoords(),c},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,i,c){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,i),c=c||{},typeof c.hasControls>"u"&&(c.hasControls=!1),c.forActiveSelection=!0;for(var s=0,e=this._objects.length;s<e;s++)this._objects[s]._renderControls(t,c);t.restore()}}),a.ActiveSelection.fromObject=function(t,i){a.util.enlivenObjects(t.objects,function(c){delete t.objects,i&&i(new a.ActiveSelection(c,t,!0))})})}(r),function(l){var a=n.util.object.extend;if(l.fabric||(l.fabric={}),l.fabric.Image){n.warn("fabric.Image is already defined.");return}n.Image=n.util.createClass(n.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:n.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:n.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,i){i||(i={}),this.filters=[],this.cacheKey="texture"+n.Object.__uid++,this.callSuper("initialize",i),this._initElement(t,i)},getElement:function(){return this._element||{}},setElement:function(t,i){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(i),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var i=n.filterBackend;i&&i.evictCachesForKey&&i.evictCachesForKey(t)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){n.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(!(!this.stroke||this.strokeWidth===0)){var i=this.width/2,c=this.height/2;t.beginPath(),t.moveTo(-i,-c),t.lineTo(i,-c),t.lineTo(i,c),t.lineTo(-i,c),t.lineTo(-i,-c),t.closePath()}},toObject:function(t){var i=[];this.filters.forEach(function(s){s&&i.push(s.toObject())});var c=a(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:i});return this.resizeFilter&&(c.resizeFilter=this.resizeFilter.toObject()),c},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t=[],i=[],c,s=this._element,e=-this.width/2,u=-this.height/2,m="",g="";if(!s)return[];if(this.hasCrop()){var y=n.Object.__uid++;t.push('<clipPath id="imageCrop_'+y+`">
`,'	<rect x="'+e+'" y="'+u+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),m=' clip-path="url(#imageCrop_'+y+')" '}if(this.imageSmoothing||(g='" image-rendering="optimizeSpeed'),i.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',e-this.cropX,'" y="',u-this.cropY,'" width="',s.width||s.naturalWidth,'" height="',s.height||s.height,g,'"',m,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,c=["	<rect ",'x="',e,'" y="',u,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?t=t.concat(c,i):t=t.concat(i,c),t},getSrc:function(t){var i=t?this._element:this._originalElement;return i?i.toDataURL?i.toDataURL():this.srcFromAttribute?i.getAttribute("src"):i.src:this.src||""},setSrc:function(t,i,c){return n.util.loadImage(t,function(s,e){this.setElement(s,c),this._setWidthHeight(),i&&i(this,e)},this,c&&c.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,i=this.minimumScaleTrigger,c=this.getTotalObjectScaling(),s=c.scaleX,e=c.scaleY,u=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||s>i&&e>i){this._element=u,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,this._lastScaleY=e;return}n.filterBackend||(n.filterBackend=n.initFilterBackend());var m=n.util.createCanvasElement(),g=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,y=u.width,b=u.height;m.width=y,m.height=b,this._element=m,this._lastScaleX=t.scaleX=s,this._lastScaleY=t.scaleY=e,n.filterBackend.applyFilters([t],u,y,b,this._element,g),this._filterScalingX=m.width/this._originalElement.width,this._filterScalingY=m.height/this._originalElement.height},applyFilters:function(t){if(t=t||this.filters||[],t=t.filter(function(u){return u&&!u.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),t.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var i=this._originalElement,c=i.naturalWidth||i.width,s=i.naturalHeight||i.height;if(this._element===this._originalElement){var e=n.util.createCanvasElement();e.width=c,e.height=s,this._element=e,this._filteredEl=e}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,c,s),this._lastScaleX=1,this._lastScaleY=1;return n.filterBackend||(n.filterBackend=n.initFilterBackend()),n.filterBackend.applyFilters(t,this._originalElement,c,s,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){n.util.setImageSmoothing(t,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){n.util.setImageSmoothing(t,this.imageSmoothing),n.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var i=this._element;if(i){var c=this._filterScalingX,s=this._filterScalingY,e=this.width,u=this.height,m=Math.min,g=Math.max,y=g(this.cropX,0),b=g(this.cropY,0),v=i.naturalWidth||i.width,o=i.naturalHeight||i.height,S=y*c,T=b*s,E=m(e*c,v-S),k=m(u*s,o-T),M=-e/2,O=-u/2,L=m(e,v/c-y),te=m(u,o/s-b);i&&t.drawImage(i,S,T,E,k,M,O,L,te)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,i){this.setElement(n.util.getById(t),i),n.util.addClass(this.getElement(),n.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,i){t&&t.length?n.util.enlivenObjects(t,function(c){i&&i(c)},"fabric.Image.filters"):i&&i()},_setWidthHeight:function(t){t||(t={});var i=this.getElement();this.width=t.width||i.naturalWidth||i.width||0,this.height=t.height||i.naturalHeight||i.height||0},parsePreserveAspectRatioAttribute:function(){var t=n.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),i=this._element.width,c=this._element.height,s=1,e=1,u=0,m=0,g=0,y=0,b,v=this.width,o=this.height,S={width:v,height:o};return t&&(t.alignX!=="none"||t.alignY!=="none")?(t.meetOrSlice==="meet"&&(s=e=n.util.findScaleToFit(this._element,S),b=(v-i*s)/2,t.alignX==="Min"&&(u=-b),t.alignX==="Max"&&(u=b),b=(o-c*e)/2,t.alignY==="Min"&&(m=-b),t.alignY==="Max"&&(m=b)),t.meetOrSlice==="slice"&&(s=e=n.util.findScaleToCover(this._element,S),b=i-v/s,t.alignX==="Mid"&&(g=b/2),t.alignX==="Max"&&(g=b),b=c-o/e,t.alignY==="Mid"&&(y=b/2),t.alignY==="Max"&&(y=b),i=v/s,c=o/e)):(s=v/i,e=o/c),{width:i,height:c,scaleX:s,scaleY:e,offsetLeft:u,offsetTop:m,cropX:g,cropY:y}}}),n.Image.CSS_CANVAS="canvas-img",n.Image.prototype.getSvgSrc=n.Image.prototype.getSrc,n.Image.fromObject=function(t,i){var c=n.util.object.clone(t);n.util.loadImage(c.src,function(s,e){if(e){i&&i(null,!0);return}n.Image.prototype._initFilters.call(c,c.filters,function(u){c.filters=u||[],n.Image.prototype._initFilters.call(c,[c.resizeFilter],function(m){c.resizeFilter=m[0],n.util.enlivenObjectEnlivables(c,c,function(){var g=new n.Image(s,c);i(g,!1)})})})},null,c.crossOrigin)},n.Image.fromURL=function(t,i,c){n.util.loadImage(t,function(s,e){i&&i(new n.Image(s,c),e)},null,c&&c.crossOrigin)},n.Image.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),n.Image.fromElement=function(t,i,c){var s=n.parseAttributes(t,n.Image.ATTRIBUTE_NAMES);n.Image.fromURL(s["xlink:href"],i,a(c?n.util.object.clone(c):{},s))}}(r),n.util.object.extend(n.Object.prototype,{_getAngleValueForStraighten:function(){var l=this.angle%360;return l>0?Math.round((l-1)/90)*90:Math.round(l/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(l){l=l||{};var a=function(){},t=l.onComplete||a,i=l.onChange||a,c=this;return n.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(s){c.rotate(s),i()},onComplete:function(){c.setCoords(),t()}})}}),n.util.object.extend(n.StaticCanvas.prototype,{straightenObject:function(l){return l.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(l){return l.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function l(t,i){var c="precision "+i+` float;
void main(){}`,s=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(s,c),t.compileShader(s),!!t.getShaderParameter(s,t.COMPILE_STATUS)}n.isWebglSupported=function(t){if(n.isLikelyNode)return!1;t=t||n.WebglFilterBackend.prototype.tileSize;var i=document.createElement("canvas"),c=i.getContext("webgl")||i.getContext("experimental-webgl"),s=!1;if(c){n.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),s=n.maxTextureSize>=t;for(var e=["highp","mediump","lowp"],u=0;u<3;u++)if(l(c,e[u])){n.webGlPrecision=e[u];break}}return this.isSupported=s,s},n.WebglFilterBackend=a;function a(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(t,i){this.dispose(),this.createWebGLCanvas(t,i),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,i)},chooseFastestCopyGLTo2DMethod:function(t,i){var c=typeof window.performance<"u",s;try{new ImageData(1,1),s=!0}catch{s=!1}var e=typeof ArrayBuffer<"u",u=typeof Uint8ClampedArray<"u";if(c&&s&&e&&u){var m=n.util.createCanvasElement(),g=new ArrayBuffer(t*i*4);if(n.forceGLPutImageData){this.imageBuffer=g,this.copyGLTo2D=$;return}var y={imageBuffer:g,destinationWidth:t,destinationHeight:i,targetCanvas:m},b,v,o;m.width=t,m.height=i,b=window.performance.now(),K.call(y,this.gl,y),v=window.performance.now()-b,b=window.performance.now(),$.call(y,this.gl,y),o=window.performance.now()-b,v>o?(this.imageBuffer=g,this.copyGLTo2D=$):this.copyGLTo2D=K}},createWebGLCanvas:function(t,i){var c=n.util.createCanvasElement();c.width=t,c.height=i;var s={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},e=c.getContext("webgl",s);e||(e=c.getContext("experimental-webgl",s)),e&&(e.clearColor(0,0,0,0),this.canvas=c,this.gl=e)},applyFilters:function(t,i,c,s,e,u){var m=this.gl,g;u&&(g=this.getCachedTexture(u,i));var y={originalWidth:i.width||i.originalWidth,originalHeight:i.height||i.originalHeight,sourceWidth:c,sourceHeight:s,destinationWidth:c,destinationHeight:s,context:m,sourceTexture:this.createTexture(m,c,s,!g&&i),targetTexture:this.createTexture(m,c,s),originalTexture:g||this.createTexture(m,c,s,!g&&i),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:e},b=m.createFramebuffer();return m.bindFramebuffer(m.FRAMEBUFFER,b),t.forEach(function(v){v&&v.applyTo(y)}),_(y),this.copyGLTo2D(m,y),m.bindTexture(m.TEXTURE_2D,null),m.deleteTexture(y.sourceTexture),m.deleteTexture(y.targetTexture),m.deleteFramebuffer(b),e.getContext("2d").setTransform(1,0,0,1,0,0),y},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,i,c,s,e){var u=t.createTexture();return t.bindTexture(t.TEXTURE_2D,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e||t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e||t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),s?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,s):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,i,c,0,t.RGBA,t.UNSIGNED_BYTE,null),u},getCachedTexture:function(t,i){if(this.textureCache[t])return this.textureCache[t];var c=this.createTexture(this.gl,i.width,i.height,i);return this.textureCache[t]=c,c},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:K,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,i={renderer:"",vendor:""};if(!t)return i;var c=t.getExtension("WEBGL_debug_renderer_info");if(c){var s=t.getParameter(c.UNMASKED_RENDERER_WEBGL),e=t.getParameter(c.UNMASKED_VENDOR_WEBGL);s&&(i.renderer=s.toLowerCase()),e&&(i.vendor=e.toLowerCase())}return this.gpuInfo=i,i}}}();function _(l){var a=l.targetCanvas,t=a.width,i=a.height,c=l.destinationWidth,s=l.destinationHeight;(t!==c||i!==s)&&(a.width=c,a.height=s)}function K(l,a){var t=l.canvas,i=a.targetCanvas,c=i.getContext("2d");c.translate(0,i.height),c.scale(1,-1);var s=t.height-i.height;c.drawImage(t,0,s,i.width,i.height,0,0,i.width,i.height)}function $(l,a){var t=a.targetCanvas,i=t.getContext("2d"),c=a.destinationWidth,s=a.destinationHeight,e=c*s*4,u=new Uint8Array(this.imageBuffer,0,e),m=new Uint8ClampedArray(this.imageBuffer,0,e);l.readPixels(0,0,c,s,l.RGBA,l.UNSIGNED_BYTE,u);var g=new ImageData(m,c,s);i.putImageData(g,0,0)}(function(){var l=function(){};n.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:l,dispose:l,clearWebGLCaches:l,resources:{},applyFilters:function(t,i,c,s,e){var u=e.getContext("2d");u.drawImage(i,0,0,c,s);var m=u.getImageData(0,0,c,s),g=u.getImageData(0,0,c,s),y={sourceWidth:c,sourceHeight:s,imageData:m,originalEl:i,originalImageData:g,canvasEl:e,ctx:u,filterBackend:this};return t.forEach(function(b){b.applyTo(y)}),(y.imageData.width!==c||y.imageData.height!==s)&&(e.width=y.imageData.width,e.height=y.imageData.height),u.putImageData(y.imageData,0,0),y}}})(),n.Image=n.Image||{},n.Image.filters=n.Image.filters||{},n.Image.filters.BaseFilter=n.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(l){l&&this.setOptions(l)},setOptions:function(l){for(var a in l)this[a]=l[a]},createProgram:function(l,a,t){a=a||this.fragmentSource,t=t||this.vertexSource,n.webGlPrecision!=="highp"&&(a=a.replace(/precision highp float/g,"precision "+n.webGlPrecision+" float"));var i=l.createShader(l.VERTEX_SHADER);if(l.shaderSource(i,t),l.compileShader(i),!l.getShaderParameter(i,l.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+l.getShaderInfoLog(i));var c=l.createShader(l.FRAGMENT_SHADER);if(l.shaderSource(c,a),l.compileShader(c),!l.getShaderParameter(c,l.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+l.getShaderInfoLog(c));var s=l.createProgram();if(l.attachShader(s,i),l.attachShader(s,c),l.linkProgram(s),!l.getProgramParameter(s,l.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+l.getProgramInfoLog(s));var e=this.getAttributeLocations(l,s),u=this.getUniformLocations(l,s)||{};return u.uStepW=l.getUniformLocation(s,"uStepW"),u.uStepH=l.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:e,uniformLocations:u}},getAttributeLocations:function(l,a){return{aPosition:l.getAttribLocation(a,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(l,a,t){var i=a.aPosition,c=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,c),l.enableVertexAttribArray(i),l.vertexAttribPointer(i,2,l.FLOAT,!1,0,0),l.bufferData(l.ARRAY_BUFFER,t,l.STATIC_DRAW)},_setupFrameBuffer:function(l){var a=l.context,t,i;l.passes>1?(t=l.destinationWidth,i=l.destinationHeight,(l.sourceWidth!==t||l.sourceHeight!==i)&&(a.deleteTexture(l.targetTexture),l.targetTexture=l.filterBackend.createTexture(a,t,i)),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,l.targetTexture,0)):(a.bindFramebuffer(a.FRAMEBUFFER,null),a.finish())},_swapTextures:function(l){l.passes--,l.pass++;var a=l.targetTexture;l.targetTexture=l.sourceTexture,l.sourceTexture=a},isNeutralState:function(){var l=this.mainParameter,a=n.Image.filters[this.type].prototype;if(l)if(Array.isArray(a[l])){for(var t=a[l].length;t--;)if(this[l][t]!==a[l][t])return!1;return!0}else return a[l]===this[l];else return!1},applyTo:function(l){l.webgl?(this._setupFrameBuffer(l),this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},retrieveShader:function(l){return l.programCache.hasOwnProperty(this.type)||(l.programCache[this.type]=this.createProgram(l.context)),l.programCache[this.type]},applyToWebGL:function(l){var a=l.context,t=this.retrieveShader(l);l.pass===0&&l.originalTexture?a.bindTexture(a.TEXTURE_2D,l.originalTexture):a.bindTexture(a.TEXTURE_2D,l.sourceTexture),a.useProgram(t.program),this.sendAttributeData(a,t.attributeLocations,l.aPosition),a.uniform1f(t.uniformLocations.uStepW,1/l.sourceWidth),a.uniform1f(t.uniformLocations.uStepH,1/l.sourceHeight),this.sendUniformData(a,t.uniformLocations),a.viewport(0,0,l.destinationWidth,l.destinationHeight),a.drawArrays(a.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(l,a,t){l.activeTexture(t),l.bindTexture(l.TEXTURE_2D,a),l.activeTexture(l.TEXTURE0)},unbindAdditionalTexture:function(l,a){l.activeTexture(a),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(l){this[this.mainParameter]=l},sendUniformData:function(){},createHelpLayer:function(l){if(!l.helpLayer){var a=document.createElement("canvas");a.width=l.sourceWidth,a.height=l.sourceHeight,l.helpLayer=a}},toObject:function(){var l={type:this.type},a=this.mainParameter;return a&&(l[a]=this[a]),l},toJSON:function(){return this.toObject()}}),n.Image.filters.BaseFilter.fromObject=function(l,a){var t=new n.Image.filters[l.type](l);return a&&a(t),t},function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.ColorMatrix=i(t.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(c){this.callSuper("initialize",c),this.matrix=this.matrix.slice(0)},applyTo2d:function(c){var s=c.imageData,e=s.data,u=e.length,m=this.matrix,g,y,b,v,o,S=this.colorsOnly;for(o=0;o<u;o+=4)g=e[o],y=e[o+1],b=e[o+2],S?(e[o]=g*m[0]+y*m[1]+b*m[2]+m[4]*255,e[o+1]=g*m[5]+y*m[6]+b*m[7]+m[9]*255,e[o+2]=g*m[10]+y*m[11]+b*m[12]+m[14]*255):(v=e[o+3],e[o]=g*m[0]+y*m[1]+b*m[2]+v*m[3]+m[4]*255,e[o+1]=g*m[5]+y*m[6]+b*m[7]+v*m[8]+m[9]*255,e[o+2]=g*m[10]+y*m[11]+b*m[12]+v*m[13]+m[14]*255,e[o+3]=g*m[15]+y*m[16]+b*m[17]+v*m[18]+m[19]*255)},getUniformLocations:function(c,s){return{uColorMatrix:c.getUniformLocation(s,"uColorMatrix"),uConstants:c.getUniformLocation(s,"uConstants")}},sendUniformData:function(c,s){var e=this.matrix,u=[e[0],e[1],e[2],e[3],e[5],e[6],e[7],e[8],e[10],e[11],e[12],e[13],e[15],e[16],e[17],e[18]],m=[e[4],e[9],e[14],e[19]];c.uniformMatrix4fv(s.uColorMatrix,!1,u),c.uniform4fv(s.uConstants,m)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Brightness=i(t.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(c){if(this.brightness!==0){var s=c.imageData,e=s.data,u,m=e.length,g=Math.round(this.brightness*255);for(u=0;u<m;u+=4)e[u]=e[u]+g,e[u+1]=e[u+1]+g,e[u+2]=e[u+2]+g}},getUniformLocations:function(c,s){return{uBrightness:c.getUniformLocation(s,"uBrightness")}},sendUniformData:function(c,s){c.uniform1f(s.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend,i=a.Image.filters,c=a.util.createClass;i.Convolute=c(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(s){var e=Math.sqrt(this.matrix.length),u=this.type+"_"+e+"_"+(this.opaque?1:0),m=this.fragmentSource[u];return s.programCache.hasOwnProperty(u)||(s.programCache[u]=this.createProgram(s.context,m)),s.programCache[u]},applyTo2d:function(s){var e=s.imageData,u=e.data,m=this.matrix,g=Math.round(Math.sqrt(m.length)),y=Math.floor(g/2),b=e.width,v=e.height,o=s.ctx.createImageData(b,v),S=o.data,T=this.opaque?1:0,E,k,M,O,L,te,B,G,R,I,U,P,A;for(U=0;U<v;U++)for(I=0;I<b;I++){for(L=(U*b+I)*4,E=0,k=0,M=0,O=0,A=0;A<g;A++)for(P=0;P<g;P++)B=U+A-y,te=I+P-y,!(B<0||B>=v||te<0||te>=b)&&(G=(B*b+te)*4,R=m[A*g+P],E+=u[G]*R,k+=u[G+1]*R,M+=u[G+2]*R,T||(O+=u[G+3]*R));S[L]=E,S[L+1]=k,S[L+2]=M,T?S[L+3]=u[L+3]:S[L+3]=O}s.imageData=o},getUniformLocations:function(s,e){return{uMatrix:s.getUniformLocation(e,"uMatrix"),uOpaque:s.getUniformLocation(e,"uOpaque"),uHalfSize:s.getUniformLocation(e,"uHalfSize"),uSize:s.getUniformLocation(e,"uSize")}},sendUniformData:function(s,e){s.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return t(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Grayscale=i(t.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(c){var s=c.imageData,e=s.data,u,m=e.length,g,y=this.mode;for(u=0;u<m;u+=4)y==="average"?g=(e[u]+e[u+1]+e[u+2])/3:y==="lightness"?g=(Math.min(e[u],e[u+1],e[u+2])+Math.max(e[u],e[u+1],e[u+2]))/2:y==="luminosity"&&(g=.21*e[u]+.72*e[u+1]+.07*e[u+2]),e[u]=g,e[u+1]=g,e[u+2]=g},retrieveShader:function(c){var s=this.type+"_"+this.mode;if(!c.programCache.hasOwnProperty(s)){var e=this.fragmentSource[this.mode];c.programCache[s]=this.createProgram(c.context,e)}return c.programCache[s]},getUniformLocations:function(c,s){return{uMode:c.getUniformLocation(s,"uMode")}},sendUniformData:function(c,s){var e=1;c.uniform1i(s.uMode,e)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Invert=i(t.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(c){var s=c.imageData,e=s.data,u,m=e.length;for(u=0;u<m;u+=4)e[u]=255-e[u],e[u+1]=255-e[u+1],e[u+2]=255-e[u+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(c,s){return{uInvert:c.getUniformLocation(s,"uInvert")}},sendUniformData:function(c,s){c.uniform1i(s.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend,i=a.Image.filters,c=a.util.createClass;i.Noise=c(i.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(s){if(this.noise!==0){var e=s.imageData,u=e.data,m,g=u.length,y=this.noise,b;for(m=0,g=u.length;m<g;m+=4)b=(.5-Math.random())*y,u[m]+=b,u[m+1]+=b,u[m+2]+=b}},getUniformLocations:function(s,e){return{uNoise:s.getUniformLocation(e,"uNoise"),uSeed:s.getUniformLocation(e,"uSeed")}},sendUniformData:function(s,e){s.uniform1f(e.uNoise,this.noise/255),s.uniform1f(e.uSeed,Math.random())},toObject:function(){return t(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Pixelate=i(t.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(c){var s=c.imageData,e=s.data,u=s.height,m=s.width,g,y,b,v,o,S,T,E,k,M,O;for(y=0;y<u;y+=this.blocksize)for(b=0;b<m;b+=this.blocksize)for(g=y*4*m+b*4,v=e[g],o=e[g+1],S=e[g+2],T=e[g+3],M=Math.min(y+this.blocksize,u),O=Math.min(b+this.blocksize,m),E=y;E<M;E++)for(k=b;k<O;k++)g=E*4*m+k*4,e[g]=v,e[g+1]=o,e[g+2]=S,e[g+3]=T},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(c,s){return{uBlocksize:c.getUniformLocation(s,"uBlocksize"),uStepW:c.getUniformLocation(s,"uStepW"),uStepH:c.getUniformLocation(s,"uStepH")}},sendUniformData:function(c,s){c.uniform1f(s.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.extend,i=a.Image.filters,c=a.util.createClass;i.RemoveColor=c(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(s){var e=s.imageData,u=e.data,m,g=this.distance*255,y,b,v,o=new a.Color(this.color).getSource(),S=[o[0]-g,o[1]-g,o[2]-g],T=[o[0]+g,o[1]+g,o[2]+g];for(m=0;m<u.length;m+=4)y=u[m],b=u[m+1],v=u[m+2],y>S[0]&&b>S[1]&&v>S[2]&&y<T[0]&&b<T[1]&&v<T[2]&&(u[m+3]=0)},getUniformLocations:function(s,e){return{uLow:s.getUniformLocation(e,"uLow"),uHigh:s.getUniformLocation(e,"uHigh")}},sendUniformData:function(s,e){var u=new a.Color(this.color).getSource(),m=parseFloat(this.distance),g=[0+u[0]/255-m,0+u[1]/255-m,0+u[2]/255-m,1],y=[u[0]/255+m,u[1]/255+m,u[2]/255+m,1];s.uniform4fv(e.uLow,g),s.uniform4fv(e.uHigh,y)},toObject:function(){return t(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass,c={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var s in c)t[s]=i(t.ColorMatrix,{type:s,matrix:c[s],mainParameter:!1,colorsOnly:!0}),a.Image.filters[s].fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric,t=a.Image.filters,i=a.util.createClass;t.BlendColor=i(t.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(c){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[c]+`}
}`},retrieveShader:function(c){var s=this.type+"_"+this.mode,e;return c.programCache.hasOwnProperty(s)||(e=this.buildSource(this.mode),c.programCache[s]=this.createProgram(c.context,e)),c.programCache[s]},applyTo2d:function(c){var s=c.imageData,e=s.data,u=e.length,m,g,y,b,v,o,S,T=1-this.alpha;S=new a.Color(this.color).getSource(),m=S[0]*this.alpha,g=S[1]*this.alpha,y=S[2]*this.alpha;for(var E=0;E<u;E+=4)switch(b=e[E],v=e[E+1],o=e[E+2],this.mode){case"multiply":e[E]=b*m/255,e[E+1]=v*g/255,e[E+2]=o*y/255;break;case"screen":e[E]=255-(255-b)*(255-m)/255,e[E+1]=255-(255-v)*(255-g)/255,e[E+2]=255-(255-o)*(255-y)/255;break;case"add":e[E]=b+m,e[E+1]=v+g,e[E+2]=o+y;break;case"diff":case"difference":e[E]=Math.abs(b-m),e[E+1]=Math.abs(v-g),e[E+2]=Math.abs(o-y);break;case"subtract":e[E]=b-m,e[E+1]=v-g,e[E+2]=o-y;break;case"darken":e[E]=Math.min(b,m),e[E+1]=Math.min(v,g),e[E+2]=Math.min(o,y);break;case"lighten":e[E]=Math.max(b,m),e[E+1]=Math.max(v,g),e[E+2]=Math.max(o,y);break;case"overlay":e[E]=m<128?2*b*m/255:255-2*(255-b)*(255-m)/255,e[E+1]=g<128?2*v*g/255:255-2*(255-v)*(255-g)/255,e[E+2]=y<128?2*o*y/255:255-2*(255-o)*(255-y)/255;break;case"exclusion":e[E]=m+b-2*m*b/255,e[E+1]=g+v-2*g*v/255,e[E+2]=y+o-2*y*o/255;break;case"tint":e[E]=m+b*T,e[E+1]=g+v*T,e[E+2]=y+o*T}},getUniformLocations:function(c,s){return{uColor:c.getUniformLocation(s,"uColor")}},sendUniformData:function(c,s){var e=new a.Color(this.color).getSource();e[0]=this.alpha*e[0]/255,e[1]=this.alpha*e[1]/255,e[2]=this.alpha*e[2]/255,e[3]=this.alpha,c.uniform4fv(s.uColor,e)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric,t=a.Image.filters,i=a.util.createClass;t.BlendImage=i(t.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(c){var s=this.type+"_"+this.mode,e=this.fragmentSource[this.mode];return c.programCache.hasOwnProperty(s)||(c.programCache[s]=this.createProgram(c.context,e)),c.programCache[s]},applyToWebGL:function(c){var s=c.context,e=this.createTexture(c.filterBackend,this.image);this.bindAdditionalTexture(s,e,s.TEXTURE1),this.callSuper("applyToWebGL",c),this.unbindAdditionalTexture(s,s.TEXTURE1)},createTexture:function(c,s){return c.getCachedTexture(s.cacheKey,s._element)},calculateMatrix:function(){var c=this.image,s=c._element.width,e=c._element.height;return[1/c.scaleX,0,0,0,1/c.scaleY,0,-c.left/s,-c.top/e,1]},applyTo2d:function(c){var s=c.imageData,e=c.filterBackend.resources,u=s.data,m=u.length,g=s.width,y=s.height,b,v,o,S,T,E,k,M,O,L,te=this.image,B;e.blendImage||(e.blendImage=a.util.createCanvasElement()),O=e.blendImage,L=O.getContext("2d"),O.width!==g||O.height!==y?(O.width=g,O.height=y):L.clearRect(0,0,g,y),L.setTransform(te.scaleX,0,0,te.scaleY,te.left,te.top),L.drawImage(te._element,0,0,g,y),B=L.getImageData(0,0,g,y).data;for(var G=0;G<m;G+=4)switch(T=u[G],E=u[G+1],k=u[G+2],M=u[G+3],b=B[G],v=B[G+1],o=B[G+2],S=B[G+3],this.mode){case"multiply":u[G]=T*b/255,u[G+1]=E*v/255,u[G+2]=k*o/255,u[G+3]=M*S/255;break;case"mask":u[G+3]=S;break}},getUniformLocations:function(c,s){return{uTransformMatrix:c.getUniformLocation(s,"uTransformMatrix"),uImage:c.getUniformLocation(s,"uImage")}},sendUniformData:function(c,s){var e=this.calculateMatrix();c.uniform1i(s.uImage,1),c.uniformMatrix3fv(s.uTransformMatrix,!1,e)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(c,s){a.Image.fromObject(c.image,function(e){var u=a.util.object.clone(c);u.image=e,s(new a.Image.filters.BlendImage(u))})}}(r),function(l){var a=l.fabric||(l.fabric={}),t=Math.pow,i=Math.floor,c=Math.sqrt,s=Math.abs,e=Math.round,u=Math.sin,m=Math.ceil,g=a.Image.filters,y=a.util.createClass;g.Resize=y(g.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,v){return{uDelta:b.getUniformLocation(v,"uDelta"),uTaps:b.getUniformLocation(v,"uTaps")}},sendUniformData:function(b,v){b.uniform2fv(v.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(v.uTaps,this.taps)},retrieveShader:function(b){var v=this.getFilterWindow(),o=this.type+"_"+v;if(!b.programCache.hasOwnProperty(o)){var S=this.generateShader(v);b.programCache[o]=this.createProgram(b.context,S)}return b.programCache[o]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),v=this.tempScale,o=this.getFilterWindow(),S=new Array(o),T=1;T<=o;T++)S[T-1]=b(T*v);return S},generateShader:function(S){for(var v=new Array(S),o=this.fragmentSourceTOP,S,T=1;T<=S;T++)v[T-1]=T+".0 * uDelta";return o+="uniform float uTaps["+S+`];
`,o+=`void main() {
`,o+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,o+=`  float sum = 1.0;
`,v.forEach(function(E,k){o+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+k+`];
`,o+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+k+`];
`,o+="  sum += 2.0 * uTaps["+k+`];
`}),o+=`  gl_FragColor = color / sum;
`,o+="}",o},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(v){if(v>=b||v<=-b)return 0;if(v<11920929e-14&&v>-11920929e-14)return 1;v*=Math.PI;var o=v/b;return u(v)/v*u(o)/o}},applyTo2d:function(b){var v=b.imageData,o=this.scaleX,S=this.scaleY;this.rcpScaleX=1/o,this.rcpScaleY=1/S;var T=v.width,E=v.height,k=e(T*o),M=e(E*S),O;this.resizeType==="sliceHack"?O=this.sliceByTwo(b,T,E,k,M):this.resizeType==="hermite"?O=this.hermiteFastResize(b,T,E,k,M):this.resizeType==="bilinear"?O=this.bilinearFiltering(b,T,E,k,M):this.resizeType==="lanczos"&&(O=this.lanczosResize(b,T,E,k,M)),b.imageData=O},sliceByTwo:function(b,v,o,S,T){var E=b.imageData,k=.5,M=!1,O=!1,L=v*k,te=o*k,B=a.filterBackend.resources,G,R,I=0,U=0,P=v,A=0;for(B.sliceByTwo||(B.sliceByTwo=document.createElement("canvas")),G=B.sliceByTwo,(G.width<v*1.5||G.height<o)&&(G.width=v*1.5,G.height=o),R=G.getContext("2d"),R.clearRect(0,0,v*1.5,o),R.putImageData(E,0,0),S=i(S),T=i(T);!M||!O;)v=L,o=te,S<i(L*k)?L=i(L*k):(L=S,M=!0),T<i(te*k)?te=i(te*k):(te=T,O=!0),R.drawImage(G,I,U,v,o,P,A,L,te),I=P,U=A,A+=te;return R.getImageData(I,U,S,T)},lanczosResize:function(b,v,o,S,T){function E(N){var W,ie,Y,F,D,Q,ee,V,Z,ae,H;for(A.x=(N+.5)*te,z.x=i(A.x),W=0;W<T;W++){for(A.y=(W+.5)*B,z.y=i(A.y),D=0,Q=0,ee=0,V=0,Z=0,ie=z.x-I;ie<=z.x+I;ie++)if(!(ie<0||ie>=v)){ae=i(1e3*s(ie-A.x)),P[ae]||(P[ae]={});for(var q=z.y-U;q<=z.y+U;q++)q<0||q>=o||(H=i(1e3*s(q-A.y)),P[ae][H]||(P[ae][H]=L(c(t(ae*G,2)+t(H*R,2))/1e3)),Y=P[ae][H],Y>0&&(F=(q*v+ie)*4,D+=Y,Q+=Y*k[F],ee+=Y*k[F+1],V+=Y*k[F+2],Z+=Y*k[F+3]))}F=(W*S+N)*4,O[F]=Q/D,O[F+1]=ee/D,O[F+2]=V/D,O[F+3]=Z/D}return++N<S?E(N):M}var k=b.imageData.data,M=b.ctx.createImageData(S,T),O=M.data,L=this.lanczosCreate(this.lanczosLobes),te=this.rcpScaleX,B=this.rcpScaleY,G=2/this.rcpScaleX,R=2/this.rcpScaleY,I=m(te*this.lanczosLobes/2),U=m(B*this.lanczosLobes/2),P={},A={},z={};return E(0)},bilinearFiltering:function(b,v,o,S,T){var E,k,M,O,L,te,B,G,R,I,U,P,A=0,z,N=this.rcpScaleX,W=this.rcpScaleY,ie=4*(v-1),Y=b.imageData,F=Y.data,D=b.ctx.createImageData(S,T),Q=D.data;for(B=0;B<T;B++)for(G=0;G<S;G++)for(L=i(N*G),te=i(W*B),R=N*G-L,I=W*B-te,z=4*(te*v+L),U=0;U<4;U++)E=F[z+U],k=F[z+4+U],M=F[z+ie+U],O=F[z+ie+4+U],P=E*(1-R)*(1-I)+k*R*(1-I)+M*I*(1-R)+O*R*I,Q[A++]=P;return D},hermiteFastResize:function(b,v,o,S,T){for(var E=this.rcpScaleX,k=this.rcpScaleY,M=m(E/2),O=m(k/2),L=b.imageData,te=L.data,B=b.ctx.createImageData(S,T),G=B.data,R=0;R<T;R++)for(var I=0;I<S;I++){for(var U=(I+R*S)*4,P=0,A=0,z=0,N=0,W=0,ie=0,Y=0,F=(R+.5)*k,D=i(R*k);D<(R+1)*k;D++)for(var Q=s(F-(D+.5))/O,ee=(I+.5)*E,V=Q*Q,Z=i(I*E);Z<(I+1)*E;Z++){var ae=s(ee-(Z+.5))/M,H=c(V+ae*ae);H>1&&H<-1||(P=2*H*H*H-3*H*H+1,P>0&&(ae=4*(Z+D*v),Y+=P*te[ae+3],z+=P,te[ae+3]<255&&(P=P*te[ae+3]/250),N+=P*te[ae],W+=P*te[ae+1],ie+=P*te[ae+2],A+=P))}G[U]=N/A,G[U+1]=W/A,G[U+2]=ie/A,G[U+3]=Y/z}return B},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Contrast=i(t.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(c){if(this.contrast!==0){var s=c.imageData,e,m,u=s.data,m=u.length,g=Math.floor(this.contrast*255),y=259*(g+255)/(255*(259-g));for(e=0;e<m;e+=4)u[e]=y*(u[e]-128)+128,u[e+1]=y*(u[e+1]-128)+128,u[e+2]=y*(u[e+2]-128)+128}},getUniformLocations:function(c,s){return{uContrast:c.getUniformLocation(s,"uContrast")}},sendUniformData:function(c,s){c.uniform1f(s.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Saturation=i(t.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(c){if(this.saturation!==0){var s=c.imageData,e=s.data,u=e.length,m=-this.saturation,g,y;for(g=0;g<u;g+=4)y=Math.max(e[g],e[g+1],e[g+2]),e[g]+=y!==e[g]?(y-e[g])*m:0,e[g+1]+=y!==e[g+1]?(y-e[g+1])*m:0,e[g+2]+=y!==e[g+2]?(y-e[g+2])*m:0}},getUniformLocations:function(c,s){return{uSaturation:c.getUniformLocation(s,"uSaturation")}},sendUniformData:function(c,s){c.uniform1f(s.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Vibrance=i(t.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(c){if(this.vibrance!==0){var s=c.imageData,e=s.data,u=e.length,m=-this.vibrance,g,y,b,v;for(g=0;g<u;g+=4)y=Math.max(e[g],e[g+1],e[g+2]),b=(e[g]+e[g+1]+e[g+2])/3,v=Math.abs(y-b)*2/255*m,e[g]+=y!==e[g]?(y-e[g])*v:0,e[g+1]+=y!==e[g+1]?(y-e[g+1])*v:0,e[g+2]+=y!==e[g+2]?(y-e[g+2])*v:0}},getUniformLocations:function(c,s){return{uVibrance:c.getUniformLocation(s,"uVibrance")}},sendUniformData:function(c,s){c.uniform1f(s.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Blur=i(t.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(c){c.webgl?(this.aspectRatio=c.sourceWidth/c.sourceHeight,c.passes++,this._setupFrameBuffer(c),this.horizontal=!0,this.applyToWebGL(c),this._swapTextures(c),this._setupFrameBuffer(c),this.horizontal=!1,this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},applyTo2d:function(c){c.imageData=this.simpleBlur(c)},simpleBlur:function(c){var s=c.filterBackend.resources,e,u,m=c.imageData.width,g=c.imageData.height;s.blurLayer1||(s.blurLayer1=a.util.createCanvasElement(),s.blurLayer2=a.util.createCanvasElement()),e=s.blurLayer1,u=s.blurLayer2,(e.width!==m||e.height!==g)&&(u.width=e.width=m,u.height=e.height=g);var y=e.getContext("2d"),b=u.getContext("2d"),v=15,o,S,T,E,k=this.blur*.06*.5;for(y.putImageData(c.imageData,0,0),b.clearRect(0,0,m,g),E=-v;E<=v;E++)o=(Math.random()-.5)/4,S=E/v,T=k*S*m+o,b.globalAlpha=1-Math.abs(S),b.drawImage(e,T,o),y.drawImage(u,0,0),b.globalAlpha=1,b.clearRect(0,0,u.width,u.height);for(E=-v;E<=v;E++)o=(Math.random()-.5)/4,S=E/v,T=k*S*g+o,b.globalAlpha=1-Math.abs(S),b.drawImage(e,o,T),y.drawImage(u,0,0),b.globalAlpha=1,b.clearRect(0,0,u.width,u.height);c.ctx.drawImage(e,0,0);var M=c.ctx.getImageData(0,0,e.width,e.height);return y.globalAlpha=1,y.clearRect(0,0,e.width,e.height),M},getUniformLocations:function(c,s){return{delta:c.getUniformLocation(s,"uDelta")}},sendUniformData:function(c,s){var e=this.chooseRightDelta();c.uniform2fv(s.delta,e)},chooseRightDelta:function(){var c=1,s=[0,0],e;return this.horizontal?this.aspectRatio>1&&(c=1/this.aspectRatio):this.aspectRatio<1&&(c=this.aspectRatio),e=c*this.blur*.12,this.horizontal?s[0]=e:s[1]=e,s}}),t.Blur.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Gamma=i(t.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(c){this.gamma=[1,1,1],t.BaseFilter.prototype.initialize.call(this,c)},applyTo2d:function(c){var s=c.imageData,e=s.data,u=this.gamma,m=e.length,g=1/u[0],y=1/u[1],b=1/u[2],v;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),v=0,m=256;v<m;v++)this.rVals[v]=Math.pow(v/255,g)*255,this.gVals[v]=Math.pow(v/255,y)*255,this.bVals[v]=Math.pow(v/255,b)*255;for(v=0,m=e.length;v<m;v+=4)e[v]=this.rVals[e[v]],e[v+1]=this.gVals[e[v+1]],e[v+2]=this.bVals[e[v+2]]},getUniformLocations:function(c,s){return{uGamma:c.getUniformLocation(s,"uGamma")}},sendUniformData:function(c,s){c.uniform3fv(s.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.Composed=i(t.BaseFilter,{type:"Composed",subFilters:[],initialize:function(c){this.callSuper("initialize",c),this.subFilters=this.subFilters.slice(0)},applyTo:function(c){c.passes+=this.subFilters.length-1,this.subFilters.forEach(function(s){s.applyTo(c)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(c){return c.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(c){return!c.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(c,s){var e=c.subFilters||[],u=e.map(function(g){return new a.Image.filters[g.type](g)}),m=new a.Image.filters.Composed({subFilters:u});return s&&s(m),m}}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.Image.filters,i=a.util.createClass;t.HueRotation=i(t.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var c=this.rotation*Math.PI,s=a.util.cos(c),e=a.util.sin(c),u=1/3,m=Math.sqrt(u)*e,g=1-s;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=s+g/3,this.matrix[1]=u*g-m,this.matrix[2]=u*g+m,this.matrix[5]=u*g+m,this.matrix[6]=s+u*g,this.matrix[7]=u*g-m,this.matrix[10]=u*g-m,this.matrix[11]=u*g+m,this.matrix[12]=s+u*g},isNeutralState:function(c){return this.calculateMatrix(),t.BaseFilter.prototype.isNeutralState.call(this,c)},applyTo:function(c){this.calculateMatrix(),t.BaseFilter.prototype.applyTo.call(this,c)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(l){var a=l.fabric||(l.fabric={}),t=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var i="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(i),cacheProperties:a.Object.prototype.cacheProperties.concat(i),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(c,s){this.styles=s?s.styles||{}:{},this.text=c,this.__skipDimension=!0,this.callSuper("initialize",s),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var c=this.path;c&&(c.segmentsInfo=a.util.getPathSegmentsInfo(c.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var c=this._splitTextIntoLines(this.text);return this.textLines=c.lines,this._textLines=c.graphemeLines,this._unwrappedTextLines=c._unwrappedLines,this._text=c.graphemeText,c},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var c,s,e,u,m,g,y,b=0,v=this._textLines.length;b<v;b++)if(!(this.textAlign!=="justify"&&(b===v-1||this.isEndOfWrapping(b)))&&(u=0,m=this._textLines[b],s=this.getLineWidth(b),s<this.width&&(y=this.textLines[b].match(this._reSpacesAndTabs)))){e=y.length,c=(this.width-s)/e;for(var o=0,S=m.length;o<=S;o++)g=this.__charBounds[b][o],this._reSpaceAndTab.test(m[o])?(g.width+=c,g.kernedWidth+=c,g.left+=u,u+=c):g.left+=u}},isEndOfWrapping:function(c){return c===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var c=this.callSuper("_getCacheCanvasDimensions"),s=this.fontSize;return c.width+=s*c.zoomX,c.height+=s*c.zoomY,c},_render:function(c){var s=this.path;s&&!s.isNotVisible()&&s._render(c),this._setTextStyles(c),this._renderTextLinesBackground(c),this._renderTextDecoration(c,"underline"),this._renderText(c),this._renderTextDecoration(c,"overline"),this._renderTextDecoration(c,"linethrough")},_renderText:function(c){this.paintFirst==="stroke"?(this._renderTextStroke(c),this._renderTextFill(c)):(this._renderTextFill(c),this._renderTextStroke(c))},_setTextStyles:function(c,s,e){if(c.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":c.textBaseline="middle";break;case"ascender":c.textBaseline="top";break;case"descender":c.textBaseline="bottom";break}c.font=this._getFontDeclaration(s,e)},calcTextWidth:function(){for(var c=this.getLineWidth(0),s=1,e=this._textLines.length;s<e;s++){var u=this.getLineWidth(s);u>c&&(c=u)}return c},_renderTextLine:function(c,s,e,u,m,g){this._renderChars(c,s,e,u,m,g)},_renderTextLinesBackground:function(c){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var s,e,u=c.fillStyle,m,g,y=this._getLeftOffset(),b=this._getTopOffset(),v=0,o=0,S,T,E=this.path,k,M=0,O=this._textLines.length;M<O;M++){if(s=this.getHeightOfLine(M),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",M)){b+=s;continue}m=this._textLines[M],e=this._getLineLeftOffset(M),o=0,v=0,g=this.getValueOfPropertyAt(M,0,"textBackgroundColor");for(var L=0,te=m.length;L<te;L++)S=this.__charBounds[M][L],T=this.getValueOfPropertyAt(M,L,"textBackgroundColor"),E?(c.save(),c.translate(S.renderLeft,S.renderTop),c.rotate(S.angle),c.fillStyle=T,T&&c.fillRect(-S.width/2,-s/this.lineHeight*(1-this._fontSizeFraction),S.width,s/this.lineHeight),c.restore()):T!==g?(k=y+e+v,this.direction==="rtl"&&(k=this.width-k-o),c.fillStyle=g,g&&c.fillRect(k,b,o,s/this.lineHeight),v=S.left,o=S.width,g=T):o+=S.kernedWidth;T&&!E&&(k=y+e+v,this.direction==="rtl"&&(k=this.width-k-o),c.fillStyle=T,c.fillRect(k,b,o,s/this.lineHeight)),b+=s}c.fillStyle=u,this._removeShadow(c)}},getFontCache:function(c){var s=c.fontFamily.toLowerCase();a.charWidthsCache[s]||(a.charWidthsCache[s]={});var e=a.charWidthsCache[s],u=c.fontStyle.toLowerCase()+"_"+(c.fontWeight+"").toLowerCase();return e[u]||(e[u]={}),e[u]},_measureChar:function(c,s,e,u){var m=this.getFontCache(s),g=this._getFontDeclaration(s),y=this._getFontDeclaration(u),b=e+c,v=g===y,o,S,T,E=s.fontSize/this.CACHE_FONT_SIZE,k;if(e&&m[e]!==void 0&&(T=m[e]),m[c]!==void 0&&(k=o=m[c]),v&&m[b]!==void 0&&(S=m[b],k=S-T),o===void 0||T===void 0||S===void 0){var M=this.getMeasuringContext();this._setTextStyles(M,s,!0)}return o===void 0&&(k=o=M.measureText(c).width,m[c]=o),T===void 0&&v&&e&&(T=M.measureText(e).width,m[e]=T),v&&S===void 0&&(S=M.measureText(b).width,m[b]=S,k=S-T),{width:o*E,kernedWidth:k*E}},getHeightOfChar:function(c,s){return this.getValueOfPropertyAt(c,s,"fontSize")},measureLine:function(c){var s=this._measureLine(c);return this.charSpacing!==0&&(s.width-=this._getWidthOfCharSpacing()),s.width<0&&(s.width=0),s},_measureLine:function(c){var s=0,e,u,m=this._textLines[c],g,y,b=0,v=new Array(m.length),o=0,S,T,E=this.path,k=this.pathSide==="right";for(this.__charBounds[c]=v,e=0;e<m.length;e++)u=m[e],y=this._getGraphemeBox(u,c,e,g),v[e]=y,s+=y.kernedWidth,g=u;if(v[e]={left:y?y.left+y.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(T=E.segmentsInfo[E.segmentsInfo.length-1].length,S=a.util.getPointOnPath(E.path,0,E.segmentsInfo),S.x+=E.pathOffset.x,S.y+=E.pathOffset.y,this.textAlign){case"left":o=k?T-s:0;break;case"center":o=(T-s)/2;break;case"right":o=k?0:T-s;break}for(o+=this.pathStartOffset*(k?-1:1),e=k?m.length-1:0;k?e>=0:e<m.length;k?e--:e++)y=v[e],o>T?o%=T:o<0&&(o+=T),this._setGraphemeOnPath(o,y,S),o+=y.kernedWidth}return{width:s,numOfSpaces:b}},_setGraphemeOnPath:function(c,s,e){var u=c+s.kernedWidth/2,m=this.path,g=a.util.getPointOnPath(m.path,u,m.segmentsInfo);s.renderLeft=g.x-e.x,s.renderTop=g.y-e.y,s.angle=g.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(c,s,e,u,m){var g=this.getCompleteStyleDeclaration(s,e),y=u?this.getCompleteStyleDeclaration(s,e-1):{},b=this._measureChar(c,g,u,y),v=b.kernedWidth,o=b.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),o+=S,v+=S);var T={width:o,left:0,height:g.fontSize,kernedWidth:v,deltaY:g.deltaY};if(e>0&&!m){var E=this.__charBounds[s][e-1];T.left=E.left+E.width+b.kernedWidth-b.width}return T},getHeightOfLine:function(c){if(this.__lineHeights[c])return this.__lineHeights[c];for(var s=this._textLines[c],e=this.getHeightOfChar(c,0),u=1,m=s.length;u<m;u++)e=Math.max(this.getHeightOfChar(c,u),e);return this.__lineHeights[c]=e*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var c,s=0,e=0,u=this._textLines.length;e<u;e++)c=this.getHeightOfLine(e),s+=e===u-1?c/this.lineHeight:c;return s},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(c,s){c.save();for(var e=0,u=this._getLeftOffset(),m=this._getTopOffset(),g=0,y=this._textLines.length;g<y;g++){var b=this.getHeightOfLine(g),v=b/this.lineHeight,o=this._getLineLeftOffset(g);this._renderTextLine(s,c,this._textLines[g],u+o,m+e+v,g),e+=b}c.restore()},_renderTextFill:function(c){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(c,"fillText")},_renderTextStroke:function(c){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(c),c.save(),this._setLineDash(c,this.strokeDashArray),c.beginPath(),this._renderTextCommon(c,"strokeText"),c.closePath(),c.restore())},_renderChars:function(c,s,e,u,m,g){var y=this.getHeightOfLine(g),b=this.textAlign.indexOf("justify")!==-1,v,o,S="",T,E=0,k,M=this.path,O=!b&&this.charSpacing===0&&this.isEmptyStyles(g)&&!M,L=this.direction==="ltr",te=this.direction==="ltr"?1:-1,B,G=s.canvas.getAttribute("dir");if(s.save(),G!==this.direction&&(s.canvas.setAttribute("dir",L?"ltr":"rtl"),s.direction=L?"ltr":"rtl",s.textAlign=L?"left":"right"),m-=y*this._fontSizeFraction/this.lineHeight,O){this._renderChar(c,s,g,0,e.join(""),u,m,y),s.restore();return}for(var R=0,I=e.length-1;R<=I;R++)k=R===I||this.charSpacing||M,S+=e[R],T=this.__charBounds[g][R],E===0?(u+=te*(T.kernedWidth-T.width),E+=T.width):E+=T.kernedWidth,b&&!k&&this._reSpaceAndTab.test(e[R])&&(k=!0),k||(v=v||this.getCompleteStyleDeclaration(g,R),o=this.getCompleteStyleDeclaration(g,R+1),k=a.util.hasStyleChanged(v,o,!1)),k&&(M?(s.save(),s.translate(T.renderLeft,T.renderTop),s.rotate(T.angle),this._renderChar(c,s,g,R,S,-E/2,0,y),s.restore()):(B=u,this._renderChar(c,s,g,R,S,B,m,y)),S="",v=o,u+=te*E,E=0);s.restore()},_applyPatternGradientTransformText:function(c){var s=a.util.createCanvasElement(),e,u=this.width+this.strokeWidth,m=this.height+this.strokeWidth;return s.width=u,s.height=m,e=s.getContext("2d"),e.beginPath(),e.moveTo(0,0),e.lineTo(u,0),e.lineTo(u,m),e.lineTo(0,m),e.closePath(),e.translate(u/2,m/2),e.fillStyle=c.toLive(e),this._applyPatternGradientTransform(e,c),e.fill(),e.createPattern(s,"no-repeat")},handleFiller:function(c,s,e){var u,m;return e.toLive?e.gradientUnits==="percentage"||e.gradientTransform||e.patternTransform?(u=-this.width/2,m=-this.height/2,c.translate(u,m),c[s]=this._applyPatternGradientTransformText(e),{offsetX:u,offsetY:m}):(c[s]=e.toLive(c,this),this._applyPatternGradientTransform(c,e)):(c[s]=e,{offsetX:0,offsetY:0})},_setStrokeStyles:function(c,s){return c.lineWidth=s.strokeWidth,c.lineCap=this.strokeLineCap,c.lineDashOffset=this.strokeDashOffset,c.lineJoin=this.strokeLineJoin,c.miterLimit=this.strokeMiterLimit,this.handleFiller(c,"strokeStyle",s.stroke)},_setFillStyles:function(c,s){return this.handleFiller(c,"fillStyle",s.fill)},_renderChar:function(c,s,e,u,m,g,y){var b=this._getStyleDeclaration(e,u),v=this.getCompleteStyleDeclaration(e,u),o=c==="fillText"&&v.fill,S=c==="strokeText"&&v.stroke&&v.strokeWidth,T,E;!S&&!o||(s.save(),o&&(T=this._setFillStyles(s,v)),S&&(E=this._setStrokeStyles(s,v)),s.font=this._getFontDeclaration(v),b&&b.textBackgroundColor&&this._removeShadow(s),b&&b.deltaY&&(y+=b.deltaY),o&&s.fillText(m,g-T.offsetX,y-T.offsetY),S&&s.strokeText(m,g-E.offsetX,y-E.offsetY),s.restore())},setSuperscript:function(c,s){return this._setScript(c,s,this.superscript)},setSubscript:function(c,s){return this._setScript(c,s,this.subscript)},_setScript:function(c,s,e){var u=this.get2DCursorLocation(c,!0),m=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"fontSize"),g=this.getValueOfPropertyAt(u.lineIndex,u.charIndex,"deltaY"),y={fontSize:m*e.size,deltaY:g+m*e.baseline};return this.setSelectionStyles(y,c,s),this},_getLineLeftOffset:function(c){var s=this.getLineWidth(c),e=this.width-s,u=this.textAlign,m=this.direction,y,g=0,y=this.isEndOfWrapping(c);return u==="justify"||u==="justify-center"&&!y||u==="justify-right"&&!y||u==="justify-left"&&!y?0:(u==="center"&&(g=e/2),u==="right"&&(g=e),u==="justify-center"&&(g=e/2),u==="justify-right"&&(g=e),m==="rtl"&&(g-=e),g)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var c=this._forceClearCache;return c||(c=this.hasStateChanged("_dimensionAffectingProps")),c&&(this.dirty=!0,this._forceClearCache=!1),c},getLineWidth:function(c){if(this.__lineWidths[c]!==void 0)return this.__lineWidths[c];var s=this.measureLine(c),e=s.width;return this.__lineWidths[c]=e,e},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(c,s,e){var u=this._getStyleDeclaration(c,s);return u&&typeof u[e]<"u"?u[e]:this[e]},_renderTextDecoration:function(c,s){if(!(!this[s]&&!this.styleHas(s))){for(var e,u,m,g,y,b,v,o,S=this._getLeftOffset(),T=this._getTopOffset(),E,k,M,O,L,te,B,G,R=this.path,I=this._getWidthOfCharSpacing(),U=this.offsets[s],P=0,A=this._textLines.length;P<A;P++){if(e=this.getHeightOfLine(P),!this[s]&&!this.styleHas(s,P)){T+=e;continue}v=this._textLines[P],te=e/this.lineHeight,g=this._getLineLeftOffset(P),k=0,M=0,o=this.getValueOfPropertyAt(P,0,s),G=this.getValueOfPropertyAt(P,0,"fill"),E=T+te*(1-this._fontSizeFraction),u=this.getHeightOfChar(P,0),y=this.getValueOfPropertyAt(P,0,"deltaY");for(var z=0,N=v.length;z<N;z++)if(O=this.__charBounds[P][z],L=this.getValueOfPropertyAt(P,z,s),B=this.getValueOfPropertyAt(P,z,"fill"),m=this.getHeightOfChar(P,z),b=this.getValueOfPropertyAt(P,z,"deltaY"),R&&L&&B)c.save(),c.fillStyle=G,c.translate(O.renderLeft,O.renderTop),c.rotate(O.angle),c.fillRect(-O.kernedWidth/2,U*m+b,O.kernedWidth,this.fontSize/15),c.restore();else if((L!==o||B!==G||m!==u||b!==y)&&M>0){var W=S+g+k;this.direction==="rtl"&&(W=this.width-W-M),o&&G&&(c.fillStyle=G,c.fillRect(W,E+U*u+y,M,this.fontSize/15)),k=O.left,M=O.width,o=L,G=B,u=m,y=b}else M+=O.kernedWidth;var W=S+g+k;this.direction==="rtl"&&(W=this.width-W-M),c.fillStyle=B,L&&B&&c.fillRect(W,E+U*u+y,M-I,this.fontSize/15),T+=e}this._removeShadow(c)}},_getFontDeclaration:function(c,s){var e=c||this,u=this.fontFamily,m=a.Text.genericFonts.indexOf(u.toLowerCase())>-1,g=u===void 0||u.indexOf("'")>-1||u.indexOf(",")>-1||u.indexOf('"')>-1||m?e.fontFamily:'"'+e.fontFamily+'"';return[a.isLikelyNode?e.fontWeight:e.fontStyle,a.isLikelyNode?e.fontStyle:e.fontWeight,s?this.CACHE_FONT_SIZE+"px":e.fontSize+"px",g].join(" ")},render:function(c){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",c)))},_splitTextIntoLines:function(c){for(var s=c.split(this._reNewline),e=new Array(s.length),u=[`
`],m=[],g=0;g<s.length;g++)e[g]=a.util.string.graphemeSplit(s[g]),m=m.concat(e[g],u);return m.pop(),{_unwrappedLines:e,lines:s,graphemeText:m,graphemeLines:e}},toObject:function(c){var s=i.concat(c),e=this.callSuper("toObject",s);return e.styles=a.util.stylesToArray(this.styles,this.text),e.path&&(e.path=this.path.toObject()),e},set:function(c,s){this.callSuper("set",c,s);var e=!1,u=!1;if(typeof c=="object")for(var m in c)m==="path"&&this.setPathInfo(),e=e||this._dimensionAffectingProps.indexOf(m)!==-1,u=u||m==="path";else e=this._dimensionAffectingProps.indexOf(c)!==-1,u=c==="path";return u&&this.setPathInfo(),e&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(c,s,e){if(!c)return s(null);var u=a.parseAttributes(c,a.Text.ATTRIBUTE_NAMES),m=u.textAnchor||"left";if(e=a.util.object.extend(e?t(e):{},u),e.top=e.top||0,e.left=e.left||0,u.textDecoration){var g=u.textDecoration;g.indexOf("underline")!==-1&&(e.underline=!0),g.indexOf("overline")!==-1&&(e.overline=!0),g.indexOf("line-through")!==-1&&(e.linethrough=!0),delete e.textDecoration}"dx"in u&&(e.left+=u.dx),"dy"in u&&(e.top+=u.dy),"fontSize"in e||(e.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var y="";"textContent"in c?y=c.textContent:"firstChild"in c&&c.firstChild!==null&&"data"in c.firstChild&&c.firstChild.data!==null&&(y=c.firstChild.data),y=y.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var b=e.strokeWidth;e.strokeWidth=0;var v=new a.Text(y,e),o=v.getScaledHeight()/v.height,S=(v.height+v.strokeWidth)*v.lineHeight-v.height,T=S*o,E=v.getScaledHeight()+T,k=0;m==="center"&&(k=v.getScaledWidth()/2),m==="right"&&(k=v.getScaledWidth()),v.set({left:v.left-k,top:v.top-(E-v.fontSize*(.07+v._fontSizeFraction))/v.lineHeight,strokeWidth:typeof b<"u"?b:1}),s(v)},a.Text.fromObject=function(c,s){var e=t(c),u=c.path;return delete e.path,a.Object._fromObject("Text",e,function(m){m.styles=a.util.stylesFromArray(c.styles,c.text),u?a.Object._fromObject("Path",u,function(g){m.set("path",g),s(m)},"path"):s(m)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)}(r),function(){n.util.object.extend(n.Text.prototype,{isEmptyStyles:function(l){if(!this.styles||typeof l<"u"&&!this.styles[l])return!0;var a=typeof l>"u"?this.styles:{line:this.styles[l]};for(var t in a)for(var i in a[t])for(var c in a[t][i])return!1;return!0},styleHas:function(l,a){if(!this.styles||!l||l===""||typeof a<"u"&&!this.styles[a])return!1;var t=typeof a>"u"?this.styles:{0:this.styles[a]};for(var i in t)for(var c in t[i])if(typeof t[i][c][l]<"u")return!0;return!1},cleanStyle:function(l){if(!this.styles||!l||l==="")return!1;var a=this.styles,t=0,i,c,s=!0,e=0,u;for(var m in a){i=0;for(var g in a[m]){var u=a[m][g],y=u.hasOwnProperty(l);t++,y?(c?u[l]!==c&&(s=!1):c=u[l],u[l]===this[l]&&delete u[l]):s=!1,Object.keys(u).length!==0?i++:delete a[m][g]}i===0&&delete a[m]}for(var b=0;b<this._textLines.length;b++)e+=this._textLines[b].length;s&&t===e&&(this[l]=c,this.removeStyle(l))},removeStyle:function(l){if(!(!this.styles||!l||l==="")){var a=this.styles,t,i,c;for(i in a){t=a[i];for(c in t)delete t[c][l],Object.keys(t[c]).length===0&&delete t[c];Object.keys(t).length===0&&delete a[i]}}},_extendStyles:function(l,a){var t=this.get2DCursorLocation(l);this._getLineStyle(t.lineIndex)||this._setLineStyle(t.lineIndex),this._getStyleDeclaration(t.lineIndex,t.charIndex)||this._setStyleDeclaration(t.lineIndex,t.charIndex,{}),n.util.object.extend(this._getStyleDeclaration(t.lineIndex,t.charIndex),a)},get2DCursorLocation:function(l,a){typeof l>"u"&&(l=this.selectionStart);for(var t=a?this._unwrappedTextLines:this._textLines,i=t.length,c=0;c<i;c++){if(l<=t[c].length)return{lineIndex:c,charIndex:l};l-=t[c].length+this.missingNewlineOffset(c)}return{lineIndex:c-1,charIndex:t[c-1].length<l?t[c-1].length:l}},getSelectionStyles:function(l,a,t){typeof l>"u"&&(l=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||l);for(var i=[],c=l;c<a;c++)i.push(this.getStyleAtPosition(c,t));return i},getStyleAtPosition:function(l,a){var t=this.get2DCursorLocation(l),i=a?this.getCompleteStyleDeclaration(t.lineIndex,t.charIndex):this._getStyleDeclaration(t.lineIndex,t.charIndex);return i||{}},setSelectionStyles:function(l,a,t){typeof a>"u"&&(a=this.selectionStart||0),typeof t>"u"&&(t=this.selectionEnd||a);for(var i=a;i<t;i++)this._extendStyles(i,l);return this._forceClearCache=!0,this},_getStyleDeclaration:function(l,a){var t=this.styles&&this.styles[l];return t?t[a]:null},getCompleteStyleDeclaration:function(l,a){for(var t=this._getStyleDeclaration(l,a)||{},i={},c,s=0;s<this._styleProperties.length;s++)c=this._styleProperties[s],i[c]=typeof t[c]>"u"?this[c]:t[c];return i},_setStyleDeclaration:function(l,a,t){this.styles[l][a]=t},_deleteStyleDeclaration:function(l,a){delete this.styles[l][a]},_getLineStyle:function(l){return!!this.styles[l]},_setLineStyle:function(l){this.styles[l]={}},_deleteLineStyle:function(l){delete this.styles[l]}})}(),function(){function l(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}n.IText=n.util.createClass(n.Text,n.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(a,t){this.callSuper("initialize",a,t),this.initBehavior()},setSelectionStart:function(a){a=Math.max(a,0),this._updateAndFire("selectionStart",a)},setSelectionEnd:function(a){a=Math.min(a,this.text.length),this._updateAndFire("selectionEnd",a)},_updateAndFire:function(a,t){this[a]!==t&&(this._fireSelectionChanged(),this[a]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(a){this.clearContextTop(),this.callSuper("render",a),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(a){this.callSuper("_render",a)},clearContextTop:function(a){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var t=this.canvas.contextTop,i=this.canvas.viewportTransform;t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(t),this._clearTextArea(t),a||t.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(a,t):this.renderSelection(a,t),t.restore()}},_clearTextArea:function(a){var t=this.width+4,i=this.height+4;a.clearRect(-t/2,-i/2,t,i)},_getCursorBoundaries:function(a){typeof a>"u"&&(a=this.selectionStart);var t=this._getLeftOffset(),i=this._getTopOffset(),c=this._getCursorBoundariesOffsets(a);return{left:t,top:i,leftOffset:c.left,topOffset:c.top}},_getCursorBoundariesOffsets:function(a){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,i,c,s=0,e=0,u,m=this.get2DCursorLocation(a);c=m.charIndex,i=m.lineIndex;for(var g=0;g<i;g++)s+=this.getHeightOfLine(g);t=this._getLineLeftOffset(i);var y=this.__charBounds[i][c];return y&&(e=y.left),this.charSpacing!==0&&c===this._textLines[i].length&&(e-=this._getWidthOfCharSpacing()),u={top:s,left:t+(e>0?e:0)},this.direction==="rtl"&&(u.left*=-1),this.cursorOffsetCache=u,this.cursorOffsetCache},renderCursor:function(a,t){var i=this.get2DCursorLocation(),c=i.lineIndex,s=i.charIndex>0?i.charIndex-1:0,e=this.getValueOfPropertyAt(c,s,"fontSize"),u=this.scaleX*this.canvas.getZoom(),m=this.cursorWidth/u,g=a.topOffset,y=this.getValueOfPropertyAt(c,s,"deltaY");g+=(1-this._fontSizeFraction)*this.getHeightOfLine(c)/this.lineHeight-e*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(a,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(c,s,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(a.left+a.leftOffset-m/2,g+a.top+y,m,e)},renderSelection:function(a,t){for(var i=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,c=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,s=this.textAlign.indexOf("justify")!==-1,e=this.get2DCursorLocation(i),u=this.get2DCursorLocation(c),m=e.lineIndex,g=u.lineIndex,y=e.charIndex<0?0:e.charIndex,b=u.charIndex<0?0:u.charIndex,v=m;v<=g;v++){var o=this._getLineLeftOffset(v)||0,S=this.getHeightOfLine(v),T=0,E=0,k=0;if(v===m&&(E=this.__charBounds[m][y].left),v>=m&&v<g)k=s&&!this.isEndOfWrapping(v)?this.width:this.getLineWidth(v)||5;else if(v===g)if(b===0)k=this.__charBounds[g][b].left;else{var M=this._getWidthOfCharSpacing();k=this.__charBounds[g][b-1].left+this.__charBounds[g][b-1].width-M}T=S,(this.lineHeight<1||v===g&&this.lineHeight>1)&&(S/=this.lineHeight);var O=a.left+o+E,L=k-E,te=S,B=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",te=1,B=S):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(O=this.width-O-L),t.fillRect(O,a.top+a.topOffset+B,L,te),a.topOffset+=T}},getCurrentCharFontSize:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fontSize")},getCurrentCharColor:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fill")},_getCurrentCharIndex:function(){var a=this.get2DCursorLocation(this.selectionStart,!0),t=a.charIndex>0?a.charIndex-1:0;return{l:a.lineIndex,c:t}}}),n.IText.fromObject=function(a,t){var i=n.util.stylesFromArray(a.styles,a.text),c=Object.assign({},a,{styles:i});if(l(c),c.styles)for(var s in c.styles)for(var e in c.styles[s])l(c.styles[s][e]);n.Object._fromObject("IText",c,t,"text")}}(),function(){var l=n.util.object.clone;n.util.object.extend(n.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var a=this;this.on("added",function(){var t=a.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,a._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(a))})},initRemovedHandler:function(){var a=this;this.on("removed",function(){var t=a.canvas;t&&(t._iTextInstances=t._iTextInstances||[],n.util.removeFromArray(t._iTextInstances,a),t._iTextInstances.length===0&&(t._hasITextHandlers=!1,a._removeCanvasHandlers(t)))})},_initCanvasHandlers:function(a){a._mouseUpITextHandler=function(){a._iTextInstances&&a._iTextInstances.forEach(function(t){t.__isMousedown=!1})},a.on("mouse:up",a._mouseUpITextHandler)},_removeCanvasHandlers:function(a){a.off("mouse:up",a._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(a,t,i,c){var s;return s={isAborted:!1,abort:function(){this.isAborted=!0}},a.animate("_currentCursorOpacity",t,{duration:i,onComplete:function(){s.isAborted||a[c]()},onChange:function(){a.canvas&&a.selectionStart===a.selectionEnd&&a.renderCursorOrSelection()},abort:function(){return s.isAborted}}),s},_onTickComplete:function(){var a=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){a._currentTickCompleteState=a._animateCursor(a,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(a){var t=this,i=a?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){t._tick()},i)},abortCursorAnimation:function(){var a=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,a&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(a){var t=0,i=a-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)t++,i--;for(;/\S/.test(this._text[i])&&i>-1;)t++,i--;return a-t},findWordBoundaryRight:function(a){var t=0,i=a;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)t++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)t++,i++;return a+t},findLineBoundaryLeft:function(a){for(var t=0,i=a-1;!/\n/.test(this._text[i])&&i>-1;)t++,i--;return a-t},findLineBoundaryRight:function(a){for(var t=0,i=a;!/\n/.test(this._text[i])&&i<this._text.length;)t++,i++;return a+t},searchWordBoundary:function(a,t){for(var i=this._text,c=this._reSpace.test(i[a])?a-1:a,s=i[c],e=n.reNonWord;!e.test(s)&&c>0&&c<i.length;)c+=t,s=i[c];return e.test(s)&&(c+=t===1?0:1),c},selectWord:function(a){a=a||this.selectionStart;var t=this.searchWordBoundary(a,-1),i=this.searchWordBoundary(a,1);this.selectionStart=t,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(a){a=a||this.selectionStart;var t=this.findLineBoundaryLeft(a),i=this.findLineBoundaryRight(a);return this.selectionStart=t,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(a){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(a),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(a){a._iTextInstances&&a._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(a){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var t=this.getSelectionStartFromPointer(a.e),i=this.selectionStart,c=this.selectionEnd;(t!==this.__selectionStartOnMouseDown||i===c)&&(i===t||c===t)||(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==i||this.selectionEnd!==c)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(a,t,i){var c=i.slice(0,a),s=n.util.string.graphemeSplit(c).length;if(a===t)return{selectionStart:s,selectionEnd:s};var e=i.slice(a,t),u=n.util.string.graphemeSplit(e).length;return{selectionStart:s,selectionEnd:s+u}},fromGraphemeToStringSelection:function(a,t,i){var c=i.slice(0,a),s=c.join("").length;if(a===t)return{selectionStart:s,selectionEnd:s};var e=i.slice(a,t),u=e.join("").length;return{selectionStart:s,selectionEnd:s+u}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var a=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=a.selectionStart,this.hiddenTextarea.selectionEnd=a.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=a.selectionEnd,this.inCompositionMode||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var a=this._calcTextareaPosition();this.hiddenTextarea.style.left=a.left,this.hiddenTextarea.style.top=a.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var a=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(a),i=this.get2DCursorLocation(a),c=i.lineIndex,s=i.charIndex,e=this.getValueOfPropertyAt(c,s,"fontSize")*this.lineHeight,u=t.leftOffset,m=this.calcTransformMatrix(),g={x:t.left+u,y:t.top+t.topOffset+e},y=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,v=b.width/y,o=b.height/y,S=v-e,T=o-e,E=b.clientWidth/v,k=b.clientHeight/o;return g=n.util.transformPoint(g,m),g=n.util.transformPoint(g,this.canvas.viewportTransform),g.x*=E,g.y*=k,g.x<0&&(g.x=0),g.x>S&&(g.x=S),g.y<0&&(g.y=0),g.y>T&&(g.y=T),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:g.x+"px",top:g.y+"px",fontSize:e+"px",charHeight:e}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var a=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),a&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),a&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var a in this.styles)this._textLines[a]||delete this.styles[a]},removeStyleFromTo:function(a,t){var i=this.get2DCursorLocation(a,!0),c=this.get2DCursorLocation(t,!0),s=i.lineIndex,e=i.charIndex,u=c.lineIndex,m=c.charIndex,g,y;if(s!==u){if(this.styles[s])for(g=e;g<this._unwrappedTextLines[s].length;g++)delete this.styles[s][g];if(this.styles[u])for(g=m;g<this._unwrappedTextLines[u].length;g++)y=this.styles[u][g],y&&(this.styles[s]||(this.styles[s]={}),this.styles[s][e+g-m]=y);for(g=s+1;g<=u;g++)delete this.styles[g];this.shiftLineStyles(u,s-u)}else if(this.styles[s]){y=this.styles[s];var b=m-e,v,o;for(g=e;g<m;g++)delete y[g];for(o in this.styles[s])v=parseInt(o,10),v>=m&&(y[v-b]=y[o],delete y[o])}},shiftLineStyles:function(a,t){var i=l(this.styles);for(var c in this.styles){var s=parseInt(c,10);s>a&&(this.styles[s+t]=i[s],i[s-t]||delete this.styles[s])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(a,t,i,c){var s,e={},u=!1,m=this._unwrappedTextLines[a].length===t;i||(i=1),this.shiftLineStyles(a,i),this.styles[a]&&(s=this.styles[a][t===0?t:t-1]);for(var g in this.styles[a]){var y=parseInt(g,10);y>=t&&(u=!0,e[y-t]=this.styles[a][g],m&&t===0||delete this.styles[a][g])}var b=!1;for(u&&!m&&(this.styles[a+i]=e,b=!0),b&&i--;i>0;)c&&c[i-1]?this.styles[a+i]={0:l(c[i-1])}:s?this.styles[a+i]={0:l(s)}:delete this.styles[a+i],i--;this._forceClearCache=!0},insertCharStyleObject:function(a,t,i,c){this.styles||(this.styles={});var s=this.styles[a],e=s?l(s):{};i||(i=1);for(var u in e){var m=parseInt(u,10);m>=t&&(s[m+i]=e[m],e[m-i]||delete s[m])}if(this._forceClearCache=!0,c){for(;i--;)Object.keys(c[i]).length&&(this.styles[a]||(this.styles[a]={}),this.styles[a][t+i]=l(c[i]));return}if(s)for(var g=s[t?t-1:1];g&&i--;)this.styles[a][t+i]=l(g)},insertNewStyleBlock:function(a,t,i){for(var c=this.get2DCursorLocation(t,!0),s=[0],e=0,u=0;u<a.length;u++)a[u]===`
`?(e++,s[e]=0):s[e]++;s[0]>0&&(this.insertCharStyleObject(c.lineIndex,c.charIndex,s[0],i),i=i&&i.slice(s[0]+1)),e&&this.insertNewlineStyleObject(c.lineIndex,c.charIndex+s[0],e);for(var u=1;u<e;u++)s[u]>0?this.insertCharStyleObject(c.lineIndex+u,0,s[u],i):i&&this.styles[c.lineIndex+u]&&i[0]&&(this.styles[c.lineIndex+u][0]=i[0]),i=i&&i.slice(s[u]+1);s[u]>0&&this.insertCharStyleObject(c.lineIndex+u,0,s[u],i)},setSelectionStartEndWithShift:function(a,t,i){i<=a?(t===a?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=a),this.selectionStart=i):i>a&&i<t?this._selectionDirection==="right"?this.selectionEnd=i:this.selectionStart=i:(t===a?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=i)},setSelectionInBoundaries:function(){var a=this.text.length;this.selectionStart>a?this.selectionStart=a:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>a?this.selectionEnd=a:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),n.util.object.extend(n.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(l){if(this.canvas){this.__newClickTime=+new Date;var a=l.pointer;this.isTripleClick(a)&&(this.fire("tripleclick",l),this._stopEvent(l.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=a,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(l){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===l.x&&this.__lastPointer.y===l.y},_stopEvent:function(l){l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(l){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(l.e))},tripleClickHandler:function(l){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(l.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(l.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(l){if(this.__isMousedown=!1,!(!this.editable||this.group||l.transform&&l.transform.actionPerformed||l.e.button&&l.e.button!==1)){if(this.canvas){var a=this.canvas._activeObject;if(a&&a!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(l.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(l){var a=this.getSelectionStartFromPointer(l),t=this.selectionStart,i=this.selectionEnd;l.shiftKey?this.setSelectionStartEndWithShift(t,i,a):(this.selectionStart=a,this.selectionEnd=a),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(l){for(var a=this.getLocalPointer(l),t=0,i=0,c=0,s=0,e=0,u,m,g=0,y=this._textLines.length;g<y&&c<=a.y;g++)c+=this.getHeightOfLine(g)*this.scaleY,e=g,g>0&&(s+=this._textLines[g-1].length+this.missingNewlineOffset(g-1));u=this._getLineLeftOffset(e),i=u*this.scaleX,m=this._textLines[e],this.direction==="rtl"&&(a.x=this.width*this.scaleX-a.x+i);for(var b=0,v=m.length;b<v&&(t=i,i+=this.__charBounds[e][b].kernedWidth*this.scaleX,i<=a.x);b++)s++;return this._getNewSelectionStartFromOffset(a,t,i,s,v)},_getNewSelectionStartFromOffset:function(l,a,t,i,c){var s=l.x-a,e=t-l.x,u=e>s||e<0?0:1,m=i+u;return this.flipX&&(m=c-m),m>this._text.length&&(m=this._text.length),m}}),n.util.object.extend(n.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=n.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var l=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+l.top+"; left: "+l.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+l.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):n.document.body.appendChild(this.hiddenTextarea),n.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),n.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),n.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),n.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),n.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),n.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),n.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(n.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(l){if(this.isEditing){var a=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(l.keyCode in a)this[a[l.keyCode]](l);else if(l.keyCode in this.ctrlKeysMapDown&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapDown[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),l.keyCode>=33&&l.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(l){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(l.keyCode in this.ctrlKeysMapUp&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapUp[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(l){var a=this.fromPaste;if(this.fromPaste=!1,l&&l.stopPropagation(),!!this.isEditing){var t=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,i=this._text.length,c=t.length,s,e,u=c-i,m=this.selectionStart,g=this.selectionEnd,y=m!==g,b,v,o;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),T=m>S.selectionStart;y?(s=this._text.slice(m,g),u+=g-m):c<i&&(T?s=this._text.slice(g+u,g):s=this._text.slice(m,m-u)),e=t.slice(S.selectionEnd-u,S.selectionEnd),s&&s.length&&(e.length&&(b=this.getSelectionStyles(m,m+1,!1),b=e.map(function(){return b[0]})),y?(v=m,o=g):T?(v=g-s.length,o=g):(v=g,o=g+s.length),this.removeStyleFromTo(v,o)),e.length&&(a&&e.join("")===n.copiedText&&!n.disableStyleCopyPaste&&(b=n.copiedTextStyle),this.insertNewStyleBlock(e,m,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(l){this.compositionStart=l.target.selectionStart,this.compositionEnd=l.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(n.copiedText=this.getSelectedText(),n.disableStyleCopyPaste?n.copiedTextStyle=null:n.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(l){return l&&l.clipboardData||n.window.clipboardData},_getWidthBeforeCursor:function(l,a){var t=this._getLineLeftOffset(l),i;return a>0&&(i=this.__charBounds[l][a-1],t+=i.left+i.width),t},getDownCursorOffset:function(l,a){var t=this._getSelectionForOffset(l,a),i=this.get2DCursorLocation(t),c=i.lineIndex;if(c===this._textLines.length-1||l.metaKey||l.keyCode===34)return this._text.length-t;var s=i.charIndex,e=this._getWidthBeforeCursor(c,s),u=this._getIndexOnLine(c+1,e),m=this._textLines[c].slice(s);return m.length+u+1+this.missingNewlineOffset(c)},_getSelectionForOffset:function(l,a){return l.shiftKey&&this.selectionStart!==this.selectionEnd&&a?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(l,a){var t=this._getSelectionForOffset(l,a),i=this.get2DCursorLocation(t),c=i.lineIndex;if(c===0||l.metaKey||l.keyCode===33)return-t;var s=i.charIndex,e=this._getWidthBeforeCursor(c,s),u=this._getIndexOnLine(c-1,e),m=this._textLines[c].slice(0,s),g=this.missingNewlineOffset(c-1);return-this._textLines[c-1].length+u-m.length+(1-g)},_getIndexOnLine:function(l,a){for(var t=this._textLines[l],i=this._getLineLeftOffset(l),c=i,s=0,e,u,m=0,g=t.length;m<g;m++)if(e=this.__charBounds[l][m].width,c+=e,c>a){u=!0;var y=c-e,b=c,v=Math.abs(y-a),o=Math.abs(b-a);s=o<v?m:m-1;break}return u||(s=t.length-1),s},moveCursorDown:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",l)},moveCursorUp:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",l)},_moveCursorUpOrDown:function(l,a){var t="get"+l+"CursorOffset",i=this[t](a,this._selectionDirection==="right");a.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),i!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(l){var a=this._selectionDirection==="left"?this.selectionStart+l:this.selectionEnd+l;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,a),l!==0},moveCursorWithoutShift:function(l){return l<0?(this.selectionStart+=l,this.selectionEnd=this.selectionStart):(this.selectionEnd+=l,this.selectionStart=this.selectionEnd),l!==0},moveCursorLeft:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",l)},_move:function(l,a,t){var i;if(l.altKey)i=this["findWordBoundary"+t](this[a]);else if(l.metaKey||l.keyCode===35||l.keyCode===36)i=this["findLineBoundary"+t](this[a]);else return this[a]+=t==="Left"?-1:1,!0;if(typeof i<"u"&&this[a]!==i)return this[a]=i,!0},_moveLeft:function(l,a){return this._move(l,a,"Left")},_moveRight:function(l,a){return this._move(l,a,"Right")},moveCursorLeftWithoutShift:function(l){var a=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(a=this._moveLeft(l,"selectionStart")),this.selectionEnd=this.selectionStart,a},moveCursorLeftWithShift:function(l){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(l,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(l,"selectionStart")},moveCursorRight:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",l)},_moveCursorLeftOrRight:function(l,a){var t="moveCursor"+l+"With";this._currentCursorOpacity=1,a.shiftKey?t+="Shift":t+="outShift",this[t](a)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(l){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(l,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(l,"selectionEnd")},moveCursorRightWithoutShift:function(l){var a=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(a=this._moveRight(l,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,a},removeChars:function(l,a){typeof a>"u"&&(a=l+1),this.removeStyleFromTo(l,a),this._text.splice(l,a-l),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(l,a,t,i){typeof i>"u"&&(i=t),i>t&&this.removeStyleFromTo(t,i);var c=n.util.string.graphemeSplit(l);this.insertNewStyleBlock(c,t,a),this._text=[].concat(this._text.slice(0,t),c,this._text.slice(i)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var l=n.util.toFixed,a=/  +/g;n.util.object.extend(n.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),i=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(i)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var i=!0,c=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",c?'text-decoration="'+c+'" ':"",'style="',this.getSvgStyles(i),'"',this.addPaintOrder()," >",t.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(t,i){var c=[],s=[],e=t,u;this._setSVGBg(s);for(var m=0,g=this._textLines.length;m<g;m++)u=this._getLineLeftOffset(m),(this.textBackgroundColor||this.styleHas("textBackgroundColor",m))&&this._setSVGTextLineBg(s,m,i+u,e),this._setSVGTextLineText(c,m,i+u,e),e+=this.getHeightOfLine(m);return{textSpans:c,textBgRects:s}},_createTextCharSpan:function(t,i,c,s){var e=t!==t.trim()||t.match(a),u=this.getSvgSpanStyles(i,e),m=u?'style="'+u+'"':"",g=i.deltaY,y="",b=n.Object.NUM_FRACTION_DIGITS;return g&&(y=' dy="'+l(g,b)+'" '),['<tspan x="',l(c,b),'" y="',l(s,b),'" ',y,m,">",n.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,i,c,s){var e=this.getHeightOfLine(i),u=this.textAlign.indexOf("justify")!==-1,m,g,y="",b,v,o=0,S=this._textLines[i],T;s+=e*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,k=S.length-1;E<=k;E++)T=E===k||this.charSpacing,y+=S[E],b=this.__charBounds[i][E],o===0?(c+=b.kernedWidth-b.width,o+=b.width):o+=b.kernedWidth,u&&!T&&this._reSpaceAndTab.test(S[E])&&(T=!0),T||(m=m||this.getCompleteStyleDeclaration(i,E),g=this.getCompleteStyleDeclaration(i,E+1),T=n.util.hasStyleChanged(m,g,!0)),T&&(v=this._getStyleDeclaration(i,E)||{},t.push(this._createTextCharSpan(y,v,c,s)),y="",m=g,c+=o,o=0)},_pushTextBgRect:function(t,i,c,s,e,u){var m=n.Object.NUM_FRACTION_DIGITS;t.push("		<rect ",this._getFillAttributes(i),' x="',l(c,m),'" y="',l(s,m),'" width="',l(e,m),'" height="',l(u,m),`"></rect>
`)},_setSVGTextLineBg:function(t,i,c,s){for(var e=this._textLines[i],u=this.getHeightOfLine(i)/this.lineHeight,m=0,g=0,y,b,v=this.getValueOfPropertyAt(i,0,"textBackgroundColor"),o=0,S=e.length;o<S;o++)y=this.__charBounds[i][o],b=this.getValueOfPropertyAt(i,o,"textBackgroundColor"),b!==v?(v&&this._pushTextBgRect(t,v,c+g,s,m,u),g=y.left,m=y.width,v=b):m+=y.kernedWidth;b&&this._pushTextBgRect(t,b,c+g,s,m,u)},_getFillAttributes:function(t){var i=t&&typeof t=="string"?new n.Color(t):"";return!i||!i.getSource()||i.getAlpha()===1?'fill="'+t+'"':'opacity="'+i.getAlpha()+'" fill="'+i.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(t){for(var i=0,c=0,s=0;s<t;s++)i+=this.getHeightOfLine(s);return c=this.getHeightOfLine(s),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*c/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){var i=n.Object.prototype.getSvgStyles.call(this,t);return i+" white-space: pre;"}})}(),function(l){var a=l.fabric||(l.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var i=0,c=0,s=0,e={},u=0;u<t.graphemeLines.length;u++)t.graphemeText[s]===`
`&&u>0?(c=0,s++,i++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[s])&&u>0&&(c++,s++),e[u]={line:i,offset:c},s+=t.graphemeLines[u].length,c+=t.graphemeLines[u].length;return e},styleHas:function(t,i){if(this._styleMap&&!this.isWrapping){var c=this._styleMap[i];c&&(i=c.line)}return a.Text.prototype.styleHas.call(this,t,i)},isEmptyStyles:function(t){if(!this.styles)return!0;var i=0,c=t+1,s,e,u=!1,m=this._styleMap[t],g=this._styleMap[t+1];m&&(t=m.line,i=m.offset),g&&(c=g.line,u=c===t,s=g.offset),e=typeof t>"u"?this.styles:{line:this.styles[t]};for(var y in e)for(var b in e[y])if(b>=i&&(!u||b<s))for(var v in e[y][b])return!1;return!0},_getStyleDeclaration:function(t,i){if(this._styleMap&&!this.isWrapping){var c=this._styleMap[t];if(!c)return null;t=c.line,i=c.offset+i}return this.callSuper("_getStyleDeclaration",t,i)},_setStyleDeclaration:function(t,i,c){var s=this._styleMap[t];t=s.line,i=s.offset+i,this.styles[t][i]=c},_deleteStyleDeclaration:function(t,i){var c=this._styleMap[t];t=c.line,i=c.offset+i,delete this.styles[t][i]},_getLineStyle:function(t){var i=this._styleMap[t];return!!this.styles[i.line]},_setLineStyle:function(t){var i=this._styleMap[t];this.styles[i.line]={}},_wrapText:function(t,i){var c=[],s;for(this.isWrapping=!0,s=0;s<t.length;s++)c=c.concat(this._wrapLine(t[s],s,i));return this.isWrapping=!1,c},_measureWord:function(t,i,c){var s=0,e,u=!0;c=c||0;for(var m=0,g=t.length;m<g;m++){var y=this._getGraphemeBox(t[m],i,m+c,e,u);s+=y.kernedWidth,e=t[m]}return s},_wrapLine:function(t,i,c,O){var e=0,u=this.splitByGrapheme,m=[],g=[],y=u?a.util.string.graphemeSplit(t):t.split(this._wordJoiners),b="",v=0,o=u?"":" ",S=0,T=0,E=0,k=!0,M=this._getWidthOfCharSpacing(),O=O||0;y.length===0&&y.push([]),c-=O;for(var L=0;L<y.length;L++)b=u?y[L]:a.util.string.graphemeSplit(y[L]),S=this._measureWord(b,i,v),v+=b.length,e+=T+S-M,e>c&&!k?(m.push(g),g=[],e=S,k=!0):e+=M,!k&&!u&&g.push(o),g=g.concat(b),T=u?0:this._measureWord([o],i,v),v++,k=!1,S>E&&(E=S);return L&&m.push(g),E+O>this.dynamicMinWidth&&(this.dynamicMinWidth=E-M+O),m},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var i=a.Text.prototype._splitTextIntoLines.call(this,t),c=this._wrapText(i.lines,this.width),s=new Array(c.length),e=0;e<c.length;e++)s[e]=c[e].join("");return i.lines=s,i.graphemeLines=c,i},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var i in this._styleMap)this._textLines[i]&&(t[this._styleMap[i].line]=1);for(var i in this.styles)t[i]||delete this.styles[i]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),a.Textbox.fromObject=function(t,i){var c=a.util.stylesFromArray(t.styles,t.text),s=Object.assign({},t,{styles:c});return a.Object._fromObject("Textbox",s,i,"text")}}(r),function(){var l=n.controlsUtils,a=l.scaleSkewCursorStyleHandler,t=l.scaleCursorStyleHandler,i=l.scalingEqually,c=l.scalingYOrSkewingX,s=l.scalingXOrSkewingY,e=l.scaleOrSkewActionName,u=n.Object.prototype.controls;if(u.ml=new n.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:s,getActionName:e}),u.mr=new n.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:s,getActionName:e}),u.mb=new n.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:c,getActionName:e}),u.mt=new n.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:c,getActionName:e}),u.tl=new n.Control({x:-.5,y:-.5,cursorStyleHandler:t,actionHandler:i}),u.tr=new n.Control({x:.5,y:-.5,cursorStyleHandler:t,actionHandler:i}),u.bl=new n.Control({x:-.5,y:.5,cursorStyleHandler:t,actionHandler:i}),u.br=new n.Control({x:.5,y:.5,cursorStyleHandler:t,actionHandler:i}),u.mtr=new n.Control({x:0,y:-.5,actionHandler:l.rotationWithSnapping,cursorStyleHandler:l.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),n.Textbox){var m=n.Textbox.prototype.controls={};m.mtr=u.mtr,m.tr=u.tr,m.br=u.br,m.tl=u.tl,m.bl=u.bl,m.mt=u.mt,m.mb=u.mb,m.mr=new n.Control({x:.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),m.ml=new n.Control({x:-.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}}()})(fabric);function ownKeys$1(r,n){var x=Object.keys(r);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(r);n&&(C=C.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),x.push.apply(x,C)}return x}function _objectSpread2$1(r){for(var n=1;n<arguments.length;n++){var x=arguments[n]!=null?arguments[n]:{};n%2?ownKeys$1(Object(x),!0).forEach(function(C){_defineProperty$1(r,C,x[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(x)):ownKeys$1(Object(x)).forEach(function(C){Object.defineProperty(r,C,Object.getOwnPropertyDescriptor(x,C))})}return r}function _typeof$1(r){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(r)}function _classCallCheck(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,n){for(var x=0;x<n.length;x++){var C=n[x];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(r,C.key,C)}}function _createClass(r,n,x){return n&&_defineProperties(r.prototype,n),x&&_defineProperties(r,x),Object.defineProperty(r,"prototype",{writable:!1}),r}function _defineProperty$1(r,n,x){return n in r?Object.defineProperty(r,n,{value:x,enumerable:!0,configurable:!0,writable:!0}):r[n]=x,r}function _slicedToArray(r,n){return _arrayWithHoles(r)||_iterableToArrayLimit(r,n)||_unsupportedIterableToArray$1(r,n)||_nonIterableRest()}function _toConsumableArray$1(r){return _arrayWithoutHoles$1(r)||_iterableToArray$1(r)||_unsupportedIterableToArray$1(r)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(r){if(Array.isArray(r))return _arrayLikeToArray$1(r)}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _iterableToArray$1(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _iterableToArrayLimit(r,n){var x=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(x!=null){var C=[],_=!0,K=!1,$,l;try{for(x=x.call(r);!(_=($=x.next()).done)&&(C.push($.value),!(n&&C.length===n));_=!0);}catch(a){K=!0,l=a}finally{try{!_&&x.return!=null&&x.return()}finally{if(K)throw l}}return C}}function _unsupportedIterableToArray$1(r,n){if(r){if(typeof r=="string")return _arrayLikeToArray$1(r,n);var x=Object.prototype.toString.call(r).slice(8,-1);if(x==="Object"&&r.constructor&&(x=r.constructor.name),x==="Map"||x==="Set")return Array.from(r);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return _arrayLikeToArray$1(r,n)}}function _arrayLikeToArray$1(r,n){(n==null||n>r.length)&&(n=r.length);for(var x=0,C=new Array(n);x<n;x++)C[x]=r[x];return C}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop$1=function r(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$1,measure:noop$1};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(r){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION$1=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(r){return new Proxy(r,{get:function(x,C){return C in x?x[C]:x[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty$1(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_defineProperty$1(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty$1(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty$1(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty$1(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty$1(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty$1(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty$1(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty$1(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty$1(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray$1(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(r){return"".concat(r,"x")})).concat(oneToTwenty.map(function(r){return"w-".concat(r)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(r){var n=DOCUMENT.querySelector("script["+r+"]");if(n)return n.getAttribute(r)}function coerce(r){return r===""?!0:r==="false"?!1:r==="true"?!0:r}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(r){var n=_slicedToArray(r,2),x=n[0],C=n[1],_=coerce(getAttrConfig(x));_!=null&&(initial[C]=_)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2$1(_objectSpread2$1({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config={};Object.keys(_default).forEach(function(r){Object.defineProperty(config,r,{enumerable:!0,set:function(x){_config[r]=x,_onChangeCb.forEach(function(C){return C(config)})},get:function(){return _config[r]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function r(n){_config.cssPrefix=n,_onChangeCb.forEach(function(x){return x(config)})},get:function r(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;var _onChangeCb=[];function onChange(r){return _onChangeCb.push(r),function(){_onChangeCb.splice(_onChangeCb.indexOf(r),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(r){if(!(!r||!IS_DOM)){var n=DOCUMENT.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=r;for(var x=DOCUMENT.head.childNodes,C=null,_=x.length-1;_>-1;_--){var K=x[_],$=(K.tagName||"").toUpperCase();["STYLE","LINK"].indexOf($)>-1&&(C=K)}return DOCUMENT.head.insertBefore(n,C),r}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var r=12,n="";r-- >0;)n+=idPool[Math.random()*62|0];return n}function toArray(r){for(var n=[],x=(r||[]).length>>>0;x--;)n[x]=r[x];return n}function classArray(r){return r.classList?toArray(r.classList):(r.getAttribute("class")||"").split(" ").filter(function(n){return n})}function htmlEscape(r){return"".concat(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(r){return Object.keys(r||{}).reduce(function(n,x){return n+"".concat(x,'="').concat(htmlEscape(r[x]),'" ')},"").trim()}function joinStyles(r){return Object.keys(r||{}).reduce(function(n,x){return n+"".concat(x,": ").concat(r[x].trim(),";")},"")}function transformIsMeaningful(r){return r.size!==meaninglessTransform.size||r.x!==meaninglessTransform.x||r.y!==meaninglessTransform.y||r.rotate!==meaninglessTransform.rotate||r.flipX||r.flipY}function transformForSvg(r){var n=r.transform,x=r.containerWidth,C=r.iconWidth,_={transform:"translate(".concat(x/2," 256)")},K="translate(".concat(n.x*32,", ").concat(n.y*32,") "),$="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),a={transform:"".concat(K," ").concat($," ").concat(l)},t={transform:"translate(".concat(C/2*-1," -256)")};return{outer:_,inner:a,path:t}}function transformForCss(r){var n=r.transform,x=r.width,C=x===void 0?UNITS_IN_GRID:x,_=r.height,K=_===void 0?UNITS_IN_GRID:_,$=r.startCentered,l=$===void 0?!1:$,a="";return l&&IS_IE?a+="translate(".concat(n.x/d-C/2,"em, ").concat(n.y/d-K/2,"em) "):l?a+="translate(calc(-50% + ".concat(n.x/d,"em), calc(-50% + ").concat(n.y/d,"em)) "):a+="translate(".concat(n.x/d,"em, ").concat(n.y/d,"em) "),a+="scale(".concat(n.size/d*(n.flipX?-1:1),", ").concat(n.size/d*(n.flipY?-1:1),") "),a+="rotate(".concat(n.rotate,"deg) "),a}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var r=DEFAULT_CSS_PREFIX,n=DEFAULT_REPLACEMENT_CLASS,x=config.cssPrefix,C=config.replacementClass,_=baseStyles;if(x!==r||C!==n){var K=new RegExp("\\.".concat(r,"\\-"),"g"),$=new RegExp("\\--".concat(r,"\\-"),"g"),l=new RegExp("\\.".concat(n),"g");_=_.replace(K,".".concat(x,"-")).replace($,"--".concat(x,"-")).replace(l,".".concat(C))}return _}var _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function r(){return{dom:{css,insertCss:ensureCss}}},hooks:function r(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function r(){DOCUMENT.removeEventListener("DOMContentLoaded",r),loaded=1,functions.map(function(n){return n()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(r){IS_DOM&&(loaded?setTimeout(r,0):functions.push(r))}function toHtml(r){var n=r.tag,x=r.attributes,C=x===void 0?{}:x,_=r.children,K=_===void 0?[]:_;return typeof r=="string"?htmlEscape(r):"<".concat(n," ").concat(joinAttributes(C),">").concat(K.map(toHtml).join(""),"</").concat(n,">")}function iconFromMapping(r,n,x){if(r&&r[n]&&r[n][x])return{prefix:n,iconName:x,icon:r[n][x]}}var bindInternal4=function r(n,x){return function(C,_,K,$){return n.call(x,C,_,K,$)}},reduce=function r(n,x,C,_){var K=Object.keys(n),$=K.length,l=_!==void 0?bindInternal4(x,_):x,a,t,i;for(C===void 0?(a=1,i=n[K[0]]):(a=0,i=C);a<$;a++)t=K[a],i=l(i,n[t],t,n);return i};function ucs2decode(r){for(var n=[],x=0,C=r.length;x<C;){var _=r.charCodeAt(x++);if(_>=55296&&_<=56319&&x<C){var K=r.charCodeAt(x++);(K&64512)==56320?n.push(((_&1023)<<10)+(K&1023)+65536):(n.push(_),x--)}else n.push(_)}return n}function toHex(r){var n=ucs2decode(r);return n.length===1?n[0].toString(16):null}function codePointAt(r,n){var x=r.length,C=r.charCodeAt(n),_;return C>=55296&&C<=56319&&x>n+1&&(_=r.charCodeAt(n+1),_>=56320&&_<=57343)?(C-55296)*1024+_-56320+65536:C}function normalizeIcons(r){return Object.keys(r).reduce(function(n,x){var C=r[x],_=!!C.icon;return _?n[C.iconName]=C.icon:n[x]=C,n},{})}function defineIcons(r,n){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=x.skipHooks,_=C===void 0?!1:C,K=normalizeIcons(n);typeof namespace.hooks.addPack=="function"&&!_?namespace.hooks.addPack(r,normalizeIcons(n)):namespace.styles[r]=_objectSpread2$1(_objectSpread2$1({},namespace.styles[r]||{}),K),r==="fas"&&defineIcons("fa",n)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty$1(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty$1(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(r){return~RESERVED_CLASSES.indexOf(r)}function getIconName(r,n){var x=n.split("-"),C=x[0],_=x.slice(1).join("-");return C===r&&_!==""&&!isReserved(_)?_:null}var build=function r(){var n=function(K){return reduce(styles,function($,l,a){return $[a]=reduce(l,K,{}),$},{})};_byUnicode=n(function(_,K,$){if(K[3]&&(_[K[3]]=$),K[2]){var l=K[2].filter(function(a){return typeof a=="number"});l.forEach(function(a){_[a.toString(16)]=$})}return _}),_byLigature=n(function(_,K,$){if(_[$]=$,K[2]){var l=K[2].filter(function(a){return typeof a=="string"});l.forEach(function(a){_[a]=$})}return _}),_byAlias=n(function(_,K,$){var l=K[2];return _[$]=$,l.forEach(function(a){_[a]=$}),_});var x="far"in styles||config.autoFetchSvg,C=reduce(shims,function(_,K){var $=K[0],l=K[1],a=K[2];return l==="far"&&!x&&(l="fas"),typeof $=="string"&&(_.names[$]={prefix:l,iconName:a}),typeof $=="number"&&(_.unicodes[$.toString(16)]={prefix:l,iconName:a}),_},{names:{},unicodes:{}});_byOldName=C.names,_byOldUnicode=C.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(function(r){_defaultUsablePrefix=getCanonicalPrefix(r.styleDefault,{family:config.familyDefault})});build();function byUnicode(r,n){return(_byUnicode[r]||{})[n]}function byLigature(r,n){return(_byLigature[r]||{})[n]}function byAlias(r,n){return(_byAlias[r]||{})[n]}function byOldName(r){return _byOldName[r]||{prefix:null,iconName:null}}function byOldUnicode(r){var n=_byOldUnicode[r],x=byUnicode("fas",r);return n||(x?{prefix:"fas",iconName:x}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function r(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=n.family,C=x===void 0?FAMILY_CLASSIC:x,_=PREFIX_TO_STYLE[C][r],K=STYLE_TO_PREFIX[C][r]||STYLE_TO_PREFIX[C][_],$=r in namespace.styles?r:null;return K||$||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty$1(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(r){var n,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=x.skipLookups,_=C===void 0?!1:C,K=(n={},_defineProperty$1(n,FAMILY_CLASSIC,"".concat(config.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty$1(n,FAMILY_SHARP,"".concat(config.cssPrefix,"-").concat(FAMILY_SHARP)),n),$=null,l=FAMILY_CLASSIC;(r.includes(K[FAMILY_CLASSIC])||r.some(function(t){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(t)}))&&(l=FAMILY_CLASSIC),(r.includes(K[FAMILY_SHARP])||r.some(function(t){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(t)}))&&(l=FAMILY_SHARP);var a=r.reduce(function(t,i){var c=getIconName(config.cssPrefix,i);if(styles[i]?(i=LONG_STYLE[l].includes(i)?LONG_STYLE_TO_PREFIX[l][i]:i,$=i,t.prefix=i):PREFIXES[l].indexOf(i)>-1?($=i,t.prefix=getCanonicalPrefix(i,{family:l})):c?t.iconName=c:i!==config.replacementClass&&i!==K[FAMILY_CLASSIC]&&i!==K[FAMILY_SHARP]&&t.rest.push(i),!_&&t.prefix&&t.iconName){var s=$==="fa"?byOldName(t.iconName):{},e=byAlias(t.prefix,t.iconName);s.prefix&&($=null),t.iconName=s.iconName||e||t.iconName,t.prefix=s.prefix||t.prefix,t.prefix==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(t.prefix="fas")}return t},emptyCanonicalIcon());return(r.includes("fa-brands")||r.includes("fab"))&&(a.prefix="fab"),(r.includes("fa-duotone")||r.includes("fad"))&&(a.prefix="fad"),!a.prefix&&l===FAMILY_SHARP&&(styles.fass||config.autoFetchSvg)&&(a.prefix="fass",a.iconName=byAlias(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||$==="fa")&&(a.prefix=getDefaultUsablePrefix()||"fas"),a}var Library=function(){function r(){_classCallCheck(this,r),this.definitions={}}return _createClass(r,[{key:"add",value:function(){for(var x=this,C=arguments.length,_=new Array(C),K=0;K<C;K++)_[K]=arguments[K];var $=_.reduce(this._pullDefinitions,{});Object.keys($).forEach(function(l){x.definitions[l]=_objectSpread2$1(_objectSpread2$1({},x.definitions[l]||{}),$[l]),defineIcons(l,$[l]);var a=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][l];a&&defineIcons(a,$[l]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(x,C){var _=C.prefix&&C.iconName&&C.icon?{0:C}:C;return Object.keys(_).map(function(K){var $=_[K],l=$.prefix,a=$.iconName,t=$.icon,i=t[2];x[l]||(x[l]={}),i.length>0&&i.forEach(function(c){typeof c=="string"&&(x[l][c]=t)}),x[l][a]=t}),x}}]),r}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(r,n){var x=n.mixoutsTo;return _plugins=r,_hooks={},Object.keys(providers).forEach(function(C){defaultProviderKeys.indexOf(C)===-1&&delete providers[C]}),_plugins.forEach(function(C){var _=C.mixout?C.mixout():{};if(Object.keys(_).forEach(function($){typeof _[$]=="function"&&(x[$]=_[$]),_typeof$1(_[$])==="object"&&Object.keys(_[$]).forEach(function(l){x[$]||(x[$]={}),x[$][l]=_[$][l]})}),C.hooks){var K=C.hooks();Object.keys(K).forEach(function($){_hooks[$]||(_hooks[$]=[]),_hooks[$].push(K[$])})}C.provides&&C.provides(providers)}),x}function chainHooks(r,n){for(var x=arguments.length,C=new Array(x>2?x-2:0),_=2;_<x;_++)C[_-2]=arguments[_];var K=_hooks[r]||[];return K.forEach(function($){n=$.apply(null,[n].concat(C))}),n}function callHooks(r){for(var n=arguments.length,x=new Array(n>1?n-1:0),C=1;C<n;C++)x[C-1]=arguments[C];var _=_hooks[r]||[];_.forEach(function(K){K.apply(null,x)})}function callProvided(){var r=arguments[0],n=Array.prototype.slice.call(arguments,1);return providers[r]?providers[r].apply(null,n):void 0}function findIconDefinition(r){r.prefix==="fa"&&(r.prefix="fas");var n=r.iconName,x=r.prefix||getDefaultUsablePrefix();if(n)return n=byAlias(x,n)||n,iconFromMapping(library.definitions,x,n)||iconFromMapping(namespace.styles,x,n)}var library=new Library,noAuto=function r(){config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",n),callProvided("pseudoElements2svg",n),callProvided("i2svg",n)):Promise.reject("Operation requires a DOM of some kind.")},watch:function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=n.autoReplaceSvgRoot;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:x}),callHooks("watch",n)})}},parse={icon:function r(n){if(n===null)return null;if(_typeof$1(n)==="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:byAlias(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){var x=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],C=getCanonicalPrefix(n[0]);return{prefix:C,iconName:byAlias(C,x)||x}}if(typeof n=="string"&&(n.indexOf("".concat(config.cssPrefix,"-"))>-1||n.match(ICON_SELECTION_SYNTAX_PATTERN))){var _=getCanonicalIcon(n.split(" "),{skipLookups:!0});return{prefix:_.prefix||getDefaultUsablePrefix(),iconName:byAlias(_.prefix,_.iconName)||_.iconName}}if(typeof n=="string"){var K=getDefaultUsablePrefix();return{prefix:K,iconName:byAlias(K,n)||n}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=n.autoReplaceSvgRoot,C=x===void 0?DOCUMENT:x;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:C})};function domVariants(r,n){return Object.defineProperty(r,"abstract",{get:n}),Object.defineProperty(r,"html",{get:function(){return r.abstract.map(function(C){return toHtml(C)})}}),Object.defineProperty(r,"node",{get:function(){if(IS_DOM){var C=DOCUMENT.createElement("div");return C.innerHTML=r.html,C.children}}}),r}function asIcon(r){var n=r.children,x=r.main,C=r.mask,_=r.attributes,K=r.styles,$=r.transform;if(transformIsMeaningful($)&&x.found&&!C.found){var l=x.width,a=x.height,t={x:l/a/2,y:.5};_.style=joinStyles(_objectSpread2$1(_objectSpread2$1({},K),{},{"transform-origin":"".concat(t.x+$.x/16,"em ").concat(t.y+$.y/16,"em")}))}return[{tag:"svg",attributes:_,children:n}]}function asSymbol(r){var n=r.prefix,x=r.iconName,C=r.children,_=r.attributes,K=r.symbol,$=K===!0?"".concat(n,"-").concat(config.cssPrefix,"-").concat(x):K;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2$1(_objectSpread2$1({},_),{},{id:$}),children:C}]}]}function makeInlineSvgAbstract(r){var n=r.icons,x=n.main,C=n.mask,_=r.prefix,K=r.iconName,$=r.transform,l=r.symbol,a=r.title,t=r.maskId,i=r.titleId,c=r.extra,s=r.watchable,e=s===void 0?!1:s,u=C.found?C:x,m=u.width,g=u.height,y=_==="fak",b=[config.replacementClass,K?"".concat(config.cssPrefix,"-").concat(K):""].filter(function(M){return c.classes.indexOf(M)===-1}).filter(function(M){return M!==""||!!M}).concat(c.classes).join(" "),v={children:[],attributes:_objectSpread2$1(_objectSpread2$1({},c.attributes),{},{"data-prefix":_,"data-icon":K,class:b,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},o=y&&!~c.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};e&&(v.attributes[DATA_FA_I2SVG]=""),a&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(i||nextUniqueId())},children:[a]}),delete v.attributes.title);var S=_objectSpread2$1(_objectSpread2$1({},v),{},{prefix:_,iconName:K,main:x,mask:C,maskId:t,transform:$,symbol:l,styles:_objectSpread2$1(_objectSpread2$1({},o),c.styles)}),T=C.found&&x.found?callProvided("generateAbstractMask",S)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",S)||{children:[],attributes:{}},E=T.children,k=T.attributes;return S.children=E,S.attributes=k,l?asSymbol(S):asIcon(S)}function makeLayersTextAbstract(r){var n=r.content,x=r.width,C=r.height,_=r.transform,K=r.title,$=r.extra,l=r.watchable,a=l===void 0?!1:l,t=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},$.attributes),K?{title:K}:{}),{},{class:$.classes.join(" ")});a&&(t[DATA_FA_I2SVG]="");var i=_objectSpread2$1({},$.styles);transformIsMeaningful(_)&&(i.transform=transformForCss({transform:_,startCentered:!0,width:x,height:C}),i["-webkit-transform"]=i.transform);var c=joinStyles(i);c.length>0&&(t.style=c);var s=[];return s.push({tag:"span",attributes:t,children:[n]}),K&&s.push({tag:"span",attributes:{class:"sr-only"},children:[K]}),s}function makeLayersCounterAbstract(r){var n=r.content,x=r.title,C=r.extra,_=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},C.attributes),x?{title:x}:{}),{},{class:C.classes.join(" ")}),K=joinStyles(C.styles);K.length>0&&(_.style=K);var $=[];return $.push({tag:"span",attributes:_,children:[n]}),x&&$.push({tag:"span",attributes:{class:"sr-only"},children:[x]}),$}var styles$1=namespace.styles;function asFoundIcon(r){var n=r[0],x=r[1],C=r.slice(4),_=_slicedToArray(C,1),K=_[0],$=null;return Array.isArray(K)?$={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:K[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:K[1]}}]}:$={tag:"path",attributes:{fill:"currentColor",d:K}},{found:!0,width:n,height:x,icon:$}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(r,n){!PRODUCTION$1&&!config.showMissingIcons&&r&&console.error('Icon with name "'.concat(r,'" and prefix "').concat(n,'" is missing.'))}function findIcon(r,n){var x=n;return n==="fa"&&config.styleDefault!==null&&(n=getDefaultUsablePrefix()),new Promise(function(C,_){if(callProvided("missingIconAbstract"),x==="fa"){var K=byOldName(r)||{};r=K.iconName||r,n=K.prefix||n}if(r&&n&&styles$1[n]&&styles$1[n][r]){var $=styles$1[n][r];return C(asFoundIcon($))}maybeNotifyMissing(r,n),C(_objectSpread2$1(_objectSpread2$1({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&r?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1$1=function r(){},p=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.3.0"',begin=function r(n){return p.mark("".concat(preamble," ").concat(n," begins")),function(){return end(n)}},end=function r(n){p.mark("".concat(preamble," ").concat(n," ends")),p.measure("".concat(preamble," ").concat(n),"".concat(preamble," ").concat(n," begins"),"".concat(preamble," ").concat(n," ends"))},perf={begin,end},noop$2=function r(){};function isWatched(r){var n=r.getAttribute?r.getAttribute(DATA_FA_I2SVG):null;return typeof n=="string"}function hasPrefixAndIcon(r){var n=r.getAttribute?r.getAttribute(DATA_PREFIX):null,x=r.getAttribute?r.getAttribute(DATA_ICON):null;return n&&x}function hasBeenReplaced(r){return r&&r.classList&&r.classList.contains&&r.classList.contains(config.replacementClass)}function getMutator(){if(config.autoReplaceSvg===!0)return mutators.replace;var r=mutators[config.autoReplaceSvg];return r||mutators.replace}function createElementNS(r){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",r)}function createElement(r){return DOCUMENT.createElement(r)}function convertSVG(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=n.ceFn,C=x===void 0?r.tag==="svg"?createElementNS:createElement:x;if(typeof r=="string")return DOCUMENT.createTextNode(r);var _=C(r.tag);Object.keys(r.attributes||[]).forEach(function($){_.setAttribute($,r.attributes[$])});var K=r.children||[];return K.forEach(function($){_.appendChild(convertSVG($,{ceFn:C}))}),_}function nodeAsComment(r){var n=" ".concat(r.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}var mutators={replace:function r(n){var x=n[0];if(x.parentNode)if(n[1].forEach(function(_){x.parentNode.insertBefore(convertSVG(_),x)}),x.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){var C=DOCUMENT.createComment(nodeAsComment(x));x.parentNode.replaceChild(C,x)}else x.remove()},nest:function r(n){var x=n[0],C=n[1];if(~classArray(x).indexOf(config.replacementClass))return mutators.replace(n);var _=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete C[0].attributes.id,C[0].attributes.class){var K=C[0].attributes.class.split(" ").reduce(function(l,a){return a===config.replacementClass||a.match(_)?l.toSvg.push(a):l.toNode.push(a),l},{toNode:[],toSvg:[]});C[0].attributes.class=K.toSvg.join(" "),K.toNode.length===0?x.removeAttribute("class"):x.setAttribute("class",K.toNode.join(" "))}var $=C.map(function(l){return toHtml(l)}).join(`
`);x.setAttribute(DATA_FA_I2SVG,""),x.innerHTML=$}};function performOperationSync(r){r()}function perform(r,n){var x=typeof n=="function"?n:noop$2;if(r.length===0)x();else{var C=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(C=WINDOW.requestAnimationFrame||performOperationSync),C(function(){var _=getMutator(),K=perf.begin("mutate");r.map(_),K(),x()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo=null;function observe(r){if(MUTATION_OBSERVER&&config.observeMutations){var n=r.treeCallback,x=n===void 0?noop$2:n,C=r.nodeCallback,_=C===void 0?noop$2:C,K=r.pseudoElementsCallback,$=K===void 0?noop$2:K,l=r.observeMutationsRoot,a=l===void 0?DOCUMENT:l;mo=new MUTATION_OBSERVER(function(t){if(!disabled){var i=getDefaultUsablePrefix();toArray(t).forEach(function(c){if(c.type==="childList"&&c.addedNodes.length>0&&!isWatched(c.addedNodes[0])&&(config.searchPseudoElements&&$(c.target),x(c.target)),c.type==="attributes"&&c.target.parentNode&&config.searchPseudoElements&&$(c.target.parentNode),c.type==="attributes"&&isWatched(c.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(c.attributeName))if(c.attributeName==="class"&&hasPrefixAndIcon(c.target)){var s=getCanonicalIcon(classArray(c.target)),e=s.prefix,u=s.iconName;c.target.setAttribute(DATA_PREFIX,e||i),u&&c.target.setAttribute(DATA_ICON,u)}else hasBeenReplaced(c.target)&&_(c.target)})}}),IS_DOM&&mo.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(r){var n=r.getAttribute("style"),x=[];return n&&(x=n.split(";").reduce(function(C,_){var K=_.split(":"),$=K[0],l=K.slice(1);return $&&l.length>0&&(C[$]=l.join(":").trim()),C},{})),x}function classParser(r){var n=r.getAttribute("data-prefix"),x=r.getAttribute("data-icon"),C=r.innerText!==void 0?r.innerText.trim():"",_=getCanonicalIcon(classArray(r));return _.prefix||(_.prefix=getDefaultUsablePrefix()),n&&x&&(_.prefix=n,_.iconName=x),_.iconName&&_.prefix||(_.prefix&&C.length>0&&(_.iconName=byLigature(_.prefix,r.innerText)||byUnicode(_.prefix,toHex(r.innerText))),!_.iconName&&config.autoFetchSvg&&r.firstChild&&r.firstChild.nodeType===Node.TEXT_NODE&&(_.iconName=r.firstChild.data)),_}function attributesParser(r){var n=toArray(r.attributes).reduce(function(_,K){return _.name!=="class"&&_.name!=="style"&&(_[K.name]=K.value),_},{}),x=r.getAttribute("title"),C=r.getAttribute("data-fa-title-id");return config.autoA11y&&(x?n["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(C||nextUniqueId()):(n["aria-hidden"]="true",n.focusable="false")),n}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},x=classParser(r),C=x.iconName,_=x.prefix,K=x.rest,$=attributesParser(r),l=chainHooks("parseNodeAttributes",{},r),a=n.styleParser?styleParser(r):[];return _objectSpread2$1({iconName:C,title:r.getAttribute("title"),titleId:r.getAttribute("data-fa-title-id"),prefix:_,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:K,styles:a,attributes:$}},l)}var styles$2=namespace.styles;function generateMutation(r){var n=config.autoReplaceSvg==="nest"?parseMeta(r,{styleParser:!1}):parseMeta(r);return~n.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",r,n):callProvided("generateSvgReplacementMutation",r,n)}var knownPrefixes=new Set;FAMILIES.map(function(r){knownPrefixes.add("fa-".concat(r))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray$1(knownPrefixes);function onTree(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var x=DOCUMENT.documentElement.classList,C=function(c){return x.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(c))},_=function(c){return x.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(c))},K=config.autoFetchSvg?knownPrefixes:FAMILIES.map(function(i){return"fa-".concat(i)}).concat(Object.keys(styles$2));K.includes("fa")||K.push("fa");var $=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(K.map(function(i){return".".concat(i,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if($.length===0)return Promise.resolve();var l=[];try{l=toArray(r.querySelectorAll($))}catch{}if(l.length>0)C("pending"),_("complete");else return Promise.resolve();var a=perf.begin("onTree"),t=l.reduce(function(i,c){try{var s=generateMutation(c);s&&i.push(s)}catch(e){PRODUCTION$1||e.name==="MissingIcon"&&console.error(e)}return i},[]);return new Promise(function(i,c){Promise.all(t).then(function(s){perform(s,function(){C("active"),C("complete"),_("pending"),typeof n=="function"&&n(),a(),i()})}).catch(function(s){a(),c(s)})})}function onNode(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(r).then(function(x){x&&perform([x],n)})}function resolveIcons(r){return function(n){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=(n||{}).icon?n:findIconDefinition(n||{}),_=x.mask;return _&&(_=(_||{}).icon?_:findIconDefinition(_||{})),r(C,_objectSpread2$1(_objectSpread2$1({},x),{},{mask:_}))}}var render=function r(n){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=x.transform,_=C===void 0?meaninglessTransform:C,K=x.symbol,$=K===void 0?!1:K,l=x.mask,a=l===void 0?null:l,t=x.maskId,i=t===void 0?null:t,c=x.title,s=c===void 0?null:c,e=x.titleId,u=e===void 0?null:e,m=x.classes,g=m===void 0?[]:m,y=x.attributes,b=y===void 0?{}:y,v=x.styles,o=v===void 0?{}:v;if(n){var S=n.prefix,T=n.iconName,E=n.icon;return domVariants(_objectSpread2$1({type:"icon"},n),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:n,params:x}),config.autoA11y&&(s?b["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(u||nextUniqueId()):(b["aria-hidden"]="true",b.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(E),mask:a?asFoundIcon(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:S,iconName:T,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),_),symbol:$,title:s,maskId:i,titleId:u,extra:{attributes:b,styles:o,classes:g}})})}},ReplaceElements={mixout:function r(){return{icon:resolveIcons(render)}},hooks:function r(){return{mutationObserverCallbacks:function(x){return x.treeCallback=onTree,x.nodeCallback=onNode,x}}},provides:function r(n){n.i2svg=function(x){var C=x.node,_=C===void 0?DOCUMENT:C,K=x.callback,$=K===void 0?function(){}:K;return onTree(_,$)},n.generateSvgReplacementMutation=function(x,C){var _=C.iconName,K=C.title,$=C.titleId,l=C.prefix,a=C.transform,t=C.symbol,i=C.mask,c=C.maskId,s=C.extra;return new Promise(function(e,u){Promise.all([findIcon(_,l),i.iconName?findIcon(i.iconName,i.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var g=_slicedToArray(m,2),y=g[0],b=g[1];e([x,makeInlineSvgAbstract({icons:{main:y,mask:b},prefix:l,iconName:_,transform:a,symbol:t,maskId:c,title:K,titleId:$,extra:s,watchable:!0})])}).catch(u)})},n.generateAbstractIcon=function(x){var C=x.children,_=x.attributes,K=x.main,$=x.transform,l=x.styles,a=joinStyles(l);a.length>0&&(_.style=a);var t;return transformIsMeaningful($)&&(t=callProvided("generateAbstractTransformGrouping",{main:K,transform:$,containerWidth:K.width,iconWidth:K.width})),C.push(t||K.icon),{children:C,attributes:_}}}},Layers={mixout:function r(){return{layer:function(x){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=C.classes,K=_===void 0?[]:_;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:x,params:C});var $=[];return x(function(l){Array.isArray(l)?l.map(function(a){$=$.concat(a.abstract)}):$=$.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers")].concat(_toConsumableArray$1(K)).join(" ")},children:$}]})}}}},LayersCounter={mixout:function r(){return{counter:function(x){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=C.title,K=_===void 0?null:_,$=C.classes,l=$===void 0?[]:$,a=C.attributes,t=a===void 0?{}:a,i=C.styles,c=i===void 0?{}:i;return domVariants({type:"counter",content:x},function(){return callHooks("beforeDOMElementCreation",{content:x,params:C}),makeLayersCounterAbstract({content:x.toString(),title:K,extra:{attributes:t,styles:c,classes:["".concat(config.cssPrefix,"-layers-counter")].concat(_toConsumableArray$1(l))}})})}}}},LayersText={mixout:function r(){return{text:function(x){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=C.transform,K=_===void 0?meaninglessTransform:_,$=C.title,l=$===void 0?null:$,a=C.classes,t=a===void 0?[]:a,i=C.attributes,c=i===void 0?{}:i,s=C.styles,e=s===void 0?{}:s;return domVariants({type:"text",content:x},function(){return callHooks("beforeDOMElementCreation",{content:x,params:C}),makeLayersTextAbstract({content:x,transform:_objectSpread2$1(_objectSpread2$1({},meaninglessTransform),K),title:l,extra:{attributes:c,styles:e,classes:["".concat(config.cssPrefix,"-layers-text")].concat(_toConsumableArray$1(t))}})})}}},provides:function r(n){n.generateLayersText=function(x,C){var _=C.title,K=C.transform,$=C.extra,l=null,a=null;if(IS_IE){var t=parseInt(getComputedStyle(x).fontSize,10),i=x.getBoundingClientRect();l=i.width/t,a=i.height/t}return config.autoA11y&&!_&&($.attributes["aria-hidden"]="true"),Promise.resolve([x,makeLayersTextAbstract({content:x.innerHTML,width:l,height:a,transform:K,title:_,extra:$,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(r){var n=r.replace(CLEAN_CONTENT_PATTERN,""),x=codePointAt(n,0),C=x>=SECONDARY_UNICODE_RANGE[0]&&x<=SECONDARY_UNICODE_RANGE[1],_=n.length===2?n[0]===n[1]:!1;return{value:toHex(_?n[0]:n),isSecondary:C||_}}function replaceForPosition(r,n){var x="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(n.replace(":","-"));return new Promise(function(C,_){if(r.getAttribute(x)!==null)return C();var K=toArray(r.children),$=K.filter(function(E){return E.getAttribute(DATA_FA_PSEUDO_ELEMENT)===n})[0],l=WINDOW.getComputedStyle(r,n),a=l.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),t=l.getPropertyValue("font-weight"),i=l.getPropertyValue("content");if($&&!a)return r.removeChild($),C();if(a&&i!=="none"&&i!==""){var c=l.getPropertyValue("content"),s=~["Sharp"].indexOf(a[2])?FAMILY_SHARP:FAMILY_CLASSIC,e=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(a[2])?STYLE_TO_PREFIX[s][a[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[s][t],u=hexValueFromContent(c),m=u.value,g=u.isSecondary,y=a[0].startsWith("FontAwesome"),b=byUnicode(e,m),v=b;if(y){var o=byOldUnicode(m);o.iconName&&o.prefix&&(b=o.iconName,e=o.prefix)}if(b&&!g&&(!$||$.getAttribute(DATA_PREFIX)!==e||$.getAttribute(DATA_ICON)!==v)){r.setAttribute(x,v),$&&r.removeChild($);var S=blankMeta(),T=S.extra;T.attributes[DATA_FA_PSEUDO_ELEMENT]=n,findIcon(b,e).then(function(E){var k=makeInlineSvgAbstract(_objectSpread2$1(_objectSpread2$1({},S),{},{icons:{main:E,mask:emptyCanonicalIcon()},prefix:e,iconName:v,extra:T,watchable:!0})),M=DOCUMENT.createElement("svg");n==="::before"?r.insertBefore(M,r.firstChild):r.appendChild(M),M.outerHTML=k.map(function(O){return toHtml(O)}).join(`
`),r.removeAttribute(x),C()}).catch(_)}else C()}else C()})}function replace(r){return Promise.all([replaceForPosition(r,"::before"),replaceForPosition(r,"::after")])}function processable(r){return r.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(r.tagName.toUpperCase())&&!r.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!r.parentNode||r.parentNode.tagName!=="svg")}function searchPseudoElements(r){if(IS_DOM)return new Promise(function(n,x){var C=toArray(r.querySelectorAll("*")).filter(processable).map(replace),_=perf.begin("searchPseudoElements");disableObservation(),Promise.all(C).then(function(){_(),enableObservation(),n()}).catch(function(){_(),enableObservation(),x()})})}var PseudoElements={hooks:function r(){return{mutationObserverCallbacks:function(x){return x.pseudoElementsCallback=searchPseudoElements,x}}},provides:function r(n){n.pseudoElements2svg=function(x){var C=x.node,_=C===void 0?DOCUMENT:C;config.searchPseudoElements&&searchPseudoElements(_)}}},_unwatched=!1,MutationObserver$1={mixout:function r(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function r(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(x){var C=x.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:C}))}}}},parseTransformString=function r(n){var x={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce(function(C,_){var K=_.toLowerCase().split("-"),$=K[0],l=K.slice(1).join("-");if($&&l==="h")return C.flipX=!0,C;if($&&l==="v")return C.flipY=!0,C;if(l=parseFloat(l),isNaN(l))return C;switch($){case"grow":C.size=C.size+l;break;case"shrink":C.size=C.size-l;break;case"left":C.x=C.x-l;break;case"right":C.x=C.x+l;break;case"up":C.y=C.y-l;break;case"down":C.y=C.y+l;break;case"rotate":C.rotate=C.rotate+l;break}return C},x)},PowerTransforms={mixout:function r(){return{parse:{transform:function(x){return parseTransformString(x)}}}},hooks:function r(){return{parseNodeAttributes:function(x,C){var _=C.getAttribute("data-fa-transform");return _&&(x.transform=parseTransformString(_)),x}}},provides:function r(n){n.generateAbstractTransformGrouping=function(x){var C=x.main,_=x.transform,K=x.containerWidth,$=x.iconWidth,l={transform:"translate(".concat(K/2," 256)")},a="translate(".concat(_.x*32,", ").concat(_.y*32,") "),t="scale(".concat(_.size/16*(_.flipX?-1:1),", ").concat(_.size/16*(_.flipY?-1:1),") "),i="rotate(".concat(_.rotate," 0 0)"),c={transform:"".concat(a," ").concat(t," ").concat(i)},s={transform:"translate(".concat($/2*-1," -256)")},e={outer:l,inner:c,path:s};return{tag:"g",attributes:_objectSpread2$1({},e.outer),children:[{tag:"g",attributes:_objectSpread2$1({},e.inner),children:[{tag:C.icon.tag,children:C.icon.children,attributes:_objectSpread2$1(_objectSpread2$1({},C.icon.attributes),e.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.attributes&&(r.attributes.fill||n)&&(r.attributes.fill="black"),r}function deGroup(r){return r.tag==="g"?r.children:[r]}var Masks={hooks:function r(){return{parseNodeAttributes:function(x,C){var _=C.getAttribute("data-fa-mask"),K=_?getCanonicalIcon(_.split(" ").map(function($){return $.trim()})):emptyCanonicalIcon();return K.prefix||(K.prefix=getDefaultUsablePrefix()),x.mask=K,x.maskId=C.getAttribute("data-fa-mask-id"),x}}},provides:function r(n){n.generateAbstractMask=function(x){var C=x.children,_=x.attributes,K=x.main,$=x.mask,l=x.maskId,a=x.transform,t=K.width,i=K.icon,c=$.width,s=$.icon,e=transformForSvg({transform:a,containerWidth:c,iconWidth:t}),u={tag:"rect",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{fill:"white"})},m=i.children?{children:i.children.map(fillBlack)}:{},g={tag:"g",attributes:_objectSpread2$1({},e.inner),children:[fillBlack(_objectSpread2$1({tag:i.tag,attributes:_objectSpread2$1(_objectSpread2$1({},i.attributes),e.path)},m))]},y={tag:"g",attributes:_objectSpread2$1({},e.outer),children:[g]},b="mask-".concat(l||nextUniqueId()),v="clip-".concat(l||nextUniqueId()),o={tag:"mask",attributes:_objectSpread2$1(_objectSpread2$1({},ALL_SPACE),{},{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[u,y]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:deGroup(s)},o]};return C.push(S,{tag:"rect",attributes:_objectSpread2$1({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(b,")")},ALL_SPACE)}),{children:C,attributes:_}}}},MissingIconIndicator={provides:function r(n){var x=!1;WINDOW.matchMedia&&(x=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){var C=[],_={fill:"currentColor"},K={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};C.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},_),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var $=_objectSpread2$1(_objectSpread2$1({},K),{},{attributeName:"opacity"}),l={tag:"circle",attributes:_objectSpread2$1(_objectSpread2$1({},_),{},{cx:"256",cy:"364",r:"28"}),children:[]};return x||l.children.push({tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},K),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"1;0;1;1;0;1;"})}),C.push(l),C.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},_),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:x?[]:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"1;0;0;0;0;1;"})}]}),x||C.push({tag:"path",attributes:_objectSpread2$1(_objectSpread2$1({},_),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2$1(_objectSpread2$1({},$),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:C}}}},SvgSymbols={hooks:function r(){return{parseNodeAttributes:function(x,C){var _=C.getAttribute("data-fa-symbol"),K=_===null?!1:_===""?!0:_;return x.symbol=K,x}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;var config$1=api.config,library$1=api.library;api.dom;var parse$1=api.parse;api.findIconDefinition;api.toHtml;var icon=api.icon;api.layer;var text=api.text;api.counter;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(r){const n=[];let x=0;for(let C=0;C<r.length;C++){let _=r.charCodeAt(C);_<128?n[x++]=_:_<2048?(n[x++]=_>>6|192,n[x++]=_&63|128):(_&64512)===55296&&C+1<r.length&&(r.charCodeAt(C+1)&64512)===56320?(_=65536+((_&1023)<<10)+(r.charCodeAt(++C)&1023),n[x++]=_>>18|240,n[x++]=_>>12&63|128,n[x++]=_>>6&63|128,n[x++]=_&63|128):(n[x++]=_>>12|224,n[x++]=_>>6&63|128,n[x++]=_&63|128)}return n},byteArrayToString=function(r){const n=[];let x=0,C=0;for(;x<r.length;){const _=r[x++];if(_<128)n[C++]=String.fromCharCode(_);else if(_>191&&_<224){const K=r[x++];n[C++]=String.fromCharCode((_&31)<<6|K&63)}else if(_>239&&_<365){const K=r[x++],$=r[x++],l=r[x++],a=((_&7)<<18|(K&63)<<12|($&63)<<6|l&63)-65536;n[C++]=String.fromCharCode(55296+(a>>10)),n[C++]=String.fromCharCode(56320+(a&1023))}else{const K=r[x++],$=r[x++];n[C++]=String.fromCharCode((_&15)<<12|(K&63)<<6|$&63)}}return n.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,n){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,C=[];for(let _=0;_<r.length;_+=3){const K=r[_],$=_+1<r.length,l=$?r[_+1]:0,a=_+2<r.length,t=a?r[_+2]:0,i=K>>2,c=(K&3)<<4|l>>4;let s=(l&15)<<2|t>>6,e=t&63;a||(e=64,$||(s=64)),C.push(x[i],x[c],x[s],x[e])}return C.join("")},encodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(r):this.encodeByteArray(stringToByteArray$1(r),n)},decodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(r):byteArrayToString(this.decodeStringToByteArray(r,n))},decodeStringToByteArray(r,n){this.init_();const x=n?this.charToByteMapWebSafe_:this.charToByteMap_,C=[];for(let _=0;_<r.length;){const K=x[r.charAt(_++)],l=_<r.length?x[r.charAt(_)]:0;++_;const t=_<r.length?x[r.charAt(_)]:64;++_;const c=_<r.length?x[r.charAt(_)]:64;if(++_,K==null||l==null||t==null||c==null)throw new DecodeBase64StringError;const s=K<<2|l>>4;if(C.push(s),t!==64){const e=l<<4&240|t>>2;if(C.push(e),c!==64){const u=t<<6&192|c;C.push(u)}}}return C},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(r){const n=stringToByteArray$1(r);return base64.encodeByteArray(n,!0)},base64urlEncodeWithoutPadding=function(r){return base64Encode(r).replace(/\./g,"")},base64Decode=function(r){try{return base64.decodeString(r,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof process.env>"u")return;const r={}.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=r&&base64Decode(r[1]);return n&&JSON.parse(n)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},getDefaultEmulatorHost=r=>{var n,x;return(x=(n=getDefaults())===null||n===void 0?void 0:n.emulatorHosts)===null||x===void 0?void 0:x[r]},getDefaultAppConfig=()=>{var r;return(r=getDefaults())===null||r===void 0?void 0:r.config},getExperimentalSetting=r=>{var n;return(n=getDefaults())===null||n===void 0?void 0:n[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,x)=>{this.resolve=n,this.reject=x})}wrapCallback(n){return(x,C)=>{x?this.reject(x):this.resolve(C),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(x):n(x,C))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const r=getUA();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((r,n)=>{try{let x=!0;const C="validate-browser-context-for-indexeddb-analytics-module",_=self.indexedDB.open(C);_.onsuccess=()=>{_.result.close(),x||self.indexedDB.deleteDatabase(C),r(!0)},_.onupgradeneeded=()=>{x=!1},_.onerror=()=>{var K;n(((K=_.error)===null||K===void 0?void 0:K.message)||"")}}catch(x){n(x)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(n,x,C){super(x),this.code=n,this.customData=C,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(n,x,C){this.service=n,this.serviceName=x,this.errors=C}create(n,...x){const C=x[0]||{},_=`${this.service}/${n}`,K=this.errors[n],$=K?replaceTemplate(K,C):"Error",l=`${this.serviceName}: ${$} (${_}).`;return new FirebaseError(_,l,C)}}function replaceTemplate(r,n){return r.replace(PATTERN,(x,C)=>{const _=n[C];return _!=null?String(_):`<${C}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}function deepEqual(r,n){if(r===n)return!0;const x=Object.keys(r),C=Object.keys(n);for(const _ of x){if(!C.includes(_))return!1;const K=r[_],$=n[_];if(isObject(K)&&isObject($)){if(!deepEqual(K,$))return!1}else if(K!==$)return!1}for(const _ of C)if(!x.includes(_))return!1;return!0}function isObject(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(r){const n=[];for(const[x,C]of Object.entries(r))Array.isArray(C)?C.forEach(_=>{n.push(encodeURIComponent(x)+"="+encodeURIComponent(_))}):n.push(encodeURIComponent(x)+"="+encodeURIComponent(C));return n.length?"&"+n.join("&"):""}function createSubscribe(r,n){const x=new ObserverProxy(r,n);return x.subscribe.bind(x)}class ObserverProxy{constructor(n,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{n(this)}).catch(C=>{this.error(C)})}next(n){this.forEachObserver(x=>{x.next(n)})}error(n){this.forEachObserver(x=>{x.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,x,C){let _;if(n===void 0&&x===void 0&&C===void 0)throw new Error("Missing Observer.");implementsAnyMethods(n,["next","error","complete"])?_=n:_={next:n,error:x,complete:C},_.next===void 0&&(_.next=noop),_.error===void 0&&(_.error=noop),_.complete===void 0&&(_.complete=noop);const K=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_.error(this.finalError):_.complete()}catch{}}),this.observers.push(_),K}unsubscribeOne(n){this.observers===void 0||this.observers[n]===void 0||(delete this.observers[n],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,n)}sendOne(n,x){this.task.then(()=>{if(this.observers!==void 0&&this.observers[n]!==void 0)try{x(this.observers[n])}catch(C){typeof console<"u"&&console.error&&console.error(C)}})}close(n){this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(r,n){if(typeof r!="object"||r===null)return!1;for(const x of n)if(x in r&&typeof r[x]=="function")return!0;return!1}function noop(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(r){return r&&r._delegate?r._delegate:r}class Component{constructor(n,x,C){this.name=n,this.instanceFactory=x,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(n,x){this.name=n,this.container=x,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const x=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(x)){const C=new Deferred;if(this.instancesDeferred.set(x,C),this.isInitialized(x)||this.shouldAutoInitialize())try{const _=this.getOrInitializeService({instanceIdentifier:x});_&&C.resolve(_)}catch{}}return this.instancesDeferred.get(x).promise}getImmediate(n){var x;const C=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),_=(x=n==null?void 0:n.optional)!==null&&x!==void 0?x:!1;if(this.isInitialized(C)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:C})}catch(K){if(_)return null;throw K}else{if(_)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(isComponentEager(n))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[x,C]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(x);try{const K=this.getOrInitializeService({instanceIdentifier:_});C.resolve(K)}catch{}}}}clearInstance(n=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(x=>"INTERNAL"in x).map(x=>x.INTERNAL.delete()),...n.filter(x=>"_delete"in x).map(x=>x._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=DEFAULT_ENTRY_NAME$1){return this.instances.has(n)}getOptions(n=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:x={}}=n,C=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _=this.getOrInitializeService({instanceIdentifier:C,options:x});for(const[K,$]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(K);C===l&&$.resolve(_)}return _}onInit(n,x){var C;const _=this.normalizeInstanceIdentifier(x),K=(C=this.onInitCallbacks.get(_))!==null&&C!==void 0?C:new Set;K.add(n),this.onInitCallbacks.set(_,K);const $=this.instances.get(_);return $&&n($,_),()=>{K.delete(n)}}invokeOnInitCallbacks(n,x){const C=this.onInitCallbacks.get(x);if(C)for(const _ of C)try{_(n,x)}catch{}}getOrInitializeService({instanceIdentifier:n,options:x={}}){let C=this.instances.get(n);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(n),options:x}),this.instances.set(n,C),this.instancesOptions.set(n,x),this.invokeOnInitCallbacks(C,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,C)}catch{}return C||null}normalizeInstanceIdentifier(n=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?n:DEFAULT_ENTRY_NAME$1:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(r){return r===DEFAULT_ENTRY_NAME$1?void 0:r}function isComponentEager(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const x=this.getProvider(n.name);if(x.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);x.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const x=new Provider(n,this);return this.providers.set(n,x),x}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(r,n,...x)=>{if(n<r.logLevel)return;const C=new Date().toISOString(),_=ConsoleMethod[n];if(_)console[_](`[${C}]  ${r.name}:`,...x);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Logger{constructor(n){this.name=n,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in LogLevel))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?levelStringToEnum[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...n),this._logHandler(this,LogLevel.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...n),this._logHandler(this,LogLevel.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...n),this._logHandler(this,LogLevel.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...n),this._logHandler(this,LogLevel.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...n),this._logHandler(this,LogLevel.ERROR,...n)}}const instanceOfAny=(r,n)=>n.some(x=>r instanceof x);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(r){const n=new Promise((x,C)=>{const _=()=>{r.removeEventListener("success",K),r.removeEventListener("error",$)},K=()=>{x(wrap(r.result)),_()},$=()=>{C(r.error),_()};r.addEventListener("success",K),r.addEventListener("error",$)});return n.then(x=>{x instanceof IDBCursor&&cursorRequestMap.set(x,r)}).catch(()=>{}),reverseTransformCache.set(n,r),n}function cacheDonePromiseForTransaction(r){if(transactionDoneMap.has(r))return;const n=new Promise((x,C)=>{const _=()=>{r.removeEventListener("complete",K),r.removeEventListener("error",$),r.removeEventListener("abort",$)},K=()=>{x(),_()},$=()=>{C(r.error||new DOMException("AbortError","AbortError")),_()};r.addEventListener("complete",K),r.addEventListener("error",$),r.addEventListener("abort",$)});transactionDoneMap.set(r,n)}let idbProxyTraps={get(r,n,x){if(r instanceof IDBTransaction){if(n==="done")return transactionDoneMap.get(r);if(n==="objectStoreNames")return r.objectStoreNames||transactionStoreNamesMap.get(r);if(n==="store")return x.objectStoreNames[1]?void 0:x.objectStore(x.objectStoreNames[0])}return wrap(r[n])},set(r,n,x){return r[n]=x,!0},has(r,n){return r instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in r}};function replaceTraps(r){idbProxyTraps=r(idbProxyTraps)}function wrapFunction(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...x){const C=r.call(unwrap(this),n,...x);return transactionStoreNamesMap.set(C,n.sort?n.sort():[n]),wrap(C)}:getCursorAdvanceMethods().includes(r)?function(...n){return r.apply(unwrap(this),n),wrap(cursorRequestMap.get(this))}:function(...n){return wrap(r.apply(unwrap(this),n))}}function transformCachableValue(r){return typeof r=="function"?wrapFunction(r):(r instanceof IDBTransaction&&cacheDonePromiseForTransaction(r),instanceOfAny(r,getIdbProxyableTypes())?new Proxy(r,idbProxyTraps):r)}function wrap(r){if(r instanceof IDBRequest)return promisifyRequest(r);if(transformCache.has(r))return transformCache.get(r);const n=transformCachableValue(r);return n!==r&&(transformCache.set(r,n),reverseTransformCache.set(n,r)),n}const unwrap=r=>reverseTransformCache.get(r);function openDB(r,n,{blocked:x,upgrade:C,blocking:_,terminated:K}={}){const $=indexedDB.open(r,n),l=wrap($);return C&&$.addEventListener("upgradeneeded",a=>{C(wrap($.result),a.oldVersion,a.newVersion,wrap($.transaction),a)}),x&&$.addEventListener("blocked",a=>x(a.oldVersion,a.newVersion,a)),l.then(a=>{K&&a.addEventListener("close",()=>K()),_&&a.addEventListener("versionchange",t=>_(t.oldVersion,t.newVersion,t))}).catch(()=>{}),l}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(r,n){if(!(r instanceof IDBDatabase&&!(n in r)&&typeof n=="string"))return;if(cachedMethods.get(n))return cachedMethods.get(n);const x=n.replace(/FromIndex$/,""),C=n!==x,_=writeMethods.includes(x);if(!(x in(C?IDBIndex:IDBObjectStore).prototype)||!(_||readMethods.includes(x)))return;const K=async function($,...l){const a=this.transaction($,_?"readwrite":"readonly");let t=a.store;return C&&(t=t.index(l.shift())),(await Promise.all([t[x](...l),_&&a.done]))[0]};return cachedMethods.set(n,K),K}replaceTraps(r=>({...r,get:(n,x,C)=>getMethod(n,x)||r.get(n,x,C),has:(n,x)=>!!getMethod(n,x)||r.has(n,x)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(x=>{if(isVersionServiceProvider(x)){const C=x.getImmediate();return`${C.library}/${C.version}`}else return null}).filter(x=>x).join(" ")}}function isVersionServiceProvider(r){const n=r.getComponent();return(n==null?void 0:n.type)==="VERSION"}const name$o="@firebase/app",version$1="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1="@firebase/firestore-compat",name$p="firebase",version$2="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2]:"fire-fst",[name$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(r,n){try{r.container.addComponent(n)}catch(x){logger.debug(`Component ${n.name} failed to register with FirebaseApp ${r.name}`,x)}}function _registerComponent(r){const n=r.name;if(_components.has(n))return logger.debug(`There were multiple attempts to register component ${n}.`),!1;_components.set(n,r);for(const x of _apps.values())_addComponent(x,r);return!0}function _getProvider(r,n){const x=r.container.getProvider("heartbeat").getImmediate({optional:!0});return x&&x.triggerHeartbeat(),r.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(n,x,C){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},x),this._name=x.name,this._automaticDataCollectionEnabled=x.automaticDataCollectionEnabled,this._container=C,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(r,n={}){let x=r;typeof n!="object"&&(n={name:n});const C=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},n),_=C.name;if(typeof _!="string"||!_)throw ERROR_FACTORY.create("bad-app-name",{appName:String(_)});if(x||(x=getDefaultAppConfig()),!x)throw ERROR_FACTORY.create("no-options");const K=_apps.get(_);if(K){if(deepEqual(x,K.options)&&deepEqual(C,K.config))return K;throw ERROR_FACTORY.create("duplicate-app",{appName:_})}const $=new ComponentContainer(_);for(const a of _components.values())$.addComponent(a);const l=new FirebaseAppImpl(x,C,$);return _apps.set(_,l),l}function getApp(r=DEFAULT_ENTRY_NAME){const n=_apps.get(r);if(!n&&r===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!n)throw ERROR_FACTORY.create("no-app",{appName:r});return n}function registerVersion(r,n,x){var C;let _=(C=PLATFORM_LOG_STRING[r])!==null&&C!==void 0?C:r;x&&(_+=`-${x}`);const K=_.match(/\s|\//),$=n.match(/\s|\//);if(K||$){const l=[`Unable to register library "${_}" with version "${n}":`];K&&l.push(`library name "${_}" contains illegal characters (whitespace or "/")`),K&&$&&l.push("and"),$&&l.push(`version name "${n}" contains illegal characters (whitespace or "/")`),logger.warn(l.join(" "));return}_registerComponent(new Component(`${_}-version`,()=>({library:_,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(r,n)=>{switch(n){case 0:r.createObjectStore(STORE_NAME)}}}).catch(r=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:r.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(r){try{return await(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(r))}catch(n){if(n instanceof FirebaseError)logger.warn(n.message);else{const x=ERROR_FACTORY.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});logger.warn(x.message)}}}async function writeHeartbeatsToIndexedDB(r,n){try{const C=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await C.objectStore(STORE_NAME).put(n,computeKey(r)),await C.done}catch(x){if(x instanceof FirebaseError)logger.warn(x.message);else{const C=ERROR_FACTORY.create("idb-set",{originalErrorMessage:x==null?void 0:x.message});logger.warn(C.message)}}}function computeKey(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(n){this.container=n,this._heartbeatsCache=null;const x=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(x),this._heartbeatsCachePromise=this._storage.read().then(C=>(this._heartbeatsCache=C,C))}async triggerHeartbeat(){const x=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),C=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===C||this._heartbeatsCache.heartbeats.some(_=>_.date===C)))return this._heartbeatsCache.heartbeats.push({date:C,agent:x}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(_=>{const K=new Date(_.date).valueOf();return Date.now()-K<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const n=getUTCDateString(),{heartbeatsToSend:x,unsentEntries:C}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),_=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:x}));return this._heartbeatsCache.lastSentHeartbeatDate=n,C.length>0?(this._heartbeatsCache.heartbeats=C,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),_}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(r,n=MAX_HEADER_BYTES){const x=[];let C=r.slice();for(const _ of r){const K=x.find($=>$.agent===_.agent);if(K){if(K.dates.push(_.date),countBytes(x)>n){K.dates.pop();break}}else if(x.push({agent:_.agent,dates:[_.date]}),countBytes(x)>n){x.pop();break}C=C.slice(1)}return{heartbeatsToSend:x,unsentEntries:C}}class HeartbeatStorageImpl{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(n){var x;if(await this._canUseIndexedDBPromise){const _=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(x=n.lastSentHeartbeatDate)!==null&&x!==void 0?x:_.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var x;if(await this._canUseIndexedDBPromise){const _=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(x=n.lastSentHeartbeatDate)!==null&&x!==void 0?x:_.lastSentHeartbeatDate,heartbeats:[..._.heartbeats,...n.heartbeats]})}else return}}function countBytes(r){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(r){_registerComponent(new Component("platform-logger",n=>new PlatformLoggerServiceImpl(n),"PRIVATE")),_registerComponent(new Component("heartbeat",n=>new HeartbeatServiceImpl(n),"PRIVATE")),registerVersion(name$o,version$1,r),registerVersion(name$o,version$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name="firebase",version="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name,version,"app");const firebaseConfig={apiKey:"AIzaSyD8nstcCmwg3wdS58mubaB3bb4sxFP5Xr8",authDomain:"vue-dotted.firebaseapp.com",projectId:"vue-dotted",storageBucket:"vue-dotted.appspot.com",messagingSenderId:"879393246795",appId:"1:879393246795:web:99d6586fd18dcf944fc7ce"},initFirebase=()=>{initializeApp(firebaseConfig)};function ownKeys(r,n){var x=Object.keys(r);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(r);n&&(C=C.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),x.push.apply(x,C)}return x}function _objectSpread2(r){for(var n=1;n<arguments.length;n++){var x=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(x),!0).forEach(function(C){_defineProperty(r,C,x[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(x)):ownKeys(Object(x)).forEach(function(C){Object.defineProperty(r,C,Object.getOwnPropertyDescriptor(x,C))})}return r}function _typeof(r){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(r)}function _defineProperty(r,n,x){return n in r?Object.defineProperty(r,n,{value:x,enumerable:!0,configurable:!0,writable:!0}):r[n]=x,r}function _objectWithoutPropertiesLoose(r,n){if(r==null)return{};var x={},C=Object.keys(r),_,K;for(K=0;K<C.length;K++)_=C[K],!(n.indexOf(_)>=0)&&(x[_]=r[_]);return x}function _objectWithoutProperties(r,n){if(r==null)return{};var x=_objectWithoutPropertiesLoose(r,n),C,_;if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(r);for(_=0;_<K.length;_++)C=K[_],!(n.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(r,C)&&(x[C]=r[C])}return x}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _iterableToArray(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _unsupportedIterableToArray(r,n){if(r){if(typeof r=="string")return _arrayLikeToArray(r,n);var x=Object.prototype.toString.call(r).slice(8,-1);if(x==="Object"&&r.constructor&&(x=r.constructor.name),x==="Map"||x==="Set")return Array.from(r);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return _arrayLikeToArray(r,n)}}function _arrayLikeToArray(r,n){(n==null||n>r.length)&&(n=r.length);for(var x=0,C=new Array(n);x<n;x++)C[x]=r[x];return C}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},humps$1={exports:{}};(function(r){(function(n){var x=function(y,b,v){if(!t(b)||c(b)||s(b)||e(b)||a(b))return b;var o,S=0,T=0;if(i(b))for(o=[],T=b.length;S<T;S++)o.push(x(y,b[S],v));else{o={};for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(o[y(E,v)]=x(y,b[E],v))}return o},C=function(y,b){b=b||{};var v=b.separator||"_",o=b.split||/(?=[A-Z])/;return y.split(o).join(v)},_=function(y){return u(y)?y:(y=y.replace(/[\-_\s]+(.)?/g,function(b,v){return v?v.toUpperCase():""}),y.substr(0,1).toLowerCase()+y.substr(1))},K=function(y){var b=_(y);return b.substr(0,1).toUpperCase()+b.substr(1)},$=function(y,b){return C(y,b).toLowerCase()},l=Object.prototype.toString,a=function(y){return typeof y=="function"},t=function(y){return y===Object(y)},i=function(y){return l.call(y)=="[object Array]"},c=function(y){return l.call(y)=="[object Date]"},s=function(y){return l.call(y)=="[object RegExp]"},e=function(y){return l.call(y)=="[object Boolean]"},u=function(y){return y=y-0,y===y},m=function(y,b){var v=b&&"process"in b?b.process:b;return typeof v!="function"?y:function(o,S){return v(o,y,S)}},g={camelize:_,decamelize:$,pascalize:K,depascalize:$,camelizeKeys:function(y,b){return x(m(_,b),y)},decamelizeKeys:function(y,b){return x(m($,b),y,b)},pascalizeKeys:function(y,b){return x(m(K,b),y)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};r.exports?r.exports=g:n.humps=g})(commonjsGlobal)})(humps$1);var humps=humps$1.exports,_excluded=["class","style"];function styleToObject(r){return r.split(";").map(function(n){return n.trim()}).filter(function(n){return n}).reduce(function(n,x){var C=x.indexOf(":"),_=humps.camelize(x.slice(0,C)),K=x.slice(C+1).trim();return n[_]=K,n},{})}function classToObject(r){return r.split(/\s+/).reduce(function(n,x){return n[x]=!0,n},{})}function convert(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r=="string")return r;var C=(r.children||[]).map(function(a){return convert(a)}),_=Object.keys(r.attributes||{}).reduce(function(a,t){var i=r.attributes[t];switch(t){case"class":a.class=classToObject(i);break;case"style":a.style=styleToObject(i);break;default:a.attrs[t]=i}return a},{attrs:{},class:{},style:{}});x.class;var K=x.style,$=K===void 0?{}:K,l=_objectWithoutProperties(x,_excluded);return h(r.tag,_objectSpread2(_objectSpread2(_objectSpread2({},n),{},{class:_.class,style:_objectSpread2(_objectSpread2({},_.style),$)},_.attrs),l),C)}var PRODUCTION=!1;try{PRODUCTION=!0}catch(r){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var r;(r=console).error.apply(r,arguments)}}function objectWithKey(r,n){return Array.isArray(n)&&n.length>0||!Array.isArray(n)&&n?_defineProperty({},r,n):{}}function classList(r){var n,x=(n={"fa-spin":r.spin,"fa-pulse":r.pulse,"fa-fw":r.fixedWidth,"fa-border":r.border,"fa-li":r.listItem,"fa-inverse":r.inverse,"fa-flip":r.flip===!0,"fa-flip-horizontal":r.flip==="horizontal"||r.flip==="both","fa-flip-vertical":r.flip==="vertical"||r.flip==="both"},_defineProperty(n,"fa-".concat(r.size),r.size!==null),_defineProperty(n,"fa-rotate-".concat(r.rotation),r.rotation!==null),_defineProperty(n,"fa-pull-".concat(r.pull),r.pull!==null),_defineProperty(n,"fa-swap-opacity",r.swapOpacity),_defineProperty(n,"fa-bounce",r.bounce),_defineProperty(n,"fa-shake",r.shake),_defineProperty(n,"fa-beat",r.beat),_defineProperty(n,"fa-fade",r.fade),_defineProperty(n,"fa-beat-fade",r.beatFade),_defineProperty(n,"fa-flash",r.flash),_defineProperty(n,"fa-spin-pulse",r.spinPulse),_defineProperty(n,"fa-spin-reverse",r.spinReverse),n);return Object.keys(x).map(function(C){return x[C]?C:null}).filter(function(C){return C})}function normalizeIconArgs(r){if(r&&_typeof(r)==="object"&&r.prefix&&r.iconName&&r.icon)return r;if(parse$1.icon)return parse$1.icon(r);if(r===null)return null;if(_typeof(r)==="object"&&r.prefix&&r.iconName)return r;if(Array.isArray(r)&&r.length===2)return{prefix:r[0],iconName:r[1]};if(typeof r=="string")return{prefix:"fas",iconName:r}}var FontAwesomeIcon=defineComponent({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function r(n){return[!0,!1,"horizontal","vertical","both"].indexOf(n)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function r(n){return["right","left"].indexOf(n)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function r(n){return[90,180,270].indexOf(Number.parseInt(n,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function r(n){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(n)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function r(n,x){var C=x.attrs,_=computed(function(){return normalizeIconArgs(n.icon)}),K=computed(function(){return objectWithKey("classes",classList(n))}),$=computed(function(){return objectWithKey("transform",typeof n.transform=="string"?parse$1.transform(n.transform):n.transform)}),l=computed(function(){return objectWithKey("mask",normalizeIconArgs(n.mask))}),a=computed(function(){return icon(_.value,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},K.value),$.value),l.value),{},{symbol:n.symbol,title:n.title}))});watch(a,function(i){if(!i)return log("Could not find one or more icon(s)",_.value,l.value)},{immediate:!0});var t=computed(function(){return a.value?convert(a.value.abstract[0],{},C):null});return function(){return t.value}}});defineComponent({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function r(n,x){var C=x.slots,_=config$1.familyPrefix,K=computed(function(){return["".concat(_,"-layers")].concat(_toConsumableArray(n.fixedWidth?["".concat(_,"-fw")]:[]))});return function(){return h("div",{class:K.value},C.default?C.default():[])}}});defineComponent({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function r(n){return["bottom-left","bottom-right","top-left","top-right"].indexOf(n)>-1}}},setup:function r(n,x){var C=x.attrs,_=config$1.familyPrefix,K=computed(function(){return objectWithKey("classes",[].concat(_toConsumableArray(n.counter?["".concat(_,"-layers-counter")]:[]),_toConsumableArray(n.position?["".concat(_,"-layers-").concat(n.position)]:[])))}),$=computed(function(){return objectWithKey("transform",typeof n.transform=="string"?parse$1.transform(n.transform):n.transform)}),l=computed(function(){var t=text(n.value.toString(),_objectSpread2(_objectSpread2({},$.value),K.value)),i=t.abstract;return n.counter&&(i[0].attributes.class=i[0].attributes.class.replace("fa-layers-text","")),i[0]}),a=computed(function(){return convert(l.value,{},C)});return function(){return a.value}}});var faTrashCan={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},faCircleCheck={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},faPen={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},faUserSecret={prefix:"fas",iconName:"user-secret",icon:[448,512,[128373],"f21b","M224 16c-6.7 0-10.8-2.8-15.5-6.1C201.9 5.4 194 0 176 0c-30.5 0-52 43.7-66 89.4C62.7 98.1 32 112.2 32 128c0 14.3 25 27.1 64.6 35.9c-.4 4-.6 8-.6 12.1c0 17 3.3 33.2 9.3 48H45.4C38 224 32 230 32 237.4c0 1.7 .3 3.4 1 5l38.8 96.9C28.2 371.8 0 423.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7c0-58.5-28.2-110.4-71.7-143L415 242.4c.6-1.6 1-3.3 1-5c0-7.4-6-13.4-13.4-13.4H342.7c6-14.8 9.3-31 9.3-48c0-4.1-.2-8.1-.6-12.1C391 155.1 416 142.3 416 128c0-15.8-30.7-29.9-78-38.6C324 43.7 302.5 0 272 0c-18 0-25.9 5.4-32.5 9.9c-4.7 3.3-8.8 6.1-15.5 6.1zm56 208H267.6c-16.5 0-31.1-10.6-36.3-26.2c-2.3-7-12.2-7-14.5 0c-5.2 15.6-19.9 26.2-36.3 26.2H168c-22.1 0-40-17.9-40-40V169.6c28.2 4.1 61 6.4 96 6.4s67.8-2.3 96-6.4V184c0 22.1-17.9 40-40 40zm-88 96l16 32L176 480 128 288l64 32zm128-32L272 480 240 352l16-32 64-32z"]},faGripVertical={prefix:"fas",iconName:"grip-vertical",icon:[320,512,[],"f58e","M40 352c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40l48 0c22.1 0 40-17.9 40-40l0-48c0-22.1-17.9-40-40-40l-48 0zm192 0c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40l48 0c22.1 0 40-17.9 40-40l0-48c0-22.1-17.9-40-40-40l-48 0zM40 320l48 0c22.1 0 40-17.9 40-40l0-48c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40zM232 192c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40l48 0c22.1 0 40-17.9 40-40l0-48c0-22.1-17.9-40-40-40l-48 0zM40 160l48 0c22.1 0 40-17.9 40-40l0-48c0-22.1-17.9-40-40-40L40 32C17.9 32 0 49.9 0 72l0 48c0 22.1 17.9 40 40 40zM232 32c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40l48 0c22.1 0 40-17.9 40-40l0-48c0-22.1-17.9-40-40-40l-48 0z"]},faEllipsisVertical={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M56 472a56 56 0 1 1 0-112 56 56 0 1 1 0 112zm0-160a56 56 0 1 1 0-112 56 56 0 1 1 0 112zM0 96a56 56 0 1 1 112 0A56 56 0 1 1 0 96z"]},faPlus={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M240 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H176V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H240V80z"]},faUserPlus={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};library$1.add(faPen,faTrashCan,faGripVertical,faEllipsisVertical,faUserSecret,faCircleCheck,faPlus,faUserPlus);const app=createApp(App),pinia=createPinia(),env={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0};app.use(pinia);app.use(router);app.use(env);app.use(plugin,axios$1);app.use(install);app.use(domtoimage);app.use(fabric.fabric);app.component("font-awesome-icon",FontAwesomeIcon);initFirebase();app.mount("#app");export{querystring as $,require$$5 as A,getDefaultExportFromCjs as B,fabric as C,storeToRefs as D,renderSlot as E,Fragment as F,createStaticVNode as G,getExperimentalSetting as H,isMobileCordova as I,isReactNative as J,_registerComponent as K,Component as L,registerVersion as M,isBrowserExtension as N,getModularInstance as O,ErrorFactory as P,createSubscribe as Q,RouterLink as R,SDK_VERSION as S,_getProvider as T,getDefaultEmulatorHost as U,getApp as V,Logger as W,LogLevel as X,getUA as Y,deepEqual as Z,_export_sfc as _,createBaseVNode as a,FirebaseError as a0,base64Decode as a1,isIE as a2,isEmpty as a3,createVNode as b,createElementBlock as c,createTextVNode as d,ref as e,withModifiers as f,renderList as g,popScopeId as h,defineStore as i,createBlock as j,commonjsGlobal$2 as k,onMounted as l,mergeProps as m,normalizeClass as n,openBlock as o,pushScopeId as p,createCommentVNode as q,resolveComponent as r,domtoimage as s,toDisplayString as t,useRouter as u,watch as v,withCtx as w,withDirectives as x,vModelText as y,commonjsRequire$1 as z};
