import{_ as w,e as d,s as I,o as _,c as h,a as g}from"./index-a2e31598.js";const y={setup(l,{emit:n}){const t=d(null);let e,r=d(!1);I(()=>{e=t.value.getContext("2d"),t.value.addEventListener("mousedown",s),t.value.addEventListener("mouseup",v),t.value.addEventListener("mouseleave",v),t.value.addEventListener("mousemove",m)});const u=o=>{const i=t.value.getBoundingClientRect();if(o.type==="mousemove")return{x:o.clientX-i.left,y:o.clientY-i.top}},s=o=>{o.preventDefault(),e.lineWidth=3,r.value=!0},v=()=>{r.value=!1,e.beginPath()},m=o=>{if(!r.value)return;const i=u(o);e.lineTo(i.x,i.y),e.stroke()},c=d(null);let a;const f=()=>{a=t.value.toDataURL("image/png"),console.log(a),c.value.src=a,p()};function p(){n("push-Image",a),console.log(a)}return{canvas:t,ctx:e,draw:m,startPosition:s,finishedPosition:v,getPaintPosition:u,showImage:c,saveImage:f,emitImage:p}}},P={class:"drawArea"},x={ref:"showImage",class:"show-img",width:"250",height:"150",style:{border:"1px solid"}};function C(l,n,t,e,r,u){return _(),h("div",P,[g("canvas",{ref:"canvas",onMousedown:n[0]||(n[0]=s=>e.draw(l.e))},null,544),g("img",x,null,512),g("button",{type:"button",onClick:n[1]||(n[1]=(...s)=>e.saveImage&&e.saveImage(...s)),"on:push-Image":n[2]||(n[2]=(...s)=>l.getNewImg&&l.getNewImg(...s))}," 轉成image ",32)])}const L=w(y,[["render",C]]);export{L as C};
