import{R as A,_ as w,r as u,o as v,c as f,a as t,b as l,w as g,d as _,e as D,n as b,f as x,u as P,F as U,g as k,t as F,m as B,p as I,h as N}from"./index-2a7b8c2f.js";import{_ as C}from"./Logo-6ad6ddf9.js";import{u as E}from"./signatureStore-c91fd415.js";import{_ as T}from"./Addfile-687d6dc1.js";const z={components:{RouterLink:A}},M={class:"border-bottom border-3"},V={class:"navbar navbar-light"},G={class:"container-fluid"},j=t("img",{src:C,alt:"",width:"150",height:"100"},null,-1),J=t("h2",{class:"fw-bold"},"快速省時的電子簽署工具",-1),O={type:"button",class:"login mx-2 bg-white border-0"},W={type:"button",class:"mx-2 p-2 register"},q={type:"button"};function H(n,s,a,e,m,h){const o=u("RouterLink"),i=u("router-link");return v(),f("div",M,[t("nav",V,[t("div",G,[l(o,{to:"/",class:"navbar-brand"},{default:g(()=>[j]),_:1}),J,t("div",null,[t("button",O,[l(o,{to:"login",class:"btnText clearDecoration fs-6 m-3 p-2"},{default:g(()=>[_("登入")]),_:1})]),t("button",W,[l(o,{to:"regist",class:"btnText fs-6 px-3 clearDecoration"},{default:g(()=>[_("註冊")]),_:1})]),t("button",q,[l(i,{to:"testLoading"},{default:g(()=>[_(" 測試 Loading ")]),_:1})])])])])])}const K=w(z,[["render",H]]);const Q={setup(){const n=E(),s=D(!1),a=D(!1),e=D(0),m=P(),h=()=>{s.value=!s.value},o=()=>{a.value=!a.value,console.log("上傳中"),e.value=window.setInterval(()=>{e.value+=30,console.log(e.value),e.value>=100&&(i(),e.value=0)},1e3),i()},i=()=>{clearTimeout(e.value),window.clearInterval(e),setTimeout(()=>{m.push("/guest")},2e3)};return{isActive:s,toggleActive:h,handleDrop:c=>{let d,p;console.log(c),c.type=="change"?(d=c.target.files[0],console.log(d),p=d.size/1024/1024,p<10?(o(),(y=>new Promise((L,$)=>{const r=new FileReader;r.addEventListener("load",()=>L(n.myPDF=r.result)),r.addEventListener("error",$),r.readAsDataURL(y),n.isUpload=!0,n.myData=r.result}))(d)):(console.log("Error"),console.log(`${p/1048576}`),alert("檔案大小超出限制的10MB"))):c.type=="drop"?(d=c.dataTransfer.files[0],console.log(d),p=d.size/1024/1024,p<10?(o(),(y=>new Promise((L,$)=>{const r=new FileReader;r.addEventListener("load",()=>L(n.myPDF=r.result)),r.addEventListener("error",$),r.readAsDataURL(y),n.isUpload=!0,n.myData=r.result}))(d)):(console.log("Error"),console.log(`${p/1048576}`),alert("檔案大小超出限制的10MB"))):console.log("請確認檔案格式為PDF 或PNG")},isLoading:a,toggleLoading:o,loadingWidth:e}}},X=t("div",{class:"mx-auto"},[t("img",{src:T,alt:""})],-1),Y={class:"mx-auto text-center"},Z=t("p",null,"將檔案拖曳至這裡，或",-1),ee=t("p",{class:"p-2 position-absolute top-50 start-50 translate-middle"}," 上傳中... ",-1),te=[ee],oe=t("p",{class:"text-success"},[_(" 檔案大小10MB以內，檔案格式為PDF、JPG 或 PNG"),t("br"),_("且PDF不得有密碼設定 ")],-1);function se(n,s,a,e,m,h){return v(),f("div",{onDragenter:s[2]||(s[2]=x((...o)=>e.toggleActive&&e.toggleActive(...o),["prevent"])),onDragleave:s[3]||(s[3]=x((...o)=>e.toggleActive&&e.toggleActive(...o),["prevent"])),onDragover:s[4]||(s[4]=x(()=>{},["prevent"])),onDrop:s[5]||(s[5]=x((...o)=>e.handleDrop&&e.handleDrop(...o),["prevent"])),class:b([{"active-dropzone":e.isActive},"uploadFile d-flex flex-column my-5 pt-5 mx-auto"])},[X,t("div",Y,[Z,t("div",{class:b(["w-360 selectFile position-relative",{"active-loading":e.isLoading}])},[t("label",{onChange:s[0]||(s[0]=(...o)=>e.toggleActive&&e.toggleActive(...o)),for:"file",class:b(["w-360 py-2",{hide:e.isLoading}])},"選擇檔案",34),t("div",{class:b(["hide selectFile",{show:e.isLoading}])},te,2)],2),t("input",{onChange:s[1]||(s[1]=(...o)=>e.handleDrop&&e.handleDrop(...o)),class:"uploadInput",id:"file",type:"file",accept:"text/jpg,.pdf,.png"},null,32),oe])],34)}const ne=w(Q,[["render",se]]);const ae={inheritAttrs:!1,props:{steps:{type:Array}},setup(n){return{props:n,getImageUrl:a=>new URL(Object.assign({})[`./dir/${a.image}.svg`],self.location).href}}},re={class:"d-flex justify-content-around"},le={class:"card-body"},ie={class:"text-success text-center border-success"},ce={class:"card-title my-3 fw-bold"},de={class:"card-text"},_e=["src"];function pe(n,s,a,e,m,h){return v(),f("div",re,[(v(!0),f(U,null,k(a.steps,(o,i)=>(v(),f("div",{class:"card border-0",key:i+1},[t("div",le,[t("span",ie,F(o.id),1),t("h5",ce,F(o.title),1),t("p",de,F(o.content),1)]),t("img",{src:o.image,class:"card-img-top",alt:"..."},null,8,_e)]))),128))])}const ue=w(ae,[["render",pe]]);const ge={components:{FrontNavbar:K,UploadFile:ne,StepsCard:ue},setup(){const n=new URL(""+new URL("FileUpload-3697dc6c.svg",import.meta.url).href,self.location),s=new URL(""+new URL("SigningStep-b30d324f.svg",import.meta.url).href,self.location),a=new URL(""+new URL("SendingStep-4dc2bbe4.svg",import.meta.url).href,self.location);return{steps:[{id:1,title:"上傳檔案",content:"選擇PDF或是IMG檔案",image:`${n}`},{id:2,title:"加入簽名檔",content:"手寫、輸入或是上傳簽名檔",image:`${s}`},{id:3,title:"下載與傳送",content:"完成簽署可立即傳送檔案給對方",image:`${a}`}],FileUpload:n,SigningStep:s,SendingStep:a}}},ve=n=>(I("data-v-bace733d"),n=n(),N(),n),fe={class:"stepContainer"},me=ve(()=>t("h3",{class:"text-center mb-5"},"輕鬆幾步驟，完成您的簽署",-1));function he(n,s,a,e,m,h){const o=u("FrontNavbar"),i=u("Upload-file"),R=u("Steps-card"),c=u("RouterLink");return v(),f(U,null,[l(o),l(i),t("div",fe,[me,l(R,B({class:"step"},e.steps,{steps:e.steps}),null,16,["steps"])]),l(c,{to:"uploaderror",class:"text-success"},{default:g(()=>[_("檔案上傳錯誤")]),_:1}),l(c,{to:"connecterror",class:"text-success"},{default:g(()=>[_("連線錯誤")]),_:1})],64)}const Le=w(ge,[["render",he],["__scopeId","data-v-bace733d"]]);export{Le as default};
